<totvs-page type="list">
    <totvs-page-navbar>
        <totvs-page-header>
            <totvs-page-header-title title="Geração Demonstrativo Contábil">
            </totvs-page-header-title>
            <totvs-page-header-operation>
                <totvs-page-header-operation-action limit-primary-action="4">
                    <action class="btn btn-default" ng-click="controller.irPara('parametros');" style="color: #333;
                    background-color: #fff; border-color: #ccc; padding-right: 15px;">
                        Parâmetros
                    </action>
                    <action class="btn btn-default" ng-click="controller.irPara('selecao');" style="padding-right: 15px;">
                        Seleção
                    </action>
                    <action class="btn btn-default" ng-click="controller.irPara('execucao');" style="padding-right: 15px;">
                        Execução
                    </action>
                    <action class="btn btn-primary" ng-click="controller.generate();" style="padding-right: 15px;">
                        Enviar
                    </action>
                </totvs-page-header-operation-action>
            </totvs-page-header-operation>
        </totvs-page-header>
    </totvs-page-navbar>
    <totvs-page-content>
        <totvs-page-form t-name="controller.filtersForm">

            <a name="parametros" id="parametros" style="display: block;
            position: relative;
            top: -170px;
            visibility: hidden;"></a>
            <legend>
                Parâmetros
            </legend>
            
            <totvs-row>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Gerar Provisão"
                    ng-model="controller.dadosTela.lgProvisao"
                    ng-disabled="true">
                </field>
            </totvs-row> 

            <legend style="font-size: 15px; font-weight: bold;">Custo Operacional</legend>

            <totvs-row>
                <h6 style="margin-left: 14px;">Considerar valores de pagamento em:</h6>

                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Procedimentos"
                    ng-model="controller.dadosTela.lgProcedimentosCustoPagamento"
                    ng-disabled="controller.dadosTela.lgProcedimentosCustoAlterado">
                </field>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Insumos"
                    ng-model="controller.dadosTela.lgInsumosCustoPagamento"
                    ng-disabled="controller.dadosTela.lgInsumosCustoAlterado">
                </field>
            </totvs-row>
            <totvs-row>
                <h6 style="margin-left: 14px;">Considerar valores alterados pelo usuário após a valorização do Contas em:</h6>

                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Procedimentos"
                    ng-model="controller.dadosTela.lgProcedimentosCustoAlterado"
                    ng-disabled="controller.dadosTela.lgProcedimentosCustoPagamento">
                </field>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Insumos"
                    ng-model="controller.dadosTela.lgInsumosCustoAlterado"
                    ng-disabled="controller.dadosTela.lgInsumosCustoPagamento">
                </field>
            </totvs-row>

            <legend style="font-size: 15px; font-weight: bold;">Participação</legend>
            
            <totvs-row>
                <h6 style="margin-left: 14px;">Considerar valores de pagamento em:</h6>

                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Procedimentos"
                    ng-model="controller.dadosTela.lgProcedimentosPartPagamento"
                    ng-disabled="controller.dadosTela.lgProcedimentosPartAlterado">
                </field>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Insumos"
                    ng-model="controller.dadosTela.lgInsumosPartPagamento"
                    ng-disabled="controller.dadosTela.lgInsumosPartAlterado">
                </field>
            </totvs-row>
            <totvs-row>
                <h6 style="margin-left: 14px;">Considerar valores alterados pelo usuário após a valorização do Contas em:</h6>

                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Procedimentos"
                    ng-model="controller.dadosTela.lgProcedimentosPartAlterado"
                    ng-disabled="controller.dadosTela.lgProcedimentosPartPagamento">
                </field>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Insumos"
                    ng-model="controller.dadosTela.lgInsumosPartAlterado"
                    ng-disabled="controller.dadosTela.lgInsumosPartPagamento">
                </field>
            </totvs-row>
                        
            <totvs-row>
                <h6 style="margin-left: 14px;">Participação Fora da Área de Ação:</h6>

                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Considerar Movimentos"
                    ng-model="controller.dadosTela.lgConsidera"
                    ng-disabled="!controller.dadosTela.lgProvisao">
                </field>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Diferenciar Eventos"
                    ng-model="controller.dadosTela.lgDiferencia"
                    ng-disabled="!controller.dadosTela.lgProvisao 
                              || !controller.dadosTela.lgConsidera">
                </field>
            </totvs-row>
            
            <totvs-row>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Gerar Demonstrativo"
                    ng-model="controller.dadosTela.lgDemonstrativo">
                </field>
            </totvs-row>
            
            <totvs-row>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Trata Diferença Negativa na Conta da Diferença"
                    ng-model="controller.dadosTela.lgTrataDif"
                    ng-disabled="(controller.dadosTela.lgProvisao
                                && !controller.dadosTela.lgDemonstrativo)">
                </field>
                <field type="checkbox"
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Contabiliza Faturas Estornadas"
                    ng-model="controller.dadosTela.lgContabFatEstornada"
                    ng-disabled="(controller.dadosTela.lgProvisao
                                && !controller.dadosTela.lgDemonstrativo)">
                </field>
            </totvs-row>
          
            <totvs-row>
                <field type="radio"          
                    ng-model="controller.dadosTela.tpRelatorio"    
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Tipo de Relatório">                    
                    <totvs-options>
                        <totvs-option value="1">Resumido</totvs-option>
                        <totvs-option value="2">Detalhado</totvs-option>
                    </totvs-options>
                </field>
                <field type="radio"          
                    ng-model="controller.dadosTela.tpResumido"     
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Resumido" 
                    ng-disabled="controller.dadosTela.tpRelatorio == 2">                    
                    <totvs-options>
                        <totvs-option value="1">Por Período</totvs-option>
                        <totvs-option value="2">Por Dia</totvs-option>
                    </totvs-options>
                </field>
                <field type="radio"          
                    ng-model="controller.dadosTela.tpClassificacao"   
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Classificação" 
                    ng-disabled="(controller.dadosTela.tpRelatorio == 1 
                                && controller.dadosTela.tpResumido == 1)">                    
                    <totvs-options>
                        <totvs-option value="1">Conta/Data</totvs-option>
                        <totvs-option value="2">Data/Conta</totvs-option>
                    </totvs-options>
                </field>
            </totvs-row>

            <a name="selecao" id="selecao" style="display: block;
            position: relative;
            top: -170px;
            visibility: hidden;"></a>
            <legend name="selecao" id="selecao">
                Seleção
            </legend>

            <totvs-row>
                <totvs-field totvs-input
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Espécie Inicial"
                    ng-model="controller.dadosTela.cdEspecieIni"
                    ng-disabled="(controller.dadosTela.lgProvisao
                                && !controller.dadosTela.lgDemonstrativo)">
                </totvs-field>
                <totvs-field totvs-input
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Espécie Final"
                    ng-model="controller.dadosTela.cdEspecieFim"
                    ng-disabled="(controller.dadosTela.lgProvisao
                                && !controller.dadosTela.lgDemonstrativo)">
                </totvs-field>
            </totvs-row>

            <totvs-row>  
                <totvs-field totvs-datepicker
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Data Inicial"
                    format="dd/MM/yyyy"
                    ng-model="controller.dadosTela.dtContabIni"
                    culture="pt"
                    canclean>
                </totvs-field>
                <totvs-field totvs-datepicker
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Data Final"
                    format="dd/MM/yyyy"
                    ng-model="controller.dadosTela.dtContabFim"
                    culture="pt"
                    canclean>
                </totvs-field>
            </totvs-row>

            <totvs-row>
                <totvs-field totvs-input
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Conta Contábil Inicial"
                    ng-model="controller.dadosTela.ctCodigoIni">
                </totvs-field>
                <totvs-field totvs-input
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Conta Contábil Final"
                    ng-model="controller.dadosTela.ctCodigoFim">
                </totvs-field>
            </totvs-row>

            <totvs-row>
                <totvs-field totvs-input
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Sub-Conta Inicial"
                    ng-model="controller.dadosTela.scCodigoIni">
                </totvs-field>
                <totvs-field totvs-input
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Sub-Conta Final"
                    ng-model="controller.dadosTela.scCodigoFim">
                </totvs-field>
            </totvs-row>

            <totvs-row>
                <totvs-field totvs-input numbers-only
                    placeholder="1" 
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Contratante Inicial"
                    ng-model="controller.dadosTela.cdContratIni">
                </totvs-field>
                <totvs-field totvs-input numbers-only
                    placeholder="1" 
                    class="col-lg-3 col-md-3 col-sm-4 col-xs-12"
                    label="Contratante Final"
                    ng-model="controller.dadosTela.cdContratFim">
                </totvs-field>
            </totvs-row>

            <a name="execucao" id="execucao" style="display: block;
            position: relative;
            visibility: hidden;"></a>
            <totvs-execution hide-repeat="true" ng-model="controller.execution">
                <totvs-execution-item type="execution">
                    <gps-totvs-schedule program-name="geracaoDemonstrativoContabil" ng-model="controller.schedule">
                    </gps-totvs-schedule>
                    <totvs-field totvs-select 
                        ng-model="controller.dadosTela.servidor" 
                        label="Servidor de Execução" 
                        t-no-data="Sem dados" 
                        placeholder="Selecione.."
                        select-id="cdServidor" 
                        select-description="dsServidor" 
                        t-data-source="controller.options.servidores"
                        canclean>
                    </totvs-field>
                </totvs-execution-item>
            </totvs-execution>
        </totvs-page-form>
    </totvs-page-content>
</totvs-page>