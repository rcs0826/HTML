<totvs-page type="list">
    <totvs-page-navbar>
        <totvs-page-header>
            <totvs-page-header-title title="Exportação Beneficiários Compartilhamento de Risco">
            </totvs-page-header-title>
            <totvs-page-header-operation>
                <totvs-page-header-operation-action limit-primary-action="4">

                    <action class="btn btn-primary" ng-click="controller.generate();" style="padding-right: 15px;">
                        Enviar
                    </action> 

                </totvs-page-header-operation-action>
            </totvs-page-header-operation>
        </totvs-page-header>
    </totvs-page-navbar>
    
    <totvs-page-content>
        <totvs-page-form t-name="controller.filtersForm">

            <a name="selecao" id="selecao" style="display: block;
            position: relative;
            top: -170px;
            visibility: hidden;"></a>
            <legend name="selecao" id="selecao">
                Seleção
            </legend>

            <totvs-row>
                <totvs-field totvs-checkbox
                    ng-change="controller.changeReexporta()"
                    label="Reexporta"
                    ng-model="controller.dadosTela.lgReexporta">
                </totvs-field>
            </totvs-row>
           
            <div ng-show="!controller.dadosTela.lgReexporta">

                <totvs-row>
                    <!-- Unidade -->
                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="1" 
                                maxlength="4" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Unidade Inicial" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdUnidadeIni">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                                
                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="9999" 
                                maxlength="4" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Unidade Final" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdUnidadeFim">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
            
                    <!-- Modalidade -->
                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="1" 
                                maxlength="2" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Modalidade Inicial"
                                ng-required="!controller.dadosTela.lgReexporta" 
                                ng-model="controller.dadosTela.cdModalidadeIni">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="99" 
                                maxlength="2" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Modalidade Final" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdModalidadeFim">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                </totvs-row>

                <totvs-row>
                    <!-- Contrato -->
                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="1" 
                                maxlength="6" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Contrato Inicial" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdContratoIni">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="999999" 
                                maxlength="6" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Contrato Final" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdContratoFim">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <!-- Beneficiário -->
                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="1" 
                                maxlength="6" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Beneficiário Inicial" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdUsuarioIni">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <totvs-field totvs-input 
                                numbers-only 
                                placeholder="999999" 
                                maxlength="6" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Beneficiário Final" 
                                ng-required="!controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.cdUsuarioFim">
                                <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                </totvs-row>

                <totvs-row> 
                    <!-- Data inclusão inicio -->
                    <totvs-field
                        totvs-datepicker
                        ng-model='controller.dadosTela.dataInclusaoIncio'
                        label="Data Inclusão Início" 
                        culture='pt'
                        placeholder='Selecione a data'
                        class="col-lg-3 col-md-4 col-sm-5 col-xs-6" 
                        canclean
                        t-mask-date="99/99/9999"
                        ng-required="!controller.dadosTela.lgReexporta"
                        ng-change='controller.changeDatepicker()' >
                        <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <!-- Data fim -->
                    <totvs-field
                        totvs-datepicker
                        ng-model='controller.dadosTela.dataInclusaoFim'
                        label="Data Inclusão Final" 
                        culture='pt'
                        placeholder='Selecione a data'
                        class="col-lg-3 col-md-4 col-sm-5 col-xs-6" 
                        canclean
                        t-mask-date="99/99/9999"
                        ng-required="!controller.dadosTela.lgReexporta"
                        ng-change='controller.changeDatepicker()' >
                        <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                </totvs-row>

                <totvs-row> 
                    <!-- Data exclusão inicio -->
                    <totvs-field
                        totvs-datepicker
                        ng-model='controller.dadosTela.dataExclusaoIncio'
                        label="Data Exclusão Início" 
                        culture='pt'
                        placeholder='Selecione a data'
                        class="col-lg-3 col-md-4 col-sm-5 col-xs-6" 
                        canclean
                        t-mask-date="99/99/9999"
                        ng-required="!controller.dadosTela.lgReexporta"
                        ng-change='controller.changeDatepicker()' >
                        <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <!-- Data fim -->
                    <totvs-field
                        totvs-datepicker
                        ng-model='controller.dadosTela.dataExclusaoFim'
                        label="Data Exclusão Final" 
                        culture='pt'
                        placeholder='Selecione a data'
                        class="col-lg-3 col-md-4 col-sm-5 col-xs-6" 
                        canclean
                        t-mask-date="99/99/9999"
                        ng-required="!controller.dadosTela.lgReexporta"
                        ng-change='controller.changeDatepicker()' >
                        <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                </totvs-row>

                <totvs-row>
                    <totvs-field 
                            totvs-combo 
                            class="col-lg-3 col-md-4 col-sm-6 col-xs-12" 
                            label="Status" 
                            ng-model="controller.dadosTela.inStatus"
                            t-options="controller.options.inStatus" 
                            ng-required="!controller.dadosTela.lgReexporta"
                            canclean>
                            <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>

                    <totvs-field 
                            totvs-combo 
                            class="col-lg-3 col-md-4 col-sm-6 col-xs-12" 
                            label="Tipo Movimento" 
                            ng-model="controller.dadosTela.tipoMovimento"
                            t-options="controller.options.tipoMovimento" 
                            ng-required="!controller.dadosTela.lgReexporta" 
                            canclean>
                            <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                </totvs-row>

            </div>

            <div ng-show="controller.dadosTela.lgReexporta">
                <totvs-row>
                        <!-- Unidade -->
                        <totvs-field totvs-input 
                                    numbers-only 
                                    placeholder="1" 
                                    maxlength="4" 
                                    class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                    label="Unidade Lote" 
                                    ng-required="controller.dadosTela.lgReexporta"
                                    ng-model="controller.dadosTela.cdUnidadeLote">
                                    <validator key="required">Este campo é obrigatório!</validator>
                        </totvs-field>
                        
                </totvs-row>

                <totvs-row>
                        <totvs-field totvs-input 
                                numbers-only 
                                placeholder="99999999" 
                                maxlength="8" 
                                class="col-lg-2 col-md-3 col-sm-4 col-xs-5" 
                                label="Número do Lote" 
                                ng-required="controller.dadosTela.lgReexporta"
                                ng-model="controller.dadosTela.nrLote">
                                <validator key="required">Este campo é obrigatório!</validator>
                        </totvs-field>
                </totvs-row>
            </div>
			
			<div>
				<totvs-row>
                    <totvs-field 
                            totvs-combo 
                            class="col-lg-3 col-md-4 col-sm-6 col-xs-12" 
                            label="Formato" 
                            ng-model="controller.dadosTela.inFormatoSaida"
                            t-options="controller.options.formatoSaida" 
                            ng-required="true">
                            <validator key="required">Este campo é obrigatório!</validator>
                    </totvs-field>
                </totvs-row>
				</totvs-row>
			</div>

            <a name="execucao" id="execucao" style="display: block;
            position: relative;
            visibility: hidden;"></a>

            <totvs-execution hide-repeat="true" ng-model="controller.execution">
                <totvs-execution-item type="execution">
                    <gps-totvs-schedule program-name="exportBenefCompartRisco" ng-model="controller.schedule">
                    </gps-totvs-schedule>
                    <totvs-field 
                            totvs-select 
                            ng-model="controller.dadosTela.servidor" 
                            label="Servidor de Execução" 
                            t-no-data="Sem dados" 
                            placeholder="Selecione.."
                            select-id="cdServidor" select-description="dsServidor" t-data-source="controller.options.servidores"
                            canclean>
                    </totvs-field>
                </totvs-execution-item>
            </totvs-execution>

        </totvs-page-form>
    </totvs-page-content>
</totvs-page>