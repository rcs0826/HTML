<totvs-page-child type="list">

	<br/>

	<totvs-page-content class="crm-tab">

		<div class="row">

			<div class="col-xs-10">
				<h3 style="margin-top: 0px;">
					{{ 'nav-rules' | i18n: []: 'dts/crm' }} ({{ controllerRulesStatusTab.model.ttRegras.length || 0 }})
				</h3>
			</div>

			<div class="col-xs-2">
				<div class="pull-right">
					<button type="button"
							class="btn btn-primary"
							ng-click="controllerRulesStatusTab.addEditRule();">
						<span class="glyphicon glyphicon-plus"></span>
						<span class="hidden-xs">{{ 'btn-add' | i18n: []: 'dts/crm' }}</span>
					</button>
				</div>
			</div>
		</div>
        
        <totvs-divider></totvs-divider>

		<totvs-page-alert type="info"
						  message="{{ 'msg-not-found-rules' | i18n: []: 'dts/crm' }}"
						  ng-if="!controllerRulesStatusTab.model.ttRegras || controllerRulesStatusTab.model.ttRegras.length <= 0">
			<br>
			<button type="button"
					class="btn btn-primary"
					ng-click="controllerRulesStatusTab.addEditRule();">
				<span class="glyphicon glyphicon-plus"></span>
				<span class="hidden-xs">{{ 'btn-add' | i18n: []: 'dts/crm' }}</span>
			</button>
		</totvs-page-alert>

        <div class="crm-tab"
			 ng-if="controllerRulesStatusTab.model.ttRegras.length">
            
            <div class="row crm-tab-item"
				 ng-repeat="regra in controllerRulesStatusTab.model.ttRegras">
                
                <totvs-list-item-info class="col-xs-12 col-sm-4"
									  title="{{ 'l-campaign' | i18n: []: 'dts/crm' }}"
									  value="{{ regra.ttCampanha.nom_campanha }}"
									  value-break="false">
				</totvs-list-item-info>
                
                <totvs-list-item-info class="col-xs-12 col-sm-4"
									  title="{{ 'l-action' | i18n: []: 'dts/crm' }}"
									  value="{{ regra.ttAcao.nom_acao }}"
									  value-break="false">
				</totvs-list-item-info>

                <totvs-list-item-info class="col-xs-12 col-sm-4"
                                      title="{{ 'l-result' | i18n: []: 'dts/crm' }}"
									  value="{{ regra.ttResultado.nom_restdo }}"
									  value-break="false">
				</totvs-list-item-info>
                
                <totvs-list-item-info class="col-xs-12 col-sm-8"
                      title="{{ 'l-status-destination' | i18n: []: 'dts/crm' }}"
                      value="{{ regra.ttStatusFluxoDestino.nom_status_ocor }}"
                      value-break="false">
				</totvs-list-item-info>
                
                <div class="col-xs-3 col-sm-4 text-right">
					<a class="clickable"
					   ng-click="controllerRulesStatusTab.addEditRule(regra);">
						<span class="visible-xs-inline glyphicon glyphicon-pencil"></span>
						<span class="hidden-xs">{{ 'btn-edit' | i18n: []: 'dts/crm' }}</span>
					</a>
					&nbsp;&nbsp;
					<a class="clickable"
					   ng-click="controllerRulesStatusTab.removeRule(regra.num_id, $index);">
						<span class="visible-xs-inline glyphicon glyphicon-trash"></span>
						<span class="hidden-xs">{{ 'btn-remove' | i18n: []: 'dts/crm' }}</span>
					</a>
				</div>
            </div>
            
        </div>
        
    </totvs-page-content>
    
</totvs-page-child>