<totvs-page-child type="list">

	<br/>

	<totvs-page-content class="crm-tab">

		<div class="row">
			<div class="col-xs-10">
				<h3 style="margin-top: 0px;">
					{{ 'nav-flow-rules' | i18n: []: 'dts/crm' }} ({{ CRMControlFlowRulesTab.listOfFlowRules.length || 0 }})
				</h3>
			</div>

			<div class="col-xs-2">
				<div class="pull-right">
					<button type="button"
							class="btn btn-primary"
							ng-click="CRMControlFlowRulesTab.addEdit();">
						<span class="glyphicon glyphicon-plus"></span>
						&nbsp;&nbsp;{{ 'btn-new-rule' | i18n: []: 'dts/crm' }}
					</button>
				</div>
			</div>

			<div class="col-xs-12">
				<totvs-divider></totvs-divider>
			</div>
		</div>

		<totvs-page-alert type="info"
						  message="{{ 'msg-not-found-ticket-flow-rules' | i18n: []: 'dts/crm' }}"
						  ng-if="CRMControlFlowRulesTab.listOfFlowRules.length <= 0">
			<br>
		</totvs-page-alert>

		<div class="crm-tab"
			 ng-if="CRMControlFlowRulesTab.listOfFlowRules.length">

			<div class="row crm-tab-item hover"
				 ng-class="{ 'crm-selected' : rule.$selected }"
				 ng-repeat="rule in CRMControlFlowRulesTab.listOfFlowRules"
				 ng-drag="true"
				 ng-drag-data="rule"
				 ng-drop="true"
				 ng-drop-success="CRMControlFlowRulesTab.onRulesDropComplete($index, $data, $event)">

				<div class="col-xs-4 col-md-3 text-left overflow-ellipsis">
					<span class="hidden-xs glyphicon glyphicon-resize-vertical" style="margin-right: 5px;"></span>
					{{ rule.nom_idi_atrib_regra  }}
				</div>

				<div class="col-xs-1 col-md-2 text-center overflow-ellipsis">
					{{ rule.nom_idi_operador_logic  }}
				</div>

				<div class="col-xs-4 col-md-3 text-center overflow-ellipsis">
					{{ rule.nom_id_atrib_regra  }}
				</div>

				<div class="col-xs-1 col-md-2 text-center overflow-ellipsis">
					{{ rule.nom_idi_cond_relacto  }}
				</div>

				<div class="col-xs-2 col-md-2 text-right">
					<a class="clickable"
					   ng-click="CRMControlFlowRulesTab.addEdit(rule, $index);">
						<span class="visible-xs-inline glyphicon glyphicon-edit"></span>
						<span class="hidden-xs">{{ 'btn-edit' | i18n: []: 'dts/crm' }}</span>
					</a>

					<a class="clickable"
					   ng-click="CRMControlFlowRulesTab.remove(rule, $index);">
						<span class="visible-xs-inline glyphicon glyphicon-trash"></span>
						<span class="hidden-xs">{{ 'btn-remove' | i18n: []: 'dts/crm' }}</span>
					</a>
				</div>

			</div>

			<br/>

		</div>

	</totvs-page-content>

</totvs-page-child>
