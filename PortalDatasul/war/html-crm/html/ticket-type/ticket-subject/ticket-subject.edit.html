<totvs-modal-header>
	{{ (controller.model.num_id > 0 ? controller.model.nom_assunto_ocor : ('btn-new-subject' | i18n: []: 'dts/crm' )) }}
</totvs-modal-header>

<totvs-modal-body>
    
	<fieldset class="row">

		<field type="select"
               ng-required="true"
			   canclean="undefined"
               ng-disabled="controller.editMode == true"
			   ng-model="controller.model.ttAssunto"
			   class="col-xs-12 col-md-12"
			   autofocus>

			<label>{{ 'l-subject' | i18n: []: 'dts/crm' }}</label>

			<include>
				<ui-select-match placeholder="{{ 'l-subject' | i18n: []: 'dts/crm'  }}">{{ $select.selected.nom_assunto_ocor}} {{ $select.selected.log_suspenso ? ( '(' + ('l-suspended' | i18n: []: 'dts/crm') + ')' ) : ('') }}</ui-select-match>
				<ui-select-choices repeat="subject in controller.listOfSubjects | filter: $select.search track by $index">
					<span ng-bind-html="subject.nom_assunto_ocor + (subject.log_suspenso ? ( ' (' + ('l-suspended' | i18n: []: 'dts/crm') + ')' ) : '') | highlight: $select.search"></span>
				</ui-select-choices>
			</include>

			<validator key="required">{{ 'l-required' | i18n: []: 'dts/crm' }}</validator>
		</field>

	</fieldset>    

	<fieldset class="row">
        
		<field type="select"
               class="col-xs-12 col-md-12"
			   canclean="undefined"
			   ng-required="true"
			   ng-model="controller.model.ttPrioridade">

			<label>{{ 'l-default-priority' | i18n: []: 'dts/crm' }}</label>

			<include>
				<ui-select-match placeholder="{{ 'l-default-priority' | i18n: []: 'dts/crm' }}">{{ $select.selected.nom_priorid_ocor }}</ui-select-match>
				<ui-select-choices repeat="priority in controller.listOfPriorities | filter: $select.search track by $index">
					<span ng-bind-html="priority.nom_priorid_ocor | highlight: $select.search"></span>
				</ui-select-choices>
			</include>

			<validator key="required">{{ 'l-required' | i18n: []: 'dts/crm' }}</validator>
		</field>

	</fieldset>
    
    <fieldset class="row">
		<totvs-field totvs-decimal
					 class="col-xs-12 col-sm-6"
					 ng-model="controller.model.qtd_tempo_previs_atendim"
					 m-dec="0"
					 ng-maxlength="9"
					 ng-minlength="1"
					 ng-required="true"
					 label="{{ 'l-sla-minute' | i18n: []: 'dts/crm' }}"
					 placeholder="{{ 'l-sla-minute' | i18n: []: 'dts/crm' }}"
					 canclean="0">
			<validator key="required">{{ 'l-required' | i18n: []: 'dts/crm' }}</validator>
			<validator key="maxlength">{{ 'msg-maxlength' | i18n: []: 'dts/crm' }} 9</validator>
		</totvs-field>
	</fieldset>    

</totvs-modal-body>

<totvs-modal-footer>
	<button class="btn btn-default"
			ng-click="controller.cancel()">
		{{ 'btn-cancel' | i18n: []: 'dts/crm' }}
	</button>
	<button class="btn btn-default"
			ng-click="controller.save(true)"
			ng-if="!controller.editMode">
		{{ 'btn-save-new' | i18n: []: 'dts/crm' }}
	</button>
	<button class="btn btn-primary"
			ng-click="controller.save()">
		{{ 'btn-save' | i18n: []: 'dts/crm' }}
	</button>
</totvs-modal-footer>
