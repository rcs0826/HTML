<totvs-modal-header>	{{ (controller.model.num_id > 0 ? (controller.model.ttProduto.nom_produt) : ('btn-new-product' | i18n: []: 'dts/crm' )) }}</totvs-modal-header><totvs-modal-body>	<fieldset class="row">		<field type="select"			   canclean="undefined"			   ng-model="controller.model.ttClassificacao"			   ng-change="controller.onChangeRating()"			   ng-required="true"			   ng-disabled="controller.editMode"			 <% if (!(!data["l-rating"] || data["l-rating"].log_editavel === true)) { %>					ng-disabled="true"			   <% } %>>			<label>{{ 'l-rating' | i18n: []: 'dts/crm' }}</label>			<include>				<ui-select-match placeholder="{{ 'l-rating' | i18n: []: 'dts/crm' }}">{{ $select.selected.nom_classif_ocor }}</ui-select-match>				<ui-select-choices repeat="class in controller.listOfRatings | filter: $select.search track by $index">					<span ng-bind-html="class.nom_classif_ocor | highlight: $select.search"></span>				</ui-select-choices>			</include>		</field>		<totvs-divider></totvs-divider>		<field type="select"			   canclean="undefined"			   ng-model="controller.model.ttProduto"			   ng-disabled="!controller.model.ttClassificacao || controller.editMode"			   class="col-xs-12 col-md-12"			   ng-change="controller.onChangeProduct()"			   ng-required="true">			<zoom zoom-service="crm.crm_classif_ocor_item.zoom"				  zoom-selected="controller.onChangeProduct(selected)"				  zoom-init="{num_id_classif_ocor: controller.model.ttClassificacao.num_id}"></zoom>			<label>{{ 'l-product' | i18n: []: 'dts/crm' }}</label>			<include>				<ui-select-match placeholder="{{ 'l-product' | i18n: []: 'dts/crm' }}">					{{ $select.selected.nom_produt }}					{{ ($select.selected.cod_item_erp) ? '(' + $select.selected.cod_item_erp + ')' : '' }}				</ui-select-match>				<ui-select-choices repeat="product in controller.listOfProducts | filter: $select.search track by $index"								   refresh="controller.getProducts($select.search)"								   refresh-delay="500">					<span ng-bind-html="product.nom_produt + (product.cod_item_erp ? ' (' + product.cod_item_erp + ')' : '') | highlight: $select.search"></span>				</ui-select-choices>			</include>		</field>	</fieldset>	<fieldset class="row">		<% if ((!data["l-reference"] || data["l-reference"].log_visivel === true)) { %>		<field type="select"			   canclean="undefined"			   ng-model="controller.model.ttReferencia"			 <% if (!(!data["l-reference"] || data["l-reference"].log_editavel === true)) { %>					ng-disabled="true"			   <% } else {%>					ng-disabled="!controller.model.ttClassificacao"			   <% } %>>			<label>{{ 'l-reference' | i18n: []: 'dts/crm' }}</label>			<include>				<ui-select-match placeholder="{{ 'l-reference' | i18n: []: 'dts/crm' }}">{{ $select.selected.nom_refer }}</ui-select-match>				<ui-select-choices repeat="ref in controller.listOfReferences | filter: $select.search track by $index">					<span ng-bind-html="ref.nom_refer | highlight: $select.search"></span>				</ui-select-choices>			</include>		</field>		<% } %>		<% if ((!data["l-component"] || data["l-component"].log_visivel === true)) { %>		<field type="select"			   canclean="undefined"			   ng-model="controller.model.ttComponente"			 <% if (!(!data["l-component"] || data["l-component"].log_editavel === true)) { %>					ng-disabled="true"			   <% } else {%>					ng-disabled="!controller.model.ttClassificacao"			   <% } %>>			<label>{{ 'l-component' | i18n: []: 'dts/crm' }}</label>			<include>				<ui-select-match placeholder="{{ 'l-component' | i18n: []: 'dts/crm' }}">{{ $select.selected.nom_produt }}</ui-select-match>				<ui-select-choices repeat="component in controller.listOfComponents | filter: $select.search track by $index">					<span ng-bind-html="component.nom_produt | highlight: $select.search"></span>				</ui-select-choices>			</include>		</field>		<% } %>		<% if ((!data["l-version"] || data["l-version"].log_visivel === true)) { %>		<field type="select"			   canclean="undefined"			   ng-model="controller.model.ttVersao"			   ng-change="controller.onChangeFlowDependencies()"			 <% if (!(!data["l-version"] || data["l-version"].log_editavel === true)) { %>					ng-disabled="true"			   <% } else {%>					ng-disabled="!controller.model.ttClassificacao"			   <% } %>>			<label>{{ 'l-version' | i18n: []: 'dts/crm' }}</label>			<include>				<ui-select-match placeholder="{{ 'l-version' | i18n: []: 'dts/crm' }}">{{ $select.selected.nom_vers_produt }}</ui-select-match>				<ui-select-choices repeat="version in controller.listOfVersions | filter: $select.search track by $index">					<span ng-bind-html="version.nom_vers_produt | highlight: $select.search"></span>				</ui-select-choices>			</include>		</field>		<% } %>		<% if ((!data["l-lot"] || data["l-lot"].log_visivel === true)) { %>		<field type="input"			   canclean="undefined"			   ng-model="controller.model.cod_lote"			   maxlength="100"			   placeholder="{{ 'l-lot' | i18n: []: 'dts/crm' }}"			 <% if (!(!data["l-lot"] || data["l-lot"].log_editavel === true)) { %>					ng-disabled="true"			   <% } else {%>					ng-disabled="!controller.model.ttClassificacao"			   <% } %>>			<label>{{ 'l-lot' | i18n: []: 'dts/crm' }}</label>		</field>		<% } %>		<% if ((!data["l-expiration-date"] || data["l-expiration-date"].log_visivel === true)) { %>		<field type="date"			   canclean="undefined"			   start-date="controller.model.startDate"			   ng-model="controller.model.dat_valid"			   placeholder="{{ 'l-expiration-date' | i18n: []: 'dts/crm' }}"			 <% if (!(!data["l-expiration-date"] || data["l-expiration-date"].log_editavel === true)) { %>					ng-disabled="true"			   <% } else {%>					ng-disabled="!controller.model.ttClassificacao"			   <% } %>>			<label>{{ 'l-expiration-date' | i18n: []: 'dts/crm' }}</label>		</field>		<% }%>		<% if ((!data["l-quantity-analyzed"] || data["l-quantity-analyzed"].log_visivel === true)) { %>		<totvs-field			   totvs-decimal			   canclean="undefined"			   ng-model="controller.model.qtd_analis"			   placeholder="{{ 'l-quantity-analyzed' | i18n: []: 'dts/crm' }}"			   label="{{ 'l-quantity-analyzed' | i18n: []: 'dts/crm' }}"			   v-max="13"			 <% if (!(!data["l-quantity-analyzed"] || data["l-quantity-analyzed"].log_editavel === true)) { %>				   ng-disabled="true"			   <% } else {%>				   ng-disabled="!controller.model.ttClassificacao"			   <% } %>>		</totvs-field>		<% } %>		<% if ((!data["l-quantity-returned"] || data["l-quantity-returned"].log_visivel === true)) { %>		<totvs-field			   totvs-decimal			   canclean="undefined"			   ng-model="controller.model.qtd_devolvid"			   placeholder="{{ 'l-quantity-analyzed' | i18n: []: 'dts/crm' }}"			   label="{{ 'l-quantity-returned' | i18n: []: 'dts/crm' }}"			   v-max="13"			 <% if (!(!data["l-quantity-returned"] || data["l-quantity-returned"].log_editavel === true)) { %>					ng-disabled="true"			   <% } else {%>				   ng-disabled="!controller.model.ttClassificacao"			   <% } %>>		</totvs-field>		<% } %>	</fieldset></totvs-modal-body><totvs-modal-footer>	<button class="btn btn-default" ng-click="controller.cancel()">{{ 'btn-cancel' | i18n: []: 'dts/crm' }}</button>	<button class="btn btn-default" ng-if="!controller.editMode" ng-click="controller.save(true)">{{ 'btn-save-new' | i18n: []: 'dts/crm' }}</button>	<button class="btn btn-primary" ng-click="controller.save(false)">{{ 'btn-save' | i18n: []: 'dts/crm' }}</button></totvs-modal-footer>