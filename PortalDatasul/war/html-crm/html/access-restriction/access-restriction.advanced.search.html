<totvs-modal-header>
	{{ 'l-search-advanced' | i18n: []: 'dts/crm' }}
</totvs-modal-header>

<totvs-modal-body>

	<fieldset class="row">

		<field type="select"
			   ng-model="controller.model.num_id_grp_usuar"
			   ng-change="controller.onChangeGroup()"
			   canclean="undefined">
			<label>{{ 'l-group' | i18n: []: 'dts/crm' }}</label>
			<include>
				<ui-select-match placeholder="{{ 'l-group' | i18n: []: 'dts/crm' }}">
					{{ $select.selected.nom_grp_usuar }}
				</ui-select-match>
				<ui-select-choices repeat="group in controller.groups | filter: $select.search track by $index">
					<span ng-bind-html="group.nom_grp_usuar | highlight: $select.search"></span>
				</ui-select-choices>
			</include>
		</field>

		<field type="select"
			   ng-model="controller.model.num_id_usuar"
			   canclean="undefined">
			<label>{{ 'l-user' | i18n: []: 'dts/crm' }}</label>
			<include>
				<ui-select-match placeholder="{{ 'l-user' | i18n: []: 'dts/crm' }}">{{ $select.selected.nom_usuar }}</ui-select-match>
				<ui-select-choices repeat="user in controller.users track by $index"
								   refresh="controller.getUsers($select.search)"
								   refresh-delay="500">
					<span ng-bind-html="user.nom_usuar | highlight: $select.search"></span>
				</ui-select-choices>
			</include>
		</field>

		<field type="select"
			   ng-model="controller.model.num_id_acess_form_portal"
			   canclean="undefined">
			<label>{{ 'l-form' | i18n: []: 'dts/crm' }}</label>
			<include>
				<ui-select-match placeholder="{{ 'l-form' | i18n: []: 'dts/crm' }}">
					{{ $select.selected.nom_form }}
				</ui-select-match>
				<ui-select-choices repeat="form in controller.forms | filter: $select.search track by $index">
					<span ng-bind-html="form.nom_form | highlight: $select.search"></span>
				</ui-select-choices>
			</include>
		</field>

	</fieldset>

</totvs-modal-body>

<totvs-modal-footer>
	<button class="btn btn-default" ng-click="controller.cancel()">{{ 'btn-cancel' | i18n: []: 'dts/crm' }}</button>
	<button class="btn btn-primary" ng-click="controller.apply()">{{ 'btn-apply' | i18n: []: 'dts/crm' }}</button>
</totvs-modal-footer>
