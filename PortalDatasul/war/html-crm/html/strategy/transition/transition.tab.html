<totvs-page-child type="list">

	<br/>

	<totvs-page-content class="crm-tab">

		<div class="row">

			<div class="col-xs-10">
				<h3 style="margin-top: 0px;">
					{{ 'nav-transition' | i18n: []: 'dts/crm' }} ({{ controller.model.ttTransicao.length || 0 }})
				</h3>
			</div>

			<div class="col-xs-2">
				<div class="pull-right">
					<button type="button"
							class="btn btn-primary"
							ng-click="controller.addEditStrategyTransition(controller.model);">
						<span class="glyphicon glyphicon-plus"></span>
						<span class="hidden-xs">{{ 'btn-add' | i18n: []: 'dts/crm' }}</span>
					</button>
				</div>
			</div>
		</div>

		<totvs-divider></totvs-divider>

		<totvs-page-alert type="info"
						  message="{{ 'msg-not-found-strategy-transition' | i18n: []: 'dts/crm' }}"
						  ng-if="!controller.model.ttTransicao || controller.model.ttTransicao.length <= 0">
			<br>
			<button type="button"
					class="btn btn-primary"
					ng-click="controller.addEditStrategyTransition(controller.model);">
				<span class="glyphicon glyphicon-plus"></span>
				<span class="hidden-xs">{{ 'btn-add' | i18n: []: 'dts/crm' }}</span>
			</button>
		</totvs-page-alert>

		<div class="crm-tab"
			 ng-if="controller.model.ttTransicao.length">

			<div class="row crm-tab-item"
				 ng-repeat="transition in controller.model.ttTransicao">

				<div class="col-xs-9 overflow-ellipsis">
					<span class="glyphicon glyphicon-chevron-right"
						  style="color: #337ab7;"></span>
					&nbsp;&nbsp;
					{{ transition.des_fase }}
					&nbsp;&nbsp;
					<span class="glyphicon glyphicon-chevron-right"
						  style="color: #337ab7;"></span>
					&nbsp;&nbsp;
					{{ transition.des_prox_fase }}
				</div>

				<div class="col-xs-3 text-right">
					<a class="clickable"
					   ng-click="controller.addEditStrategyTransition(controller.model, transition, $index);">
						<span class="visible-xs-inline glyphicon glyphicon-pencil"></span>
						<span class="hidden-xs">{{ 'btn-edit' | i18n: []: 'dts/crm' }}</span>
					</a>
					&nbsp;&nbsp;
					<a class="clickable"
					   ng-click="controller.removeStrategyTransition(transition, $index);">
						<span class="visible-xs-inline glyphicon glyphicon-trash"></span>
						<span class="hidden-xs">{{ 'btn-remove' | i18n: []: 'dts/crm' }}</span>
					</a>
				</div>

				<style type="text/css" scoped="true">
					.custom-divider .divider {
						margin-top: 10px !important;
					}
				</style>

				<totvs-divider class="custom-divider"></totvs-divider>

				<totvs-list-item-info class="col-xs-12 col-sm-4"
									  title="{{ 'l-campaign' | i18n: []: 'dts/crm' }}"
									  value="{{ transition.nom_campanha }}"
									  value-break="false">
				</totvs-list-item-info>

				<totvs-list-item-info class="col-xs-12 col-sm-4"
									  title="{{ 'l-action' | i18n: []: 'dts/crm' }}"
									  value="{{ transition.nom_acao }}"
									  value-break="false">
				</totvs-list-item-info>

				<totvs-list-item-info class="col-xs-12 col-sm-4"
									  title="{{ 'l-result' | i18n: []: 'dts/crm' }}"
									  value="{{ transition.nom_restdo }}"
									  value-break="false">
				</totvs-list-item-info>

			</div>

			<br/>

		</div>

	</totvs-page-content>

</totvs-page-child>
