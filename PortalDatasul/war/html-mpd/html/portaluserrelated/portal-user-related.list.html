<totvs-page type="list" totvs-custom-element="customPage">
    <totvs-page-navbar>
        <totvs-page-breadcrumb>
            <breadcrumb link="#/">{{'l-initial-page' | i18n}}</breadcrumb>
            <breadcrumb link="#/dts/mpd/portalconfigpdp/">{{'l-portal-config-clien-rep' | i18n}}</breadcrumb>
            <breadcrumb>{{'l-portal-user-related' | i18n}}</breadcrumb>
        </totvs-page-breadcrumb>
        <totvs-page-header>
            <totvs-page-header-title title="{{'l-portal-user-related' | i18n}}"
                                     total="{{controller.totalRecords}}">
            </totvs-page-header-title>
            <totvs-page-header-operation>
                <totvs-page-header-operation-action limit-primary-action="1">
                    <action link="#/dts/mpd/portaluserrelated/{{controller.idPortalConfigur}}/new"
                            icon="glyphicon-plus">{{ 'btn-add' | i18n }}</action>
                </totvs-page-header-operation-action>
            
                <totvs-page-header-operation-filter placeholder="{{ 'l-search' | i18n }}"
                                                    ng-submit="controller.loadData()"
                                                    ng-model="controller.quickSearchText">
                </totvs-page-header-operation-filter>
            </totvs-page-header-operation>
            <totvs-page-disclaimers disclaimer-list="controller.disclaimers"                                
                                    ng-click="controller.removeDisclaimer">
            </totvs-page-disclaimers>
        </totvs-page-header>    
    </totvs-page-navbar>
    <totvs-page-content>
        <totvs-list-item ng-repeat="portalUserRelated in controller.listResult">
            <totvs-list-item-header>                
                <totvs-list-item-title link="#/dts/mpd/portaluserrelated/detail/{{portalUserRelated.idi_seq}}/{{portalUserRelated.cod_usuario}}"
                                       title="{{'l-user' | i18n}}: {{portalUserRelated.cod_usuario}}">
                </totvs-list-item-title>                </totvs-list-item-title>

                <totvs-list-item-action limit-primary-action="2">                    
                    <action link="#/dts/mpd/portaluserrelated/edit/{{portalUserRelated.idi_seq}}/{{portalUserRelated.cod_usuario}}" 
                            icon="glyphicon-pencil">{{ 'btn-edit' | i18n }}</action>
                    <action ng-click="controller.delete(portalUserRelated)"
                            icon="glyphicon-remove">{{ 'btn-remove' | i18n }}</action>
                    <action ng-click="controller.userBlock(portalUserRelated)"
                            icon="glyphicon-lock">{{portalUserRelated.titleUserBlock}}</action>
                </totvs-list-item-action>
            </totvs-list-item-header>
            <totvs-list-item-content>
                <totvs-list-item-info title="{{ 'l-nom-user' | i18n }}"
                                      value="{{portalUserRelated.nom_usuario}}">
                </totvs-list-item-info>                                      
                <totvs-list-item-info title="{{ 'l-email' | i18n }}"
                                      value="{{portalUserRelated.cod_e_mail_local}}">
                </totvs-list-item-info>
                <totvs-list-item-info title="{{ 'l-dt-inival' | i18n }}"
                                      value="{{portalUserRelated.dat_inic_valid | date : ('l-date-format' | i18n) : 'UTC'}}">
                </totvs-list-item-info>
                <totvs-list-item-info title="{{ 'l-dt-fimval' | i18n }}"
                                      value="{{portalUserRelated.dat_fim_valid | date : ('l-date-format' | i18n) : 'UTC'}}">
                </totvs-list-item-info>
                <totvs-list-item-info title="{{ 'l-user-bloq' | i18n }}"
                                      value="{{portalUserRelated.user_block | booleanI18N}}">
                </totvs-list-item-info>
                <!-- <totvs-list-item-info title="{{ 'l-exibir-imagem-produto' | i18n }}"
                                      value="{{portalUserRelated.log_img_produto | booleanI18N}}">
                </totvs-list-item-info> -->
				<totvs-list-item-info title="{{ 'l-criar-modelo-pedido' | i18n }}"
                                      value="{{portalUserRelated.log_novo_modelo | booleanI18N}}">
                </totvs-list-item-info>
            </totvs-list-item-content>
        </totvs-list-item>
                
        <totvs-list-pagination ng-if="controller.listResult.length < controller.totalRecords && controller.listResult.length" ng-click="controller.loadData(true);">
        </totvs-list-pagination>
    </totvs-page-content>
</totvs-page>