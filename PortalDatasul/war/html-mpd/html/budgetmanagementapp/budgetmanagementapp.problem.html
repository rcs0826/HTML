<div class="modal-header">
    <h3 class="modal-title">{{ 'l-budget-pending-actions' | i18n }}</h3>
</div>
<div class="modal-body">
    <totvs-page-content>
        <totvs-page-detail>
            <div>
                <div class="row">
                    <div class="col-md-12">
                        <button class="btn btn-success" ng-click="controller.completeReviewError(controller.selectedBudgetProblem)" ng-disabled="!controller.selectedBudgetProblem" icon="glyphicon-check">
                            <span class="glyphicon glyphicon-check"></span> &nbsp; {{ 'l-budget-conclude-error' | i18n }} 
                        </button>
                        <button class="btn btn-default" ng-click="controller.openOrder(controller.selectedBudgetProblem)" ng-disabled="!controller.selectedBudgetProblem" icon="glyphicon-file">
                            <span class="glyphicon glyphicon-file"></span> &nbsp; {{ 'l-open-order' | i18n }} 
                        </button>
                    </div>
                </div>

                </br>

                <totvs-grid grid-data="controller.budgetProblem" grid="controller.budgetGridProblem" grid-selected-item="controller.selectedBudgetProblem"
                    navigatable="true" editable="false" selectable="multiple,row" sortable="true" reorderable="true" resizable="true"
                    grid-height="400">

                    <totvs-grid-column field="cod-orcto" width="160">
                        {{:: 'l-code-budget' | i18n : [] : 'dts/mpd'}}
                    </totvs-grid-column>

                    <totvs-grid-column field="nome-abrev" width="190">
                        {{:: 'l-short-name-client' | i18n : [] : 'dts/mpd'}}
                    </totvs-grid-column>

                    <totvs-grid-column field="nr-pedido" width="140">                        
                        {{:: 'l-nr-pedvenda-start' | i18n : [] : 'dts/mpd'}}
                    </totvs-grid-column>

                    <totvs-grid-column field="totalRecords" width="160">
                        {{:: 'l-qt-errors' | i18n : [] : 'dts/mpd'}}
                    </totvs-grid-column>

                    <totvs-grid-detail size="table">
                        <div class="row" style="margin: 0;" ng-init="controller.getBudgetProblemErrors(dataItem)">
                            <totvs-grid grid-data="dataItem.budgetErrors" grid-height="250" navigatable="true" selectable="row" reorderable="false" resizable="true">

                                <totvs-grid-column field="numError" width="40">
                                    {{:: 'l-num-error' | i18n : [] : 'dts/mpd'}}
                                </totvs-grid-column>

                                <totvs-grid-column field="errorType" width="40">
                                    {{:: 'l-type' | i18n : [] : 'dts/mpd'}}
                                </totvs-grid-column>

                                <totvs-grid-column field="descError" width="40">
                                    {{:: 'l-descricao' | i18n : [] : 'dts/mpd'}}
                                </totvs-grid-column>

                                <totvs-grid-column field="helpError" width="40">
                                    {{:: 'l-help' | i18n : [] : 'dts/mpd'}}
                                </totvs-grid-column>

                            </totvs-grid>
                        </div>
                    </totvs-grid-detail>
                </totvs-grid>
            </div>
        </totvs-page-detail>
    </totvs-page-content>    
</div>
<div class="modal-footer">
    <button class="btn btn-warning" ng-click="controller.close()">{{"btn-close" | i18n}}</button>
</div>