<totvs-page type="list" totvs-custom-element="customPage">
<style type="text/css" scoped>

.page-head .page-tags .tag-1:before {
	background-color: #08e008;
	content: "1";
}

.page-head .page-tags .tag-7:before {
	background-color: #703593;
	content: "7";
}
.page-head .page-tags .tag-8:before {
	background-color: #582A1A;
	content: "8";
}

.page-head .page-tags .tag-9:before {
	background-color: #e70000;
	content: "9";
}

.page-content .list-item.tag-1 {
	border-left: 5px solid #08e008;
}
.page-content .list-item.tag-7 {
	border-left: 5px solid #703593;
}
.page-content .list-item.tag-8 {
	border-left: 5px solid #582A1A;
}

.page-content .list-item.tag-9 {
	border-left: 5px solid #e70000;
}

.page-tags {
	display: flex !important;
	flex-wrap: wrap;
}

.tag {
	text-align: initial !important;
    padding: 0px !important;
}

.order-tag {
	margin-right: 50px !important;
}

.order-tag-2 {
	margin-right: 10px !important;
}

.order-tag-3 {
	margin-right: 10px !important;
}

@media (max-width: 1199px) {
	.order-tag {
		margin-right: 0px !important;
	}

	.order-tag-2 {
		margin-right: 0px !important;
	}
	
	.order-tag-3 {
		margin-right: 0px !important;
	}
}

@media (max-width: 950px) {
	.order-tag {
		margin-right: 30px !important;
	}

	.order-tag-3 {
		margin-right: 30px !important;
	}
}

</style>
	<totvs-page-navbar>
		<totvs-page-breadcrumb>
			<breadcrumb link="#{{defaultPageHome}}">{{'l-home' | i18n}}</breadcrumb>
			<breadcrumb>{{'l-order-portfolio' | i18n}}</breadcrumb>
		</totvs-page-breadcrumb>

		
		<totvs-page-header>
			
			<totvs-page-header-title title="{{currentuser['user-entity']}} ({{controller.totalRecords}} {{'l-sales-orders-qtd'|i18n}})"></totvs-page-header-title>

			<totvs-page-header-operation>

				<div class="col-lg-7 col-md-7 col-sm-7 col-xs-12"></div>
				<totvs-page-header-operation-filter placeholder="{{ 'l-fast-search-order' | i18n }}"
													ng-submit="controller.applySimpleFilter();"
													ng-model="controller.quickSearchText"
													advanced-search="controller.openAdvancedSearch">
				</totvs-page-header-operation-filter>
			</totvs-page-header-operation>
			<totvs-page-disclaimers disclaimer-list="controller.filterBy"
									ng-click="controller.removeSelectedFilter"></totvs-page-disclaimers>		

			
			<totvs-page-tags >						
					<tag class="tag-1 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-3 order-tag" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER1);">{{ 'l-status-order-1' | i18n }}</tag>
					<tag class="      btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-3 order-tag-2 portal-list-order-light-blue-tag" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER2);">{{ 'l-status-order-2' | i18n }}</tag>
					<tag class="tag-3 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-2 order-tag-2" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER3);">{{ 'l-status-order-3' | i18n }}</tag>
					<tag class="tag-4 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-3 order-tag-2" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER4);">{{ 'l-status-order-4' | i18n }}</tag>
					<tag class="tag-5 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-2 order-tag-2" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER5);">{{ 'l-status-order-5' | i18n }}</tag>				
					<tag class="tag-6 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-2 order-tag-3" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER6);">{{ 'l-status-order-6' | i18n }}</tag>
					<tag class="tag-7 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-2 order-tag-2" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER7);">{{ 'l-status-order-7' | i18n }}</tag>
					<tag class="tag-8 btn btn-link col-lg-1 col-md-2 col-sm-2 col-xs-2 order-tag-2" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER8);">{{ 'l-status-order-8' | i18n }}</tag>
					<tag class="tag-9 btn btn-link col-lg-2 col-md-2 col-sm-2 col-xs-2 order-tag-2" ng-click="controller.setQuickFilter(controller.STATUSPORTALORDER9);">{{ 'l-status-sales-order-9' | i18n }} ({{controller.totalReject}})</tag>											
			</totvs-page-tags>
			
		
			
		</totvs-page-header>
	
	</totvs-page-navbar>

	<totvs-page-content>

		<totvs-list-item ng-class="{'tag-1':order['cod-sit-ped-portal'] == 103, 
									'portal-list-order-light-blue-list':order['cod-sit-ped-portal'] == 101 && !order['approvalRejected'], 
									'tag-3':order['cod-sit-ped-portal'] == 102,	
									'tag-4':order['cod-sit-ped-portal'] == 2,
									'tag-5':order['cod-sit-ped-portal'] == 3,
									'tag-6':order['cod-sit-ped-portal'] == 5,
									'tag-7':order['cod-sit-ped-portal'] == 6,
									'tag-8':order['cod-sit-ped-portal'] == 104,
									'tag-9':order['approvalRejected']}"
						 ng-repeat="order in controller.listResult"
						 totvs-custom-element="customListItem">
			<totvs-list-item-header>
				<totvs-list-item-title title="{{order['nr-pedido']}}"
									   link="#/dts/mpd/orderdetail/{{order['nr-pedido']}}"></totvs-list-item-title>
				<totvs-list-item-action limit-primary-action="3">
					
					<action ng-if="!controller.newOrderInclusionFlow && controller.btnEdit" link="#/dts/mpd/order/{{order['nr-pedido']}}" icon="glyphicon-pencil">{{'btn-edit'|i18n}}</action>
					
					<action ng-if="controller.newOrderInclusionFlow && controller.btnEdit" link="#/dts/mpd/order2/{{order['nr-pedido']}}/edit" icon="glyphicon-pencil">{{'btn-edit'|i18n}}</action>
					
					<action ng-click="controller.print(order['nr-pedido'])" icon="glyphicon-print">{{'l-print'|i18n}}</action>
					<action link="#/dts/mpd/orderhistory/{{order['nr-pedido']}}" icon="glyphicon-calendar">{{'btn-historic'|i18n}}</action>
					<action ng-click="controller.openModalCopy(order['nr-pedido'])" icon="glyphicon-plus"
							ng-if="!order['log-cotacao'] && controller.btnCopy">{{'btn-copy-order'|i18n}}</action>
					<action ng-if="controller.canCreateModel && !order['log-cotacao']" link="#/dts/mpd/newmodel/{{order['nr-pedido']}}?modelType=1" icon="glyphicon-flash">{{'btn-create-new-model'|i18n}}</action>
					<action ng-click="controller.openInvoice(order)" 
							ng-if="!order['log-cotacao']">{{'l-invoices'|i18n}}</action>
					<action link="#/dts/mpd/shipment/{{order['nr-pedcli']}}/{{order['nome-abrev']}}"
							ng-if="!order['log-cotacao'] && controller.showButtonShipment">{{'l-shipments'|i18n}}</action>
				</totvs-list-item-action>
			</totvs-list-item-header>
			<totvs-list-item-content>
				 <totvs-lodash-template src="/dts/mpd/html/salesorders/order-list-fields.html" template-data="controller.salesOrdersProfileConfig"></totvs-lodash-template>
			</totvs-list-item-content>

			<totvs-list-item-content-detail open="controller.getOrderItens(order)">
				<totvs-list-item ng-repeat="item in order.orderItens">
					<totvs-list-item-content>
						<img class="col-xs-2" alt="tst" ng-if="item.nomImagem" ng-src="/dts/mpd/resource/product/imagem?image={{item.nomImagem}}">
						<totvs-lodash-template src="/dts/mpd/html/salesorders/order-item-list-fields.html" template-data="controller.salesOrdersProfileConfig"></totvs-lodash-template>
					</totvs-list-item-content>
				</totvs-list-item>
			</totvs-list-item-content-detail>

		</totvs-list-item>

	</totvs-page-content>

	<totvs-list-pagination ng-if="controller.listResult.length < controller.totalRecords && controller.listResult.length"
							   ng-click="controller.loadMore()">
	</totvs-list-pagination>


</totvs-page>
