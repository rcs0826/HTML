<totvs-page type="detail" totvs-custom-element="customPage">
    <totvs-page-navbar>
		<totvs-page-breadcrumb>
			<breadcrumb link="#/">{{ 'l-home' | i18n }}</breadcrumb>
			<breadcrumb>{{:: 'l-payment-methods-ciashop' | i18n : [] : 'dts/mpd' }}</breadcrumb>            
		</totvs-page-breadcrumb>
		<totvs-page-header>
			<totvs-page-header-title title="{{'l-rel-payment-methods-ciashop' | i18n : [] : 'dts/mpd/'}}"
                total="{{controller.relationShip.length}}/{{controller.relationShipCount}}">
            </totvs-page-header-title>
			<totvs-page-header-operation>
                <totvs-page-header-operation-action hide-remove='true' hide-edit='true' hide-back='true'>
                    <action ng-click="controller.openPaymentMethods()" icon="glyphicon-list">{{:: 'l-open-payment-methods' | i18n : [] : 'dts/mpd' }}</action>                                        
                </totvs-page-header-operation-action>
                <div class="col-xs-12">
                    <div class="col-lg-6 col-md-6 col-ms-6 col-xs-12" style="margin-top: 10px; padding-left: 0px; ">
                        <button class="btn btn-primary" ng-click="controller.addRelationShipPaymentMethods();">{{:: 'l-add-relationship' | i18n : [] : 'dts/mpd' }}</button>
                        <button class="btn btn-default" ng-click="controller.updateRelationShipPaymentMethods(controller.customerListSelectedCust);">{{:: 'l-update-relationship' | i18n : [] : 'dts/mpd' }}</button>
                        <button class="btn btn-default" ng-click="controller.deleteRelationShipPaymentMethods(controller.customerListSelectedCust)">{{:: 'l-delete-relationship' | i18n : [] : 'dts/mpd' }}</button>
                    </div>
                    <form ng-submit="controller.applySimpleFilter();">
                        <div class="col-lg-6 col-md-6 col-ms-6 col-xs-12 pull-right" style="margin-top: 10px; padding-left: 0px; padding-right: 5px;">
                            <div class="input-group">                                
                                <input type="text" 
                                       class="form-control"                                       
                                       ng-model="controller.quickSearch"
                                       placeholder="{{:: 'l-fast-search-relationship' | i18n }}">
                                <span class="input-group-btn">
                                    <button ng-click="controller.removeSimpleFilter();" class="btn btn-default" type="button"><span class="glyphicon glyphicon-remove"></span></button>
                                    <button ng-click="controller.applySimpleFilter();" class="btn btn-default" type="button"><span class="glyphicon glyphicon-filter"></span></button>
                                </span>                                
                            </div>
                        </div>
                    </form>
                </div>
            </totvs-page-header-operation>
            <totvs-page-disclaimers
                disclaimer-list="controller.disclaimers"
                ng-click="controller.removeDisclaimer">
            </totvs-page-disclaimers>
		</totvs-page-header>
	</totvs-page-navbar>
    
    <totvs-page-content>
        
        <totvs-page-content-header>
            <totvs-page-quick-filter filters-list="controller.quickFilters"
                                     on-select-filter="controller.setQuickFilter"
                                     filters-list-custom="controller.listOfCustomFilters"
                                     on-remove-custom="controller.removeCustomFilter"
                                     on-add-edit-custom="controller.addEditCustomFilters">
           </totvs-page-quick-filter>
        </totvs-page-content-header> 
        
        <div class="row">       
            <div style="margin-left: 25px; margin-right: 25px;">
                <totvs-grid grid-data="controller.relationShip"
                            grid="controller.grid"
                            navigatable="true"
                            resizable="true"    
                            selectable="row"
                            grid-selected-item="controller.customerListSelectedCust"
                            resizable="true"
                            reorderable="true"
                            sortable="true">
                    <totvs-grid-column field="cod_metodo_pgto" width="200">{{:: 'l-name-method-payment' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_grupo_pgto" width="170">{{:: 'l-group-relationship' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>                    
                    <totvs-grid-column field="cod_des_cod_estabel" width="400">{{:: 'l-estabel' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="des_tipo_metod_pagto" width="200">{{:: 'l-type-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_des_esp_ped_vda" width="110">{{:: 'l-especie-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_des_ser_ped_vda" width="150">{{:: 'l-serie-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_des_portador" width="300">{{:: 'l-portador' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_cart_bcia" width="75">{{:: 'l-carteira-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_admdra_cartao_cr" width="100">{{:: 'l-adm-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_band" width="75">{{:: 'l-bandeira-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_des_emitente_acr" width="300">{{:: 'l-cust-integration-acr-payment-method' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <totvs-grid-column field="cod_des_repres_acr" width="150">{{:: 'l-nome-ab-rep' | i18n : [] : 'dts/mpd'}}</totvs-grid-column>
                    <!-- <totvs-grid-column field="cod_des_cond_pagto" width="150">{{:: 'l-condicao-pagamento' | i18n : [] : 'dts/mpd'}}</totvs-grid-column> -->
                </totvs-grid> 
            </div>                        
            <div class="more-results" style="margin-left: 15px; margin-right: 15px;" ng-show="controller.relationShip.length && controller.relationShip.length < controller.relationShipCount" >
                <button ng-click="controller.search(true)"  
                        class="btn btn-primary col-xs-12" 
                        style="padd">
                    {{'l-more' | i18n}}
                </button>
            </div> 
        </div>

    </totvs-page-content>
        
</totvs-page>
