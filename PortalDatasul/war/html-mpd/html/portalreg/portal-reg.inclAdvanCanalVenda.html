<div ng-controller="mpd.portal-reg-incl-advan-canal-venda.Control as controller">
    <totvs-page type="edit" totvs-custom-element="customPage">
        <totvs-page-nav-bar>
            <totvs-page-header>
                <totvs-page-header-title title="{{'l-inclusao-canal-venda' | i18n}}"></totvs-page-header-title>
            </totvs-page-header>
        </totvs-page-nav-bar>
        <totvs-page-content>
            <totvs-page-form>
                <field type="radio"
                       ng-model="controller.typeFilter"
                       label="{{'l-type-filter' | i18n}}"
                       ng-change="controller.changeTypeFilter()"
                       class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                    <totvs-options>
                        <totvs-option value="1">{{'l-inclusao' | i18n}}</totvs-option>
                        <totvs-option value="2">{{'l-exclusao' | i18n}}</totvs-option>
						<totvs-option value="3">{{'Relacionamento CD1521' | i18n}}</totvs-option>
                    </totvs-options>
                </field>
                <div class="class='col-lg-6 col-md-6 col-sm-12 col-xs-12">
                    <br>
                    <button type="button" 
                            class="btn btn-primary pull-right" 
                            ng-click="controller.loadData()">
                        <span class="glyphicon glyphicon-filter">
                        </span>&nbsp;{{ 'l-aplicar-filtro' | i18n }}
                    </button>					
                </div>
            </totvs-page-form>
            <totvs-page-form>
			
			<div style="height:100%; padding-left: 15px; padding-right: 15px;">

				<alert ng-if="controller.typeFilter == 3 && controller.listResult.length == 0" type="info">
					{{ 'l-search-cd1521' | i18n : [] : 'dts/mpd/'}}
				</alert>
			</div>
				
                <div style="height:100%; padding-left: 15px; padding-right: 15px;">
                    <h2 style="padding-left:0px">{{controller.titleTable}} ({{controller.totalRecords}})</h2>
                    <div class="input-group pull-right col-lg-6 col-sm-6 col-md-6 col-xs-6">
                        <input class="form-control ng-pristine ng-valid ng-scope ng-touched" 
                               type="text"
                               ng-model="controller.search"
                               placeholder="{{'l-fast-search-sales-channels' | i18n}}">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="submit" ng-click="controller.search=''">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </button>
                            <button class="btn btn-default" type="submit">
                                <span class="glyphicon glyphicon-filter" aria-hidden="true"></span>
                            </button>
                        </span>
                    </div>
                    <br>
                    <br>                    
                    <div class="table-content">
                        <div class="table-responsive">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <th style="width: 0px">
                                            <input style="width: 20px"
                                                   type="checkbox"
                                                   ng-model="controller.checkSelectAll"
                                                   ng-click="controller.selectAll(controller.checkSelectAll,controller.listResult)"></th>
                                        <th class="col-lg-2 col-sm-2 col-md-2 col-xs-2">{{'l-canal-venda' | i18n}}</th>
                                        <th class="col-lg-10 col-sm-10 col-md-10 col-xs-10">{{'l-descricao' | i18n}}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="clickable"
                                        ng-repeat="listCanalVenda in controller.listResult | filter: controller.search"
                                        ng-click="listCanalVenda.$selected = !listCanalVenda.$selected;"
                                        ng-class="{'select-table-row':listCanalVenda.$selected == true}">
                                        <td><input type="checkbox"
                                                   ng-value="{{$index}}"
                                                   ng-click="listCanalVenda.$selected = !listCanalVenda.$selected;"
                                                   ng-model="listCanalVenda.$selected"></td>
                                        <td>{{listCanalVenda.cod_canal_venda}}</td>
                                        <td>{{listCanalVenda.descricao}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div style="padding-right: 15px;">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="padding-right:0px">
                        <br>
                        <button type="button" class="btn btn-primary pull-right" ng-click="controller.exec()">
                            <span class="{{controller.iconeIncExcl}}">
                            </span>&nbsp;{{controller.labelButtonExec}}
                        </button>
                    </div>
                </div>
            </totvs-page-form>
        </totvs-page-content>
    </totvs-page>
</div>