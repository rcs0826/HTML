<div ng-controller="apd.dashboard.ordersumapd.Controller as orderSummaryController">
	<totvs-widget>            	        
		<totvs-widget-header settings="orderSummaryController.summaryShow = false" title="{{ 'l-order-summary' | i18n : [] : 'dts/mpd/'}}">
            <i class="glyphicon glyphicon-info-sign hidden-xs" tooltip-placement="right" tooltip-html="orderSummaryController.tooltip"></i>
        </totvs-widget-header>
		<totvs-widget-body>                                             
                                                         
            <div style="height:300px;" ng-if="orderSummaryController.summaryData" ng-show="orderSummaryController.summaryShow">
                <chart dataset="orderSummaryController.summaryData" options="orderSummaryController.summaryOptions"></chart>                                                                
                <label class="checkbox-inline">                                                            
                    <input type="checkbox" value="" ng-init="orderSummaryController.allCustSelected" ng-model="orderSummaryController.allCustSelected" ng-click="orderSummaryController.customerSelected()"/>{{ 'l-all-customers' | i18n : [] : 'dts/mpd/'}}
                </label>                
                <label class="checkbox-inline">                    
                    <input type="checkbox" value="" ng-init="orderSummaryController.filterByPortalOrders" ng-model="orderSummaryController.filterByPortalOrders" ng-click="orderSummaryController.portalOrders()"/>{{ 'l-portal-orders' | i18n : [] : 'dts/mpd/'}}
                </label>                                                                                                                             
            </div>
            <div  style="height:300px;" ng-if="!orderSummaryController.summaryData"> {{ 'l-loading-portlet' | i18n : [] : 'dts/mpd'}} </div>            

                                                
            <div style="height:300px;" ng-hide="orderSummaryController.summaryShow">                
                <form>                                        
                    <p>{{ 'l-order-summary-period' | i18n : [] : 'dts/mpd/'}}</p>                    
                    <div class="row">                                                
                        <field type="date" ng-model="orderSummaryController.iniDate" required class="col-md-12">                            
                            <label>{{ 'l-dat-inic' | i18n : [] : 'dts/mpd/'}}</label>
                        </field>
                        <field  type="select2"                        
						        ng-model="orderSummaryController.codEstabel"
						        class="col-md-12"
                                canclean
							    select-conector="{{'l-estabel' | i18n : [] : 'dts/mpd/'}}"
								select-id="cod-estabel"
								select-description="nome"
								select-service="mpd.estabelecSE.select">
							    <zoom zoom-service="mpd.estabelecSE.zoom"></zoom>                            
							    <label>{{'l-estabel' | i18n : [] : 'dts/mpd/'}}</label>
							    <validator key="zoom">{{ 'l-not-found-estabel' | i18n : [] : 'dts/mpd/'}}{{$fieldLabel}}</validator>                            
						</field>                        
                        <field  class="col-lg-12 col-md-12 col-sm-12 col-xs-12"
                                type="select2"
                                canclean
                                ng-model="orderSummaryController.usuarioImp"
                                select-conector="{{'l-usuario-modelo'| i18n : [] : 'dts/mpd/'}}"	
                                select-id="cod_usuario"
                                select-description="nom_usuario"
                                select-service="mpd.usuario.Zoom">                                
                                <zoom zoom-service="mpd.usuario.Zoom"></zoom>
                                <label>{{'l-user-adder'| i18n : [] : 'dts/mpd/'}}</label>
                                <validator key="zoom">{{'l-zoom-usuario-validacao' | i18n : [] : 'dts/mpd/'}} {{$fieldLabel}}</validator>
                        </field>                        
                    </div>
                                                            

                    <hr>                                        
                    <a role="button" class="btn btn-default pull-right" ng-click="orderSummaryController.applyConfig()">&nbsp; {{ 'btn-apply' | i18n : [] : 'dts/mpd/'}} &nbsp; </a>                                        
                    <div ng-show="orderSummaryController.noResults">
                        <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
                            <alert type="danger">{{ 'l-no-data-to-show' | i18n : [] : 'dts/mpd/'}}</alert>
                        </div>					
                    </div>
    
                </form>
            </div>           
                                                 
		</totvs-widget-body>
        
        <totvs-widget-footer>
            <totvs-widget-footer-body>
            </totvs-widget-footer-body>
            <totvs-widget-footer-actions>                
	    	<action ng-click="orderSummaryController.openInternalSalesOrders()">{{ 'l-order-portfolio' | i18n : [] : 'dts/mpd/'}}</action>
            </totvs-widget-footer-actions>            
        </totvs-widget-footer>
	</totvs-widget>
</div>