<totvs-page type="detail" totvs-custom-element="customPage">
    <totvs-page-navbar>
		<totvs-page-breadcrumb>
			<breadcrumb link="#/">{{ 'l-home' | i18n }}</breadcrumb>
			<breadcrumb>{{:: 'l-integ-external-app' | i18n : [] : 'dts/dts-utils' }}</breadcrumb>            
		</totvs-page-breadcrumb>
		<totvs-page-header>
            
			<totvs-page-header-title title="{{'l-integ-external-app' | i18n : [] : 'dts/dts-utils/'}}">
            </totvs-page-header-title>
			<totvs-page-header-operation>                
                <div class="col-xs-12">
                    <div class="col-lg-6 col-md-6 col-ms-6 col-xs-12" style="margin-top: 10px; padding-left: 0px; ">
                        <button class="btn btn-primary" ng-click="controller.addAppInteg();">{{:: 'l-add' | i18n : [] : 'dts/dts-utils' }}</button>
                        <button class="btn btn-default" ng-click="controller.updateAppInteg(controller.appListSelected);">{{:: 'l-update' | i18n : [] : 'dts/dts-utils' }}</button>                        
                        <button class="btn btn-default" ng-click="controller.deleteAppInteg(controller.appListSelected)">{{:: 'l-delete' | i18n : [] : 'dts/dts-utils' }}</button>
                        <button class="btn btn-default" ng-click="controller.listApps(controller.appListSelected)">{{:: 'l-apps' | i18n : [] : 'dts/dts-utils' }}({{controller.applications}})</button>
                    </div>
                    <form ng-submit="controller.applySimpleFilter();">
                        <div class="col-lg-6 col-md-6 col-ms-6 col-xs-12 pull-right" style="margin-top: 10px; padding-left: 0px; padding-right: 5px;">
                            <div class="input-group">                                
                                <input type="text" 
                                       class="form-control"                                       
                                       ng-model="controller.searchValue"
                                       placeholder="{{:: 'l-fast-search' | i18n }}">
                                <span class="input-group-btn">
                                    <button ng-click="controller.removeSimpleFilter();" class="btn btn-default" type="button"><span class="glyphicon glyphicon-remove"></span></button>
                                    <button ng-click="controller.applySimpleFilter();" class="btn btn-default" type="button"><span class="glyphicon glyphicon-filter"></span></button>
                                </span>                                
                            </div>
                        </div>
                    </form>
                </div>
            </totvs-page-header-operation>
            <totvs-page-disclaimers
                disclaimer-list="controller.disclaimers"
                ng-click="controller.removeDisclaimer">
            </totvs-page-disclaimers>
        
		</totvs-page-header>
	</totvs-page-navbar>    
    <totvs-page-content>                
        <totvs-page-content-header>
            <totvs-page-quick-filter filters-list="controller.quickFilters"
                                     on-select-filter="controller.setQuickFilter"
                                     filters-list-custom="controller.listOfCustomFilters"
                                     on-remove-custom="controller.removeCustomFilter"
                                     on-add-edit-custom="controller.addEditCustomFilters">
           </totvs-page-quick-filter>
        </totvs-page-content-header> 

        <div class="row">
            <div style="margin-left: 25px; margin-right: 25px;">
                <totvs-grid grid-data="controller.apps"
                            grid="controller.grid"
                            navigatable="true"
                            resizable="true"    
                            selectable="multiple, row"
                            resizable="true"
                            reorderable="true"
                            sortable="true"
                            on-change="controller.columnSelected()"
						    grid-selected-item="controller.appListSelected">
                    <totvs-grid-column field="nome" width="75">{{:: 'l-app-name' | i18n : [] : 'dts/dts-utils'}}</totvs-grid-column>
                    <totvs-grid-column field="desc" width="250">{{:: 'l-app-desc' | i18n : [] : 'dts/dts-utils'}}</totvs-grid-column>
                    <totvs-grid-column field="descTipo" width="100">{{:: 'l-app-type' | i18n : [] : 'dts/dts-utils'}}</totvs-grid-column>
                </totvs-grid> 
            </div>                        
            <div class="more-results" style="margin-left: 15px; margin-right: 15px;" ng-show="controller.hasNext" >
                <button ng-click="controller.search(true)"  
                        class="btn btn-primary col-xs-12" 
                        style="padd">
                    {{'l-more' | i18n}}
                </button>
            </div> 
        </div>
        
    </totvs-page-content>
        
</totvs-page>
