<totvs-modal-header>
    {{materialsEditCtrl.headerTitle}}
</totvs-modal-header>

<totvs-modal-body>
	<totvs-page-content style="border:0px">           
        <totvs-page-detail style="padding-top:0px">
            <div class="row">
            	<div class="col-sm-12">
		            <totvs-field totvs-select
		                   class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
		                   ng-model="materialsEditCtrl.materials['op-codigo']"
		                   ng-disabled="materialsEditCtrl.materials.isNew === false"
		                   select-id="cd-tarefa"
		                   id="cd-tarefa"
		                   select-description="descricao"
		                   select-service="mmi.ord-taref.zoom"
		                   zoom-service="mmi.ord-taref.zoom"
		                   label="{{ 'l-task' | i18n }}"
		                   focus
		                   canclean>
	              	</totvs-field>               
	            </div>
	            <div class="col-sm-12">
	              	<totvs-field
		                   totvs-select
		                   class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
		                   ng-model="materialsEditCtrl.materials.item"
		                   ng-change="materialsEditCtrl.buscaLocaliz()"
		                   ng-disabled="materialsEditCtrl.materials.isNew === false"
		                   select-id="it-codigo"
		                   id="it-codigo"
		                   select-description="desc-item"
		                   select-service="men.item.zoom"
		                   zoom-service="men.item.zoom"
		                   return-object="select-id"
		                   label="{{ 'l-item' | i18n }}"
						   required
		                   canclean>
	              	</totvs-field>              
	            </div>
	             
	            <div class="col-sm-12">
	              	<totvs-field
		                   totvs-select
		                   class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
		                   ng-model="materialsEditCtrl.materials['cod-refer']"
						   id="cod-refer"
		                   ng-disabled="materialsEditCtrl.materials.item['tipo-con-est'] !== 4"
		                   zoom-service="mmi.refeItem.zoom"
		                   select-id="cod-refer"
		                   select-description="it-codigo"
		                   select-service="mmi.refeItem.zoom"
						   label="{{ 'l-reference' | i18n }}"
		                   canclean>
	              	</totvs-field>
	            </div>
	            
	            <div class="col-sm-12">
	                <totvs-field
	                       totvs-datepicker
	                       label="{{ 'l-date' | i18n }}"
	                       culture='pt'
	                       class="col-lg-3 col-md-3 col-sm-12 col-xs-12"
	                       ng-model="materialsEditCtrl.materials['dt-reserva']"
                           t-mask-date="99/99/9999"	                       
	                       canclean
						   required
	                       ng-show=true>
	                </totvs-field>     
	            </div>
	            <div class="col-sm-12">
                	<totvs-field
	                    totvs-input
	                    class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
	                    label="{{ 'l-lot-series' | i18n }}"
	                    ng-model="materialsEditCtrl.materials['lote-serie']"
	                    ng-disabled="materialsEditCtrl.disableSerie"
	                    ng-maxlength="40"
	                    canclean>
	                    <validator key="maxlength">{{ 'l-invalid-value' | i18n }}</validator>
	                </totvs-field>                
	            </div>
	            <div class="col-sm-12">
	                <field type="input"
		                   class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
		                   ng-model="materialsEditCtrl.materials['cod-depos']"
		                   zoom
		                   zoom-service="mce.deposito.zoom"
		                   zoom-id="cod-depos"
		                   zoom-description="nome"
		                   label="{{ 'l-warehouse' | i18n }}"
		                   canclean>
                    </field>              
	            </div>
	            
	            <div class="col-sm-12">
		            <totvs-field totvs-decimal
		                   name-id="quant-orig"
		                   class="col-lg-3 col-md-3 col-sm-12 col-xs-12"
		                   value="8"
		                   m-dec="4"
		                   data-ng-model="materialsEditCtrl.materials['quant-orig']"
		                   label="{{ 'l-quantity' | i18n }}"
		                   ng-maxlength="15"
						   required>
		                   <validator key="maxlength">{{ 'l-invalid-value' | i18n }}</validator>
		            </totvs-field>
	            </div>
	            <div class="col-sm-12">
	                <field type="input"
		                   class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
		                   ng-model="materialsEditCtrl.materials['cd-lubr']"
		                   ng-disabled="!materialsEditCtrl.isLubrific"
		                   zoom
		                   zoom-service="mmi.formLub.zoom"
		                   zoom-id="cd-lubr"
		                   zoom-description="descricao"
		                   label="{{ 'l-form-lubrication' | i18n }}"
		                   canclean>
                    </field>
	            </div>
	            <div class="col-sm-12">
	                <field type="input"
		                   class="col-lg-9 col-md-9 col-sm-12 col-xs-12"
		                   ng-model="materialsEditCtrl.materials['cod-localiz']"
		                   ng-disabled="materialsEditCtrl.disableLocaliz"
						   zoom
						   zoom-id="cod-localiz"
						   zoom-description="descricao"
						   zoom-service="mce.localizacao.zoom"
						   zoom-init="{'filters':{'cod-estabel': materialsEditCtrl.codEstabelecimento,
													 'cod-depos'  : materialsEditCtrl.materials['cod-depos']}}"
						   zoom-refresh-delay=1000
						   zoom-valid-search-values="['']"
						   label="{{ 'l-localization' | i18n }}"
						   canclean>
                    </field>
	            </div>	           
            </div>          
		</totvs-page-detail>
	</totvs-page-content>
</totvs-modal-body>


<totvs-modal-footer>
    <button type="button" class="btn btn-default" data-ng-click="materialsEditCtrl.close(true)">{{ 'l-cancel' | i18n }}</button>
    <button type="button" ng-if="materialsEditCtrl.materials.isNew" class="btn btn-default" data-ng-click="materialsEditCtrl.save(false)">{{ 'l-save-new' | i18n }}</button>
    <button type="button" class="btn btn-primary" data-ng-click="materialsEditCtrl.save(true)">{{ 'l-save' | i18n }}</button>    
</totvs-modal-footer>