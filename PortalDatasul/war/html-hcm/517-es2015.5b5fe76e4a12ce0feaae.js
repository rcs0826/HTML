"use strict";(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[517],{2517:function(e,i,t){t.r(i),t.d(i,{ClockingsModule:function(){return Si}});var n=t(38583),o=t(56365),s=t(90889),c=t(29790),l=t(92340),a=t(59708),r=t(37716);let g=(()=>{class e{constructor(e){this.serviceGeneric=e}getOccurrenceTotalSummaryPeriod(e=l.N.loggedUser,i){const t=`timesheet/occurrencesTotalSummaryPeriod/${e}`;if(i&&i.initDate&&i.endDate){const e=[];return e.initPeriod=i.initDate,e.endPeriod=i.endDate,this.serviceGeneric.search(t,e)}return this.serviceGeneric.search(t)}}return e.\u0275fac=function(i){return new(i||e)(r.LFG(a.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),p=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[g],imports:[[n.ez,o.q,c.aw]]}),e})();var d=t(97899),u=t(3679),h=t(44956);const m="timesheet/clocking";let f=(()=>{class e{constructor(e){this.genericService=e}putClockingsUpdate(e=l.N.loggedUser,i){return this.genericService.put(`${m}s/${e}`,i,!1)}updateClocking(e=l.N.loggedUser,i,t){return this.genericService.put(`${m}/${e}/${i}`,t)}deleteClocking(e=l.N.loggedUser,i){return this.genericService.delete(`${m}/${e}/${i}`)}saveClockings(e=l.N.loggedUser,i){return this.genericService.post(`${m}s/${e}`,i,!1)}}return e.\u0275fac=function(i){return new(i||e)(r.LFG(a.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=t(90171);let v=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f],imports:[[n.ez,c.aw,o.q,u.u5,h.JBz,x.To]]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[],imports:[[n.ez,c.aw,u.u5,o.q,h.JBz]]}),e})();var b=t(95987),C=t(51110),Z=t(64762),w=t(81059),y=t(16851),A=t(11530),q=t(65241),T=t(84479),D=t(36812),M=t(32268),_=t(18648);const O=["map"];function P(e,i){if(1&e&&(r.TgZ(0,"div",16),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(2),r.Oqu(r.lcZ(3,2,"l-address")),r.xp6(3),r.Oqu(e.selectedAddress)}}function I(e,i){if(1&e&&(r.TgZ(0,"div",4),r.TgZ(1,"div",5),r.TgZ(2,"span",6),r.TgZ(3,"span",13),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r._UZ(6,"img",14),r.YNc(7,P,6,4,"div",15),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(4),r.Oqu(r.lcZ(5,2,"l-location-details")),r.xp6(3),r.Q6J("ngIf",e.selectedAddress)}}function S(e,i){if(1&e&&(r.TgZ(0,"strong",17),r._uU(1),r.ALo(2,"utcDate"),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(r.xi3(2,1,null==e.selectedClocking?null:e.selectedClocking.referenceDate,"dd/MM/yyyy"))}}function U(e,i){if(1&e&&(r.TgZ(0,"span",18),r._uU(1),r.ALo(2,"utcDate"),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(r.xi3(2,1,null==e.selectedClocking?null:e.selectedClocking.referenceDate,"EEEE"))}}function E(e,i){1&e&&(r.TgZ(0,"span",13),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"l-clocking-details")))}function J(e,i){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,2,"l-address")),r.xp6(3),r.Oqu(e.selectedAddress)}}function V(e,i){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,2,"l-reason-for-rejection")),r.xp6(3),r.Oqu(e.selectedClocking.reasonReproved)}}function N(e,i){if(1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,2,"l-justify-clocking-detail")),r.xp6(3),r.Oqu(null==e.selectedClocking?null:e.selectedClocking.justify)}}let L=(()=>{class e extends w.R{constructor(e,i,t,n){super(),this.openStreetMapService=e,this.appTranslateService=i,this.changeDetectRef=t,this.windowUtilService=n,this.showMap=!1,this.selectedAddress="",this.selectedStatus="",this.selectedDirection="",this.selectedClocking={date:new Date,reason:{id:"",description:""},status:{id:"",status:"approved"},referenceDate:new Date},this.clockings=new Array,this.close=new r.vpe}ngOnInit(){super.ngOnInit(),this.windowUtilService.isMobileDevice()&&(this.viewIsMobile=!0)}reloadMap(){this.switchMap(!0);let e=this.viewIsMobile?-0:-.0025;this.selectedClocking.hasCoordinates&&this.selectedClocking.latitude&&this.selectedClocking.longitude?this.openStreetMapService.simpleReverseGeocoding(+this.selectedClocking.longitude,+this.selectedClocking.latitude).then(i=>{this.selectedAddress=i,this.map&&(this.map.resetMap(),this.map.loadMap(this.selectedClocking.latitude,this.selectedClocking.longitude,!1,e)),this.changeDetectRef.detectChanges()}).catch(e=>{console.error("[openStreetMapService]",e),this.switchMap(!1)}):(this.selectedAddress="",this.switchMap(!1))}loadComponents(e=this.clockings){return(0,Z.mG)(this,void 0,void 0,function*(){this.clockings=e,this.clockings&&this.clockings.length>0&&(this.selectedClocking=this.clockings[0],this.getStatusLabel(),this.getDirection(),this.reloadMap(),this.changeDetectRef.detectChanges())})}getStatusLabel(){return(0,Z.mG)(this,void 0,void 0,function*(){let e=this.selectedClocking.status;this.selectedStatus=e.label?e.label:"approved"===e.status?yield this.translateLabel("l-approved"):"approving"===e.status?yield this.translateLabel("l-approving"):yield this.translateLabel("l-reproved")})}getDirection(){return(0,Z.mG)(this,void 0,void 0,function*(){this.selectedClocking.direction&&(this.selectedDirection="entry"===this.selectedClocking.direction?yield this.translateLabel("l-entry"):yield this.translateLabel("l-exit"))})}translateOrigin(e){switch(e){case"clock":return"l-clockings-clock";case"manual":return"l-clockings-manual";case"automatic":return"l-clockings-automatic";case"empty":return"l-clockings-empty";case"geolocation":return"l-clockings-geolocation"}return"l-clockings-empty"}back(){this.close.emit()}translateLabel(e){return this.appTranslateService.getI18n(e)}switchMap(e=!0){this.showMap=e,this.changeDetectRef.detectChanges()}}return e.\u0275fac=function(i){return new(i||e)(r.Y36(A.H),r.Y36(q.g),r.Y36(r.sBO),r.Y36(T.g))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-clockings-details"]],viewQuery:function(e,i){if(1&e&&r.Gf(O,7),2&e){let e;r.iGM(e=r.CRH())&&(i.map=e.first)}},inputs:{clockings:"clockings"},outputs:{close:"close"},features:[r.qOj],decls:49,vars:40,consts:[[3,"backIsVisible","pageTitle","backFunction"],[1,"map",3,"hidden"],["map",""],["class","po-row",4,"ngIf"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow"],[1,"featured","po-sm-12","po-md-12","po-lg-12","po-xl-12","panel-item-group"],["class","day",4,"ngIf"],["class","week-day",4,"ngIf"],["class","card-title",4,"ngIf"],["class","po-sm-12 po-md-6 po-lg-4 po-xl-4 detail",4,"ngIf"],[1,"po-sm-12","po-md-6","po-lg-4","po-xl-4","detail"],[1,"badge",3,"ngClass"],[1,"card-title"],["src","./assets/img/pin-gray.svg",1,"icon-location"],["class","po-sm-10 po-md-10 po-lg-10 po-xl-10 detail",4,"ngIf"],[1,"po-sm-10","po-md-10","po-lg-10","po-xl-10","detail"],[1,"day"],[1,"week-day"]],template:function(e,i){1&e&&(r.TgZ(0,"app-page-header",0),r.NdJ("backFunction",function(){return i.back()}),r.ALo(1,"translate"),r.qZA(),r.TgZ(2,"div",1),r._UZ(3,"app-opens-street-map",null,2),r.qZA(),r.YNc(5,I,8,4,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"span",6),r.YNc(9,S,3,4,"strong",7),r.YNc(10,U,3,4,"span",8),r.YNc(11,E,3,3,"span",9),r.qZA(),r.YNc(12,J,6,4,"div",10),r.TgZ(13,"div",11),r.TgZ(14,"strong"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.TgZ(17,"span"),r._uU(18),r.ALo(19,"utcDate"),r.qZA(),r.qZA(),r.TgZ(20,"div",11),r.TgZ(21,"strong"),r._uU(22),r.ALo(23,"translate"),r.qZA(),r.TgZ(24,"span"),r._uU(25),r.ALo(26,"formatMillisecondsAsHour"),r.qZA(),r.qZA(),r.TgZ(27,"div",11),r.TgZ(28,"strong"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"span"),r._uU(32),r.qZA(),r.qZA(),r.TgZ(33,"div",11),r.TgZ(34,"strong"),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"span"),r._uU(38),r.ALo(39,"translate"),r.qZA(),r.qZA(),r.YNc(40,V,6,4,"div",10),r.TgZ(41,"div",11),r.TgZ(42,"strong"),r._uU(43),r.ALo(44,"translate"),r.qZA(),r.TgZ(45,"div"),r.TgZ(46,"span",12),r._uU(47),r.qZA(),r.qZA(),r.qZA(),r.YNc(48,N,6,4,"div",10),r.qZA(),r.qZA()),2&e&&(r.s9C("pageTitle",r.lcZ(1,21,"l-clocking-details")),r.Q6J("backIsVisible",!0),r.xp6(2),r.Q6J("hidden",!i.showMap),r.xp6(3),r.Q6J("ngIf",i.viewIsMobile&&i.showMap),r.xp6(4),r.Q6J("ngIf",!i.viewIsMobile),r.xp6(1),r.Q6J("ngIf",!i.viewIsMobile),r.xp6(1),r.Q6J("ngIf",i.viewIsMobile),r.xp6(1),r.Q6J("ngIf",i.selectedAddress&&!i.viewIsMobile),r.xp6(3),r.Oqu(r.lcZ(16,23,"l-date")),r.xp6(3),r.Oqu(r.xi3(19,25,null==i.selectedClocking?null:i.selectedClocking.referenceDate,"dd/MM/yyyy")),r.xp6(4),r.Oqu(r.lcZ(23,28,"l-hour")),r.xp6(3),r.Oqu(r.lcZ(26,30,null==i.selectedClocking?null:i.selectedClocking.hour)),r.xp6(4),r.Oqu(r.lcZ(30,32,"l-direction-details")),r.xp6(3),r.Oqu(i.selectedDirection),r.xp6(3),r.Oqu(r.lcZ(36,34,"l-source")),r.xp6(3),r.Oqu(r.lcZ(39,36,i.translateOrigin(null==i.selectedClocking?null:i.selectedClocking.origin))),r.xp6(2),r.Q6J("ngIf",null==i.selectedClocking?null:i.selectedClocking.reasonReproved),r.xp6(3),r.Oqu(r.lcZ(44,38,"l-status")),r.xp6(3),r.Q6J("ngClass",null==i.selectedClocking?null:i.selectedClocking.status.status),r.xp6(1),r.Oqu(i.selectedStatus),r.xp6(1),r.Q6J("ngIf",null==i.selectedClocking?null:i.selectedClocking.justify))},directives:[D.q,y.Y,n.O5,n.mk],pipes:[c.X$,M.$,_.P],styles:[".map[_ngcontent-%COMP%]{height:200px;overflow:hidden;margin-bottom:20px;width:100%}.map[_ngcontent-%COMP%]{height:200px}.day[_ngcontent-%COMP%]{color:#28303e;float:left;margin-right:10px;font-size:20px}.week-day[_ngcontent-%COMP%]{color:#9da7a9;margin-bottom:0;margin-top:0;font-size:20px}.detail[_ngcontent-%COMP%]{display:grid;padding-bottom:20px}.featured[_ngcontent-%COMP%]{padding-top:10px}.map-content[_ngcontent-%COMP%]{height:200px;margin:0 -15px 40px}.card-title[_ngcontent-%COMP%]{font-size:25px}.icon-location[_ngcontent-%COMP%]{float:left;width:27px;padding-left:8px}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.approved[_ngcontent-%COMP%]{background:#00b28e}.badge.reproved[_ngcontent-%COMP%]{background:#c64840}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}"]}),e})();var Q=t(9112),Y=t(19155),j=(()=>((j||(j={})).StatusEnum={Approved:"approved",Approving:"approving",Reproved:"reproved"},j))(),F=t(81483),z=t(94405),$=t(18494),R=t(88044),H=t(14833),B=t(30343),G=t(97983),W=t(98348),X=t(36227),K=t(68014),ee=t(9789),ie=t(57706);function te(e,i){if(1&e&&(r.TgZ(0,"tr",11),r.TgZ(1,"td",12),r.TgZ(2,"span",13),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"td",14),r.TgZ(5,"span",15),r._uU(6),r.qZA(),r.qZA(),r.qZA()),2&e){const e=i.$implicit;r.xp6(3),r.Oqu(e.description),r.xp6(3),r.Oqu(e.value)}}function ne(e,i){if(1&e&&(r.TgZ(0,"tbody"),r.YNc(1,te,7,2,"tr",10),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("ngForOf",null==e.occurrencesTotalSummaryPeriod?null:e.occurrencesTotalSummaryPeriod.occurrencesTotalSummary)}}function oe(e,i){1&e&&(r.TgZ(0,"tbody"),r.TgZ(1,"tr"),r.TgZ(2,"td",16),r.TgZ(3,"strong",17),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.hij(" ",r.lcZ(5,1,"l-emptyOccurrencesTotalSummaryPeriods"),""))}function se(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"app-dialog",1),r.NdJ("closeDialogEvent",function(){return r.CHM(e),r.oxw().closeDialog()}),r.TgZ(1,"div",2),r.TgZ(2,"app-page-header",3),r.NdJ("backFunction",function(){return r.CHM(e),r.oxw().closeDialog()}),r.TgZ(3,"span",4),r.TgZ(4,"strong"),r.TgZ(5,"span",5),r._uU(6),r.ALo(7,"utcDate"),r.qZA(),r._uU(8," - "),r.TgZ(9,"span",6),r._uU(10),r.ALo(11,"utcDate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r.TgZ(13,"table",8),r.YNc(14,ne,2,1,"tbody",9),r.YNc(15,oe,6,3,"tbody",9),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("isVisible",e.dialogIsVisible)("closeDialogButtonEnable",!e.viewIsMobile),r.xp6(6),r.Oqu(r.xi3(7,6,null==e.occurrencesTotalSummaryPeriod?null:e.occurrencesTotalSummaryPeriod.initPeriod,"dd/MM/yyyy")),r.xp6(4),r.Oqu(r.xi3(11,9,null==e.occurrencesTotalSummaryPeriod?null:e.occurrencesTotalSummaryPeriod.endPeriod,"dd/MM/yyyy")),r.xp6(4),r.Q6J("ngIf",e.hasOccurrencesTotalSummaryPeriods()),r.xp6(1),r.Q6J("ngIf",!e.hasOccurrencesTotalSummaryPeriods())}}let ce=(()=>{class e extends w.R{constructor(e,i){super(),this.occurrenceTotalSummaryPeriodService=e,this.windowUtilService=i,this.closeDialogEvent=new r.vpe,this.initialized=!1,this.viewIsMobile=!1}ngOnInit(){super.ngOnInit(),this.isWebView(),this.getOccurrencesTotalSummary(this.initPeriod,this.endPeriod)}isWebView(){this.viewIsMobile=this.windowUtilService.isWebView()}getOccurrencesTotalSummary(e,i){let t;e&&i&&(t={initDate:new Date(e),endDate:new Date(i),actualPeriod:void 0}),this.loadOccurrencesTotalSummaryPeriod(t)}loadOccurrencesTotalSummaryPeriod(e){this.occurrenceTotalSummaryPeriodService.getOccurrenceTotalSummaryPeriod(this.employeeId,e).then(e=>{this.occurrencesTotalSummaryPeriod=e,this.initialized=!0})}closeDialog(){this.closeDialogEvent.emit()}hasOccurrencesTotalSummaryPeriods(){return this.occurrencesTotalSummaryPeriod&&this.occurrencesTotalSummaryPeriod.occurrencesTotalSummary&&this.occurrencesTotalSummaryPeriod.occurrencesTotalSummary.length>0}}return e.\u0275fac=function(i){return new(i||e)(r.Y36(g),r.Y36(T.g))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-occurrence-total-summary-period"]],inputs:{initPeriod:"initPeriod",endPeriod:"endPeriod",employeeId:"employeeId",dialogIsVisible:"dialogIsVisible"},outputs:{closeDialogEvent:"closeDialogEvent"},features:[r.qOj],decls:1,vars:1,consts:[["id","occurrence-total-summary-dialog",3,"isVisible","closeDialogButtonEnable","closeDialogEvent",4,"ngIf"],["id","occurrence-total-summary-dialog",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["isDialog","true","pageTitle","im-summary-period",3,"backFunction"],["sub-title",""],["id","initPeriod"],["id","endPeriod"],[1,"summary-period-occurrences","header-divider"],["id","summary-period-occurrences-table",1,"table","striped"],[4,"ngIf"],["class","line",4,"ngFor","ngForOf"],[1,"line"],[1,"occurrences-label"],["name","occurrencesTotalSummaryDescription"],[1,"occurrencesTotalSummaryValue","text-right"],["name","occurrencesTotalSummaryValue"],["colspan","2"],["id","empty"]],template:function(e,i){1&e&&r.YNc(0,se,16,12,"app-dialog",0),2&e&&r.Q6J("ngIf",i.initialized)},directives:[n.O5,ie.a,D.q,n.sg],pipes:[M.$,c.X$],styles:['.occurrences-label[_ngcontent-%COMP%]{vertical-align:middle;padding:16px 0 16px 8px}.occurrencesTotalSummaryValue[_ngcontent-%COMP%]{vertical-align:middle;font-family:"NunitoSans-Bold"}.line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.summary-period-occurrences[_ngcontent-%COMP%]{padding:8px;overflow:auto;max-height:100%;height:calc(100% - 32px)}div[dialog-content][_ngcontent-%COMP%]{height:calc(100% - 75px)}.subtitle[_ngcontent-%COMP%]{margin-left:8px!important;padding-left:0!important}']}),e})();class le{constructor(e,i){this.clockings=new Array,i?this.createClockingsForPeriod(e.initPeriod,e.endPeriod):this.createClockings(e,e.initPeriod,e.endPeriod),this.breaksByReferenceDate(e)}createClockings(e,i,t){let n;const o=F.Em.getDateWithoutTimezone(new Date(i)),s=F.Em.getDateWithoutTimezone(new Date(t));for(;s.getTime()>=o.getTime();)e.clockings.forEach(e=>{const i=F.Em.getDateWithoutTimezone(new Date(e.date));if(s.getTime()===i.getTime()&&e.date!==n){n=e.date;const i=new Date(s);this.clockings.push(new ae(i))}}),s.setUTCDate(s.getUTCDate()-1)}breaksByReferenceDate(e){e.clockings.forEach(e=>{if(e.origin!==Y.v.OriginEnum.Empty){const i=new Date(e.referenceDate);this.clockings.find(e=>F.Em.isEqual(e.date,i)).checkClockingDirection(e)}else{const i=new Date(e.date);this.clockings.find(e=>F.Em.isEqual(e.date,i)).checkClockingDirection(e)}})}createClockingsForPeriod(e,i){const t=F.Em.getDateWithoutTimezone(new Date(e)),n=F.Em.getDateWithoutTimezone(new Date(i));for(;n.getTime()>=t.getTime();){const e=new Date(n);this.clockings.push(new ae(e)),n.setUTCDate(n.getUTCDate()-1)}}}class ae{constructor(e){this.date=e,this.entries=[],this.exities=[]}checkClockingDirection(e){e.direction===Y.v.DirectionEnum.Entry?(this.setSequenceEntries(e),this.entries.push(e)):(this.setSequenceExits(e),this.exities.push(e))}setSequenceEntries(e){e&&!e.sequence&&(e.sequence=this.entries.length+1)}setSequenceExits(e){e&&!e.sequence&&(e.sequence=this.exities.length+1)}}var re=t(74570),ge=t(96054),pe=t(37503),de=t(62393),ue=t(20307),he=t(86249),me=t(74504),fe=t(97394);class xe{constructor(e,i){this._format=!1,this._id=e.id,this._date=e.date,this._origin=e.origin,this._hour=e.hour,this._direction=e.direction,this._referenceDate=e.referenceDate,this._sequence=e.sequence,this._justify=e.justify,this._reason=e.reason,this._status=e.status,this._isEditable=e.isEditable,this._changed=!1,this._newClocking=i||!1}get id(){return this._id}set id(e){this._id=e}get isEditable(){return this._isEditable}set isEditable(e){this._isEditable=e}get date(){return this._date}set date(e){this._date=e}get origin(){return this._origin}set origin(e){this._origin=e}get hour(){return this._hour}set hour(e){this.changeVerify(this._hour,e),this._hour=e}get direction(){return this._direction}set direction(e){this.changeVerify(this._direction,e),this._direction=e}get referenceDate(){return this._referenceDate}set referenceDate(e){this._referenceDate=e}get sequence(){return this._sequence}set sequence(e){this._sequence=e}get justify(){return this._justify}set justify(e){this.changeVerify(this._justify,e),this._justify=e}get reason(){return this._reason}set reason(e){this.changeVerify(this._reason,e),this._reason=e}get status(){return this._status}set status(e){this._status=e}get hourIncomplete(){return this._hourIncomplete}set hourIncomplete(e){this._hourIncomplete=e}get format(){return this._format}set format(e){this._format=e}get newClocking(){return this._newClocking}set newClocking(e){this._newClocking=e}get changed(){return this._changed}set changed(e){this._changed=e}get hourAsString(){return null!=this._hour?F.Em.getHoursByMilliseconds(this._hour,!0):""}set hourAsString(e){F.XB.test(e)&&this._format?(this.hour=F.Em.getTotalMilliseconds(`${e[0]}${e[1]}:${e[2]}${e[3]}`),this._format=!1):(this._hourIncomplete=e,this._hour=void 0)}changeVerify(e,i){this._changed=e!==i}}const ve=["modalConfirmDelete"],ke=["modalChangeDirection"],be=["justifyClocking"];function Ce(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"span",37),r.NdJ("click",function(){r.CHM(e);const i=r.oxw(2).index;return r.oxw().changeDirection(i)}),r.qZA()}if(2&e){const e=r.oxw(2).$implicit,i=r.oxw();r.Q6J("ngClass",i.getDirectionIcon(e.direction))}}function Ze(e,i){1&e&&r._UZ(0,"span",38)}function we(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",39),r.NdJ("click",function(){r.CHM(e);const i=r.oxw(2),t=i.index,n=i.$implicit;return r.oxw().openCardJustify(t,!0,n)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-justify-clocking")," "))}function ye(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",39),r.NdJ("click",function(){r.CHM(e);const i=r.oxw(2).index;return r.oxw().changeDirection(i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}if(2&e){const e=r.oxw(2).$implicit,i=r.oxw();r.xp6(1),r.hij(" ",r.lcZ(2,1,i.getLabelDirectionMenu(e.direction))," ")}}function Ae(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",39),r.NdJ("click",function(){r.CHM(e);const i=r.oxw(2).index;return r.oxw().openDeleteModal(i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-delete")," "))}function qe(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel-header",29),r.TgZ(1,"div",30),r.TgZ(2,"span",31),r._uU(3),r.qZA(),r.YNc(4,Ce,1,1,"span",32),r.qZA(),r._uU(5," \u200b "),r.TgZ(6,"po-input",33),r.NdJ("p-change-model",function(){r.CHM(e);const i=r.oxw(),t=i.index,n=i.$implicit;return r.oxw().openCardJustify(t,!1,n)})("keyup",function(){return r.CHM(e),r.oxw(2).disabledSaveButton()})("p-blur",function(){r.CHM(e);const i=r.oxw().$implicit;return r.oxw().changeHour(i)})("ngModelChange",function(i){return r.CHM(e),r.oxw().$implicit.hourAsString=i}),r.qZA(),r._uU(7," \u200b "),r.YNc(8,Ze,1,0,"span",34),r.TgZ(9,"ul",35),r.YNc(10,we,3,3,"li",36),r.YNc(11,ye,3,3,"li",36),r.YNc(12,Ae,3,3,"li",36),r.qZA(),r.qZA()}if(2&e){const e=r.oxw().$implicit,i=r.oxw();r.xp6(3),r.Oqu(i.getDirectionLabel(e,!0)),r.xp6(1),r.Q6J("ngIf",i.isVisibleChangeDirection(e)),r.xp6(2),r.Q6J("p-mask",i.mask)("ngModel",e.hourAsString)("p-pattern",i.pattern)("p-disabled",!i.isEditable(e)),r.xp6(2),r.Q6J("ngIf",i.isVisibleMenu(e)),r.xp6(2),r.Q6J("ngIf",i.isVisibleJustifyClocking(e)),r.xp6(1),r.Q6J("ngIf",i.isVisibleChangeDirection(e)),r.xp6(1),r.Q6J("ngIf",i.isEditable(e))}}function Te(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",23),r._uU(1," \u200b "),r.YNc(2,qe,13,10,"mat-expansion-panel-header",24),r._uU(3," \u200b "),r._UZ(4,"div",25),r.TgZ(5,"div",26),r.TgZ(6,"span",27),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"po-input",28),r.NdJ("ngModelChange",function(i){return r.CHM(e).$implicit.justify=i})("p-blur",function(){const i=r.CHM(e).$implicit;return r.oxw().justificationChanged(i.justify)}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=i.$implicit,t=i.index,n=r.oxw();r.Q6J("expanded",n.indexCardJustification===t)("disabled",!0)("ngClass",n.getAccordionClasses(t)),r.xp6(2),r.Q6J("ngIf",!n.registerPermission&&e.hourAsString||n.registerPermission),r.xp6(5),r.Oqu(r.lcZ(8,6,"l-justification")),r.xp6(2),r.Q6J("ngModel",e.justify)}}function De(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"po-button",40),r.NdJ("p-click",function(){return r.CHM(e),r.oxw().addOtherClocking()}),r.ALo(1,"translate"),r.qZA()}2&e&&r.s9C("p-label",r.lcZ(1,1,"l-add-other-clockings"))}function Me(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"po-switch",41),r.NdJ("ngModelChange",function(i){return r.CHM(e),r.oxw().globalJustification=i})("p-change",function(){return r.CHM(e),r.oxw().clearJustificationFields()}),r.ALo(1,"translate"),r.ALo(2,"translate"),r.qZA()}if(2&e){const e=r.oxw();r.s9C("p-label-on",r.lcZ(1,4,"l-justify-all-modifications")),r.s9C("p-label-off",r.lcZ(2,6,"l-justify-all-modifications")),r.Q6J("ngModel",e.globalJustification)("p-label-position",e.labelPosition)}}function _e(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"po-select",42),r.NdJ("ngModelChange",function(i){return r.CHM(e),r.oxw().reason=i}),r.ALo(1,"translate"),r.ALo(2,"translate"),r.qZA()}if(2&e){const e=r.oxw();r.s9C("p-label",r.lcZ(1,5,"l-reason")),r.s9C("p-placeholder",r.lcZ(2,7,"l-select-reason")),r.Q6J("ngModel",e.reason)("p-required",!0)("p-options",e.reasons)}}function Oe(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",43),r.TgZ(1,"span",44),r._UZ(2,"span",45),r.TgZ(3,"div",46),r.TgZ(4,"textarea",47),r.NdJ("ngModelChange",function(i){return r.CHM(e),r.oxw().justify=i})("change",function(){return r.CHM(e),r.oxw().validateJustify()}),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Q6J("ngModel",e.justify)}}let Pe=(()=>{class e extends w.R{constructor(e,i,t,n,o,s,c,l){super(),this.clockingUpdateService=e,this.appTranslateService=i,this.notificationService=t,this.clockingRegisterService=n,this.clockingsService=o,this.fieldPropertiesService=s,this.translateService=c,this.windowUtilService=l,this.registerPermission=!0,this.closeDialogEvent=new r.vpe,this.reloadClockings=new r.vpe,this.mask="99:99",this.pattern="^(2[0-3]|[01]*[0-9]):?([0-5][0-9])$",this.clockings=[],this.labelPosition=h.fxz.Left,this.globalJustification=!1,this.reasons=[],this.clockingUpdateView=new fe.A,this.pageName="clockingUpdate",this.canSaveClockings=!1,this.viewIsMobile=!1}ngOnInit(){super.ngOnInit(),this.isWebView(),this.getFieldProps(),this.concatClockings(),this.getReasons(),this.referenceDate=this.clockingDay.date}openDeleteModal(e){this.currentClocking=this.clockings[e],this.currentIndexClocking=e,this.initConfirmDeleteModalActions(),this.modalConfirmDelete.open()}changeDirection(e){this.currentClocking=this.clockings[e],this.currentIndexClocking=e,this.currentClocking.newClocking?this.clockings[e].direction=this.reverseDirection(this.currentClocking.direction):this.openChangeDirectionModal(this.currentClocking)}openChangeDirectionModal(e){this.loadLabelChangeDirection(),this.initChangeDirectionModalActions(),this.modalChangeDirection.open()}getDirectionLabel(e,i=!1){let t;return e&&e.direction===Y.v.DirectionEnum.Entry?this.translateService.get("l-entry").subscribe(e=>t=e):e&&this.translateService.get("l-output").subscribe(e=>t=e),i?`${t} ${e.sequence}`:`${t}`}addOtherClocking(){if(this.lastClockingValidate()){let e,i;this.clockings&&this.clockings.length>0&&this.clockings[this.clockings.length-1].direction===Y.v.DirectionEnum.Entry?(e=Y.v.DirectionEnum.Exit,i=this.clockings[this.clockings.length-1].sequence):(e=Y.v.DirectionEnum.Entry,i=1,this.clockings&&this.clockings.length>0&&(i=this.clockings[this.clockings.length-1].sequence+1)),this.clockings.push(new xe({date:this.referenceDate,direction:e,origin:Y.v.OriginEnum.Manual,referenceDate:this.referenceDate,sequence:i},!0))}}disabledSaveButton(){return this.clockingUpdateView.justify.required?this.globalJustification?!this.justify&&!this.canSaveClockings||!this.validateClockings():!this.validateClockingJustify()||!this.validateClockings():this.clockingUpdateView.reason.required&&!this.reason||!this.validateClockings()}enableSaveButton(e){this.canSaveClockings=!(!e||""===e.trim())}validateJustify(){if(this.justify&&""===this.justify.trim())return this.justify=""}save(){let e=[],i=[];this.clockings.forEach(t=>{t.newClocking?e.push(t):t.changed&&i.push(t)});const t=this.transformInClockings(e),n=this.transformInClockings(i);this.includeOrUpdateClockings(t,n)}clearJustificationFields(){this.closeCardJustify(),this.justify=void 0,this.clockings.forEach((e,i)=>{void 0!==this.clockings[i].justify&&(this.clockings[i].justify=void 0)})}isVisibleJustifyClocking(e){return e.status?this.clockingUpdateView.justify.visible&&!this.globalJustification&&"approved"!==e.status.status:this.clockingUpdateView.justify.visible&&!this.globalJustification}getAccordionClasses(e){return 0!==e?"clockings custom-accordion":"custom-accordion"}getDirectionIcon(e){return e===Y.v.DirectionEnum.Entry?"ico-arrow-right":e===Y.v.DirectionEnum.Exit?"ico-arrow-left":void 0}getLabelDirectionMenu(e){return e===Y.v.DirectionEnum.Entry?"l-flag-as-output":e===Y.v.DirectionEnum.Exit?"l-flag-as-entry":void 0}isVisibleChangeDirection(e){return!this.clockingUpdateView.hour.editable&&e.newClocking||this.clockingUpdateView.hour.editable&&(e.hourAsString.length>0||e.newClocking)&&this.clockingUpdateView.direction.visible}openCardJustify(e,i,t){this.isVisibleJustifyClocking(t)&&(i||!i&&void 0!==this.clockings[e].hourIncomplete)&&(this.indexCardJustification=e)}isVisibleMenu(e){return this.isVisibleJustifyClocking(e)||this.isVisibleChangeDirection(e)||this.isEditable(e)}closeCardJustify(){this.indexCardJustification=-1}justificationChanged(e){this.closeCardJustify(),this.enableSaveButton(e)}changeHour(e){e&&e.hourIncomplete&&e.hourIncomplete.length?(e.format=!0,e.hourAsString=F.Em.changeHour(e.hourIncomplete)):""===(null==e?void 0:e.hourIncomplete)&&(e.format=!1,e.hourAsString=void 0)}isEditable(e){let i=!1;return i=null==e.isEditable?!0===e.newClocking||this.clockingUpdateView.hour.editable&&(!e.status||e.status.status===j.StatusEnum.Approving):!0===e.newClocking||e.isEditable,i}closeDialog(){this.closeDialogEvent.emit(),this.reloadClockings.emit(this.divergentActive)}isManualClocking(e){return e===Y.v.OriginEnum.Manual}isWebView(){this.viewIsMobile=this.windowUtilService.isWebView()}getFieldProps(){this.fieldPropertiesService.getFieldProperties(this.pageName).then(e=>{e.forEach(e=>{switch(e.field){case"hour":this.clockingUpdateView.hour.editable=e.editable,this.clockingUpdateView.hour.required=e.required,this.clockingUpdateView.hour.visible=e.visible;break;case"justify":this.clockingUpdateView.justify.editable=e.editable,this.clockingUpdateView.justify.required=e.required,this.clockingUpdateView.justify.visible=e.visible;break;case"direction":this.clockingUpdateView.direction.editable=e.editable,this.clockingUpdateView.direction.required=e.required,this.clockingUpdateView.direction.visible=e.visible;break;case"reason":this.clockingUpdateView.reason.editable=e.editable,this.clockingUpdateView.reason.required=e.required,this.clockingUpdateView.reason.visible=e.visible}})})}initConfirmDeleteModalActions(){return(0,Z.mG)(this,void 0,void 0,function*(){this.confirmModalAction={action:()=>this.deleteClockingAction(this.currentClocking.id),label:yield this.appTranslateService.getI18n("l-delete")},this.cancelModalAction={action:()=>this.modalConfirmDelete.close(),label:yield this.appTranslateService.getI18n("l-cancel")}})}initChangeDirectionModalActions(){return(0,Z.mG)(this,void 0,void 0,function*(){this.confirmModalAction={action:()=>this.changeDirectionAction(),label:yield this.appTranslateService.getI18n("l-confirm")},this.cancelModalAction={action:()=>this.modalChangeDirection.close(),label:yield this.appTranslateService.getI18n("l-cancel")}})}loadLabelChangeDirection(){return(0,Z.mG)(this,void 0,void 0,function*(){this.currentClocking&&this.currentClocking.direction===Y.v.DirectionEnum.Entry?(this.fromDirection=yield this.appTranslateService.getI18n("l-entry"),this.toDirection=yield this.appTranslateService.getI18n("l-output")):this.currentClocking&&this.currentClocking.direction===Y.v.DirectionEnum.Exit&&(this.fromDirection=yield this.appTranslateService.getI18n("l-output"),this.toDirection=yield this.appTranslateService.getI18n("l-entry"))})}deleteClockingAction(e){this.currentClocking&&this.currentClocking.newClocking?this.clockings=this.clockings.filter((e,i)=>i!==this.currentIndexClocking):this.clockingUpdateService.deleteClocking(this.employeeId,e).then(()=>{this.translateService.get("l-delete-success").subscribe(e=>{this.notificationService.showNotification(e,h.ik9.Success)}),this.reloadClockingDay()}),this.modalConfirmDelete.close()}changeDirectionAction(){return(0,Z.mG)(this,void 0,void 0,function*(){this.currentClocking.direction=this.reverseDirection(this.currentClocking.direction),this.currentClocking.justify||(this.currentClocking.justify=yield this.appTranslateService.getI18n("l-default-justification-direction"));const e=this.parseClockingImplToClocking(this.currentClocking);this.clockingUpdateService.updateClocking(this.employeeId,e.id,e).then(()=>{this.reloadClockingDay(),this.modalChangeDirection.close()}).catch(()=>{this.currentClocking.direction=this.reverseDirection(this.currentClocking.direction),this.modalChangeDirection.close()})})}reloadClockingDay(){this.clockingsService.getClockings(this.employeeId,this.clockingDay.date,this.clockingDay.date).then(e=>{this.clockings=[],e.clockings.forEach(e=>{this.clockings.push(new xe(e))}),this.organizeClockings()})}organizeClockings(){this.clockings.sort((e,i)=>e.sequence===i.sequence?0:e.sequence>i.sequence?1:-1)}concatClockings(){this.clockingDay.entries.concat(this.clockingDay.exities).forEach(e=>{this.clockings.push(new xe(e))}),this.organizeClockings()}getReasons(){this.clockingRegisterService.getClockingReasonTypes().then(e=>{e.length>0&&e.forEach(e=>{this.reasons.push({label:e.description,value:e.id})})})}includeOrUpdateClockings(e,i){i&&i.clockings.length>0&&this.clockingUpdateView.hour.editable?this.clockingUpdateService.putClockingsUpdate(this.employeeId,i).then(()=>{this.translateService.get("l-msg-save-success").subscribe(i=>{e&&e.clockings.length>0?this.includeClockings(e):(this.notificationService.showNotification(i,h.ik9.Success),this.closeDialog())})}):e&&e.clockings.length>0&&this.includeClockings(e)}includeClockings(e){e&&e.clockings.length>0&&this.clockingUpdateService.saveClockings(this.employeeId,e).then(()=>{this.translateService.get("l-add-success").subscribe(e=>{this.notificationService.showNotification(e,h.ik9.Success),this.closeDialog()})})}transformInClockings(e){let i=null,t=[];return e&&e.length>0&&(t=e.map(e=>({date:F.Em.formatUTCDate(new Date(e.date)),direction:e.direction,origin:e.origin,referenceDate:F.Em.formatUTCDate(new Date(e.date)),sequence:e.sequence,hour:e.hour,justify:e.justify,reason:e.reason,id:e.id,status:e.status})),i={date:t[0].date,justify:this.justify,reason:this.reason,clockings:t}),i}parseClockingImplToClocking(e){return this.transformInClockings([e]).clockings[0]}reverseDirection(e){return e===Y.v.DirectionEnum.Entry?Y.v.DirectionEnum.Exit:Y.v.DirectionEnum.Entry}lastClockingValidate(){return this.clockings&&(0===this.clockings.length||this.clockings[this.clockings.length-1].origin!==Y.v.OriginEnum.Manual||null!=this.clockings[this.clockings.length-1].hour)}validateClockings(){return!!(this.clockingUpdateView.hour.required&&this.clockings.length>0)&&!this.clockings.find(e=>""===e.hourAsString)}validateClockingJustify(){return this.clockings.length>0&&!this.clockings.find(e=>""===e.justify||null==e.justify)}}return e.\u0275fac=function(i){return new(i||e)(r.Y36(f),r.Y36(q.g),r.Y36(ge.g),r.Y36(me._),r.Y36(s.X),r.Y36(X.c),r.Y36(c.sK),r.Y36(T.g))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-clocking-update"]],viewQuery:function(e,i){if(1&e&&(r.Gf(ve,5),r.Gf(ke,5),r.Gf(be,5,r.SBq)),2&e){let e;r.iGM(e=r.CRH())&&(i.modalConfirmDelete=e.first),r.iGM(e=r.CRH())&&(i.modalChangeDirection=e.first),r.iGM(e=r.CRH())&&(i.justifyClocking=e.first)}},inputs:{clockingDay:"clockingDay",dialogIsVisible:"dialogIsVisible",employeeId:"employeeId",divergentActive:"divergentActive",registerPermission:"registerPermission"},outputs:{closeDialogEvent:"closeDialogEvent",reloadClockings:"reloadClockings"},features:[r.qOj],decls:45,vars:40,consts:[[1,"panel-body","no-padding","po-sm-12","po-md-12","po-lg-12","po-xl-12"],["id","clocking-update-dialog",3,"isVisible","closeDialogButtonEnable","menuIsVisible","closeDialogEvent"],["dialog-content",""],["pageTitle","l-edit-clocking",3,"backFunction"],["sub-title","",1,"featured","po-sm-12","po-md-12","po-lg-12","po-xl-12","panel-item-group"],[1,"day"],[1,"week-day"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","true",3,"expanded","disabled","ngClass",4,"ngFor","ngForOf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 add-other-clockings no-padding","p-icon","po-icon po-icon-plus",3,"p-label","p-click",4,"ngIf"],[1,"po-row","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["name","globalJustification","class","justify-switch po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",3,"ngModel","p-label-on","p-label-off","p-label-position","ngModelChange","p-change",4,"ngIf"],["id","sel-reason","name","reason","class","po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",3,"ngModel","p-required","p-options","p-label","p-placeholder","ngModelChange",4,"ngIf"],["class","po-sm-12 text-area no-padding",4,"ngIf"],["p-primary","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding","save-button",3,"p-disabled","p-label","p-click"],["p-size","md","t-clock-out","true","p-hide-close","true",3,"p-primary-action","p-secondary-action"],["modalChangeDirection",""],[1,"labels-direction-modal","ask-change-direction"],[1,"info-change-direction","labels-direction-modal"],[1,"ico-arrow-right","icon-arrow"],["p-size","sm","t-clock-out","true","p-hide-close","true",3,"p-primary-action","p-secondary-action"],["modalConfirmDelete",""],[1,"content-modal"],["hideToggle","true",3,"expanded","disabled","ngClass"],["class","custom-accordion",4,"ngIf"],[1,"card-arrow"],[1,"card-justify-clocking"],[1,"po-field-title","titleInput","space"],["name","justificationInput","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","ngModelChange","p-blur"],[1,"custom-accordion"],[1,"po-sm-8","po-md-8","po-lg-8","po-xl-8","no-padding"],[1,"po-sm-5","po-md-3","po-lg-3","po-xl-3","direction","no-padding"],["class","po-sm-3 po-md-5 po-lg-5 po-xl-6 icon-change-direction mouse-pointer no-padding",3,"ngClass","click",4,"ngIf"],["p-maxlength","5","name","hourInput","p-required","true",1,"po-sm-3","po-md-3","po-lg-3","po-xl-3","no-padding",3,"p-mask","ngModel","p-pattern","p-disabled","p-change-model","keyup","p-blur","ngModelChange"],["class","po-sm-1 po-md-1 po-lg-1 po-xl-1 column-see po-icon po-icon-more see-more mouse-pointer","data-toggle","dropdown",4,"ngIf"],["name","ul-dropdown-options",1,"dropdown-menu"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],[1,"po-sm-3","po-md-5","po-lg-5","po-xl-6","icon-change-direction","mouse-pointer","no-padding",3,"ngClass","click"],["data-toggle","dropdown",1,"po-sm-1","po-md-1","po-lg-1","po-xl-1","column-see","po-icon","po-icon-more","see-more","mouse-pointer"],[1,"dropdown-menu-itens",3,"click"],["p-icon","po-icon po-icon-plus",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","add-other-clockings","no-padding",3,"p-label","p-click"],["name","globalJustification",1,"justify-switch","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","p-label-on","p-label-off","p-label-position","ngModelChange","p-change"],["id","sel-reason","name","reason",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","p-required","p-options","p-label","p-placeholder","ngModelChange"],[1,"po-sm-12","text-area","no-padding"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel-item-group","no-padding"],[1,"po-label-help"],[1,"po-field-flex-container","space"],["required","true","rows","3","id","txt-justify","name","justify",1,"form-control",3,"ngModel","ngModelChange","change"]],template:function(e,i){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"app-dialog",1),r.NdJ("closeDialogEvent",function(){return i.closeDialog()}),r.TgZ(2,"div",2),r._uU(3," \u200b "),r.TgZ(4,"app-page-header",3),r.NdJ("backFunction",function(){return i.closeDialog()}),r.TgZ(5,"span",4),r.TgZ(6,"strong",5),r._uU(7),r.ALo(8,"utcDate"),r.qZA(),r.TgZ(9,"span",6),r._uU(10),r.ALo(11,"utcDate"),r.qZA(),r.qZA(),r.qZA(),r._uU(12," \u200b "),r.TgZ(13,"mat-accordion",7),r.YNc(14,Te,10,8,"mat-expansion-panel",8),r.qZA(),r.YNc(15,De,2,3,"po-button",9),r.TgZ(16,"div",10),r.YNc(17,Me,3,8,"po-switch",11),r.qZA(),r._uU(18," \u200b "),r.YNc(19,_e,3,9,"po-select",12),r.YNc(20,Oe,5,1,"div",13),r._uU(21," \u200b "),r.TgZ(22,"po-button",14),r.NdJ("p-click",function(){return i.save()}),r.ALo(23,"translate"),r.qZA(),r._uU(24," \u200b "),r.TgZ(25,"po-modal",15,16),r.TgZ(27,"p",17),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"p",18),r._uU(31),r._UZ(32,"span",19),r._uU(33),r.qZA(),r.qZA(),r._uU(34," \u200b "),r.TgZ(35,"po-modal",20,21),r.TgZ(37,"span",22),r.TgZ(38,"p"),r._uU(39),r.ALo(40,"translate"),r.qZA(),r.TgZ(41,"p"),r._uU(42),r.ALo(43,"utcDate"),r.ALo(44,"formatMillisecondsAsHour"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.Q6J("isVisible",i.dialogIsVisible)("closeDialogButtonEnable",!i.viewIsMobile)("menuIsVisible",!0),r.xp6(6),r.Oqu(r.xi3(8,23,i.referenceDate,"dd/MM/yyyy")),r.xp6(3),r.Oqu(r.xi3(11,26,i.referenceDate,"EEEE")),r.xp6(4),r.Q6J("ngForOf",i.clockings),r.xp6(1),r.Q6J("ngIf",i.registerPermission),r.xp6(2),r.Q6J("ngIf",i.clockingUpdateView&&i.clockingUpdateView.justify&&i.clockingUpdateView.justify.visible),r.xp6(2),r.Q6J("ngIf",i.clockingUpdateView&&i.clockingUpdateView.reason&&i.clockingUpdateView.reason.visible),r.xp6(1),r.Q6J("ngIf",i.globalJustification&&i.clockingUpdateView&&i.clockingUpdateView.justify&&i.clockingUpdateView.justify.visible),r.xp6(2),r.s9C("p-label",r.lcZ(23,29,"l-save")),r.Q6J("p-disabled",i.disabledSaveButton()),r.xp6(3),r.Q6J("p-primary-action",i.confirmModalAction)("p-secondary-action",i.cancelModalAction),r.xp6(3),r.Oqu(r.lcZ(29,31,"l-ask-change-direction")),r.xp6(3),r.hij(" ",i.fromDirection," "),r.xp6(2),r.hij(" ",i.toDirection," "),r.xp6(2),r.Q6J("p-primary-action",i.confirmModalAction)("p-secondary-action",i.cancelModalAction),r.xp6(4),r.Oqu(r.lcZ(40,33,"l-ask-delete-clocking")),r.xp6(3),r.lnq(" ",r.xi3(43,35,null==i.currentClocking?null:i.currentClocking.date,"dd/MM/yyyy")," ",i.getDirectionLabel(i.currentClocking)," \xe0s ",r.lcZ(44,38,null==i.currentClocking?null:i.currentClocking.hour)," "))},directives:[ie.a,D.q,x.pp,n.sg,n.O5,h.bOz,h.hmF,x.ib,n.mk,h.xxV,u.JJ,u.On,x.yz,h.nrg,h.C9q,u.Fj,u.Q7],pipes:[M.$,c.X$,_.P],styles:[".day[_ngcontent-%COMP%]{color:#2b3639;float:left;margin-right:10px}[_nghost-%COMP%]     .po-input:disabled{color:#1c1c1c}.week-day[_ngcontent-%COMP%]{color:#9da7a9;margin-bottom:0;margin-top:0}.featured[_ngcontent-%COMP%]{font-size:16px;padding-right:24px;margin-bottom:15px}.content-modal[_ngcontent-%COMP%]{font-weight:bold;color:#2b3639}.see-more[_ngcontent-%COMP%]{color:#0c9abe}.justify-switch[_ngcontent-%COMP%]{font-weight:bold}.clockings[_ngcontent-%COMP%]{border-top:#eceeee 2px solid}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;background-color:#fff;line-height:30px;width:100%;padding:0 16px}#sel-reason[_ngcontent-%COMP%]  ul{position:unset!important}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px}.labels-direction-modal[_ngcontent-%COMP%]{color:#4a5c60;font-weight:bold}.ask-change-direction[_ngcontent-%COMP%]{font-size:20px}.info-change-direction[_ngcontent-%COMP%]{padding-left:25px;font-size:16px}.icon-change-direction[_ngcontent-%COMP%]{color:#0c9abe;font-size:25px;margin-top:13px}.direction[_ngcontent-%COMP%]{color:#0c9abe;white-space:nowrap;font-size:16px;margin-top:13px;font-weight:bold;padding-right:15px}.icon-arrow[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;vertical-align:text-bottom}.custom-accordion[_ngcontent-%COMP%]{box-shadow:none!important;padding:0!important;margin-top:0!important;overflow:unset}.card-justify-clocking[_ngcontent-%COMP%]{box-shadow:0 3px 8px 2px #e3e6f1;border-radius:6px;padding:16px 6px;position:relative;background:#ffffff;display:flow-root}.card-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:4px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:calc(50% - 4px);position:relative;z-index:10}.titleInput[_ngcontent-%COMP%]{font-weight:bold}.container-justify-button[_ngcontent-%COMP%]{margin-top:10px;position:relative;float:right}.save-button[_ngcontent-%COMP%]{margin-top:10px}.add-other-clockings[_ngcontent-%COMP%]{margin:15px 0}.icon-close-justify-card[_ngcontent-%COMP%]{color:#9da7a9}mat-expansion-panel[_ngcontent-%COMP%]{position:unset}[_nghost-%COMP%]     [dialog-content]{overflow-y:auto}[_nghost-%COMP%]     .full-screen-dialog{overflow-y:auto!important}[_nghost-%COMP%]     .full-screen-dialog::-webkit-scrollbar-thumb{background-color:#0c9abc;border-radius:10px}[_nghost-%COMP%]     .full-screen-dialog::-webkit-scrollbar{width:7px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.column-see[_ngcontent-%COMP%]{padding-top:12px!important;font-size:20px}}@media (min-width: 768px){.column-see[_ngcontent-%COMP%]{padding-top:13px!important;padding-right:20px!important;font-size:20px}}@media (min-width: 1280px){.column-see[_ngcontent-%COMP%]{padding-top:17px!important;padding-right:20px!important;font-size:20px}[_nghost-%COMP%]     .full-screen-dialog{max-height:85%}}"]}),e})();const Ie=["occurrenceTotalSummaryPeriodComponent"];function Se(e,i){if(1&e&&r._UZ(0,"app-card-employee",18),2&e){const e=r.oxw(2);r.Q6J("image",e.imageAvatar)("name",null==e.employeeData?null:e.employeeData.name)("role",null==e.employeeData?null:e.employeeData.roleDescription)("status",null==e.employeeData?null:e.employeeData.employeeStatus)}}function Ue(e,i){1&e&&(r.TgZ(0,"span",44),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-download")," "))}function Ee(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"span",45),r.NdJ("click",function(){return r.CHM(e),r.oxw(4).shareVisibleDialog()}),r.qZA()}}function Je(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",39),r.TgZ(1,"span",40),r.NdJ("click",function(){return r.CHM(e),r.oxw(3).downloadVisibleDialog()}),r._UZ(2,"span",41),r.YNc(3,Ue,3,3,"span",42),r.qZA(),r.YNc(4,Ee,1,0,"span",43),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(3),r.Q6J("ngIf",!e.isWebView()),r.xp6(1),r.Q6J("ngIf",e.isWebView()&&!e.isIOS())}}function Ve(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"a",54),r.NdJ("click",function(){return r.CHM(e),r.oxw(4).openOccurrencesTotalSummaryPeriod()}),r._uU(1),r.ALo(2,"uppercase"),r.ALo(3,"translate"),r.qZA()}2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,r.lcZ(3,3,"im-view-summary-period"))))}function Ne(e,i){if(1&e&&(r.TgZ(0,"div",46),r.TgZ(1,"div",47),r.TgZ(2,"div",48),r.TgZ(3,"strong",49),r._uU(4),r.ALo(5,"uppercase"),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"strong",50),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"div",48),r.TgZ(10,"strong",49),r._uU(11),r.ALo(12,"uppercase"),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"strong",50),r._uU(15),r.qZA(),r.qZA(),r.TgZ(16,"div",48),r.TgZ(17,"strong",49),r._uU(18),r.ALo(19,"uppercase"),r.ALo(20,"translate"),r.qZA(),r.TgZ(21,"strong",50),r._uU(22),r.qZA(),r.qZA(),r.TgZ(23,"div",51),r.TgZ(24,"div",52),r.YNc(25,Ve,4,5,"a",53),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(4),r.Oqu(r.lcZ(5,7,r.lcZ(6,9,"l-previous-balance"))),r.xp6(4),r.hij(" ",e.concatPositiveSymbol(null==e.balanceSummary?null:e.balanceSummary.previous),""),r.xp6(3),r.Oqu(r.lcZ(12,11,r.lcZ(13,13,"l-current-balance"))),r.xp6(4),r.hij(" ",e.concatPositiveSymbol(null==e.balanceSummary?null:e.balanceSummary.current),""),r.xp6(3),r.Oqu(r.lcZ(19,15,r.lcZ(20,17,"l-next-balance"))),r.xp6(4),r.hij(" ",e.concatPositiveSymbol(null==e.balanceSummary?null:e.balanceSummary.next),""),r.xp6(3),r.Q6J("ngIf",e.hasPeriodList())}}function Le(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",55),r.TgZ(1,"div",56),r.TgZ(2,"po-button",57),r.NdJ("p-click",function(){return r.CHM(e),r.oxw(3).openOccurrencesTotalSummaryPeriod()}),r.ALo(3,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(2),r.s9C("p-label",r.lcZ(3,2,"im-view-summary-period")),r.Q6J("p-disabled",!e.hasPeriodList())}}function Qe(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",58),r.TgZ(1,"po-button",59),r.NdJ("p-click",function(){return r.CHM(e),r.oxw(3).showOnlyDivergent()}),r.ALo(2,"translate"),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(3);r.xp6(1),r.s9C("p-label",r.lcZ(2,2,e.divergentLabel)),r.Q6J("p-icon",e.onlyDivergent?"po-icon-eye-off":"po-icon-eye")}}function Ye(e,i){1&e&&(r.TgZ(0,"th",31),r.TgZ(1,"strong"),r._uU(2),r.ALo(3,"uppercase"),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,1,r.lcZ(4,3,"l-divergents"))))}function je(e,i){1&e&&r._UZ(0,"span",82)}function Fe(e,i){if(1&e&&r._UZ(0,"img",83),2&e){const e=r.oxw().$implicit,i=r.oxw(5);r.Q6J("src",i.getClockingIcon(e),r.LSH)}}function ze(e,i){if(1&e&&(r.TgZ(0,"ul",84),r.TgZ(1,"li"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(2),r.hij(" ",e.status.label," ")}}function $e(e,i){if(1&e&&(r.TgZ(0,"span",85),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",r.lcZ(2,2,"l-in-abbr"),"",e.sequence,"")}}function Re(e,i){if(1&e&&(r.TgZ(0,"span",86),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",r.lcZ(2,2,"l-in-abbr"),"",e.sequence,"")}}function He(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"span"),r.TgZ(1,"div",75),r.YNc(2,je,1,0,"span",76),r.YNc(3,Fe,1,1,"img",77),r.TgZ(4,"a",78),r.NdJ("click",function(){const i=r.CHM(e).$implicit;return r.oxw(5).openDetails(i)}),r._uU(5),r.ALo(6,"formatMillisecondsAsHour"),r.qZA(),r.YNc(7,ze,3,1,"ul",79),r.qZA(),r.YNc(8,$e,3,4,"span",80),r.YNc(9,Re,3,4,"span",81),r._UZ(10,"br"),r.qZA()}if(2&e){const e=i.$implicit,t=r.oxw(5);r.xp6(2),r.Q6J("ngIf",t.clockingOnApproval(e)),r.xp6(1),r.Q6J("ngIf",""!=t.getClockingIcon(e)),r.xp6(1),r.Q6J("ngClass",t.getColor(e)),r.xp6(1),r.hij(" ",r.lcZ(6,7,null==e?null:e.hour),""),r.xp6(2),r.Q6J("ngIf",t.clockingOnApproval(e)),r.xp6(1),r.Q6J("ngIf",e.sequence>=0&&"empty"!==e.origin),r.xp6(1),r.Q6J("ngIf",e.sequence>=0&&"empty"===e.origin&&null!=e.hour)}}function Be(e,i){1&e&&r._UZ(0,"span",82)}function Ge(e,i){if(1&e&&r._UZ(0,"img",83),2&e){const e=r.oxw().$implicit,i=r.oxw(5);r.Q6J("src",i.getClockingIcon(e),r.LSH)}}function We(e,i){if(1&e&&(r.TgZ(0,"ul",84),r.TgZ(1,"li"),r._uU(2),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(2),r.hij(" ",e.status.label," ")}}function Xe(e,i){if(1&e&&(r.TgZ(0,"span",85),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",r.lcZ(2,2,"l-out-abbr"),"",e.sequence,"")}}function Ke(e,i){if(1&e&&(r.TgZ(0,"span",88),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.AsE("",r.lcZ(2,2,"l-out-abbr"),"",e.sequence,"")}}function ei(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"span"),r.TgZ(1,"div",75),r.YNc(2,Be,1,0,"span",76),r.YNc(3,Ge,1,1,"img",77),r.TgZ(4,"a",78),r.NdJ("click",function(){const i=r.CHM(e).$implicit;return r.oxw(5).openDetails(i)}),r._uU(5),r.ALo(6,"formatMillisecondsAsHour"),r.qZA(),r.YNc(7,We,3,1,"ul",79),r.qZA(),r.YNc(8,Xe,3,4,"span",80),r.YNc(9,Ke,3,4,"span",87),r._UZ(10,"br"),r.qZA()}if(2&e){const e=i.$implicit,t=r.oxw(5);r.xp6(2),r.Q6J("ngIf",t.clockingOnApproval(e)),r.xp6(1),r.Q6J("ngIf",""!=t.getClockingIcon(e)),r.xp6(1),r.Q6J("ngClass",t.getColor(e)),r.xp6(1),r.Oqu(r.lcZ(6,7,null==e?null:e.hour)),r.xp6(2),r.Q6J("ngIf",t.clockingOnApproval(e)),r.xp6(1),r.Q6J("ngIf",e.sequence>=0&&"empty"!==e.origin),r.xp6(1),r.Q6J("ngIf",e.sequence>=0&&"empty"===e.origin)}}function ii(e,i){if(1&e&&r._UZ(0,"po-tag",91),2&e){const e=i.$implicit,t=r.oxw(6);r.Q6J("p-value",e.label)("ngClass",t.getColorTag(e.type))("p-color",t.getColorTag(e.type))}}function ti(e,i){if(1&e&&(r.TgZ(0,"td",89),r.TgZ(1,"span"),r.YNc(2,ii,1,3,"po-tag",90),r.qZA(),r.qZA()),2&e){const e=r.oxw().$implicit,i=r.oxw(4);r.xp6(2),r.Q6J("ngForOf",i.getDivergentItems(e))}}function ni(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",72),r.NdJ("click",function(){r.CHM(e);const i=r.oxw().$implicit;return r.oxw(4).goToClockingRegisterWithReferenceDate(i.date)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-include-clocking")," "))}function oi(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",72),r.NdJ("click",function(){r.CHM(e);const i=r.oxw().$implicit;return r.oxw(4).openClockingUpdate(i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-edit-clocking")," "))}function si(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",72),r.NdJ("click",function(){r.CHM(e);const i=r.oxw().$implicit;return r.oxw(4).openRequestOvertime(i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-request-overtime")," "))}function ci(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",72),r.NdJ("click",function(){r.CHM(e);const i=r.oxw().$implicit;return r.oxw(4).openRequestAllowance(i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"im-allowanceLong")," "))}function li(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"li",72),r.NdJ("click",function(){r.CHM(e);const i=r.oxw().$implicit;return r.oxw(4).openRequestMedicalCertificate(i)}),r._uU(1),r.ALo(2,"translate"),r.qZA()}2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"l-request-medical-certificate")," "))}function ai(e,i){if(1&e&&r._UZ(0,"po-tag",91),2&e){const e=i.$implicit,t=r.oxw(7);r.Q6J("p-value",e.label)("ngClass",t.getColorTag(e.type))("p-color",t.getColorTag(e.type))}}function ri(e,i){if(1&e&&(r.TgZ(0,"span"),r.YNc(1,ai,1,3,"po-tag",90),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.xp6(1),r.Q6J("ngForOf",e.entries[0].divergent)}}const gi=function(e){return{line:e}};function pi(e,i){if(1&e&&(r.TgZ(0,"tr",61),r._UZ(1,"td"),r.TgZ(2,"td",92),r.YNc(3,ri,2,1,"span",34),r.qZA(),r._UZ(4,"td"),r.qZA()),2&e){const e=r.oxw().$implicit,i=r.oxw(4);r.Q6J("ngClass",r.VKq(2,gi,i.onlyDivergent)),r.xp6(3),r.Q6J("ngIf",e.entries[0])}}const di=function(e){return{optionsDropUp:e}};function ui(e,i){if(1&e){const e=r.EpF();r.ynx(0),r.TgZ(1,"tr",61),r.TgZ(2,"td",62),r.TgZ(3,"strong"),r.TgZ(4,"a",63),r.NdJ("click",function(){const i=r.CHM(e).$implicit;return r.oxw(4).openOccurrences(i.date)}),r._uU(5),r.ALo(6,"utcDate"),r.qZA(),r.qZA(),r._UZ(7,"br"),r.TgZ(8,"span",64),r._uU(9),r.ALo(10,"utcDate"),r.qZA(),r.TgZ(11,"span",65),r._uU(12),r.ALo(13,"utcDate"),r.qZA(),r.qZA(),r.TgZ(14,"td",66),r.YNc(15,He,11,9,"span",60),r.qZA(),r.TgZ(16,"td",66),r.YNc(17,ei,11,9,"span",60),r.qZA(),r.YNc(18,ti,3,1,"td",67),r.TgZ(19,"td",68),r.TgZ(20,"div",69),r._UZ(21,"span",70),r.TgZ(22,"ul",71),r.TgZ(23,"li",72),r.NdJ("click",function(){const i=r.CHM(e).$implicit;return r.oxw(4).openOccurrences(i.date)}),r._uU(24),r.ALo(25,"translate"),r.qZA(),r.YNc(26,ni,3,3,"li",73),r.YNc(27,oi,3,3,"li",73),r.YNc(28,si,3,3,"li",73),r.YNc(29,ci,3,3,"li",73),r.YNc(30,li,3,3,"li",73),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(31,pi,5,4,"tr",74),r.BQk()}if(2&e){const e=i.$implicit,t=i.last,n=r.oxw(4);r.xp6(1),r.Q6J("ngClass",r.VKq(26,gi,n.showLine())),r.xp6(4),r.Oqu(r.xi3(6,15,e.date,"dd/MM")),r.xp6(4),r.Oqu(r.xi3(10,18,e.date,"EEEE")),r.xp6(3),r.Oqu(r.xi3(13,21,e.date,"EE")),r.xp6(3),r.Q6J("ngForOf",e.entries),r.xp6(2),r.Q6J("ngForOf",e.exities),r.xp6(1),r.Q6J("ngIf",n.onlyDivergent&&!n.isMobile&&(e.entries[0]||e.exities[0])),r.xp6(4),r.Q6J("ngClass",r.VKq(28,di,t&&n.viewIsMobile)),r.xp6(2),r.hij(" ",r.lcZ(25,24,"l-see-daily-summary")," "),r.xp6(2),r.Q6J("ngIf",n.checkPermissionClockingRegister()),r.xp6(1),r.Q6J("ngIf",n.checkPermissionClockingUpdate()),r.xp6(1),r.Q6J("ngIf",n.checkPermissionRequestOvertime()),r.xp6(1),r.Q6J("ngIf",n.checkPermissionRequestAllowance()),r.xp6(1),r.Q6J("ngIf",n.checkPermissionRequestMedicalCertificate()),r.xp6(1),r.Q6J("ngIf",n.onlyDivergent&&n.isMobile)}}function hi(e,i){if(1&e&&(r.TgZ(0,"tbody"),r.YNc(1,ui,32,30,"ng-container",60),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngForOf",e.clockingsPeriod)}}function mi(e,i){1&e&&(r.TgZ(0,"tbody"),r.TgZ(1,"tr"),r.TgZ(2,"td",93),r.TgZ(3,"strong",94),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.hij(" ",r.lcZ(5,1,"l-emptyPeriods"),""))}function fi(e,i){1&e&&(r.TgZ(0,"tbody"),r.TgZ(1,"tr"),r.TgZ(2,"td",93),r.TgZ(3,"strong",94),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.hij(" ",r.lcZ(5,1,"l-empty-periods-divergent"),""))}function xi(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",101),r.TgZ(1,"po-button",102),r.NdJ("p-click",function(){return r.CHM(e),r.oxw(4).openLabelDialog()}),r.ALo(2,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(1),r.s9C("p-label",r.lcZ(2,1,"l-show-label-complete")))}function vi(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",103),r.TgZ(1,"span",104),r.NdJ("click",function(){return r.CHM(e),r.oxw(4).openLabelDialog()}),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(2),r.hij("",r.lcZ(3,1,"l-show-label-complete")," "))}function ki(e,i){if(1&e&&(r.TgZ(0,"div",95),r.TgZ(1,"div",96),r._UZ(2,"img",97),r.TgZ(3,"span",98),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.qZA(),r.TgZ(6,"div",96),r._UZ(7,"span",82),r.TgZ(8,"span",98),r._uU(9),r.ALo(10,"translate"),r.qZA(),r.qZA(),r.YNc(11,xi,3,3,"div",99),r.YNc(12,vi,4,3,"div",100),r.qZA()),2&e){const e=r.oxw(3);r.xp6(4),r.Oqu(r.lcZ(5,4,"l-clockings-approved")),r.xp6(5),r.Oqu(r.lcZ(10,6,"l-clockings-approving")),r.xp6(2),r.Q6J("ngIf",e.isMobile),r.xp6(1),r.Q6J("ngIf",!e.isMobile)}}function bi(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"app-occurrence-total-summary-period",105,106),r.NdJ("closeDialogEvent",function(i){return r.CHM(e),r.oxw(3).closeOccurencesDialog(i)}),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("initPeriod",e.initPeriod)("endPeriod",e.endPeriod)("employeeId",e.employeeId)("dialogIsVisible",e.showOccurrencesDialog)}}function Ci(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"app-occurrences",107,108),r.NdJ("closeDialogEvent",function(i){return r.CHM(e),r.oxw(3).closeDailyOccurencesDialog(i)}),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("referenceDate",e.referenceDateUTC)("dialogIsVisible",e.showDailyOccurrencesDialog)("employeeId",e.employeeId)}}function Zi(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"app-clocking-update",109),r.NdJ("closeDialogEvent",function(i){return r.CHM(e),r.oxw(3).closeClockingUpdateDialog(i)})("reloadClockings",function(i){return r.CHM(e),r.oxw(3).reloadClockingsUpdate(i)}),r.qZA()}if(2&e){const e=r.oxw(3);r.Q6J("clockingDay",e.selectedClockingDay)("divergentActive",e.onlyDivergent)("dialogIsVisible",e.showClockingUpdateDialog)("employeeId",e.employeeId)("registerPermission",e.permissions&&e.permissions.clockingRegister)}}const wi=function(e){return{"table-card":e}};function yi(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",19),r.TgZ(1,"div",20),r.TgZ(2,"h4",21),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"po-select",22),r.NdJ("ngModelChange",function(i){return r.CHM(e),r.oxw(2).periodValue=i})("p-change",function(){return r.CHM(e),r.oxw(2).loadPeriodValues(!1)}),r.qZA(),r.YNc(6,Je,5,2,"div",23),r.qZA(),r.YNc(7,Ne,26,19,"div",24),r.YNc(8,Le,4,4,"div",25),r.YNc(9,Qe,3,4,"div",26),r.TgZ(10,"table",27),r.TgZ(11,"thead",28),r.TgZ(12,"tr",29),r.TgZ(13,"th",30),r.TgZ(14,"strong"),r._uU(15),r.ALo(16,"uppercase"),r.ALo(17,"translate"),r.qZA(),r.qZA(),r.TgZ(18,"th",31),r.TgZ(19,"strong"),r._uU(20),r.ALo(21,"uppercase"),r.ALo(22,"translate"),r.qZA(),r.qZA(),r.TgZ(23,"th",31),r.TgZ(24,"strong"),r._uU(25),r.ALo(26,"uppercase"),r.ALo(27,"translate"),r.qZA(),r.qZA(),r.YNc(28,Ye,5,5,"th",32),r.TgZ(29,"th",33),r.TgZ(30,"strong"),r._uU(31),r.ALo(32,"uppercase"),r.ALo(33,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(34,hi,2,1,"tbody",34),r.YNc(35,mi,6,3,"tbody",34),r.YNc(36,fi,6,3,"tbody",34),r.qZA(),r.YNc(37,ki,13,8,"div",35),r.YNc(38,bi,2,4,"app-occurrence-total-summary-period",36),r.YNc(39,Ci,2,3,"app-occurrences",37),r.YNc(40,Zi,1,5,"app-clocking-update",38),r.qZA()}if(2&e){const e=r.oxw(2);r.Q6J("ngClass",r.VKq(39,wi,e.employeeData)),r.xp6(3),r.Oqu(r.lcZ(4,21,"l-period")),r.xp6(2),r.Q6J("p-required",!0)("ngModel",e.periodValue)("p-options",e.periodList),r.xp6(1),r.Q6J("ngIf",e.checkPermissionDownloadShare()),r.xp6(1),r.Q6J("ngIf",e.isBalanceVisible),r.xp6(1),r.Q6J("ngIf",!e.isBalanceVisible),r.xp6(1),r.Q6J("ngIf",e.divergentButtonIsVisible()),r.xp6(6),r.Oqu(r.lcZ(16,23,r.lcZ(17,25,"l-date"))),r.xp6(5),r.Oqu(r.lcZ(21,27,r.lcZ(22,29,"l-entries"))),r.xp6(5),r.Oqu(r.lcZ(26,31,r.lcZ(27,33,"l-exits"))),r.xp6(3),r.Q6J("ngIf",e.onlyDivergent&&!e.isMobile),r.xp6(3),r.Oqu(r.lcZ(32,35,r.lcZ(33,37,"l-see"))),r.xp6(3),r.Q6J("ngIf",e.hasClockings()),r.xp6(1),r.Q6J("ngIf",!e.hasClockings()&&!e.onlyDivergent),r.xp6(1),r.Q6J("ngIf",!e.hasClockings()&&e.onlyDivergent),r.xp6(1),r.Q6J("ngIf",e.hasClockings()),r.xp6(1),r.Q6J("ngIf",e.showOccurrencesDialog),r.xp6(1),r.Q6J("ngIf",e.showDailyOccurrencesDialog),r.xp6(1),r.Q6J("ngIf",e.showClockingUpdateDialog)}}function Ai(e,i){1&e&&(r.TgZ(0,"div",110),r._UZ(1,"img",111),r.TgZ(2,"span",98),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"l-clockings-without-geo")))}function qi(e,i){1&e&&(r.TgZ(0,"div",110),r._UZ(1,"span",112),r.TgZ(2,"span",98),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"l-clockings-approving")))}function Ti(e,i){1&e&&(r.TgZ(0,"div",110),r._UZ(1,"img",97),r.TgZ(2,"span",98),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"l-clockings-approved")))}function Di(e,i){1&e&&(r.TgZ(0,"div",110),r._UZ(1,"img",113),r.TgZ(2,"span",98),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"l-clockings-out-fence")))}function Mi(e,i){1&e&&(r.TgZ(0,"div",110),r._UZ(1,"img",114),r.TgZ(2,"span",98),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Oqu(r.lcZ(4,1,"l-clockings-reproved")))}function _i(e,i){if(1&e){const e=r.EpF();r.TgZ(0,"div",2),r._UZ(1,"app-page-header",3),r.ALo(2,"translate"),r.YNc(3,Se,1,4,"app-card-employee",4),r.YNc(4,yi,41,41,"div",5),r.TgZ(5,"app-dialog",6),r.NdJ("closeDialogEvent",function(){return r.CHM(e),r.oxw().closeWarningDialog()}),r.TgZ(6,"div",7),r.TgZ(7,"div",8),r.TgZ(8,"div",9),r.TgZ(9,"strong"),r.TgZ(10,"h4",10),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",11),r.TgZ(14,"a",12),r.NdJ("click",function(){return r.CHM(e),r.oxw().donwloadAndShareClocking()}),r._uU(15),r.ALo(16,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"app-dialog",13),r.NdJ("closeDialogEvent",function(){return r.CHM(e),r.oxw().closeLabelDialog()}),r.TgZ(18,"div",14),r.TgZ(19,"div",15),r.TgZ(20,"h2",16),r._uU(21),r.ALo(22,"translate"),r.qZA(),r.YNc(23,Ai,5,3,"div",17),r.YNc(24,qi,5,3,"div",17),r.YNc(25,Ti,5,3,"div",17),r.YNc(26,Di,5,3,"div",17),r.YNc(27,Mi,5,3,"div",17),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(1),r.s9C("pageTitle",r.lcZ(2,14,"l-time-clock")),r.Q6J("backIsVisible",e.viewIsTeamManagement),r.xp6(2),r.Q6J("ngIf",e.employeeData),r.xp6(1),r.Q6J("ngIf",e.initialized),r.xp6(1),r.Q6J("isVisible",e.warningDialogIsVisible),r.xp6(6),r.Oqu(r.lcZ(12,16,"m-downloadShareClocking")),r.xp6(4),r.hij(" ",r.lcZ(16,18,"l-ok"),""),r.xp6(2),r.Q6J("isVisible",e.labelDialogIsVisible),r.xp6(4),r.Oqu(r.lcZ(22,20,"l-label-complete")),r.xp6(2),r.Q6J("ngIf",e.legend.withoutGeo),r.xp6(1),r.Q6J("ngIf",e.legend.approving),r.xp6(1),r.Q6J("ngIf",e.legend.approved),r.xp6(1),r.Q6J("ngIf",e.legend.outFence),r.xp6(1),r.Q6J("ngIf",e.legend.reproved)}}const Oi=[{path:"",component:(()=>{class e extends w.R{constructor(e,i,t,n,o,s,c,l,a,g,p,d,u,h,m,f,x,v){super(),this.clockingService=e,this.router=i,this.windowUtilService=t,this.ionicUtilService=n,this.profileService=o,this.fileManipulationService=s,this.appTranslateService=c,this.fieldsPropertiesService=l,this.lastAccess=a,this.notificationService=g,this.globals=p,this.activatedRoute=d,this.permissionSelector=u,this.spinnerService=h,this.imageService=m,this.location=f,this.teamManagementService=x,this.fileTransferService=v,this.periodsView=new Array,this.periodList=new Array,this.initialized=!1,this.showClockingUpdateDialog=!1,this.employeeName="",this.warningDialogIsVisible=!1,this.shareDialogIsVisible=!1,this.viewIsTeamManagement=!1,this.hasGeolocation=!1,this.labelDialogIsVisible=!1,this.showDetails=!1,this.divergentLabel="l-show-divergent",this.legend={approved:!1,reproved:!1,approving:!1,outFence:!1,withoutGeo:!1},this.transferFile="",this.loadPeriods=!0,this.close=new r.vpe,this.isMobile=T.g.mdDeviceOrSmaller(window.innerWidth),this.routeSubscribe=this.activatedRoute.queryParams.subscribe(e=>{this.onlyDivergent="true"===e.isDivergent})}ngOnInit(){super.ngOnInit(),this.getFieldsProps(),this.setCountLastAccess(),this.subscribeToRoute(),this.getPermissions()}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.imageSubscription&&this.imageSubscription.unsubscribe(),this.routeSubscribe&&this.routeSubscribe.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe(),this.teamManagementService.cleanEmployeeCard()}callbackIonicExternalEvent(e){(e.detail.event.type===R.g.DownloadAndOpenFile||e.detail.event.type===R.g.ShareFile||e.detail.event.type===R.g.TransferFile)&&this.spinnerService.hide()}showOnlyDivergent(){this.onlyDivergent=!this.onlyDivergent,this.onlyDivergent?this.loadPeriodValues(!0):this.loadPeriodValues();const e=this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{onlyDivergent:this.onlyDivergent}}).toString();this.location.replaceState(e)}getPermissions(){this.permissionsSubscription=this.permissionSelector.permissions$.subscribe(e=>{this.permissions=e})}getColorTag(e){return"warning"===e?"color-08":"danger"===e?"color-07":"authorizedOvertime"===e?"color-01":"unauthorizedOvertime"===e?"color-02":"oddBeat"===e?"color-odd-beat":void 0}openOccurrences(e){this.referenceDateUTC=M.$.getDateUTCFormat(e),this.referenceDateUTC&&(this.showDailyOccurrencesDialog=!0)}goToClockingRegisterWithReferenceDate(e){const i={employeeId:void 0},t=`timesheet/clockingRegister/${M.$.getDateUTCFormat(e).getTime()}`;this.viewIsTeamManagement&&(i.employeeId=this.employeeId),this.router.navigateByUrl(this.router.createUrlTree([t],{queryParams:i}))}openClockingUpdate(e){let i=new ae(e.date);e.entries.forEach(e=>{e.id&&i.entries.push(e)}),e.exities.forEach(e=>{e.id&&i.exities.push(e)}),this.selectedClockingDay=i,this.showClockingUpdateDialog=!0}openOccurrencesTotalSummaryPeriod(){const e=re.x.getPeriod(this.periodValue);e.initDate&&e.endDate&&(this.initPeriod=M.$.getDateUTCFormat(new Date(e.initDate)).getTime(),this.endPeriod=M.$.getDateUTCFormat(new Date(e.endDate)).getTime()),this.showOccurrencesDialog=!0}reloadClockingsUpdate(e){this.onlyDivergent=e,this.loadPeriodValues(e)}loadPeriodValues(e){e||(this.onlyDivergent=!1);const i=re.x.getPeriod(this.periodValue);this.getBalanceSummaries(M.$.getDateUTCFormat(new Date(i.initDate)),M.$.getDateUTCFormat(new Date(i.endDate))),this.getClockings(M.$.getDateUTCFormat(new Date(i.initDate)),M.$.getDateUTCFormat(new Date(i.endDate)),e)}closeOccurencesDialog(){this.showOccurrencesDialog=!1}closeDailyOccurencesDialog(){this.showDailyOccurrencesDialog=!1}closeClockingUpdateDialog(){this.showClockingUpdateDialog=!1}getColor(i){return this.manualClockingAndApproval(i)?this.statusIsApproving(i)?e.approvingColorClassName:this.statusIsReproved(i)?e.reprovedColorClassName:e.approvedColorClassName:""}clockingOnApproval(e){const i=!!this.manualClockingAndApproval(e)&&(this.statusIsApproving(e)||this.statusIsReproved(e));return i&&(this.legend.approving=!0),i}getClockingIcon(e){let i="";return void 0===e.hasCoordinates&&void 0===e.isOutFence||e.origin!==Y.v.OriginEnum.Geolocation||(this.hasGeolocation=!0,e.status&&e.status.status===j.StatusEnum.Reproved&&(this.legend.reproved=!0,i="./assets/img/pin-reproved.svg"),e.hasCoordinates?e.isOutFence||e.status&&e.status.status===j.StatusEnum.Reproved?e.isOutFence&&(i="./assets/img/pin-outfence.svg",this.legend.outFence=!0):(i="./assets/img/pin-approved.svg",this.legend.approved=!0):(i="./assets/img/pin-gray.svg",this.legend.withoutGeo=!0)),i}openLabelDialog(){this.labelDialogIsVisible=!0}closeLabelDialog(){this.labelDialogIsVisible=!1}closeWarningDialog(){this.warningDialogIsVisible=!1}downloadVisibleDialog(){re.x.getPeriod(this.periodValue).actualPeriod?this.warningDialogIsVisible=!0:this.downloadClocking()}shareVisibleDialog(){re.x.getPeriod(this.periodValue).actualPeriod?(this.isShare=!0,this.warningDialogIsVisible=!0):this.shareClocking()}donwloadAndShareClocking(){this.isShare?this.shareClocking():this.downloadClocking()}teamManagementClockings(){return(0,Z.mG)(this,void 0,void 0,function*(){const e=yield this.profileService.getEmployeeSummary(this.employeeId);this.loadPeriods=!0,this.employeeData=e,this.imageService.getImageStyle(this.employeeId).subscribe(e=>this.imageAvatar=e),this.employeeName=this.employeeData.name,this.periodsView=[],this.clockingsView=null,this.clockingsPeriod=[]})}back(){this.viewIsTeamManagement=!1,this.employeeData?this.close.emit():this.windowUtilService.back()}openDetails(e){return(0,Z.mG)(this,void 0,void 0,function*(){this.showDetails=!0,this.selectedClockings=new Array(e),yield this.clockingsDetails.loadComponents(this.selectedClockings)})}closeDetails(){this.showDetails=!1}concatPositiveSymbol(e){const i=F.Em.getHoursByMilliseconds(e,!1);return e>0?`+${i}`:i}hasPeriodList(){return this.periodList&&this.periodList.length>0}hasClockings(){return this.clockingsPeriod&&this.clockingsPeriod.length>0}checkPermissionClockingRegister(){return this.viewIsTeamManagement&&null!=this.permissions.teamManagementClockingRegister?this.permissions&&this.permissions.teamManagementClockingRegister:this.permissions&&this.permissions.clockingRegister}checkPermissionClockingUpdate(){return this.viewIsTeamManagement&&null!=this.permissions.teamManagementClockingUpdate?this.permissions&&this.permissions.teamManagementClockingUpdate:this.permissions&&this.permissions.clockingUpdate}divergentButtonIsVisible(){return this.permissions&&this.employeeData?this.permissions.teamManagementDivergentClockingView:this.permissions.divergentClockingView}checkPermissionRequestOvertime(){return this.permissions&&(this.viewIsTeamManagement&&this.permissions.teamManagementOvertimeHours&&this.permissions.requestOvertimeHours||!this.viewIsTeamManagement&&this.permissions.requestOvertimeHours)}openRequestOvertime(e){const i={date:e.date.getTime()};let t="timesheet/requestOvertimeHours";this.viewIsTeamManagement&&(t+=`/${this.employeeId}`),this.router.navigateByUrl(this.router.createUrlTree([t],{queryParams:i}))}checkPermissionRequestAllowance(){return this.permissions&&(this.viewIsTeamManagement&&this.permissions.teamManagementAllowance||!this.viewIsTeamManagement&&this.permissions.allowance)}openRequestAllowance(e){const i={date:e.date.getTime()};let t="timesheet/allowances/request";this.viewIsTeamManagement&&(t+=`/${this.employeeId}`),this.router.navigateByUrl(this.router.createUrlTree([t],{queryParams:i}))}checkPermissionRequestMedicalCertificate(){return this.permissions&&(this.viewIsTeamManagement&&this.permissions.teamManagementMedicalCertificateRequest||!this.viewIsTeamManagement&&this.permissions.medicalCertificate)}openRequestMedicalCertificate(e){const i={date:e.date.getTime(),employeeId:void 0};this.viewIsTeamManagement&&(i.employeeId=this.employeeId),this.router.navigateByUrl(this.router.createUrlTree(["health/medicalCertificate/request"],{queryParams:i}))}isIOS(){return this.windowUtilService.isIOS()}showLine(){return this.isMobile&&!this.onlyDivergent||!this.isMobile}isWebView(){return this.windowUtilService.isWebView()}getDivergentItems(e){return e.entries.length>0?e.entries[0].divergent:e.exities[0].divergent}checkPermissionDownloadShare(){return!this.permissions||(this.viewIsTeamManagement?this.checkPermissionsDownloadShareClockingsManager():this.checkPermissionsDownloadShareClockingsEmployee())}manualClockingAndApproval(e){return e.origin===Y.v.OriginEnum.Manual&&void 0!==e.status}statusIsApproving(e){return e.status.status===j.StatusEnum.Approving}statusIsReproved(e){return e.status.status===j.StatusEnum.Reproved}getFieldsProps(){return(0,Z.mG)(this,void 0,void 0,function*(){try{(yield this.fieldsPropertiesService.getFieldProperties("clocking")).forEach(e=>{"balanceSummary"===e.field&&(this.isBalanceVisible=e.visible)})}catch(e){this.isBalanceVisible=void 0}})}getPeriods(){this.clockingService.getPeriods(this.employeeId).then(e=>{e&&(e.items.forEach(e=>{this.periodsView.push(new re.x(e))}),this.periodList=re.x.getPeriodsForSelectList(this.periodsView),this.setActualPeriod(this.periodsView))})}setActualPeriod(e){e&&e.forEach(e=>{e.period.actualPeriod&&(this.periodValue=e.getValue(),this.loadPeriodValues(this.onlyDivergent))})}downloadClocking(){return(0,Z.mG)(this,void 0,void 0,function*(){const e=re.x.getPeriod(this.periodValue);this.warningDialogIsVisible=!1;const i=this.fileManipulationService.formatFilenameReport([this.employeeName]);if(this.isWebView()&&!W.ZP.isTomcatAppServer())this.spinnerService.show(),this.clockingService.getReportDownloadUrl(this.employeeId,e.initDate,e.endDate).then(e=>{this.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:i,fileMIMEtype:"application/pdf"},type:R.g.DownloadAndOpenFile})}).catch(e=>{this.spinnerService.hide(),this.notifyError(e)});else if(this.isWebView()&&W.ZP.isTomcatAppServer()){this.spinnerService.show(),yield this.getAndSetBase64String(this.employeeId,e.initDate,e.endDate);let t=yield this.fileTransferService.bufferFileonStorage(this.transferFile);yield this.fileTransferService.saveBase64onStorage(t);const n={args:{keyStorage:yield this.fileTransferService.nameListBas64onStorage(t),filename:i,fileMIMEtype:"application/pdf",isShare:!1},type:R.g.TransferFile};this.ionicUtilService.emit(n)}else this.clockingService.openClockingReport(this.employeeId,e.initDate,e.endDate,i).catch(e=>{this.notifyError(e)})})}getAndSetBase64String(e,i,t){return(0,Z.mG)(this,void 0,void 0,function*(){this.transferFile="",yield this.clockingService.getBlobReport(e,i,t).then(e=>(0,Z.mG)(this,void 0,void 0,function*(){yield this.fileManipulationService.blobToBase64(e).then(e=>this.transferFile=e),this.clockingService.setDefaulResponseType()}))})}notifyError(e){this.appTranslateService.getI18n("m-downloadClockingError.").then(i=>{this.notificationService.showNotification(i+e.message,h.ik9.Error)})}shareClocking(){return(0,Z.mG)(this,void 0,void 0,function*(){const e=re.x.getPeriod(this.periodValue);this.warningDialogIsVisible=!1;const i=this.fileManipulationService.formatFilenameReport([this.employeeName]);if(this.isWebView()&&!W.ZP.isTomcatAppServer())this.spinnerService.show(),this.clockingService.getReportDownloadUrl(this.employeeId,e.initDate,e.endDate).then(e=>{this.appTranslateService.getI18n("m-subject-clocking-receipt").then(t=>{this.ionicUtilService.emit({args:{url:e,filename:i,subject:t},type:R.g.ShareFile})})}).catch(e=>{this.spinnerService.hide(),this.notifyError(e)});else if(this.isWebView()&&W.ZP.isTomcatAppServer()){this.spinnerService.show(),yield this.getAndSetBase64String(this.employeeId,e.initDate,e.endDate);let t=yield this.fileTransferService.bufferFileonStorage(this.transferFile);yield this.fileTransferService.saveBase64onStorage(t);const n=yield this.fileTransferService.nameListBas64onStorage(t);this.appTranslateService.getI18n("m-subject-clocking-receipt").then(e=>{this.ionicUtilService.emit({args:{keyStorage:n,filename:i,fileMIMEtype:"application/pdf",isShare:!0,subject:e},type:R.g.TransferFile})})}else this.appTranslateService.getI18n("m-not-web-view-device").then(e=>{this.notificationService.showNotification(e,h.ik9.Information)})})}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(H.SP,e.id)})}getBalanceSummaries(e,i){this.clockingService.getBalanceSummaries(this.employeeId,e,i).then(e=>{e&&(this.balanceSummary=e)})}subscribeToRoute(){this.routeDataSubscription=(0,Q.aj)([this.activatedRoute.data,this.activatedRoute.params]).subscribe(e=>{this.employeeId=e[1].employeeId,this.viewIsTeamManagement=e[0].management,this.viewIsTeamManagement?this.teamManagementClockings():(this.employeeId=l.N.loggedUser,this.profileService.getEmployeeSummary(l.N.loggedUser).then(e=>{this.employeeName=e.name})),this.loadPeriods&&this.getPeriods()})}getClockings(e,i,t){this.clockingService.getClockings(this.employeeId,e,i,t).then(e=>{e&&(this.clockingsView=new le(e,!t),this.clockingsPeriod=this.clockingsView.clockings),this.initialized=!0})}checkPermissionsDownloadShareClockingsManager(){return null==this.permissions.teamManagementDownloadShareClocking||this.permissions.teamManagementDownloadShareClocking}checkPermissionsDownloadShareClockingsEmployee(){return null==this.permissions.downloadShareClocking||this.permissions.downloadShareClocking}}return e.approvingColorClassName="approvingColor",e.approvedColorClassName="approvedColor",e.reprovedColorClassName="reprovedColor",e.\u0275fac=function(i){return new(i||e)(r.Y36(s.X),r.Y36(b.F0),r.Y36(T.g),r.Y36(R.l),r.Y36(G.H),r.Y36(z.e),r.Y36(q.g),r.Y36(X.c),r.Y36(H.Lx),r.Y36(ge.g),r.Y36(pe.O),r.Y36(b.gz),r.Y36(K.eL),r.Y36(B.V),r.Y36($.A),r.Y36(n.Ye),r.Y36(ee.C),r.Y36(de.c))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-clockings"]],viewQuery:function(e,i){if(1&e&&(r.Gf(L,7),r.Gf(Ie,5)),2&e){let e;r.iGM(e=r.CRH())&&(i.clockingsDetails=e.first),r.iGM(e=r.CRH())&&(i.occurrenceTotalSummaryPeriodComponent=e.first)}},hostBindings:function(e,i){1&e&&r.NdJ("callbackIonicExternalEvent",function(e){return i.callbackIonicExternalEvent(e)},!1,r.evT)},inputs:{loadPeriods:"loadPeriods"},outputs:{close:"close"},features:[r.qOj],decls:2,vars:3,consts:[["class","general-div",4,"ngIf"],[3,"clockings","hidden","close"],[1,"general-div"],[3,"backIsVisible","pageTitle"],[3,"image","name","role","status",4,"ngIf"],["class","header-divider panel-body po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"ngClass",4,"ngIf"],["id","clocking-confirm","closeDialogButtonEnable","false","menuIsVisible","true",3,"isVisible","closeDialogEvent"],["dialog-content","",1,"download-clocking-content"],[1,"message-download-clocking","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"text-center"],[1,"mouse-pointer"],[1,"new-download-container","text-center","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"a-accept-clocking-download","mouse-pointer","no-padding",3,"click"],["id","labelDialog","closeDialogButtonEnable","true","menuIsVisible","true",3,"isVisible","closeDialogEvent"],["dialog-content","",1,"labelDialogContent"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"header-content","po-font-title"],["class","legenda-line",4,"ngIf"],[3,"image","name","role","status"],[1,"header-divider","panel-body","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngClass"],[1,"period","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","textPeriod"],["id","po-select-clockings","ngDefaultControl","",1,"valuePeriod","po-sm-12","po-md-5","po-lg-3","po-xl-3",3,"p-required","ngModel","p-options","ngModelChange","p-change"],["class","buttons-download-share",4,"ngIf"],["class","container-card-balance po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","btn-period po-sm-12 po-md-5 po-lg-4 po-xl-4 text-right no-padding",4,"ngIf"],["class","po-row",4,"ngIf"],["id","table-timesheet",1,"table","table-timesheet","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"column-header"],[1,"no-padding"],[1,"clocking-label-column","text-left","color-labels-base"],[1,"clocking-label-column","clocking-header-column","text-center","color-labels-base"],["class","clocking-label-column clocking-header-column text-center color-labels-base",4,"ngIf"],[1,"lbl-see-more","clocking-label-column","clocking-header-column","text-right","color-labels-base"],[4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],[3,"initPeriod","endPeriod","employeeId","dialogIsVisible","closeDialogEvent",4,"ngIf"],[3,"referenceDate","dialogIsVisible","employeeId","closeDialogEvent",4,"ngIf"],[3,"clockingDay","divergentActive","dialogIsVisible","employeeId","registerPermission","closeDialogEvent","reloadClockings",4,"ngIf"],[1,"buttons-download-share"],[1,"download-container",3,"click"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base","icon-size"],["class","button-download",4,"ngIf"],["class","pull-right ico-share-2 icon-color-totvs mouse-pointer share-icon waves-effect waves-base download-container icon-size",3,"click",4,"ngIf"],[1,"button-download"],[1,"pull-right","ico-share-2","icon-color-totvs","mouse-pointer","share-icon","waves-effect","waves-base","download-container","icon-size",3,"click"],[1,"container-card-balance","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"card-balance-summary","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"text-center","po-sm-4","po-md-4","po-lg-4","po-xl-4"],[1,"text-balance-summary"],[1,"hour-balance"],[1,"period-action","po-sm-12","po-md-12","po-lg-12","po-xl-12","text-center","no-padding"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["class","a-view-summary-period mouse-pointer po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",3,"click",4,"ngIf"],[1,"a-view-summary-period","mouse-pointer","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"click"],[1,"btn-period","po-sm-12","po-md-5","po-lg-4","po-xl-4","text-right","no-padding"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding","see-period-button"],["id","btn-occurrences-total-summary-period",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"p-disabled","p-label","p-click"],[1,"po-row"],[1,"po-sm-12","po-md-5","po-offset-md-7","po-lg-3","po-offset-lg-9","po-xl-3","po-offset-xl-9","button-divergent",3,"p-icon","p-label","p-click"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"column-day"],["id","lbl-reference-date",1,"mouse-pointer",3,"click"],[1,"week-day","po-hidden-sm"],[1,"week-day","po-hidden-md","po-hidden-lg","po-hidden-xl"],[1,"column-timesheet","text-center"],["class","column-timesheet text-center divergent-align",4,"ngIf"],[1,"column-timesheet","text-right","column-see"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu",3,"ngClass"],[1,"dropdown-menu-itens",3,"click"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"dropdown","tooltipRH","div-tooltip"],["class","clock ico-clocking-register",4,"ngIf"],["class","icon-back",3,"src",4,"ngIf"],[1,"clocking","mouse-pointer",3,"ngClass","click"],["class","dropdown-content tooltiptextRH",4,"ngIf"],["class","direction",4,"ngIf"],["class","direction-for-empty-clock-in",4,"ngIf"],[1,"clock","ico-clocking-register"],[1,"icon-back",3,"src"],[1,"dropdown-content","tooltiptextRH"],[1,"direction"],[1,"direction-for-empty-clock-in"],["class","direction-for-empty-clock-out",4,"ngIf"],[1,"direction-for-empty-clock-out"],[1,"column-timesheet","text-center","divergent-align"],["class","tag-divergent",3,"p-value","ngClass","p-color",4,"ngFor","ngForOf"],[1,"tag-divergent",3,"p-value","ngClass","p-color"],["colspan","2",1,"divergent-td"],["colspan","4"],["id","empty"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-hidden-sm","po-md-4","po-lg-4","po-xl-4"],["src","./assets/img/pin-approved.svg",1,"legenda","icon-back"],[1,"legenda"],["class","po-sm-12 po-md-4 po-lg-4 po-xl-4",4,"ngIf"],["class","po-sm-12 po-md-2 po-offset-md-9 po-lg-2 po-offset-lg-8 po-xl-2 po-offset-xl-9 button-label-complete",4,"ngIf"],[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4"],["id","btn-occurrences-total-summary-period",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"p-label","p-click"],[1,"po-sm-12","po-md-2","po-offset-md-9","po-lg-2","po-offset-lg-8","po-xl-2","po-offset-xl-9","button-label-complete"],["id","btn-occurrences-total-summary-period",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"click"],[3,"initPeriod","endPeriod","employeeId","dialogIsVisible","closeDialogEvent"],["occurrenceTotalSummaryPeriodComponent",""],[3,"referenceDate","dialogIsVisible","employeeId","closeDialogEvent"],["occurrencesComponent",""],[3,"clockingDay","divergentActive","dialogIsVisible","employeeId","registerPermission","closeDialogEvent","reloadClockings"],[1,"legenda-line"],["src","./assets/img/pin-gray.svg",1,"legenda","icon-back"],[1,"legenda","clock","ico-clocking-register"],["src","./assets/img/pin-outfence.svg",1,"legenda","icon-back"],["src","./assets/img/pin-reproved.svg",1,"legenda","icon-back"]],template:function(e,i){1&e&&(r.YNc(0,_i,28,22,"div",0),r.TgZ(1,"app-clockings-details",1),r.NdJ("close",function(){return i.closeDetails()}),r.qZA()),2&e&&(r.Q6J("ngIf",!i.showDetails),r.xp6(1),r.Q6J("clockings",i.selectedClockings)("hidden",!i.showDetails))},directives:[n.O5,L,D.q,ie.a,ue.x,n.mk,h.C9q,u.Fj,u.JJ,u.On,h.bOz,n.sg,h.lzV,ce,he.w,Pe],pipes:[c.X$,n.gd,M.$,_.P],styles:[".period[_ngcontent-%COMP%]{padding:0;margin-bottom:0!important;margin-top:10px;position:relative}.textPeriod[_ngcontent-%COMP%]{margin-bottom:0;padding:25px 0 0 8px!important;font-size:16px;font-weight:bold;max-width:80px}.valuePeriod[_ngcontent-%COMP%]{padding:0;text-align:left;display:inline-block;max-width:244px;margin-top:10px}.hour-balance[_ngcontent-%COMP%]{font-size:18px}.card-balance-summary[_ngcontent-%COMP%]{padding:16px 6px;position:relative;background:#ffffff}.general-div[_ngcontent-%COMP%]{padding:0 45px}.color-labels-base[_ngcontent-%COMP%]{color:#0c9abe}.tag-divergent[_ngcontent-%COMP%]{padding:3px}.span-divergent[_ngcontent-%COMP%]{padding:6px;border-radius:5px;color:#fff;background-color:red;font-size:13px}.button-divergent[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.divergent-align[_ngcontent-%COMP%]{vertical-align:middle}.span-divergent-mobile[_ngcontent-%COMP%]{padding:6px;border-radius:5px;font-size:12px;background-color:red;color:#fff}.container-card-balance[_ngcontent-%COMP%]{padding-left:9px;padding-right:9px;padding-top:5px}.clocking-label-column[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;border-bottom:2px solid rgba(12,154,190,.4)!important;border:none}.divergent-button[_ngcontent-%COMP%]{margin-left:calc(100% - 18%)}.po-field-error[_ngcontent-%COMP%]{height:0px}.day-agrupator[_ngcontent-%COMP%]{font-size:20px!important;line-height:2.4;text-align:left;color:#000;background-color:#fff}table.table-timesheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}.buttonPeriod[_ngcontent-%COMP%]{margin-left:25%}table.table-timesheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;line-height:1}.column-timesheet[_ngcontent-%COMP%]{font-size:14px;color:#28303e}.column-day[_ngcontent-%COMP%]{font-size:14px;color:#28303e;vertical-align:middle!important}.direction[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-left:2px}.direction-for-empty-clock-out[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-left:42px}.direction-for-empty-clock-in[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-left:39px}.week-day[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9}.line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.clocking[_ngcontent-%COMP%]{line-height:35px;font-weight:bolder;color:#0c9abe}.div-tooltip[_ngcontent-%COMP%]{display:inline}.clock[_ngcontent-%COMP%]{font-size:16px!important;color:#d9d9d9;margin-left:-24px;position:relative;top:1px}.column-see[_ngcontent-%COMP%]{vertical-align:middle!important}.clocking-header-column[_ngcontent-%COMP%]{padding-right:32px}.lbl-see-more[_ngcontent-%COMP%]{padding-right:8px}.a-view-summary-period[_ngcontent-%COMP%]{margin-top:10px;font-size:10px;font-weight:700;font-weight:bold;color:#0c9abe}.see-more[_ngcontent-%COMP%]{padding-right:8px;color:#0c9abe}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:200px;left:auto!important}.optionsDropUp[_ngcontent-%COMP%]{top:-550%!important}.approvedColor[_ngcontent-%COMP%]{color:#0c9abe}.reprovedColor[_ngcontent-%COMP%]{color:#c64840}.approvingColor[_ngcontent-%COMP%]{color:#f2994a}.dropdown-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 0 10px}.period[_ngcontent-%COMP%]{padding:0;margin-bottom:0!important;margin-top:0}.period-action[_ngcontent-%COMP%]{margin-top:0}.valuePeriod[_ngcontent-%COMP%]{padding:0;text-align:left;display:inline-block;max-width:calc(100% - 16px);margin:0 8px}.textPeriod[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;padding:16px 0 0 8px!important;font-size:16px;font-weight:bold;max-width:80px}.see-period-button[_ngcontent-%COMP%]{margin:0 8px!important;width:calc(100% - 16px)!important}#btn-occurrences-total-summary-period[_ngcontent-%COMP%]{display:inline-block}div.po-select-container[_ngcontent-%COMP%]{background-color:#fff!important;display:inline-block;position:relative;width:100%;padding:0 8px!important}.po-select-icon[_ngcontent-%COMP%]{right:8px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}[_nghost-%COMP%]     .po-tag-value{padding:0 8px}po-tag[_ngcontent-%COMP%]     .po-tag{margin-top:8px}.divergent-td[_ngcontent-%COMP%]{padding-top:calc(.75rem - 8px)}.card-employee[_ngcontent-%COMP%]{padding:0;margin-top:10px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.column-timesheet[_ngcontent-%COMP%]{font-size:14px;color:#28303e;padding:0}.text-balance-summary[_ngcontent-%COMP%]{font-size:10px;padding-left:18%;padding-right:18%;color:#9da7a9;display:block}.general-div[_ngcontent-%COMP%]{padding:0}}@media only screen and (-webkit-min-device-pixel-ratio: 3),only screen and (min--moz-device-pixel-ratio: 3),only screen and (-o-min-device-pixel-ratio: 3/1){.general-div[_ngcontent-%COMP%]{padding:0}}@media (min-width: 480px){.btn-period[_ngcontent-%COMP%]{margin-top:39px}}@media (min-width: 768px){.text-balance-summary[_ngcontent-%COMP%]{font-size:10px;color:#9da7a9;display:block}.btn-period[_ngcontent-%COMP%]{margin-top:39px}}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.panel-body[_ngcontent-%COMP%]{margin-bottom:41px!important}}.panel-body[_ngcontent-%COMP%]{float:left!important}.new-download-container[_ngcontent-%COMP%]{box-shadow:inset 0 2px #dbdedf;position:fixed;padding:6%;bottom:0px;left:0px;width:100%}.message-download-clocking[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}.a-accept-clocking-download[_ngcontent-%COMP%]{font-size:18px;color:#0c9abe;font-weight:bold}.a-accept-clocking-share[_ngcontent-%COMP%]{font-size:18px;color:#0c9abe;font-weight:bold}.download-clocking-content[_ngcontent-%COMP%]{height:350px}@media (min-width: 961px){.message-download-clocking[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.new-download-container[_ngcontent-%COMP%]{bottom:0%}}@media (max-width: 960px){.new-download-container[_ngcontent-%COMP%]{bottom:10%}}.buttons-download-share[_ngcontent-%COMP%]{position:absolute;padding:10px 10px 0 0;right:0px;top:0px}.share-icon[_ngcontent-%COMP%]{right:15px}.icon-back[_ngcontent-%COMP%]{max-width:16px;min-width:16px;margin-left:-24px;margin-top:-5px}.legenda[_ngcontent-%COMP%]{margin-left:5px}.label[_ngcontent-%COMP%]{margin-top:10px}.labelDialogContent[_ngcontent-%COMP%]{margin-top:25px}.legenda-line[_ngcontent-%COMP%]{padding-top:15px}.button-label-complete[_ngcontent-%COMP%]{color:#0c9abe;position:absolute;cursor:pointer}.button-download[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 780px){.button-download[_ngcontent-%COMP%]{cursor:pointer;font-size:16px;display:inline-block;padding-left:8px!important;float:right;margin-top:-4px}}.icon-size[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;float:left!important}.download-container[_ngcontent-%COMP%]{color:#0c9abe;font-family:NunitoSans-Bold;float:right;cursor:pointer;padding-bottom:10px;display:flex!important;margin-top:7px;margin-right:10px}po-tag.color-odd-beat[_ngcontent-%COMP%]     .po-tag-info{background-color:#9e3933}"]}),e})(),children:[{path:"details",component:L}],canActivate:[C.P]}];let Pi=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[b.Bz.forChild(Oi)],b.Bz]}),e})();var Ii=t(18443);let Si=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[s.X,de.c],imports:[[n.ez,Pi,o.q,p,d.OccurrencesModule,Ii.ClockingRegisterModule,v,k]]}),e})()}}]);