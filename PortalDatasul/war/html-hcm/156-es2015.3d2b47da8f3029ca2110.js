"use strict";(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[156],{24804:function(t,e,n){n.d(e,{v:function(){return i}});var i=(()=>((i||(i={})).StatusEnum={Approved:"approved",Reproved:"reproved",Pending:"pending",Deleted:"deleted",Canceled:"canceled",PartiallyExcluded:"partiallyExcluded"},i))()},55653:function(t,e,n){n.d(e,{z:function(){return s}});var i=n(64762),o=n(37716),a=n(44956),l=n(65241),r=n(29790);let s=(()=>{class t{constructor(t){this.appTranslateService=t,this.removeTextKey="",this.id="",this.confirmEvent=new o.vpe}ngOnInit(){this.initializeComponent()}openModal(){this.modal.open()}confirm(){this.modal.close(),this.confirmEvent.emit(this.id)}initializeComponent(){return(0,i.mG)(this,void 0,void 0,function*(){yield this.initializeModalAction()})}initializeModalAction(){return(0,i.mG)(this,void 0,void 0,function*(){this.cancelAction={action:()=>{this.modal.close()},label:yield this.appTranslateService.getI18n("l-cancel"),danger:!0},this.confirmAction={action:()=>{this.confirm()},label:yield this.appTranslateService.getI18n("l-yes")}})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(l.g))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-delete-modal"]],viewQuery:function(t,e){if(1&t&&o.Gf(a.hmF,7),2&t){let t;o.iGM(t=o.CRH())&&(e.modal=t.first)}},inputs:{removeTextKey:"removeTextKey",id:"id"},outputs:{confirmEvent:"confirmEvent"},decls:5,vars:5,consts:[["p-size","sm","p-hide-close","true",3,"p-primary-action","p-secondary-action"],["modal",""],[1,"po-sm-11","po-md-11","po-lg-11","po-xl-11"]],template:function(t,e){1&t&&(o.TgZ(0,"po-modal",0,1),o.TgZ(2,"div",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()),2&t&&(o.Q6J("p-primary-action",e.confirmAction)("p-secondary-action",e.cancelAction),o.xp6(3),o.hij(" ",o.lcZ(4,3,e.removeTextKey)," "))},directives:[a.hmF],pipes:[r.X$],styles:['[_nghost-%COMP%]     .po-modal-body{font-family:"Nunito Sans",sans-serif;font-size:16px;padding-left:5px}[_nghost-%COMP%]     .po-modal-header{padding:5px!important}[_nghost-%COMP%]     .po-modal-footer{padding:20px!important}@media screen and (min-width: 769px){[_nghost-%COMP%]     .po-modal-sm{width:25%}[_nghost-%COMP%]     .po-modal-body{margin-bottom:70px}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-modal-body{margin-bottom:50px;padding-left:0}[_nghost-%COMP%]     .po-modal-footer{padding:10px 10px 20px!important}}']}),t})()},5156:function(t,e,n){n.d(e,{e:function(){return z}});var i=n(64762),o=n(98348),a=n(92340),l=n(24804),r=n(81483),s=n(64383),d=n(9789),p=n(8573),c=n(60228),g=n(37716),h=n(65241),m=n(84479),u=n(95987),x=n(36812),f=n(44956),C=n(89019),b=n(93444),v=n(96054),M=n(82832),y=n(38583),O=n(55653),P=n(3679),_=n(29790);const w=["deleteModal"],k=["poModal"];function S(t,e){if(1&t&&(g.TgZ(0,"span",24),g._uU(1),g.qZA()),2&t){const t=g.oxw();g.Q6J("ngClass",t.status),g.xp6(1),g.hij(" ",t.statusLabel," ")}}function A(t,e){if(1&t&&(g.TgZ(0,"div",25),g.TgZ(1,"h3",26),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"span",27),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.qZA()),2&t){const t=e.$implicit;g.Q6J("ngClass",t.class),g.xp6(2),g.Oqu(g.lcZ(3,3,t.label)),g.xp6(3),g.Oqu(g.lcZ(6,5,t.value))}}function Z(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"po-button",28),g.NdJ("click",function(){return g.CHM(t),g.oxw().approve()}),g.ALo(1,"translate"),g.qZA()}if(2&t){const t=g.oxw();g.s9C("p-label",g.lcZ(1,2,t.isApprove?"l-approve":"l-edit")),g.Q6J("ngClass",t.isMobile?"po-sm-6 po-md-6 alignRight":"button-edit")}}function T(t,e){if(1&t&&(g.TgZ(0,"span",29),g._uU(1),g.qZA()),2&t){const t=g.oxw();g.xp6(1),g.Oqu(t.modalText)}}function I(t,e){if(1&t){const t=g.EpF();g.TgZ(0,"po-textarea",30),g.NdJ("ngModelChange",function(e){return g.CHM(t),g.oxw().reprovedReason=e}),g.ALo(1,"translate"),g.ALo(2,"translate"),g.qZA()}if(2&t){const t=g.oxw();g.s9C("p-label",g.lcZ(1,3,"l-justification")),g.s9C("p-placeholder",g.lcZ(2,5,"l-reason-50-char")),g.Q6J("ngModel",t.reprovedReason)}}let q=(()=>{class t{constructor(t,e,n,i,o){this.translateService=t,this.onCallService=e,this.managementRequestOnCallService=n,this.router=i,this.notificationService=o,this.labels=[],this.employeeId=C.N.loggedUser,this.onCallFields=[],this.daysToConsider=[],this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.reasonVisible=!1,this.isApprove=!1,this.back=new g.vpe}ngOnInit(){return(0,i.mG)(this,void 0,void 0,function*(){this.isMobile=m.g.mdDeviceOrSmaller(window.innerWidth),this.getModalActions(),this.statusLabel=yield this.translateService.getI18n(this.getStatusLabel(this.status))})}ngOnDestroy(){this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe()}getStatusLabel(t){let e;switch(t){case l.v.StatusEnum.Pending:e="l-approving";break;case l.v.StatusEnum.Reproved:e="l-reproved";break;case l.v.StatusEnum.Approved:e="l-status-approved"}return e}reprove(){this.approveIsTrue=!1,this.reasonVisible=!0,this.isApprove?this.poModal.open():(this.deleteModal.openModal(),this.deleteId=this.onCall.idName.split("|")[0]+"|"+this.onCall.id)}approve(){return(0,i.mG)(this,void 0,void 0,function*(){this.modalText=(yield this.translateString("l-approve-notification")).toString(),this.approveIsTrue=!0,this.reasonVisible=!1,this.isApprove?this.poModal.open():this.router.navigate(["teamManagement/timesheet/onCall/request",{employeeId:this.onCall.idName,isEdit:!0,editId:this.onCall.id}])})}confirmDelete(){this.managementRequestOnCallService.deleteOnCall(C.N.loggedUser,this.deleteId).then(()=>(0,i.mG)(this,void 0,void 0,function*(){this.notificationService.showNotification(yield this.translateService.getI18n("l-delete-success"),f.ik9.Success),this.back.emit()})).catch(t=>{this.notificationService.showNotification(t.message,f.ik9.Error)})}getModalActions(){return(0,i.mG)(this,void 0,void 0,function*(){this.closeAction={action:()=>{this.closeModal()},label:(yield this.translateString("l-cancel-title")).toString(),danger:!0},this.confirmAction={action:()=>(0,i.mG)(this,void 0,void 0,function*(){yield this.confirmModal()}),label:(yield this.translateString("l-confirm")).toString()}})}translateString(t){return this.translateService.getI18n(t)}closeModal(){this.poModal.close()}confirmModal(){return(0,i.mG)(this,void 0,void 0,function*(){try{this.onCall.status=l.v.StatusEnum.Approved,this.onCall.justification=this.reprovedReason,yield this.onCallService.editOnCall(this.employeeId,this.onCall),this.notificationService.showNotification(yield this.translateService.getI18n("m-approved-request"),f.ik9.Success),this.poModal.close(),this.back.emit()}catch(t){(null==t?void 0:t.message)&&this.notificationService.showNotification(t.message,f.ik9.Error)}})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(h.g),g.Y36(p.I),g.Y36(b.w),g.Y36(u.F0),g.Y36(v.g))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-view-details"]],viewQuery:function(t,e){if(1&t&&(g.Gf(w,5),g.Gf(k,5)),2&t){let t;g.iGM(t=g.CRH())&&(e.deleteModal=t.first),g.iGM(t=g.CRH())&&(e.poModal=t.first)}},inputs:{cardTitle:"cardTitle",employeeImage:"employeeImage",name:"name",matricula:"matricula",status:"status",isApprove:"isApprove",fields:"fields",onCall:"onCall",canEdit:"canEdit"},outputs:{back:"back"},decls:32,vars:31,consts:[[1,"on-call"],[1,"po-sm-12"],["card-header","",1,"mr-card-header","po-sm-12",3,"ngClass"],[1,"justify-title"],["class","badge",3,"ngClass",4,"ngIf"],[1,"line"],["card-body","",3,"ngClass"],[1,"holder","po-sm-12"],[1,"item-avatar","avatar","avatar-medium","mouse-pointer"],[1,"info"],[1,"justify-mainName"],[1,"justify-id"],[1,"card-balance-summary","po-row"],["name","div-menu-itens",3,"ngClass",4,"ngFor","ngForOf"],[1,"marginTop15px","alignRight","actions-visualize","actions-visualize-others-resolutions"],[3,"ngClass"],["p-type","danger",3,"ngClass","p-label","click"],["p-type","primary",3,"ngClass","p-label","click",4,"ngIf"],["removeTextKey","l-delete-on-call-message",3,"confirmEvent"],["deleteModal",""],["p-size","md",3,"p-title","p-primary-action","p-secondary-action"],["poModal",""],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12 po-mb-3",4,"ngIf"],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12","name","textarea","p-maxlength","50",3,"ngModel","p-label","p-placeholder","ngModelChange",4,"ngIf"],[1,"badge",3,"ngClass"],["name","div-menu-itens",3,"ngClass"],[1,"justify-subtitle"],[1,"justify-text"],["p-type","primary",3,"ngClass","p-label","click"],[1,"po-lg-12","po-xl-12","po-md-12","po-sm-12","po-mb-3"],["name","textarea","p-maxlength","50",1,"po-lg-12","po-xl-12","po-md-12","po-sm-12",3,"ngModel","p-label","p-placeholder","ngModelChange"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"app-card"),g.TgZ(3,"div",2),g.TgZ(4,"h2",3),g._uU(5),g.ALo(6,"translate"),g.YNc(7,S,2,2,"span",4),g.qZA(),g._UZ(8,"hr",5),g.qZA(),g.TgZ(9,"div",6),g.TgZ(10,"div",7),g._UZ(11,"span",8),g.TgZ(12,"div",9),g.TgZ(13,"h3",10),g._uU(14),g.qZA(),g.TgZ(15,"div",11),g._uU(16),g.ALo(17,"translate"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"div",12),g.YNc(19,A,7,7,"div",13),g.qZA(),g.TgZ(20,"div",14),g.TgZ(21,"div",15),g.TgZ(22,"po-button",16),g.NdJ("click",function(){return e.reprove()}),g.ALo(23,"translate"),g.qZA(),g.YNc(24,Z,2,4,"po-button",17),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"app-delete-modal",18,19),g.NdJ("confirmEvent",function(){return e.confirmDelete()}),g.qZA(),g.TgZ(27,"po-modal",20,21),g.ALo(29,"translate"),g.YNc(30,T,2,1,"span",22),g.YNc(31,I,3,7,"po-textarea",23),g.qZA()),2&t&&(g.xp6(3),g.Q6J("ngClass",e.isMobile?"mobile-card":""),g.xp6(2),g.hij(" ",g.lcZ(6,23,e.cardTitle)," "),g.xp6(2),g.Q6J("ngIf",!e.isMobile&&e.status),g.xp6(2),g.Q6J("ngClass",e.isMobile?"mobile-card":""),g.xp6(2),g.Udp("background-image",e.employeeImage),g.xp6(3),g.Oqu(e.name),g.xp6(2),g.AsE("",g.lcZ(17,25,"l-registry")," ",e.matricula,""),g.xp6(3),g.Q6J("ngForOf",e.fields),g.xp6(2),g.Q6J("ngClass",e.isMobile?"pt-0":"po-pt-5 po-mt-2"),g.xp6(1),g.s9C("p-label",g.lcZ(23,27,e.isApprove?"l-reprove":"l-delete")),g.Q6J("ngClass",e.isMobile?"po-sm-6 po-md-6":"button-delete"),g.xp6(2),g.Q6J("ngIf",e.isApprove||e.canEdit),g.xp6(3),g.ekj("modalApprove",e.approveIsTrue)("modalReprove",!e.approveIsTrue),g.Q6J("p-title",g.lcZ(29,29,e.approveIsTrue?"l-confirmation":"l-reprove-oncall-requisition"))("p-primary-action",e.confirmAction)("p-secondary-action",e.closeAction),g.xp6(3),g.Q6J("ngIf",e.modalText),g.xp6(1),g.Q6J("ngIf",e.reasonVisible))},directives:[M.A,y.mk,y.O5,y.sg,f.bOz,O.z,f.hmF,f.gJm,P.JJ,P.On],pipes:[_.X$],styles:['.on-call-label[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px}.period-label[_ngcontent-%COMP%]{padding-left:8px}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block;padding-bottom:8px;margin-left:-7px}@media screen and (max-width: 491px){.latest-requests[_ngcontent-%COMP%]{padding-top:16px}}.on-call-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60;text-align:left}.margin-history[_ngcontent-%COMP%]{margin-top:-30px}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:14px;font-weight:bold;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.timeline-status-approved[_ngcontent-%COMP%]{background-color:#00bc82;display:flex;align-items:center;justify-items:center;float:right}.timeline-status-reproved[_ngcontent-%COMP%]{background-color:#ca3f3f;display:flex;align-items:center;justify-items:center;float:right}.card-well[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:32px;margin-bottom:8px;position:relative;background:#ffffff}.space[_ngcontent-%COMP%]{margin-bottom:180px}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{margin-right:2px;padding:0 24px}@media (max-width: 425px){.historic-content[_ngcontent-%COMP%]{padding:0 16px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:100px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.card-employee[_ngcontent-%COMP%]{padding-left:0}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder{width:100%;padding:8px}}[_nghost-%COMP%]     .on-call-holder .po-button{border-color:#fff;color:#fff;background-color:transparent}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder .po-button{float:right}}.historic-actions[_ngcontent-%COMP%]{display:inline-block;padding-top:24px;padding-right:16px}@media screen and (max-width: 480px){.historic-actions[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}}.historic-button[_ngcontent-%COMP%]{float:right}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.on-call[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 992px) and (max-width: 1199px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}-link[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .on-call-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .on-call-history-header .mat-content{font-size:14px}}.type1[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#c64840}.circle-base[_ngcontent-%COMP%]{border-radius:50%}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px;vertical-align:text-bottom}.page-margin[_ngcontent-%COMP%]{margin:0 40px 40px}.center[_ngcontent-%COMP%]{margin:0 auto}.load-more-arrow[_ngcontent-%COMP%]{color:#0c9abe;font-size:23px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.request-button[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}@media (min-width: 768px){.on-call[_ngcontent-%COMP%]{padding:0 40px!important}}@media (max-width: 870px){.on-call-label[_ngcontent-%COMP%]{padding-left:8px}}@media (max-width: 460px){.ocurrence-line[_ngcontent-%COMP%]{display:inline-block!important;width:100%}.ocurrence-value[_ngcontent-%COMP%]{padding-right:0;text-align:right;width:66.6%}}.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:0 35px 15px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .thf-button{display:block;width:100%}}.justify-mainName[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:16px;font-weight:bold}.justify-title[_ngcontent-%COMP%]{font-family:"NunitoSans";font-weight:300}.justify-subtitle[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:14px;font-weight:bold}.holder[_ngcontent-%COMP%]{position:relative;margin:0 0 30px}@media screen and (min-width: 480px){.holder[_ngcontent-%COMP%]{margin-bottom:15px!important}}.subtitulo-modal[_ngcontent-%COMP%]{padding-left:0;padding-right:0}@media screen and (max-width: 480px){.subtitulo-modal[_ngcontent-%COMP%]{padding-top:0!important}.justify-subtitle[_ngcontent-%COMP%]{padding-top:10px!important}.justify-text[_ngcontent-%COMP%]{padding-top:0!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}}.info[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:60px;top:8px}.marginTop15px[_ngcontent-%COMP%]{margin-top:15px}.avatar[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.pending[_ngcontent-%COMP%]{background-color:#e8850a}.badge.approved[_ngcontent-%COMP%], .badge.closed[_ngcontent-%COMP%]{background:#00b28e}.badge.rejected[_ngcontent-%COMP%], .badge.reject[_ngcontent-%COMP%], .badge.reproved[_ngcontent-%COMP%]{background:#c64840}.badge.empty[_ngcontent-%COMP%]{background:#e8850a}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}@media (min-width: 961px) and (max-height: 620px){.demission-justify[_ngcontent-%COMP%]{max-height:50px;overflow-y:visible}}@media (min-width: 961px) and (min-height: 621px) and (max-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:70px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:90px;overflow-y:auto}}po-button[_ngcontent-%COMP%]{margin-left:15px}@media screen and (max-width: 480px){po-button[_ngcontent-%COMP%]{margin:0;width:100%}}@media screen and (min-width: 991px){.alignRight[_ngcontent-%COMP%]{text-align:right}}[_nghost-%COMP%]     .button-delete .po-button{color:#d13f43;border-color:#d13f43;height:32px;width:120px}[_nghost-%COMP%]     .button-edit .po-button{height:32px;width:120px}@media (max-width: 480px){[_nghost-%COMP%]     .actions-visualize po-button{display:block;width:50%;margin:auto}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}@media (min-width: 441px) and (max-width: 480px){[_nghost-%COMP%]     #dialogCloseBtn{position:absolute;top:44px;right:25px;cursor:pointer}}@media (min-width: 481px) and (max-width: 960px){[_nghost-%COMP%]     .actions-visualize-others-resolutions po-button{width:50%;margin:0}}.panel-body[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]     div.card-well{padding:32px!important}.mobile-card[_ngcontent-%COMP%]{margin-left:-25px;margin-right:-25px}@media screen and (min-width: 481px){.modalApprove[_ngcontent-%COMP%]     .po-modal-content{width:420px}}.modalApprove[_ngcontent-%COMP%]     .po-modal-header{display:none}.modalApprove[_ngcontent-%COMP%]     .po-modal-body{margin:20px 0 40px}.modalReprove[_ngcontent-%COMP%]     .po-modal-header{padding-bottom:0}']}),t})();const j=["deleteModal"];let z=(()=>{class t{constructor(t,e,n,i,o,l,r){this.translateService=t,this.onCallService=e,this.teamManagementService=n,this.windowUtilService=i,this.momentService=o,this.route=l,this.recurrenceService=r,this.onCallFields=[],this.employeeId=a.N.loggedUser,this.daysToConsider=[],this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.labels=[],this.reasonRequired=!1}ngOnInit(){this.initialize()}getStatus(t){return(0,i.mG)(this,void 0,void 0,function*(){let e=t;return this.isPending(t)&&(e="approving"),yield this.translateService.getI18n("l-"+e)})}isPending(t){return t===l.v.StatusEnum.Pending}getConsiderDays(t){return(0,i.mG)(this,void 0,void 0,function*(){if(!t)return"";this.daysToConsider=t.map(t=>t.label);for(var e=0;e<this.daysToConsider.length;e++)"planned"===this.daysToConsider[e]&&(this.daysToConsider[e]=yield this.translateService.getI18n("l-planned-time")),"compensated"===this.daysToConsider[e]&&(this.daysToConsider[e]=yield this.translateService.getI18n("l-compensated")),"resting"===this.daysToConsider[e]&&(this.daysToConsider[e]=yield this.translateService.getI18n("l-resting")),"holiday"===this.daysToConsider[e]&&(this.daysToConsider[e]=yield this.translateService.getI18n("l-holiday"));return this.daysToConsider.join(", ")})}back(){this.windowUtilService.back()}initialize(){return(0,i.mG)(this,void 0,void 0,function*(){this.isApprove="true"===this.route.snapshot.paramMap.get("isApprove"),this.employeeCard=this.teamManagementService.getEmployeeCard(),this.onCall=this.onCallService.getSelectedOnCall(),this.getOnCallHistory(),this.onCall?yield this.getOnCall():this.windowUtilService.back()})}getOnCallHistory(){this.onCallService.getHistory(this.employeeId).then(t=>{this.updateOnCallHistoryView(t)})}updateOnCallHistoryView(t){t.records.forEach(t=>(0,i.mG)(this,void 0,void 0,function*(){this.labels.push({id:t.id,statusLabel:t.status,status:yield this.getStatus(t.status)})}))}getOnCall(){return(0,i.mG)(this,void 0,void 0,function*(){this.isApprove?this.onCallFields.push({label:"l-init-date",value:this.momentService.getInstance(this.onCall.initDate).utc().format("L"),class:"po-sm-6 po-md-3"},{label:"l-end-date",value:this.momentService.getInstance(this.onCall.endDate).utc().format("L"),class:"po-sm-6 po-md-3"},{label:"l-initial-hour",value:r.Em.getHoursByMilliseconds(6e4*this.onCall.initHour),class:"po-sm-6 po-md-3"},{label:"l-final-hour",value:r.Em.getHoursByMilliseconds(6e4*this.onCall.endHour),class:"po-sm-6 po-md-3"},{label:"l-recurrence",value:yield this.recurrenceService.getRecurrence(this.onCall.recurrence,this.onCall.initDate),class:"po-sm-6"},{label:"l-days-to-consider",value:yield this.getConsiderDays(this.onCall.considerDays),class:"po-sm-6"},{label:"l-justification",value:this.onCall.justification,class:"po-sm-6 po-md-3"},{label:"l-collaborator",value:this.onCall.requesterName,class:"po-sm-6 po-md-3"},{label:"l-on-call-justify-label",value:this.onCall.justification,class:"po-sm-6"},{label:"l-status",value:yield this.getStatus(this.onCall.status),class:"po-sm-6 po-md-3"}):(this.onCallFields.push({label:"l-init-date",value:this.momentService.getInstance(this.onCall.initDate).utc().format("L"),class:"po-sm-6 po-md-3"},{label:"l-end-date",value:this.momentService.getInstance(this.onCall.endDate).utc().format("L"),class:"po-sm-6 po-md-3"},{label:"l-initial-hour",value:r.Em.getHoursByMilliseconds(6e4*this.onCall.initHour),class:"po-sm-6 po-md-3"},{label:"l-final-hour",value:r.Em.getHoursByMilliseconds(6e4*this.onCall.endHour),class:"po-sm-6 po-md-3"},{label:"l-recurrence",value:yield this.recurrenceService.getRecurrence(this.onCall.recurrence,this.onCall.initDate),class:"po-sm-6"},{label:"l-days-to-consider",value:yield this.getConsiderDays(this.onCall.considerDays),class:"po-sm-6"},{label:"l-absence-type-justify",value:this.onCall.justification,class:"po-sm-6"},{label:"l-collaborator",value:this.onCall.requesterName,class:"po-sm-6 po-md-3"},{label:"l-requisition-responsible",value:this.onCall.responsibleName,class:"po-sm-6 po-md-3"},{label:"l-status",value:yield this.getStatus(this.onCall.status),class:"po-sm-6 po-md-3"}),this.onCall.status===l.v.StatusEnum.Reproved&&this.onCallFields.push({label:"l-on-call-reprove-justify-label",value:this.onCall.reproveJustification,class:"po-sm-6"}))})}checkIfDecodeIdUser(t){var e=o.ZP.checkIfDecode(t);return null==e?void 0:e.slice(2)}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(h.g),g.Y36(p.I),g.Y36(d.C),g.Y36(m.g),g.Y36(s.z),g.Y36(u.gz),g.Y36(c.b))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-visualize"]],viewQuery:function(t,e){if(1&t&&g.Gf(j,5),2&t){let t;g.iGM(t=g.CRH())&&(e.deleteModal=t.first)}},decls:5,vars:10,consts:[[1,"on-call"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["backIsVisible","true",3,"pageTitle"],[3,"cardTitle","employeeImage","name","matricula","fields","status","isApprove","onCall","canEdit","back"]],template:function(t,e){1&t&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"app-page-header",3),g.qZA(),g.qZA(),g.TgZ(4,"app-view-details",4),g.NdJ("back",function(){return e.back()}),g.qZA(),g.qZA()),2&t&&(g.xp6(3),g.Q6J("pageTitle",e.isApprove?"l-approvals":"l-call-request-details-title"),g.xp6(1),g.Q6J("cardTitle","l-on-call-requisition")("employeeImage",null==e.employeeCard?null:e.employeeCard.image)("name",null==e.onCall?null:e.onCall.name)("matricula",e.checkIfDecodeIdUser(null==e.onCall?null:e.onCall.idName))("fields",e.onCallFields)("status",null==e.onCall?null:e.onCall.status)("isApprove",e.isApprove)("onCall",e.onCall)("canEdit",!1))},directives:[x.q,q],styles:['.on-call-label[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px}.period-label[_ngcontent-%COMP%]{padding-left:8px}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block;padding-bottom:8px;margin-left:-7px}@media screen and (max-width: 491px){.latest-requests[_ngcontent-%COMP%]{padding-top:16px}}.on-call-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60;text-align:left}.margin-history[_ngcontent-%COMP%]{margin-top:-30px}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:14px;font-weight:bold;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.timeline-status-approved[_ngcontent-%COMP%]{background-color:#00bc82;display:flex;align-items:center;justify-items:center;float:right}.timeline-status-reproved[_ngcontent-%COMP%]{background-color:#ca3f3f;display:flex;align-items:center;justify-items:center;float:right}.card-well[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:32px;margin-bottom:8px;position:relative;background:#ffffff}.space[_ngcontent-%COMP%]{margin-bottom:180px}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{margin-right:2px;padding:0 24px}@media (max-width: 425px){.historic-content[_ngcontent-%COMP%]{padding:0 16px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:100px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.card-employee[_ngcontent-%COMP%]{padding-left:0}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder{width:100%;padding:8px}}[_nghost-%COMP%]     .on-call-holder .po-button{border-color:#fff;color:#fff;background-color:transparent}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder .po-button{float:right}}.historic-actions[_ngcontent-%COMP%]{display:inline-block;padding-top:24px;padding-right:16px}@media screen and (max-width: 480px){.historic-actions[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}}.historic-button[_ngcontent-%COMP%]{float:right}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.on-call[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 992px) and (max-width: 1199px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}-link[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .on-call-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .on-call-history-header .mat-content{font-size:14px}}.type1[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#c64840}.circle-base[_ngcontent-%COMP%]{border-radius:50%}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px;vertical-align:text-bottom}.page-margin[_ngcontent-%COMP%]{margin:0 40px 40px}.center[_ngcontent-%COMP%]{margin:0 auto}.load-more-arrow[_ngcontent-%COMP%]{color:#0c9abe;font-size:23px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.request-button[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}@media (min-width: 768px){.on-call[_ngcontent-%COMP%]{padding:0 40px!important}}@media (max-width: 870px){.on-call-label[_ngcontent-%COMP%]{padding-left:8px}}@media (max-width: 460px){.ocurrence-line[_ngcontent-%COMP%]{display:inline-block!important;width:100%}.ocurrence-value[_ngcontent-%COMP%]{padding-right:0;text-align:right;width:66.6%}}.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:0 35px 15px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .thf-button{display:block;width:100%}}.justify-mainName[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:16px;font-weight:bold}.justify-title[_ngcontent-%COMP%]{font-family:"NunitoSans";font-weight:300}.justify-subtitle[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:14px;font-weight:bold}.holder[_ngcontent-%COMP%]{position:relative;margin:0 0 30px}@media screen and (min-width: 480px){.holder[_ngcontent-%COMP%]{margin-bottom:15px!important}}.subtitulo-modal[_ngcontent-%COMP%]{padding-left:0;padding-right:0}@media screen and (max-width: 480px){.subtitulo-modal[_ngcontent-%COMP%]{padding-top:0!important}.justify-subtitle[_ngcontent-%COMP%]{padding-top:10px!important}.justify-text[_ngcontent-%COMP%]{padding-top:0!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}}.info[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:60px;top:8px}.marginTop15px[_ngcontent-%COMP%]{margin-top:15px}.avatar[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.pending[_ngcontent-%COMP%]{background-color:#e8850a}.badge.approved[_ngcontent-%COMP%], .badge.closed[_ngcontent-%COMP%]{background:#00b28e}.badge.rejected[_ngcontent-%COMP%], .badge.reject[_ngcontent-%COMP%], .badge.reproved[_ngcontent-%COMP%]{background:#c64840}.badge.empty[_ngcontent-%COMP%]{background:#e8850a}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}@media (min-width: 961px) and (max-height: 620px){.demission-justify[_ngcontent-%COMP%]{max-height:50px;overflow-y:visible}}@media (min-width: 961px) and (min-height: 621px) and (max-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:70px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:90px;overflow-y:auto}}po-button[_ngcontent-%COMP%]{margin-left:15px}@media screen and (max-width: 480px){po-button[_ngcontent-%COMP%]{margin:0;width:100%}}@media screen and (min-width: 991px){.alignRight[_ngcontent-%COMP%]{text-align:right}}[_nghost-%COMP%]     .button-delete .po-button{color:#d13f43;border-color:#d13f43;height:32px;width:120px}[_nghost-%COMP%]     .button-edit .po-button{height:32px;width:120px}@media (max-width: 480px){[_nghost-%COMP%]     .actions-visualize po-button{display:block;width:50%;margin:auto}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}@media (min-width: 441px) and (max-width: 480px){[_nghost-%COMP%]     #dialogCloseBtn{position:absolute;top:44px;right:25px;cursor:pointer}}@media (min-width: 481px) and (max-width: 960px){[_nghost-%COMP%]     .actions-visualize-others-resolutions po-button{width:50%;margin:0}}.panel-body[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]     div.card-well{padding:32px!important}.mobile-card[_ngcontent-%COMP%]{margin-left:-25px;margin-right:-25px}']}),t})()},8573:function(t,e,n){n.d(e,{I:function(){return l}});var i=n(33490),o=n(59708),a=n(37716);let l=(()=>{class t{constructor(t){this.genericService=t}getHistory(t,e,n){return new Promise(o=>{const a=`timesheet/onCall/${t}`,l=[];this.genericService.parseParams(l,"page",e),this.genericService.parseParams(l,"pageSize",n),this.genericService.search(a,l).then(t=>{const n=new i.i(null==t?void 0:t.items);n.actualPage=e,n.hasMoreRecords=null==t?void 0:t.hasNext,o(n)})})}getOnCall(t,e){return new Promise(n=>{const i=`timesheet/onCall/${t}`,o=[];this.genericService.parseParams(o,"id",e),this.genericService.parseParams(o,"page",1),this.genericService.parseParams(o,"pageSize",1),this.genericService.search(i,o).then(t=>{n(t.items[0])})})}requestOnCall(t,e){return this.genericService.post(`timesheet/onCall/${t}`,e,!0)}onCallBatchRequest(t){return this.genericService.post("timesheet/onCall/batch",t,!0)}editOnCall(t,e){return this.genericService.put(`team/onCall/${t}/`,e,!0)}getSelectedOnCall(){return t.onCall}setOnCall(e){t.onCall=e}}return t.onCall=null,t.\u0275fac=function(e){return new(e||t)(a.LFG(o.M))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},60228:function(t,e,n){n.d(e,{b:function(){return d}});var i=n(64762),o=n(81483),a=n(37716),l=n(65241),r=n(16338),s=n(62439);let d=(()=>{class t{constructor(t,e,n){this.translateService=t,this.sufixUtil=e,this.dayUtil=n}getRecurrence(t,e){return(0,i.mG)(this,void 0,void 0,function*(){if((e=o.Em.getDateUTCFormat(new Date(e))).setDate(e.getUTCDate()),!t)return yield this.translateService.getI18n("l-on-call-recurrence-message-doesnt-repeat");if(t.repetitions>0)switch(t.repetitionType){case"day":return yield this.getRecurrenceDay(t);case"month":return yield this.getRecurrenceMonth(t,e);case"week":return yield this.getRecurrenceWeek(t);default:return""}})}getRecurrenceDay(t){return(0,i.mG)(this,void 0,void 0,function*(){let e;return 1===t.repetitions&&(t.maxOcurrences>1||!t.maxOcurrences)?e=yield this.translateService.getI18n("l-on-call-recurrence-message-all-days"):t.repetitions>1&&(e=yield this.translateService.getI18n("l-on-call-recurrence-message-days",{repetition:t.repetitions})),(1===t.maxOcurrences&&1===t.repetitions||t.repetitions>1&&1===t.maxOcurrences)&&(e=yield this.translateService.getI18n("l-on-call-recurrence-message-day")),e})}getRecurrenceWeek(t){var e;return(0,i.mG)(this,void 0,void 0,function*(){let n;if(t.weekDays.length>0){n=t.repetitions>1?yield this.translateService.getI18n("l-on-call-recurrence-message-week-repetition",{repetition:t.repetitions}):yield this.translateService.getI18n("l-on-call-recurrence-message-week2"),n+=" (";for(let i=0;i<(null===(e=t.weekDays)||void 0===e?void 0:e.length);i++){const e=t.weekDays[i];i>=t.weekDays.length-1?n+=(yield this.translateService.getI18n("l-"+e.label)):(n+=(yield this.translateService.getI18n("l-"+e.label)),n+=", ")}n+=")"}return n})}getRecurrenceMonth(t,e){return(0,i.mG)(this,void 0,void 0,function*(){let n;if(1===t.repetitions?n=(yield this.translateService.getI18n("l-monthly"))+", ":t.repetitions>1&&(n=(yield this.translateService.getI18n("l-on-each"))+" "+t.repetitions+" ",n+=(yield this.translateService.getI18n("l-months"))+", "),0===t.monthlyRule){const t=Math.ceil(e.getDate()/7);n+=(yield this.translateService.getI18n("l-on-call-week-day-monthly",{ordinal:t,sufix:this.sufixUtil.getSufix(t,e.getDay()),weekDay:yield this.dayUtil.getWeekDayLabel(e.getDay())})).toLowerCase()}else 1===t.monthlyRule&&(n+=(yield this.translateService.getI18n("l-on-call-month-day-monthly",{monthDay:e.getDate()})).toLowerCase());return n})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(l.g),a.LFG(r.t),a.LFG(s.C))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);