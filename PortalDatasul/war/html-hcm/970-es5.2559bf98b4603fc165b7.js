!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=o(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[970],{23831:function(t,o,l){l.d(o,{o:function(){return T}});var s=l(64762),p=l(92340),d=l(81483),u=l(81059),g=l(36227),h=l(97185),m=l(37716),w=l(38583),f=l(29790),v=l(32268);function y(e,t){if(1&e&&(m.TgZ(0,"div",15),m.TgZ(1,"div",5),m.TgZ(2,"span"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"div",13),m.TgZ(6,"span"),m._uU(7),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw().$implicit,i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,2,"l-total-hours")),m.xp6(4),m.Oqu(i.formatHours(n.total))}}function x(e,t){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"div",12),m.TgZ(2,"div",5),m.TgZ(3,"span"),m._uU(4),m.qZA(),m.qZA(),m.TgZ(5,"div",13),m.TgZ(6,"span"),m._uU(7),m.qZA(),m.qZA(),m.qZA(),m.YNc(8,y,8,4,"div",14),m.qZA()),2&e){var n=t.$implicit,i=m.oxw(2);m.xp6(4),m.Oqu(n.description),m.xp6(3),m.Oqu(i.formatHours(n.initHour,n.endHour)),m.xp6(1),m.Q6J("ngIf",i.showTotal)}}function A(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",16),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.mobileShowDetails=!e.mobileShowDetails}),m.TgZ(1,"span"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,1,i.mobileShowDetails?"l-hide-details":"l-show-details-2"))}}function Z(e,t){if(1&e&&(m.TgZ(0,"div",1),m.TgZ(1,"div",2),m.TgZ(2,"div",3),m.TgZ(3,"div",4),m.TgZ(4,"h2",5),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(7,"div",3),m.TgZ(8,"div",6),m.TgZ(9,"span",7),m._uU(10),m.ALo(11,"utcDate"),m.qZA(),m.TgZ(12,"span",8),m._uU(13),m.ALo(14,"titlecase"),m.ALo(15,"utcDate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(16,"div",3),m.YNc(17,x,9,3,"div",9),m.ALo(18,"slice"),m.YNc(19,A,4,3,"div",10),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(5),m.Oqu(m.lcZ(6,5,"l-dailySummary")),m.xp6(5),m.Oqu(m.xi3(11,7,n.date,"shortDate")),m.xp6(3),m.Oqu(m.lcZ(14,10,m.xi3(15,12,n.date,"EEEE"))),m.xp6(4),m.Q6J("ngForOf",m.Dn7(18,15,n.dailySummaryResponse.items,0,n.mobileShowDetails||!n.viewIsMobileOrTablet?n.dailySummaryResponse.items.length:1)),m.xp6(2),m.Q6J("ngIf",n.viewIsMobileOrTablet&&n.dailySummaryResponse.items.length>1)}}var b,T=((b=function(t){a(l,t);var o=r(l);function l(t,n){var i;return e(this,l),(i=o.call(this)).occurrencesService=t,i.fieldPropertiesService=n,i.mobileShowDetails=!1,i.showTotal=!1,i}return n(l,[{key:"hasDailySummary",get:function(){var e,t;return(null===(t=null===(e=this.dailySummaryResponse)||void 0===e?void 0:e.items)||void 0===t?void 0:t.length)>0}},{key:"ngOnInit",value:function(){i(c(l.prototype),"ngOnInit",this).call(this),this.loadFieldProperties()}},{key:"ngOnChanges",value:function(e){var t,n,i=null===(t=e.employeeId)||void 0===t?void 0:t.currentValue,o=null===(n=e.date)||void 0===n?void 0:n.currentValue;null!=o&&"string"==typeof o&&(o=new Date(o)),(this.lastDate!==o||this.lastEmployeeId!=i)&&this.getDailySummary(o),this.lastDate=o,this.lastEmployeeId=i}},{key:"formatHours",value:function(e,t){if(e>=0){var n=d.Em.getHoursByMilliseconds(e);return null!=t&&t>=0?"".concat(n," - ").concat(d.Em.getHoursByMilliseconds(t)):n}}},{key:"loadFieldProperties",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldPropertiesService.getFieldProperties("dailySummary");case 2:null!=(t=e.sent)&&t.forEach(function(e){"total"===e.field&&(n.showTotal=null!=e&&e.visible)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"getDailySummary",value:function(e){var t;return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=4;break}n.t0=null,n.next=7;break;case 4:return n.next=6,this.occurrencesService.getOccurrencesOfDay(null!==(t=this.employeeId)&&void 0!==t?t:p.N.loggedUser,e);case 6:n.t0=n.sent;case 7:return this.dailySummaryResponse=n.t0,n.abrupt("return",this.dailySummaryResponse);case 9:case"end":return n.stop()}},n,this)}))}}]),l}(u.R)).\u0275fac=function(e){return new(e||b)(m.Y36(h.$),m.Y36(g.c))},b.\u0275cmp=m.Xpm({type:b,selectors:[["app-daily-summary"]],inputs:{date:"date",employeeId:"employeeId"},features:[m.qOj,m.TTD],decls:1,vars:1,consts:[["class","daily-summary",4,"ngIf"],[1,"daily-summary"],[1,"header"],[1,"po-row"],[1,"po-sm-12"],[1,"title"],[1,"po-sm-12","date"],[1,"full","po-mr-lg-2","po-mr-xl-2"],[1,"day"],["class","po-sm-12 po-md-12 po-lg-6 po-xl-4 item",4,"ngFor","ngForOf"],["class","button-details",3,"click",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-6","po-xl-4","item"],[1,"info","info-left"],[1,"value"],["class","info info-right",4,"ngIf"],[1,"info","info-right"],[1,"button-details",3,"click"]],template:function(e,t){1&e&&m.YNc(0,Z,20,19,"div",0),2&e&&m.Q6J("ngIf",t.hasDailySummary)},directives:[w.O5,w.sg],pipes:[f.X$,v.$,w.rS,w.OU],styles:['.daily-summary[_ngcontent-%COMP%]{border-radius:3px;background-color:#fff;box-shadow:0 2px 8px #e3e6f1;margin-top:16px;padding:16px 8px 0}@media (min-width: 961px){.daily-summary[_ngcontent-%COMP%]{padding-bottom:8px}}.daily-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"NunitoSans-bold";font-weight:400;color:#0c9abe;font-size:18px}@media (min-width: 961px){.daily-summary[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#000;font-size:20px}}.daily-summary[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-bottom:14.5px;font-size:20px;display:flex}@media (min-width: 961px){.daily-summary[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:inherit;display:block}}.daily-summary[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .full[_ngcontent-%COMP%]{font-family:"NunitoSans-bold";font-weight:400;width:60%}.daily-summary[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{width:40%;color:#8e8e93;margin-left:40px}@media (min-width: 961px){.daily-summary[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{margin-left:0}}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:8.5px 0;display:flex}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:12px}@media (min-width: 961px){.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:inherit}}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] ~ .info[_ngcontent-%COMP%]{margin-left:40px}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.info-left[_ngcontent-%COMP%]{width:60%}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.info-right[_ngcontent-%COMP%]{width:40%}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{overflow:hidden;word-break:break-word}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-family:"NunitoSans-bold";font-weight:400}@media (min-width: 961px){.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.info-left[_ngcontent-%COMP%]{width:200px}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info.info-right[_ngcontent-%COMP%]{width:110px}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"NunitoSans-bold";font-weight:400;color:#4a5c60}.daily-summary[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-family:"NunitoSans";font-weight:200}}.daily-summary[_ngcontent-%COMP%]   .button-details[_ngcontent-%COMP%]{position:relative;padding:8.5px 0;display:flex;width:100%;justify-content:center;color:#0c9abe;cursor:pointer}.daily-summary[_ngcontent-%COMP%]   .button-details[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;top:0;left:-8px;background:#eceded;height:1px;width:calc(100% + 16px)}']}),b)},76970:function(t,o,l){l.r(o),l.d(o,{AllowanceListRoutingModule:function(){return Ye}});var s=l(95987),p=l(51110),d=l(64762),u=l(37716),g=l(92340),h=((h||(h={})).StatusEnum={Pending:"pending",Rejected:"rejected",Approved:"approved"},h),m=l(33490),w=l(44852),f=l(44956),v=l(72212),y=l(49512),x=l(65241),A=l(38583),Z=l(29790),b=l(32268),T=l(18648);function M(e,t){if(1&e&&(u.TgZ(0,"span",3),u.TgZ(1,"div",4),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",5),u._uU(5),u.ALo(6,"utcDate"),u.qZA(),u.qZA()),2&e){var n=u.oxw(2);u.xp6(2),u.Oqu(u.lcZ(3,2,"l-initial-date")),u.xp6(3),u.Oqu(u.xi3(6,4,n.allowance.initDate,"dd/MM/yyyy"))}}function q(e,t){if(1&e&&(u.TgZ(0,"span",3),u.TgZ(1,"div",4),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",5),u._uU(5),u.ALo(6,"utcDate"),u.qZA(),u.qZA()),2&e){var n=u.oxw(2);u.xp6(2),u.Oqu(u.lcZ(3,2,"l-end-date")),u.xp6(3),u.Oqu(u.xi3(6,4,n.allowance.endDate,"dd/MM/yyyy"))}}function O(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"span",3),u.TgZ(2,"div",4),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"div",5),u._uU(6),u.ALo(7,"formatMillisecondsAsHour"),u.qZA(),u.qZA(),u.TgZ(8,"span",3),u.TgZ(9,"div",4),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.TgZ(12,"div",5),u._uU(13),u.ALo(14,"formatMillisecondsAsHour"),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw(2);u.xp6(3),u.Oqu(u.lcZ(4,4,"l-initial-hour")),u.xp6(3),u.Oqu(u.lcZ(7,6,n.allowance.initHour)),u.xp6(4),u.Oqu(u.lcZ(11,8,"l-final-hour")),u.xp6(3),u.Oqu(u.lcZ(14,10,n.allowance.endHour))}}function C(e,t){if(1&e&&(u.TgZ(0,"div",6),u.TgZ(1,"span",9),u.TgZ(2,"div",4),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"div",5),u._uU(6),u.ALo(7,"formatMillisecondsAsHour"),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw(2);u.xp6(3),u.Oqu(u.lcZ(4,2,"l-total-hours")),u.xp6(3),u.Oqu(u.lcZ(7,4,n.allowance.totalMinutes))}}function k(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"div",2),u.TgZ(2,"span",3),u.TgZ(3,"div",4),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"div",5),u._uU(7),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.YNc(9,M,7,7,"span",7),u.YNc(10,q,7,7,"span",7),u.qZA(),u.YNc(11,O,15,12,"div",8),u.YNc(12,C,8,6,"div",8),u.qZA()),2&e){var n=u.oxw();u.xp6(4),u.Oqu(u.lcZ(5,6,"l-allowanceType")),u.xp6(3),u.Oqu(n.allowance.allowanceType.description),u.xp6(2),u.Q6J("ngIf",n.isVisible(n.allowance,"initDate",!0)),u.xp6(1),u.Q6J("ngIf",n.isVisible(n.allowance,"endDate",!0)),u.xp6(1),u.Q6J("ngIf",n.isVisible(n.allowance,"period",!0)),u.xp6(1),u.Q6J("ngIf",n.isVisible(n.allowance,"totalHour",!1))}}var _,H=((_=function(){function t(n,i){var o=this;e(this,t),this.appTranslateService=n,this.allowanceService=i,this.deleted=new u.vpe,this.confirmAction={label:"l-delete",action:function(){return o.excludeAllowance()}},this.cancelAction={label:"l-cancel",action:function(){return o.excludeDialog.close()}}}return n(t,[{key:"ngOnInit",value:function(){this.translateLabelConfirm()}},{key:"translateLabelConfirm",value:function(){for(var e=this,t=function(){var t=i[n];e.appTranslateService.getI18n(t.label).then(function(e){t.label=e})},n=0,i=[this.confirmAction,this.cancelAction];n<i.length;n++)t()}},{key:"openDialog",value:function(){this.excludeDialog.open()}},{key:"excludeAllowance",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.employeeId||(this.employeeId=g.N.loggedUser),!this.allowance.canAlter){e.next=8;break}return e.prev=1,e.next=4,this.allowanceService.deleteAllowance(this.allowance.id,this.employeeId);case 4:this.deleted.emit();case 5:return e.prev=5,this.excludeDialog.close(),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[1,,5,8]])}))}},{key:"isVisible",value:function(e,t,n){return e&&e.allowanceType.props&&e.allowanceType.props.length?v.Z.isVisible(e.allowanceType.props,t):n}}]),t}()).\u0275fac=function(e){return new(e||_)(u.Y36(x.g),u.Y36(y.n))},_.\u0275cmp=u.Xpm({type:_,selectors:[["app-allowance-exclude"]],viewQuery:function(e,t){var n;1&e&&u.Gf(f.hmF,5),2&e&&u.iGM(n=u.CRH())&&(t.excludeDialog=n.first)},inputs:{allowance:"allowance",employeeId:"employeeId"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row"],["class","po-sm-6 po-md-6 po-lg-6 po-xl-6 no-padding",4,"ngIf"],["class","po-row",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"]],template:function(e,t){1&e&&(u.TgZ(0,"po-modal",0),u.ALo(1,"translate"),u.YNc(2,k,13,8,"div",1),u.qZA()),2&e&&(u.s9C("p-title",u.lcZ(1,4,"l-ask-delete-allowance")),u.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),u.xp6(2),u.Q6J("ngIf",t.allowance))},directives:[f.hmF,A.O5],pipes:[Z.X$,b.$,T.P],styles:["[_nghost-%COMP%]     .thf-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .thf-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .thf-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),_),P=l(68014),I=l(81483),D=l(96054),V=l(3679),E=l(47106);function S(e,t){if(1&e&&(u.TgZ(0,"option",11),u._uU(1),u.qZA()),2&e){var n=t.$implicit,i=u.oxw(2);u.Q6J("ngValue",n)("selected",i.changeSelectType(n)),u.xp6(1),u.hij(" ",n.description," ")}}function L(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"span",12),u.TgZ(1,"po-datepicker",13),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).initDateEdit=e}),u.ALo(2,"translate"),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(1),u.s9C("p-label",u.lcZ(2,2,"l-initial-date")),u.Q6J("ngModel",i.initDateEdit)}}function N(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"span",12),u.TgZ(1,"po-datepicker",14),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).endDateEdit=e}),u.ALo(2,"translate"),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(1),u.s9C("p-label",u.lcZ(2,2,"l-end-date")),u.Q6J("ngModel",i.endDateEdit)}}function J(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",15),u.TgZ(1,"span",12),u.TgZ(2,"span",4),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"po-input",16),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).iniHourEdit=e}),u.qZA(),u.qZA(),u.TgZ(6,"span",12),u.TgZ(7,"span",4),u._uU(8),u.ALo(9,"translate"),u.qZA(),u.TgZ(10,"po-input",17),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).endHourEdit=e}),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(3),u.Oqu(u.lcZ(4,8,"l-initial-hour")),u.xp6(2),u.Q6J("ngModel",i.iniHourEdit)("p-mask",i.mask)("p-pattern",i.pattern),u.xp6(3),u.Oqu(u.lcZ(9,10,"l-final-hour")),u.xp6(2),u.Q6J("ngModel",i.endHourEdit)("p-mask",i.mask)("p-pattern",i.pattern)}}function U(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",15),u.TgZ(1,"div",18),u.TgZ(2,"span",4),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"po-input",19),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).totalHourEdit=e}),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(3),u.Oqu(u.lcZ(4,6,"l-total")),u.xp6(2),u.Q6J("p-required",i.isRequired(i.allowance,"totalHour"))("p-disabled",!i.isEditable(i.allowance,"totalHour"))("ngModel",i.totalHourEdit)("p-mask",i.mask)("p-pattern",i.pattern)}}function F(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",20),u.TgZ(1,"div",21),u.TgZ(2,"app-attach-file",22),u.NdJ("attachedFileChange",function(e){return u.CHM(n),u.oxw(2).attachedFile=e}),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(2),u.Q6J("attachedId",i.allowance.id)("attachedFile",i.attachedFile)}}function R(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"div",2),u.TgZ(2,"span",3),u.TgZ(3,"span",4),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"select",5),u.NdJ("change",function(e){return u.CHM(n),u.oxw().updateAllowanceType(e.currentTarget.selectedIndex)}),u.YNc(7,S,2,3,"option",6),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.YNc(9,L,3,4,"span",8),u.YNc(10,N,3,4,"span",8),u.qZA(),u.YNc(11,J,11,12,"div",9),u.YNc(12,U,6,8,"div",9),u.YNc(13,F,3,2,"div",10),u.qZA()}if(2&e){var i=u.oxw();u.xp6(4),u.Oqu(u.lcZ(5,7,"l-allowanceType")),u.xp6(3),u.Q6J("ngForOf",i.allowanceTypes),u.xp6(2),u.Q6J("ngIf",i.isVisible(i.allowance,"initDate")),u.xp6(1),u.Q6J("ngIf",i.isVisible(i.allowance,"endDate")),u.xp6(1),u.Q6J("ngIf",i.isVisible(i.allowance,"period")),u.xp6(1),u.Q6J("ngIf",i.isVisible(i.allowance,"totalHour")),u.xp6(1),u.Q6J("ngIf",i.canSendAttach)}}var Q=function(){var t=function(){function t(n,i,o,a){var l=this;e(this,t),this.appTranslateService=n,this.allowanceService=i,this.notificationService=o,this.permissionSelectors=a,this.allowanceTypes=[],this.mask="99:99",this.pattern="^(2[0-3]|[01]*[0-9]):?([0-5][0-9])$",this.isUpdateType=!1,this.confirmAction={label:"l-save",action:function(){l.editAllowance()}},this.cancelAction={label:"l-cancel",action:function(){l.ediAllowancetDialog.close()}},this.events=new u.vpe,this.edited=new u.vpe}return n(t,[{key:"ngOnInit",value:function(){this.watchPermissions()}},{key:"ngOnDestroy",value:function(){this.events&&this.events.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}},{key:"initializeComponent",value:function(e){this.isUpdateType=!1,this.allowance=e,this.initDateEdit=I.Em.returnDateStringPODatepicker(this.allowance.initDate),this.endDateEdit=I.Em.returnDateStringPODatepicker(this.allowance.endDate),this.convertHour(),this.getFromServerAttachedFile()}},{key:"changeSelectType",value:function(e){return e.id===this.allowanceTypeId}},{key:"updateAllowanceType",value:function(e){(e||0===e)&&(this.idEdit=this.allowanceTypes[e].id,this.typeIdDescriptionEdit=this.allowanceTypes[e].description,this.requiredAttachmentEdit=this.allowanceTypes[e].requiredAttachment,this.isUpdateType=!0)}},{key:"openDialog",value:function(){this.watchPermissions(),this.ediAllowancetDialog.open(),this.getAllowanceTypes(),this.translateLabelConfirm(),this.convertHour()}},{key:"editAllowance",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.employeeId||(this.employeeId=g.N.loggedUser),!this.allowance.canAlter){e.next=24;break}if(t=this.checkFormatHour(this.iniHourEdit),n=this.checkFormatHour(this.endHourEdit),i=this.checkFormatHour(this.totalHourEdit),!this.validadeHourInputFormat(t,n)){e.next=4;break}return e.abrupt("return");case 4:if(this.allowance.initDate=I.Em.formatUTCDate(new Date(this.initDateEdit)),this.allowance.endDate=I.Em.formatUTCDate(new Date(this.endDateEdit)),this.allowance.initHour=I.Em.getTotalMilliseconds(t),this.allowance.endHour=I.Em.getTotalMilliseconds(n),this.allowance.totalMinutes=I.Em.getTotalMilliseconds(i),!this.isUpdateType){e.next=10;break}if(this.validateAttachment(this.idEdit,this.requiredAttachmentEdit,this.attachedFile)){e.next=7;break}return e.abrupt("return");case 7:this.allowance.allowanceType.id=this.idEdit,this.allowance.allowanceType.description=this.typeIdDescriptionEdit,this.allowance.allowanceType.requiredAttachment=this.requiredAttachmentEdit,e.next=12;break;case 10:if(this.validateAttachment(this.allowance.allowanceType.id,this.allowance.allowanceType.requiredAttachment,this.attachedFile)){e.next=12;break}return e.abrupt("return");case 12:return this.allowance.hasAttachment=null!=this.attachedFile,this.allowance.file=this.attachedFile,e.prev=13,e.next=16,this.allowanceService.updateAllowance(this.employeeId,this.allowance.id,this.allowance);case 16:this.edited.emit(this.allowance),this.showMessageSuccess("l-msg-save-success"),this.ediAllowancetDialog.close(),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(13),console.error(e.t0);case 24:case"end":return e.stop()}},e,this,[[13,21]])}))}},{key:"checkFormatHour",value:function(e){return e.indexOf(":")>=0?e:e.substr(0,2).concat(":").concat(e.substr(2,3))}},{key:"showMessageSuccess",value:function(e){var t=this;this.appTranslateService.getI18n(e).then(function(e){t.notificationService.showNotification(e,f.ik9.Success)})}},{key:"isVisible",value:function(e,t){return!!(e&&e.allowanceType.props&&e.allowanceType.props.length)&&v.Z.isVisible(e.allowanceType.props,t)}},{key:"isEditable",value:function(e,t){return!!(e&&e.allowanceType.props&&e.allowanceType.props.length)&&v.Z.isEditable(e.allowanceType.props,t)}},{key:"isRequired",value:function(e,t){return!!(e&&e.allowanceType.props&&e.allowanceType.props.length)&&v.Z.isRequired(e.allowanceType.props,t)}},{key:"convertHour",value:function(){this.allowance&&(this.iniHourEdit=I.Em.getHoursByMilliseconds(this.allowance.initHour),this.endHourEdit=I.Em.getHoursByMilliseconds(this.allowance.endHour),this.totalHourEdit=I.Em.getHoursByMilliseconds(this.allowance.totalMinutes),this.allowanceTypeId=this.allowance.allowanceType.id,this.allowanceDescription=this.allowance.allowanceType.description)}},{key:"translateLabelConfirm",value:function(){for(var e=this,t=function(){var t=i[n];e.appTranslateService.getI18n(t.label).then(function(e){t.label=e})},n=0,i=[this.confirmAction,this.cancelAction];n<i.length;n++)t()}},{key:"getAllowanceTypes",value:function(){var e=this;this.allowanceService.getAllowancesTypes().then(function(t){e.allowanceTypes=t}).catch(function(e){console.error("Erro ao requisitar os tipos de abono: "+e)})}},{key:"watchPermissions",value:function(){var e,t=this;null===(e=this.permissionsSubscription)||void 0===e||e.unsubscribe();var n=null!=this.employeeId&&"{current}"!==this.employeeId;this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(e){t.canSendAttach=e.sendAttachmentAllowance&&!n||e.teamManagementSendAttachmentAllowance&&n,t.canViewAttach=e.viewAttachmentAllowance&&!n||e.teamManagementViewAttachmentAllowance&&n})}},{key:"getFromServerAttachedFile",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.allowance.hasAttachment){e.next=6;break}return e.next=3,this.allowanceService.getAttachedFile(this.allowance.id);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:this.attachedFile=e.t0;case 8:case"end":return e.stop()}},e,this)}))}},{key:"validateAttachment",value:function(e,t,n){var i=this;return!e||!t||null!=n||(this.appTranslateService.getI18n("l-required-attachment").then(function(e){i.notificationService.showNotification(e,f.ik9.Error)}),!1)}},{key:"validadeHourInputFormat",value:function(e,t){var n=this;if(this.isVisible(this.allowance,"period")){if(5!=e.length)return this.appTranslateService.getI18n("m-initHourInvalid").then(function(e){n.notificationService.showNotification(e,f.ik9.Error)}),!0;if(5!=t.length)return this.appTranslateService.getI18n("m-endHourInvalid").then(function(e){n.notificationService.showNotification(e,f.ik9.Error)}),!0}return!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(x.g),u.Y36(y.n),u.Y36(D.g),u.Y36(P.eL))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-allowance-update"]],viewQuery:function(e,t){var n;(1&e&&(u.Gf(f.hmF,5),u.Gf(f.ZZR,7)),2&e)&&(u.iGM(n=u.CRH())&&(t.ediAllowancetDialog=n.first),u.iGM(n=u.CRH())&&(t.combo=n.first))},inputs:{allowance:"allowance",employeeId:"employeeId",events:"events"},outputs:{edited:"edited"},decls:3,vars:6,consts:[["p-click-out","true",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-field-title","titleInput","space"],["id","allowanceType","name","allowanceType",1,"form-control",3,"change"],[3,"ngValue","selected",4,"ngFor","ngForOf"],[1,"po-row","second-row"],["class","po-sm-6 po-md-6 po-lg-6 po-xl-6",4,"ngIf"],["class","po-row third-row",4,"ngIf"],["class","po-row",4,"ngIf"],[3,"ngValue","selected"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6"],["id","initDate","name","initDate","p-required","",3,"ngModel","p-label","ngModelChange"],["id","endDate","name","endDate","p-required","",3,"ngModel","p-label","ngModelChange"],[1,"po-row","third-row"],["id","initHour","p-maxlength","5","p-placeholder","00:00",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","p-mask","p-pattern","ngModelChange"],["id","endHour","p-maxlength","5","p-placeholder","00:00",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","p-mask","p-pattern","ngModelChange"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-6"],["id","totalMinutes","p-maxlength","5","p-placeholder","00:00",3,"p-required","p-disabled","ngModel","p-mask","p-pattern","ngModelChange"],[1,"po-row"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","no-padding"],["urlDownloadFile","timesheet/allowances/file/download","requirementsCss","po-mt-1 po-sm-12 po-md-12 po-lg-6 po-xl-6 no-padding","attachFileButtonCss","po-mt-1 po-sm-12 po-md-12 po-lg-3 po-xl-3 po-pt-1",3,"attachedId","attachedFile","attachedFileChange"]],template:function(e,t){1&e&&(u.TgZ(0,"po-modal",0),u.ALo(1,"translate"),u.YNc(2,R,14,9,"div",1),u.qZA()),2&e&&(u.s9C("p-title",u.lcZ(1,4,"l-edit-allowance")),u.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),u.xp6(2),u.Q6J("ngIf",t.allowance))},directives:[f.hmF,A.O5,A.sg,V.YN,V.Kr,f.GWy,V.JJ,V.On,f.xxV,E.n],pipes:[Z.X$],styles:[".first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),t}(),Y=l(66163),j=l(18494),G=l(97983),z=l(14833),B=l(63114),$=l(37503),X=l(84479),W=l(36812),K=l(20307),ee=l(82832),te=l(90171);function ne(e,t){if(1&e&&u._UZ(0,"app-card-employee",9),2&e){var n=u.oxw();u.Q6J("image",null==n.employeeCard?null:n.employeeCard.image)("name",null==n.employeeCard.employee?null:n.employeeCard.employee.name)("role",null==n.employeeCard.employee?null:n.employeeCard.employee.roleDescription)("status",null==n.employeeCard.employee?null:n.employeeCard.employee.employeeStatus)}}function ie(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",26),u.TgZ(1,"span",27),u._UZ(2,"span",28),u.TgZ(3,"ul",29),u._UZ(4,"div",30),u.TgZ(5,"li",31),u.NdJ("click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().openExcludeDialog(e)}),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.TgZ(8,"li",31),u.NdJ("click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().openEditDialog(e)}),u._uU(9),u.ALo(10,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&e&&(u.xp6(6),u.hij(" ",u.lcZ(7,2,"l-delete")," "),u.xp6(3),u.hij(" ",u.lcZ(10,4,"l-edit")," "))}function oe(e,t){if(1&e&&(u.TgZ(0,"span"),u.TgZ(1,"div",16),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",17),u._uU(5),u.ALo(6,"utcDate"),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit,i=u.oxw();u.Gre("po-sm-6 po-mt-md-1 ",i.isDayAllowance(n)&&i.isIntervalVisible(n)?"po-md-3":"po-md-4"," po-lg-2 po-xl-2 panel-item-group"),u.xp6(2),u.Oqu(u.lcZ(3,5,"l-end-date")),u.xp6(3),u.Oqu(u.xi3(6,7,n.endDate,"dd/MM/yyyy"))}}function ae(e,t){if(1&e&&(u.TgZ(0,"span",32),u.TgZ(1,"div",16),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",17),u._uU(5),u.ALo(6,"formatMillisecondsAsHour"),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(2),u.Oqu(u.lcZ(3,2,"l-initial-hour")),u.xp6(3),u.Oqu(u.lcZ(6,4,n.initHour))}}function le(e,t){if(1&e&&(u.TgZ(0,"span",32),u.TgZ(1,"div",16),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",17),u._uU(5),u.ALo(6,"formatMillisecondsAsHour"),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(2),u.Oqu(u.lcZ(3,2,"l-final-hour")),u.xp6(3),u.Oqu(u.lcZ(6,4,n.endHour))}}function re(e,t){if(1&e&&(u.TgZ(0,"span"),u.TgZ(1,"div",16),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"div",17),u._uU(5),u.ALo(6,"formatMillisecondsAsHour"),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit,i=u.oxw();u.Gre("po-sm-6 po-mt-md-1 ",i.isDayAllowance(n)&&i.isIntervalVisible(n)?"po-md-3":"po-md-4"," po-lg-2 po-xl-2 panel-item-group"),u.xp6(2),u.Oqu(u.lcZ(3,5,"l-total-hours")),u.xp6(3),u.Oqu(u.lcZ(6,7,n.totalMinutes))}}function se(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"span",33),u.TgZ(1,"po-button",34),u.NdJ("p-click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().getAttachedFile(e.id)}),u.ALo(2,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(1),u.MGl("p-label","\xa0",u.lcZ(2,1,"l-medical-certificate"),""))}function ce(e,t){1&e&&u._UZ(0,"span",35)}function pe(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"span",36),u.TgZ(1,"po-button",37),u.NdJ("p-click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().getAttachedFile(e.id)}),u.ALo(2,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(1),u.MGl("p-label","\xa0",u.lcZ(2,1,"l-medical-certificate"),""))}function de(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"span",38),u.TgZ(1,"po-button",37),u.NdJ("p-click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().getAttachedFile(e.id)}),u.ALo(2,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(1),u.MGl("p-label","\xa0",u.lcZ(2,1,"l-medical-certificate"),""))}function ue(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"span",39),u.TgZ(1,"po-button",37),u.NdJ("p-click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().getAttachedFile(e.id)}),u.ALo(2,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(1),u.MGl("p-label","\xa0",u.lcZ(2,1,"l-view-medical-certificate"),""))}function ge(e,t){if(1&e&&(u.TgZ(0,"app-card",10),u.TgZ(1,"div",11),u.TgZ(2,"h2",12),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.YNc(5,ie,11,6,"div",13),u.qZA(),u.TgZ(6,"div",14),u.TgZ(7,"span",15),u.TgZ(8,"div",16),u._uU(9),u.ALo(10,"translate"),u.qZA(),u.TgZ(11,"div",17),u._uU(12),u.qZA(),u.qZA(),u.TgZ(13,"span"),u.TgZ(14,"div",16),u._uU(15),u.ALo(16,"translate"),u.qZA(),u.TgZ(17,"div",17),u._uU(18),u.ALo(19,"utcDate"),u.qZA(),u.qZA(),u.YNc(20,oe,7,10,"span",18),u.YNc(21,ae,7,6,"span",19),u.YNc(22,le,7,6,"span",19),u.YNc(23,re,7,9,"span",18),u.TgZ(24,"span",20),u.TgZ(25,"div",16),u._uU(26),u.ALo(27,"translate"),u.qZA(),u.TgZ(28,"div",17),u._uU(29),u.qZA(),u.qZA(),u.YNc(30,se,3,3,"span",21),u.YNc(31,ce,1,0,"span",22),u.YNc(32,pe,3,3,"span",23),u.YNc(33,de,3,3,"span",24),u.YNc(34,ue,3,3,"span",25),u.qZA(),u.qZA()),2&e){var n=t.$implicit,i=u.oxw();u.Q6J("cssClass","card-request-active po-xl-12 po-lg-12 po-md-12 po-sm-12"),u.xp6(3),u.Oqu(u.lcZ(4,21,"l-allowance-requested")),u.xp6(2),u.Q6J("ngIf",n.canAlter),u.xp6(4),u.Oqu(u.lcZ(10,23,"l-allowanceType")),u.xp6(3),u.Oqu(n.allowanceType.description),u.xp6(1),u.Gre("po-sm-6 po-mt-md-1 ",i.isDayAllowance(n)&&i.isIntervalVisible(n)?"po-md-3":"po-md-4"," po-lg-2 po-xl-2 panel-item-group"),u.xp6(2),u.Oqu(u.lcZ(16,25,"l-initial-date")),u.xp6(3),u.Oqu(u.xi3(19,27,n.initDate,"dd/MM/yyyy")),u.xp6(2),u.Q6J("ngIf",i.isVisible(n,"endDate")),u.xp6(1),u.Q6J("ngIf",i.isDayAllowance(n)&&i.isIntervalVisible(n)),u.xp6(1),u.Q6J("ngIf",i.isDayAllowance(n)&&i.isIntervalVisible(n)),u.xp6(1),u.Q6J("ngIf",!i.isDayAllowance(n)),u.xp6(3),u.Oqu(u.lcZ(27,30,"l-status")),u.xp6(3),u.Oqu(n.statusLabel),u.xp6(1),u.Q6J("ngIf",i.downloadButtonIsVisibleDesktopLine1(n)),u.xp6(1),u.Q6J("ngIf",i.isDayAllowance(n)&&i.isIntervalVisible(n)),u.xp6(1),u.Q6J("ngIf",i.downloadButtonIsVisibleDesktopLine2(n)),u.xp6(1),u.Q6J("ngIf",i.downloadButtonIsVisibleMdOrSmallerDevice(n)),u.xp6(1),u.Q6J("ngIf",i.downloadButtonIsVisibleMdOrSmallerDevice(n))}}function he(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",40),u.NdJ("click",function(){return u.CHM(n),u.oxw().viewMoreHistoryPending()}),u.TgZ(1,"a",null,41),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(3),u.hij("",u.lcZ(4,1,"l-load-more")," "))}function me(e,t){1&e&&u._UZ(0,"span",59)}function we(e,t){1&e&&u._UZ(0,"span",60)}function fe(e,t){if(1&e&&(u.TgZ(0,"span"),u._UZ(1,"hr",54),u.TgZ(2,"div",55),u.TgZ(3,"span",56),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"span",57),u._uU(7),u.ALo(8,"utcDate"),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(4),u.Oqu(u.lcZ(5,2,"l-end-date")),u.xp6(3),u.Oqu(u.xi3(8,4,n.endDate,"dd/MM/yyyy"))}}function ve(e,t){if(1&e&&(u.TgZ(0,"span"),u._UZ(1,"hr",54),u.TgZ(2,"div",55),u.TgZ(3,"span",56),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"span",57),u._uU(7),u.ALo(8,"formatMillisecondsAsHour"),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(4),u.Oqu(u.lcZ(5,2,"l-initial-hour")),u.xp6(3),u.Oqu(u.lcZ(8,4,n.initHour))}}function ye(e,t){if(1&e&&(u.TgZ(0,"span"),u._UZ(1,"hr",54),u.TgZ(2,"div",55),u.TgZ(3,"span",56),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"span",57),u._uU(7),u.ALo(8,"formatMillisecondsAsHour"),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(4),u.Oqu(u.lcZ(5,2,"l-final-hour")),u.xp6(3),u.Oqu(u.lcZ(8,4,n.endHour))}}function xe(e,t){if(1&e&&(u.TgZ(0,"span"),u._UZ(1,"hr",54),u.TgZ(2,"div",55),u.TgZ(3,"span",56),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"span",57),u._uU(7),u.ALo(8,"formatMillisecondsAsHour"),u.qZA(),u.qZA(),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(4),u.Oqu(u.lcZ(5,2,"l-total-hours")),u.xp6(3),u.Oqu(u.lcZ(8,4,n.totalMinutes))}}function Ae(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"po-button",61),u.NdJ("p-click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw(2).getAttachedFile(e.id)}),u.ALo(1,"translate"),u.qZA()}2&e&&u.s9C("p-label",u.lcZ(1,1,"download-medical-certificate"))}var Ze=function(e,t){return{circleBase:!0,type1:e,type2:t}};function be(e,t){if(1&e&&(u.TgZ(0,"mat-expansion-panel",45,46),u.TgZ(2,"mat-expansion-panel-header",47),u.TgZ(3,"mat-panel-title"),u.TgZ(4,"div"),u._UZ(5,"div",48),u.TgZ(6,"span",49),u._uU(7),u.ALo(8,"utcDate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"mat-panel-description",50),u.TgZ(10,"div",51),u.YNc(11,me,1,0,"span",52),u.YNc(12,we,1,0,"span",53),u.qZA(),u.qZA(),u.qZA(),u._UZ(13,"hr",54),u.TgZ(14,"div",55),u.TgZ(15,"span",56),u._uU(16),u.ALo(17,"translate"),u.qZA(),u.TgZ(18,"span",57),u._uU(19),u.qZA(),u.qZA(),u.TgZ(20,"span"),u._UZ(21,"hr",54),u.TgZ(22,"div",55),u.TgZ(23,"span",56),u._uU(24),u.ALo(25,"translate"),u.qZA(),u.TgZ(26,"span",57),u._uU(27),u.ALo(28,"utcDate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(29,fe,9,7,"span",6),u.YNc(30,ve,9,6,"span",6),u.YNc(31,ye,9,6,"span",6),u.TgZ(32,"span"),u._UZ(33,"hr",54),u.TgZ(34,"div",55),u.TgZ(35,"span",56),u._uU(36),u.ALo(37,"translate"),u.qZA(),u.TgZ(38,"span",57),u._uU(39),u.qZA(),u.qZA(),u.qZA(),u.YNc(40,xe,9,6,"span",6),u.YNc(41,Ae,2,3,"po-button",58),u.qZA()),2&e){var n=t.$implicit,i=u.MAs(1),o=u.oxw(2);u.xp6(5),u.Q6J("ngClass",u.WLB(28,Ze,o.isApproved(n.status),!o.isApproved(n.status))),u.xp6(2),u.AsE(" ",u.xi3(8,16,n.initDate,"dd/MM/yyyy")," - ",n.allowanceType.description," "),u.xp6(4),u.Q6J("ngIf",i.expanded),u.xp6(1),u.Q6J("ngIf",!i.expanded),u.xp6(4),u.Oqu(u.lcZ(17,19,"l-allowanceType")),u.xp6(3),u.Oqu(n.allowanceType.description),u.xp6(5),u.Oqu(u.lcZ(25,21,"l-initial-date")),u.xp6(3),u.Oqu(u.xi3(28,23,n.initDate,"dd/MM/yyyy")),u.xp6(2),u.Q6J("ngIf",o.isVisible(n,"endDate")),u.xp6(1),u.Q6J("ngIf",o.isDayAllowance(n)&&o.isIntervalVisible(n)),u.xp6(1),u.Q6J("ngIf",o.isDayAllowance(n)&&o.isIntervalVisible(n)),u.xp6(5),u.Oqu(u.lcZ(37,26,"l-status")),u.xp6(3),u.Oqu(n.statusLabel),u.xp6(1),u.Q6J("ngIf",!o.isDayAllowance(n)),u.xp6(1),u.Q6J("ngIf",o.downloadButtonIsVisibleMdOrSmallerDevice(n))}}function Te(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",40),u.NdJ("click",function(){return u.CHM(n),u.oxw(2).viewMoreHistory()}),u.TgZ(1,"a",null,41),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(3),u.hij("",u.lcZ(4,1,"l-load-more")," "))}function Me(e,t){if(1&e&&(u.TgZ(0,"div"),u.TgZ(1,"h2",42),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"mat-accordion",43),u.YNc(5,be,42,31,"mat-expansion-panel",44),u.qZA(),u.YNc(6,Te,5,3,"div",5),u.qZA()),2&e){var n=u.oxw();u.xp6(2),u.Oqu(u.lcZ(3,3,"l-latest-requests")),u.xp6(3),u.Q6J("ngForOf",n.allowanceListHistory.records),u.xp6(1),u.Q6J("ngIf",n.allowanceListHistory.hasMoreRecords)}}function qe(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"app-allowance-update",62),u.NdJ("deleted",function(){return u.CHM(n),u.oxw().onDeleteAllowance()})("edited",function(e){return u.CHM(n),u.oxw().getAllowanceEvent(e)}),u.qZA()}if(2&e){var i=u.oxw();u.Q6J("allowance",i.allowanceToEdit)("events",i.hourEvens)("employeeId",null==i.employeeCard||null==i.employeeCard.employee?null:i.employeeCard.employee.id)}}var Oe=function(){var t=function(){function t(n,i,o,a,l,r,s,c,p){e(this,t),this.allowanceService=n,this.navigationUtil=i,this.globals=o,this.windowUtilService=a,this.activatedRoute=l,this.profileService=r,this.imageService=s,this.lastAccess=c,this.permissionSelectors=p,this.pendingAllowanceList=new m.i([]),this.allowanceListHistory=new m.i([]),this.showAllowanceUpdateDialog=!0,this.allowanceId="",this.allowanceData={},this.hourEvens=new u.vpe,this.canViewAttach=!1,this.canSendAttach=!1,this.indexShowViewMoreHistoryPending=0,this.close=new u.vpe}return n(t,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"ngOnDestroy",value:function(){this.paramsSubscription&&this.paramsSubscription.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}},{key:"sendHourEvent",value:function(e){this.hourEvens.emit(e)}},{key:"openExcludeDialog",value:function(e){this.allowanceToExclude=e,this.excludeDialog.openDialog()}},{key:"openEditDialog",value:function(e){this.allowanceToEdit=e,this.ediAllowancetDialog.initializeComponent(this.allowanceToEdit),this.ediAllowancetDialog.openDialog()}},{key:"getAllowanceEvent",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializeComponent();case 2:case"end":return e.stop()}},e,this)}))}},{key:"onDeleteAllowance",value:function(){this.allowanceId="",this.initializeComponent()}},{key:"initializeComponent",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.isMobileCheck(),this.dealWithParams(),this.setCountLastAccess(),e.next=5,this.listAllowanceRequests("pending",1,20);case 5:return this.pendingAllowanceList=e.sent,e.next=8,this.listAllowanceRequests("notpending",1,5);case 8:this.allowanceListHistory=e.sent,this.watchPermissions(),0===this.pendingAllowanceList.records.length&&0===this.allowanceListHistory.records.length?this.goToRequestAllowance(!0):this.globals.listEmpty=!1,this.indexShowViewMoreHistoryPending=this.pendingAllowanceList.records.length-1;case 12:case"end":return e.stop()}},e,this)}))}},{key:"listAllowanceRequests",value:function(e,t,n){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.allowanceService.getAllowanceRequestsHistory(this.employeeId,e,t,n);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},i,this)}))}},{key:"goToRequestAllowance",value:function(e){var t;this.globals.listEmpty=e,e&&(t={replaceUrl:!0});var n="timesheet/allowances/request";this.viewIsTeamManagement&&(n+="/".concat(this.employeeId)),this.navigationUtil.doNavigation(n,t)}},{key:"isApproved",value:function(e){return e===h.StatusEnum.Approved}},{key:"isDayAllowance",value:function(e){return!e.allowanceType.type||"day"===e.allowanceType.type}},{key:"isIntervalVisible",value:function(e){var t=!0;return e.allowanceType.props&&e.allowanceType.props.forEach(function(e){("initHour"===e.field||"endHour"===e.field)&&(t=e.visible)}),t}},{key:"isVisible",value:function(e,t){var n=!0;return e.allowanceType.props&&e.allowanceType.props.forEach(function(e){e.field===t&&(n=e.visible)}),n}},{key:"viewMoreHistory",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listAllowanceRequests("notpending",this.allowanceListHistory.getNextPage(),this.allowanceListHistory.pageSize);case 2:(t=e.sent)&&(t.records.forEach(function(e){n.allowanceListHistory.records.push(e)}),this.allowanceListHistory.actualPage=t.actualPage,this.allowanceListHistory.hasMoreRecords=t.hasMoreRecords);case 4:case"end":return e.stop()}},e,this)}))}},{key:"viewMoreHistoryPending",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listAllowanceRequests("pending",this.pendingAllowanceList.getNextPage(),this.pendingAllowanceList.pageSize);case 2:(t=e.sent)&&(t.records.forEach(function(e){n.pendingAllowanceList.records.push(e)}),this.pendingAllowanceList.actualPage=t.actualPage,this.pendingAllowanceList.hasMoreRecords=t.hasMoreRecords),this.indexShowViewMoreHistoryPending=this.pendingAllowanceList.records.length-1;case 4:case"end":return e.stop()}},e,this)}))}},{key:"isMobileCheck",value:function(){this.isMobile=this.windowUtilService.isMobileDevice()}},{key:"downloadButtonIsVisibleDesktopLine1",value:function(e){return null==e.hasAttachment?this.canViewAttach&&!(this.isDayAllowance(e)&&this.isIntervalVisible(e)):this.canViewAttach&&!(this.isDayAllowance(e)&&this.isIntervalVisible(e))&&e.hasAttachment}},{key:"downloadButtonIsVisibleDesktopLine2",value:function(e){return null==e.hasAttachment?this.canViewAttach&&this.isDayAllowance(e)&&this.isIntervalVisible(e):this.canViewAttach&&this.isDayAllowance(e)&&this.isIntervalVisible(e)&&e.hasAttachment}},{key:"downloadButtonIsVisibleMdOrSmallerDevice",value:function(e){return null==e.hasAttachment?this.canViewAttach:this.canViewAttach&&e.hasAttachment}},{key:"getAttachedFile",value:function(e){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.allowanceService.getAttachedFile(e);case 3:(n=t.sent)&&this.initializeFilePreviewDialog("timesheet/allowances/file/download",n,e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"initializeFilePreviewDialog",value:function(e,t,n){this.previewFileDialog.initializeComponent(e,t,n)}},{key:"dealWithParams",value:function(){var e=this;this.paramsSubscription=this.activatedRoute.params.subscribe(function(t){t.employeeId?(e.employeeId=t.employeeId,e.viewIsTeamManagement=!0,e.getEmployeeData()):(e.employeeId=g.N.loggedUser,e.viewIsTeamManagement=!1,e.employeeCard=null)})}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess(z.uB,t.id)})}},{key:"getEmployeeData",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileService.getEmployeeSummary(this.employeeId);case 2:t=e.sent,this.employeeCard=new Y.J,this.employeeCard.employee=t,this.imageService.getImageStyle(this.employeeId).subscribe(function(e){return n.employeeCard.image=e});case 4:case"end":return e.stop()}},e,this)}))}},{key:"watchPermissions",value:function(){var e=this;this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(t){e.canViewAttach=t.viewAttachmentAllowance&&!e.viewIsTeamManagement||t.teamManagementViewAttachmentAllowance&&e.viewIsTeamManagement,e.canSendAttach=t.sendAttachmentAllowance&&!e.viewIsTeamManagement||t.teamManagementSendAttachmentAllowance&&e.viewIsTeamManagement})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(y.n),u.Y36(w._),u.Y36($.O),u.Y36(X.g),u.Y36(s.gz),u.Y36(G.H),u.Y36(j.A),u.Y36(z.Lx),u.Y36(P.eL))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-allowance-list"]],viewQuery:function(e,t){var n;(1&e&&(u.Gf(H,5),u.Gf(Q,5),u.Gf(B.K,5)),2&e)&&(u.iGM(n=u.CRH())&&(t.excludeDialog=n.first),u.iGM(n=u.CRH())&&(t.ediAllowancetDialog=n.first),u.iGM(n=u.CRH())&&(t.previewFileDialog=n.first))},outputs:{close:"close"},decls:11,vars:11,consts:[["pageTitle","im-allowanceLong",3,"backIsVisible"],[1,"po-mb-1","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[3,"image","name","role","status",4,"ngIf"],["p-primary","true","p-type","primary",1,"request-substitute-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-click"],[3,"cssClass",4,"ngFor","ngForOf"],["class","next-records po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"click",4,"ngIf"],[4,"ngIf"],[3,"allowance","employeeId","deleted"],[3,"allowance","events","employeeId","deleted","edited",4,"ngIf"],[3,"image","name","role","status"],[3,"cssClass"],["card-header","",1,"mr-card-header"],[1,"po-sm-10","po-md-10","po-lg-10","po-xl-10","title-label"],["class","po-sm-2 po-md-2 po-lg-2 po-xl-2 sm-no-padding",4,"ngIf"],["card-body",""],[1,"po-sm-12","po-mt-md-1","po-md-12","po-lg-4","po-xl-4","panel-item-group"],[1,"requested-label"],[1,"requested-value"],[3,"class",4,"ngIf"],["class","po-sm-6 po-mt-md-1 po-md-3 po-lg-2 po-xl-2 panel-item-group",4,"ngIf"],[1,"po-sm-12","po-mt-md-1","po-md-12","po-lg-4","po-xl-4","panel-item-group","panel-item-group-no-line"],["class","po-hidden-sm po-hidden-md po-lg-2 po-xl-2 panel-item-group pull-right",4,"ngIf"],["class","po-hidden-sm po-hidden-md po-mt-md-1 po-lg-6 po-xl-6 panel-item-group",4,"ngIf"],["class","po-hidden-sm po-hidden-md po-mt-md-1 po-lg-2 po-xl-2 panel-item-group",4,"ngIf"],["class","po-hidden-sm po-mt-md-1 po-md-6 po-hidden-lg po-hidden-xl panel-item-group",4,"ngIf"],["class","po-sm-12 po-hidden-md po-hidden-lg po-hidden-xl panel-item-group",4,"ngIf"],[1,"po-sm-2","po-md-2","po-lg-2","po-xl-2","sm-no-padding"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],[1,"dropdown-arrow"],[1,"dropdown-menu-itens",3,"click"],[1,"po-sm-6","po-mt-md-1","po-md-3","po-lg-2","po-xl-2","panel-item-group"],[1,"po-hidden-sm","po-hidden-md","po-lg-2","po-xl-2","panel-item-group","pull-right"],["id","btn-download-protractor","p-icon","po-icon po-icon-attach",1,"card-download-button",3,"p-label","p-click"],[1,"po-hidden-sm","po-hidden-md","po-mt-md-1","po-lg-6","po-xl-6","panel-item-group"],[1,"po-hidden-sm","po-hidden-md","po-mt-md-1","po-lg-2","po-xl-2","panel-item-group"],["p-icon","po-icon po-icon-attach",1,"card-download-button",3,"p-label","p-click"],[1,"po-hidden-sm","po-mt-md-1","po-md-6","po-hidden-lg","po-hidden-xl","panel-item-group"],[1,"po-sm-12","po-hidden-md","po-hidden-lg","po-hidden-xl","panel-item-group"],[1,"next-records","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"click"],["linkMoreRecords",""],[1,"latest-requests","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","true",4,"ngFor","ngForOf"],["hideToggle","true"],["dropdown",""],[1,"dropdown-history-header"],[3,"ngClass"],[1,"historic-label","historic-label-title"],[1,"specific-class"],[1,"right-align"],["class","po-icon ico-minus ico-color",4,"ngIf"],["class","po-icon ico-plus ico-color",4,"ngIf"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],["class","download-button","p-icon","po-icon po-icon-download","p-primary","true","p-type","primary",3,"p-label","p-click",4,"ngIf"],[1,"po-icon","ico-minus","ico-color"],[1,"po-icon","ico-plus","ico-color"],["p-icon","po-icon po-icon-download","p-primary","true","p-type","primary",1,"download-button",3,"p-label","p-click"],[3,"allowance","events","employeeId","deleted","edited"]],template:function(e,t){1&e&&(u._UZ(0,"app-page-header",0),u.TgZ(1,"div",1),u.YNc(2,ne,1,4,"app-card-employee",2),u.TgZ(3,"po-button",3),u.NdJ("p-click",function(){return t.goToRequestAllowance(!1)}),u.ALo(4,"translate"),u.qZA(),u.YNc(5,ge,35,32,"app-card",4),u.YNc(6,he,5,3,"div",5),u.YNc(7,Me,7,5,"div",6),u.qZA(),u.TgZ(8,"app-allowance-exclude",7),u.NdJ("deleted",function(){return t.onDeleteAllowance()}),u.qZA(),u.YNc(9,qe,1,3,"app-allowance-update",8),u._UZ(10,"app-preview-file")),2&e&&(u.Q6J("backIsVisible",t.viewIsTeamManagement),u.xp6(2),u.Q6J("ngIf",t.employeeCard&&t.employeeCard.employee),u.xp6(1),u.s9C("p-label",u.lcZ(4,9,"l-new-allowance")),u.xp6(2),u.Q6J("ngForOf",null==t.pendingAllowanceList?null:t.pendingAllowanceList.records),u.xp6(1),u.Q6J("ngIf",t.pendingAllowanceList.hasMoreRecords),u.xp6(1),u.Q6J("ngIf",t.allowanceListHistory.records&&t.allowanceListHistory.records.length),u.xp6(1),u.Q6J("allowance",t.allowanceToExclude)("employeeId",null==t.employeeCard||null==t.employeeCard.employee?null:t.employeeCard.employee.id),u.xp6(1),u.Q6J("ngIf",t.showAllowanceUpdateDialog))},directives:[W.q,A.O5,f.bOz,A.sg,H,B.K,K.x,ee.A,te.pp,te.ib,te.yz,te.yK,A.mk,te.u4,Q],pipes:[Z.X$,b.$,T.P],styles:['.right-align[_ngcontent-%COMP%]{position:relative;width:100%}.right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:0}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.dropdown-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-content[_ngcontent-%COMP%]{padding:0 24px}.historic-value[_ngcontent-%COMP%]{float:right;color:#2b3639}.historic-label[_ngcontent-%COMP%]{color:#4a5c60}.historic-label-link[_ngcontent-%COMP%]{cursor:pointer;color:#0c9abe}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}.title-label[_ngcontent-%COMP%]{margin-top:0;padding-left:8px}.subtitle-opacity[_ngcontent-%COMP%]{opacity:.7}.requested-label[_ngcontent-%COMP%]{opacity:.7}@media screen and (max-width: 480px){.title-label[_ngcontent-%COMP%], .panel-item-group[_ngcontent-%COMP%]{padding:0}.panel-item-group[_ngcontent-%COMP%]{position:relative;margin:8px 0}}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.requested-value[_ngcontent-%COMP%]{color:#4a5c60}.containter-allowances[_ngcontent-%COMP%]{padding:0;margin-bottom:40px}.infos-margin[_ngcontent-%COMP%]{margin-top:16px}.situation-a[_ngcontent-%COMP%]{background:#c64840}.situation-f[_ngcontent-%COMP%]{background:#ea9a3e}.situation-n[_ngcontent-%COMP%]{background:#00b28e}.situation-container[_ngcontent-%COMP%]{border-radius:5px;padding:0 4px}.request-substitute-btn[_ngcontent-%COMP%]{padding:0;margin-bottom:10px}[_nghost-%COMP%]     .po-info-container-content{padding:0!important}[_nghost-%COMP%]     .po-button{height:42px}[_nghost-%COMP%]     .panel-item-group{padding-bottom:0}[_nghost-%COMP%]     .mat-expansion-panel-header-description{margin-right:0}[_nghost-%COMP%]     .po-container{margin-top:25px;padding:0}.ico-color[_ngcontent-%COMP%]{color:#0c9abe}.circleBase[_ngcontent-%COMP%]{border-radius:50%}.type1[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;background:#c64840}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px}.link[_ngcontent-%COMP%]{cursor:pointer;font-weight:bold}[_nghost-%COMP%]     .po-button-link{border-color:#0c9abe;color:#0c9abe}@media only screen and (max-width: 960px){[_nghost-%COMP%]     .po-button-link{margin-top:5px}}@media only screen and (max-width: 960px){.hide-situation[_ngcontent-%COMP%]{display:none}}.text-area[_ngcontent-%COMP%]{height:200px;background-color:#fff;color:#0c9abe}.dropdown-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:-3px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:50%;position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;color:#0c9abe;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#0c9abe;font-size:20px}.card-employee[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]     .card-employee{margin-bottom:-10px}[_nghost-%COMP%]     .avatar-small{margin-left:16px;margin-top:16px;height:42px;width:42px}.download-button[_ngcontent-%COMP%]     button{height:32px;float:right;margin:15px 24px 0 0}.download-button[_ngcontent-%COMP%]     button span{font-family:"NunitoSans",sans-serif}h2[_ngcontent-%COMP%]{color:#4a5c60}@media screen and (min-width: 481px){h2[_ngcontent-%COMP%]{font-family:"NunitoSans";font-size:27px}}[_nghost-%COMP%]     .card-request-active{background:#fff!important;color:#000!important}.latest-requests[_ngcontent-%COMP%]{margin-top:44px}.card-download-button[_ngcontent-%COMP%]     button{width:100%;height:30px}@media screen and (min-width: 481px){.card-download-button[_ngcontent-%COMP%]     button{height:46px}}.card-download-button[_ngcontent-%COMP%]     button .po-icon{font-size:22px}']}),t}(),Ce=l(98348),ke=l(81059),_e=l(64634),He=l(40469),Pe=n(function t(){e(this,t),this.initHour="",this.endHour="",this.totalHour="",this.justify=""}),Ie=l(23831),De=l(57706),Ve=["allowanceForm"];function Ee(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",17),u.TgZ(2,"po-datepicker",22),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).allowanceView.initDate=e}),u.ALo(3,"translate"),u.qZA(),u.qZA(),u.TgZ(4,"div",17),u.TgZ(5,"po-datepicker",23),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).allowanceView.endDate=e}),u.ALo(6,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(2),u.s9C("p-label",u.lcZ(3,6,"l-initial-date")),u.Q6J("ngModel",i.allowanceView.initDate)("p-disabled",!i.hasOptionSelected),u.xp6(3),u.s9C("p-label",u.lcZ(6,8,"l-end-date")),u.Q6J("ngModel",i.allowanceView.endDate)("p-disabled",!i.hasOptionSelected)}}function Se(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",17),u.TgZ(2,"po-datepicker",22),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).allowanceView.initDate=e}),u.ALo(3,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(2),u.s9C("p-label",u.lcZ(3,3,"l-date")),u.Q6J("ngModel",i.allowanceView.initDate)("p-disabled",!i.hasOptionSelected)}}function Le(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",17),u.TgZ(2,"po-input",24),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).allowanceView.totalHour=e})("p-blur",function(){return u.CHM(n),u.oxw(2).changeTotalHour()})("p-change-model",function(){return u.CHM(n),u.oxw(2).checkAllowanceTypeView()}),u.ALo(3,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(2),u.s9C("p-label",u.lcZ(3,6,"l-total")),u.Q6J("p-required",i.isRequired(i.allowanceView.selectedView,"totalHour"))("p-disabled",!i.isEditable(i.allowanceView.selectedView,"totalHour")||i.isAllowanceTimeTypePeriod()||!i.hasOptionSelected)("ngModel",i.allowanceView.totalHour)("p-mask",i.mask)("p-pattern",i.pattern)}}function Ne(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",25),u.TgZ(2,"span",26),u._uU(3),u.ALo(4,"translate"),u.qZA(),u._UZ(5,"span",27),u.TgZ(6,"div",28),u.TgZ(7,"textarea",29),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw(2).allowanceView.justify=e}),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.oxw(2);u.xp6(3),u.Oqu(u.lcZ(4,3,"l-justification")),u.xp6(4),u.Q6J("disabled",!i.isEditable(i.allowanceView.selectedView,"justify")||!i.hasOptionSelected)("ngModel",i.allowanceView.justify)}}function Je(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",13),u.TgZ(1,"div",30),u.TgZ(2,"app-attach-file",31),u.NdJ("attachedFileChange",function(e){return u.CHM(n),u.oxw(2).fillFileInfo(e)}),u.qZA(),u.qZA(),u.qZA()}}function Ue(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",11),u.TgZ(1,"form",null,12),u.TgZ(3,"div",13),u.TgZ(4,"div",14),u.TgZ(5,"po-select",15),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw().type=e})("p-change",function(){return u.CHM(n),u.oxw().onChangeAllowanceTypeEvent()}),u.ALo(6,"translate"),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(8,Ee,7,10,"div",16),u.YNc(9,Se,4,5,"div",16),u.TgZ(10,"div",13),u.TgZ(11,"div",17),u.TgZ(12,"po-input",18),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw().allowanceView.initHour=e})("p-blur",function(){return u.CHM(n),u.oxw().changeInitHour()})("p-change-model",function(){return u.CHM(n),u.oxw().checkAllowanceTypeView()}),u.ALo(13,"translate"),u.qZA(),u.qZA(),u.TgZ(14,"div",17),u.TgZ(15,"po-input",19),u.NdJ("ngModelChange",function(e){return u.CHM(n),u.oxw().allowanceView.endHour=e})("p-blur",function(){return u.CHM(n),u.oxw().changeEndHour()})("p-change-model",function(){return u.CHM(n),u.oxw().checkAllowanceTypeView()}),u.ALo(16,"translate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(17,Le,4,8,"div",16),u.YNc(18,Ne,8,5,"div",16),u.YNc(19,Je,3,0,"div",16),u.TgZ(20,"div",13),u.TgZ(21,"div",20),u.TgZ(22,"po-button",21),u.NdJ("p-click",function(){return u.CHM(n),u.oxw().saveAllowances()}),u.ALo(23,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=u.MAs(2),o=u.oxw();u.xp6(5),u.s9C("p-label",u.lcZ(6,23,"l-allowanceType")),u.s9C("p-placeholder",u.lcZ(7,25,"l-select-option")),u.Q6J("ngModel",o.type)("p-options",o.types),u.xp6(3),u.Q6J("ngIf",o.isVisible(o.allowanceView.selectedView,"endDate")),u.xp6(1),u.Q6J("ngIf",!o.isVisible(o.allowanceView.selectedView,"endDate")),u.xp6(3),u.s9C("p-label",u.lcZ(13,27,"l-initial-hour")),u.Q6J("p-required",o.isRequired(o.allowanceView.selectedView,"initHour"))("p-disabled",!o.isEditable(o.allowanceView.selectedView,"initHour")||o.isAllowanceTimeTypeTotalHour()||!o.hasOptionSelected)("ngModel",o.allowanceView.initHour)("p-mask",o.mask)("p-pattern",o.pattern),u.xp6(3),u.s9C("p-label",u.lcZ(16,29,"l-final-hour")),u.Q6J("p-required",o.isRequired(o.allowanceView.selectedView,"endHour"))("p-disabled",!o.isEditable(o.allowanceView.selectedView,"endHour")||o.isAllowanceTimeTypeTotalHour()||!o.hasOptionSelected)("ngModel",o.allowanceView.endHour)("p-mask",o.mask)("p-pattern",o.pattern),u.xp6(2),u.Q6J("ngIf",o.isVisible(o.allowanceView.selectedView,"totalHour")),u.xp6(1),u.Q6J("ngIf",o.isVisible(o.allowanceView.selectedView,"justify")),u.xp6(1),u.Q6J("ngIf",o.canSendAttach&&o.hasOptionSelected),u.xp6(3),u.s9C("p-label",u.lcZ(23,31,"l-save")),u.Q6J("p-disabled",!i.form.valid)}}var Fe=function(){return(e=Fe||(Fe={}))[e.ALL_ENABLED=1]="ALL_ENABLED",e[e.PERIOD=2]="PERIOD",e[e.TOTAL_HOUR=3]="TOTAL_HOUR",Fe;var e}(),Re=function(){var t=function(t){a(l,t);var o=r(l);function l(t,n,i,a,r,s,c,p,d){var u;return e(this,l),(u=o.call(this)).allowanceService=t,u.notificationService=n,u.appTranslateService=i,u.menuApplicationService=a,u.globals=r,u.navigationUtil=s,u.windowUtilService=c,u.activatedRoute=p,u.permissionSelectors=d,u.allowanceView=new Pe,u.allowanceTypes=[],u.dialogIsVisible=!1,u.showForm=!1,u.mask="99:99",u.pattern="^(2[0-3]|[01]*[0-9]):?([0-5][0-9])$",u.allowanceTimeTypeEnum=Fe.ALL_ENABLED,u.canSendAttach=!1,u.types=[],u.hasOptionSelected=!1,u.loggedUser=g.N.loggedUser,u.isTeamManagement=!1,u}return n(l,[{key:"ngOnInit",value:function(){var e=this,t=Object.create(null,{ngOnInit:{get:function(){return i(c(l.prototype),"ngOnInit",e)}}});return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getEmployeeSummary();case 2:this.getAllowanceTypes(),this.showMenu(),this.dealWithParams(),this.dealWithQueryParams(),this.watchPermissions(),t.ngOnInit.call(this);case 8:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.paramsSubscription&&this.paramsSubscription.unsubscribe(),this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}},{key:"back",value:function(){var e;(this.globals.urlHistory.length>0&&this.globals.urlHistory.pop(),0===this.globals.urlHistory.length)?(e=this.windowUtilService.isMobileDevice()?"menu/timesheetSubMenu/l-timesheet":"home",this.navigationUtil.doNavigation(e,{replaceUrl:!0})):this.windowUtilService.back()}},{key:"changeInitHour",value:function(){this.allowanceView.initHour=I.Em.changeHour(this.allowanceView.initHour)}},{key:"changeEndHour",value:function(){this.allowanceView.endHour=I.Em.changeHour(this.allowanceView.endHour)}},{key:"changeTotalHour",value:function(){this.allowanceView.totalHour=I.Em.changeHour(this.allowanceView.totalHour)}},{key:"saveAllowances",value:function(){var e=this;this.validateAllowance()&&this.allowanceService.saveAllowances(this.employeeId?this.employeeId:g.N.loggedUser,this.getAllowanceObject(this.allowanceView)).then(function(){e.globals.listEmpty=!1,e.openDialog()})}},{key:"showMenu",value:function(){this.menuApplicationService.showMenu()}},{key:"getAllowanceTypes",value:function(){var e=this;this.allowanceService.getAllowancesTypes().then(function(t){e.types=t.map(function(e){return{label:e.description,value:e.id}}),e.allowanceTypes=t,e.allowanceView.selectedView={description:"",id:""},e.showForm=!0}).catch(function(e){console.error("Erro ao requisitar os tipos de abono: "+e)})}},{key:"dealWithParams",value:function(){var e=this;this.paramsSubscription=this.activatedRoute.params.subscribe(function(t){e.employeeId=t.employeeId,e.isTeamManagement=null!=e.employeeId})}},{key:"dealWithQueryParams",value:function(){var e=this;this.queryParamsSubscription=this.activatedRoute.queryParams.subscribe(function(t){var n=t;n.date&&(e.allowanceView.initDate=I.Em.getDateUTCFormat(new Date(Number(n.date))),isNaN(e.allowanceView.initDate.getTime())&&(e.allowanceView.initDate=null)),n.endDate&&(e.allowanceView.endDate=I.Em.getDateUTCFormat(new Date(Number(n.endDate))),isNaN(e.allowanceView.endDate.getTime())&&(e.allowanceView.endDate=null)),null!=n.startHour&&(e.allowanceView.initHour=n.startHour),null!=n.endHour&&(e.allowanceView.endHour=n.endHour)})}},{key:"validateAllowance",value:function(){var e=this,t=this.isEditable(this.allowanceView.selectedView,"initHour"),n=this.isEditable(this.allowanceView.selectedView,"endHour"),i=this.isEditable(this.allowanceView.selectedView,"totalHour"),o=this.isEditable(this.allowanceView.selectedView,"endDate");return this.isVisible(this.allowanceView.selectedView,"endDate")&&Date.parse(this.allowanceView.initDate.toString())>Date.parse(this.allowanceView.endDate.toString())?(this.appTranslateService.getI18n("m-initialDateBiggerThanEndDate").then(function(t){e.notificationService.showNotification(t,f.ik9.Error)}),!1):!(!this.validateHours(t,n,i)||!this.validateAttachment()||""==this.allowanceView.selectedView.id)&&this.sameDay(t,n,o)}},{key:"validateAttachment",value:function(){var e,t=this;return!(null===(e=this.allowanceView)||void 0===e?void 0:e.selectedView)||!this.allowanceView.selectedView.requiredAttachment||null!=this.attachedFile||(this.appTranslateService.getI18n("l-required-attachment").then(function(e){t.notificationService.showNotification(e,f.ik9.Error)}),!1)}},{key:"validateHours",value:function(e,t,n){var i=this;if(this.allHoursIsEditableAndEnabled(e,t,n)&&this.hoursIsEmpty())return this.appTranslateService.getI18n("m-dataInvalid").then(function(e){i.notificationService.showNotification(e,f.ik9.Error)}),!1;if(e&&t&&!n){if(_e.m.isEmpty(this.allowanceView.initHour))return this.appTranslateService.getI18n("m-initHourInvalid").then(function(e){i.notificationService.showNotification(e,f.ik9.Error)}),!1;if(_e.m.isEmpty(this.allowanceView.endHour))return this.appTranslateService.getI18n("m-endHourInvalid").then(function(e){i.notificationService.showNotification(e,f.ik9.Error)}),!1}return!(!e&&!t&&n&&_e.m.isEmpty(this.allowanceView.totalHour)&&(this.appTranslateService.getI18n("m-totalHourInvalid").then(function(e){i.notificationService.showNotification(e,f.ik9.Error)}),1))}},{key:"allHoursIsEditableAndEnabled",value:function(e,t,n){return e&&t&&n&&this.allowanceTimeTypeEnum===Fe.ALL_ENABLED}},{key:"hoursIsEmpty",value:function(){return _e.m.isEmpty(this.allowanceView.initHour)&&_e.m.isEmpty(this.allowanceView.endHour)&&_e.m.isEmpty(this.allowanceView.totalHour)}},{key:"sameDay",value:function(e,t,n){var i=this;if(e&&t&&n||this.isDatasul()&&e&&t&&!1===this.employeeSummary.employeeNightShift){var o=new Date(Date.parse(this.allowanceView.initDate.toString())),a=this.allowanceView.endDate?new Date(Date.parse(this.allowanceView.endDate.toString())):o;if(o.toLocaleDateString()===a.toLocaleDateString()&&+this.allowanceView.endHour<+this.allowanceView.initHour)return this.appTranslateService.getI18n("m-initialHourBiggerThanEndHour").then(function(e){i.notificationService.showNotification(e,f.ik9.Error)}),!1}return!0}},{key:"getAllowanceObject",value:function(e){var t=function(e){return""!==e?I.Em.getTotalMilliseconds(function(e){return e.substr(0,2).concat(":").concat(e.substr(2,3))}(e)):0},n={description:e.selectedView.description,id:e.selectedView.id,type:e.selectedView.type};return this.isVisible(e.selectedView,"endDate")||(e.endDate=e.initDate),{id:"",initDate:new Date(e.initDate),initHour:t(e.initHour),endDate:new Date(e.endDate),endHour:t(e.endHour),allowanceType:n,justify:e.justify,totalMinutes:t(e.totalHour),statusLabel:"",status:"pending",canAlter:!1,file:this.attachedFile,hasAttachment:null!=this.attachedFile}}},{key:"getEmployeeSummary",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:if(this.employeeSummary=e.sent,!this.employeeSummary){e.next=5;break}return e.abrupt("return",this.employeeSummary.employeeNightShift);case 5:case"end":return e.stop()}},e,this)}))}},{key:"isDatasul",value:function(){return Ce.ZP.isErpDatasul()}},{key:"isVisible",value:function(e,t){return!(e&&e.props&&e.props.length)||v.Z.isVisible(e.props,t)}},{key:"isEditable",value:function(e,t){return!(e&&e.props&&e.props.length)||v.Z.isEditable(e.props,t)}},{key:"isRequired",value:function(e,t){return!!(e&&e.props&&e.props.length)&&v.Z.isRequired(e.props,t)}},{key:"calculateDifferenceTime",value:function(){this.allowanceView.initHour&&this.allowanceView.endHour&&(this.allowanceView.totalHour=I.Em.calculateDifferenceTime(this.allowanceView.initHour,this.allowanceView.endHour))}},{key:"checkAllowanceTypeView",value:function(){if(!this.hoursIsEmpty())return _e.m.isEmpty(this.allowanceView.initHour)&&_e.m.isEmpty(this.allowanceView.endHour)?_e.m.isEmpty(this.allowanceView.initHour)&&_e.m.isEmpty(this.allowanceView.endHour)&&!_e.m.isEmpty(this.allowanceView.totalHour)?(this.allowanceTimeTypeEnum=Fe.TOTAL_HOUR,this.allowanceView.initHour="",void(this.allowanceView.endHour="")):void 0:(this.allowanceTimeTypeEnum=Fe.PERIOD,void(this.allowanceView.totalHour=""));this.allowanceTimeTypeEnum=Fe.ALL_ENABLED}},{key:"onChangeAllowanceTypeEvent",value:function(){this.fillAllowanceTypeSelectedProperties(),this.isEditable(this.allowanceView.selectedView,"initHour")||(this.allowanceView.initHour=""),this.isEditable(this.allowanceView.selectedView,"endHour")||(this.allowanceView.endHour=""),this.isEditable(this.allowanceView.selectedView,"totalHour")||(this.allowanceView.totalHour="")}},{key:"openDialog",value:function(){this.dialogIsVisible=!0}},{key:"restartForm",value:function(){this.allowanceForm.resetForm(),this.getAllowanceTypes(),this.attachedFile=null,this.attachFile.excludeAttachedFile(),this.dialogIsVisible=!1}},{key:"backToAllowanceRequestsHistory",value:function(){this.dialogIsVisible=!1,this.showMenu(),this.employeeId!==this.loggedUser?this.windowUtilService.back():this.navigationUtil.doNavigation("timesheet/allowances")}},{key:"isAllowanceTimeTypePeriod",value:function(){return this.allowanceTimeTypeEnum===Fe.PERIOD}},{key:"isAllowanceTimeTypeTotalHour",value:function(){return this.allowanceTimeTypeEnum===Fe.TOTAL_HOUR}},{key:"fillFileInfo",value:function(e){this.attachedFile=e}},{key:"watchPermissions",value:function(){var e=this;this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(t){e.canSendAttach=t.sendAttachmentAllowance&&!e.isTeamManagement||t.teamManagementSendAttachmentAllowance&&e.isTeamManagement})}},{key:"fillAllowanceTypeSelectedProperties",value:function(){var e=this,t=this.allowanceTypes.find(function(t){return t.id===e.type});t&&(this.hasOptionSelected=!0,this.allowanceView.selectedView={id:this.type,description:t.description,requiredAttachment:t.requiredAttachment,props:t.props,type:t.type})}}]),l}(ke.R);return t.\u0275fac=function(e){return new(e||t)(u.Y36(y.n),u.Y36(D.g),u.Y36(x.g),u.Y36(He.Kv),u.Y36($.O),u.Y36(w._),u.Y36(X.g),u.Y36(s.gz),u.Y36(P.eL))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-allowance"]],viewQuery:function(e,t){var n;(1&e&&(u.Gf(E.n,5),u.Gf(Ve,5)),2&e)&&(u.iGM(n=u.CRH())&&(t.attachFile=n.first),u.iGM(n=u.CRH())&&(t.allowanceForm=n.first))},features:[u.qOj],decls:17,vars:12,consts:[["pageTitle","l-abono-request",3,"backIsVisible","backFunction"],[3,"date","employeeId"],["class","header-divider",4,"ngIf"],["id","allowance-confirm",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-allowance-content"],[1,"message-allowance","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"allowance-image-success","mouse-pointer",3,"click"],["id","lbl-mensage-success",1,"mouse-pointer",3,"click"],[1,"new-allowance-container","text-center","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"a-new-allowance","mouse-pointer","no-padding",3,"click"],[1,"header-divider"],["allowanceForm","ngForm"],[1,"po-row"],["id","container-allowanceType",1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["name","typeSelect","p-required","",3,"ngModel","p-options","p-label","p-placeholder","ngModelChange","p-change"],["class","po-row",4,"ngIf"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-6"],["p-placeholder","00:00","id","initHour","name","initHour","p-maxlength","5",1,"label-ellipsis",3,"p-required","p-disabled","ngModel","p-label","p-mask","p-pattern","ngModelChange","p-blur","p-change-model"],["p-placeholder","00:00","id","endHour","name","endHour","p-maxlength","5",3,"p-required","p-disabled","ngModel","p-label","p-mask","p-pattern","ngModelChange","p-blur","p-change-model"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","margin-field","margin-field-top"],["p-type","primary","p-primary","true","id","saveButton","name","saveButton",1,"pull-right","save-button",3,"p-label","p-disabled","p-click"],["p-format","dd/mm/yyyy","id","initDate","name","initDate","p-required","",3,"ngModel","p-disabled","p-label","ngModelChange"],["p-format","dd/mm/yyyy","id","endDate","name","endDate","p-required","",3,"ngModel","p-disabled","p-label","ngModelChange"],["p-placeholder","00:00","id","totalHour","name","totalHour","p-maxlength","5",1,"label-justify",3,"p-required","p-disabled","ngModel","p-label","p-mask","p-pattern","ngModelChange","p-blur","p-change-model"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","margin-field"],[1,"po-label","label-justify"],[1,"po-label-help"],[1,"po-field-flex-container"],["rows","3","id","justify","name","justify",1,"form-control","textarea-justify",3,"disabled","ngModel","ngModelChange"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[3,"attachedFileChange"]],template:function(e,t){1&e&&(u.TgZ(0,"app-page-header",0),u.NdJ("backFunction",function(){return t.back()}),u.qZA(),u._UZ(1,"app-daily-summary",1),u.YNc(2,Ue,24,33,"div",2),u.TgZ(3,"app-dialog",3),u.NdJ("closeDialogEvent",function(){return t.backToAllowanceRequestsHistory()}),u.TgZ(4,"div",4),u.TgZ(5,"div",5),u.NdJ("click",function(){return t.backToAllowanceRequestsHistory()}),u.TgZ(6,"div",6),u.TgZ(7,"div",6),u.TgZ(8,"div",7),u.NdJ("click",function(){return t.backToAllowanceRequestsHistory()}),u.qZA(),u.qZA(),u.TgZ(9,"strong"),u.TgZ(10,"h4",8),u.NdJ("click",function(){return t.backToAllowanceRequestsHistory()}),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",9),u.NdJ("click",function(){return t.restartForm()}),u.TgZ(14,"a",10),u.NdJ("click",function(){return t.restartForm()}),u._uU(15),u.ALo(16,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.Q6J("backIsVisible",!0),u.xp6(1),u.Q6J("date",t.allowanceView.initDate)("employeeId",t.employeeId),u.xp6(1),u.Q6J("ngIf",t.showForm),u.xp6(1),u.Q6J("isVisible",t.dialogIsVisible)("closeDialogButtonEnable",!0),u.xp6(8),u.hij(" ",u.lcZ(12,8,"m-allowance-request-success")," "),u.xp6(4),u.hij(" ",u.lcZ(16,10,"l-request-new-allowance"),""))},directives:[W.q,Ie.o,A.O5,De.a,V._Y,V.JL,V.F,f.C9q,V.JJ,V.On,f.xxV,f.bOz,f.GWy,V.Fj,E.n],pipes:[Z.X$],styles:['#allowanceType[_ngcontent-%COMP%]{height:36px;font-size:16px}.margin-field[_ngcontent-%COMP%]{margin-bottom:20px!important}.margin-field-top[_ngcontent-%COMP%]{margin-top:20px!important}#container-allowanceType[_ngcontent-%COMP%]{margin-bottom:20px}#label-allowanceType[_ngcontent-%COMP%], .label-justify[_ngcontent-%COMP%]{margin-bottom:4px;font-family:"NunitoSans-Bold";color:#4a5c60;padding-bottom:4px}.label-justify[_ngcontent-%COMP%]{margin-top:4px}.textarea-justify[_ngcontent-%COMP%]{margin-top:12px}.label-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.message-allowance[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}[_nghost-%COMP%]     .po-datepicker-popup-calendar .po-calendar{position:fixed!important}.a-new-allowance[_ngcontent-%COMP%]{font-size:18px;color:#0c9abe;font-weight:bold}.new-allowance-container[_ngcontent-%COMP%]{box-shadow:inset 0 2px #dbdedf;position:fixed;padding:6%;bottom:0px;left:0px;width:100%}.allowance-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.header-divider[_ngcontent-%COMP%]{padding:16px 8px 8px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.allowance-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}@media (min-width: 961px){.dialog-allowance-content[_ngcontent-%COMP%]{height:350px}.message-allowance[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}app-attach-file[_ngcontent-%COMP%]     .attach-file-box{padding:0}.save-button[_ngcontent-%COMP%]     button{width:160px;height:44px}@media screen and (max-width: 480px){.save-button[_ngcontent-%COMP%]{width:100%}.save-button[_ngcontent-%COMP%]     button{width:100%}}  .po-field-container-bottom{display:contents}']}),t}(),Qe=[{path:"",component:Oe,canActivate:[p.P]},{path:"request",component:Re,canActivate:[p.P]},{path:"request/:employeeId",component:Re,canActivate:[p.P]}],Ye=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[y.n],imports:[[s.Bz.forChild(Qe)],s.Bz]}),t}()}}])}();