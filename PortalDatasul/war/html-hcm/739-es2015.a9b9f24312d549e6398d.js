"use strict";(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[739],{57739:function(e,t,i){i.r(t),i.d(t,{WorkLeaveModule:function(){return pe}});var o=i(38583),s=i(3679),n=i(29790),a=i(32114),r=i(44956),l=i(95987),d=i(64762),p=i(59708),c=i(37716);const h="team/workLeave";let g=(()=>{class e{constructor(e){this.serviceGeneric=e}getWorkLeaves(e,t,i,o,s,n){return(0,d.mG)(this,void 0,void 0,function*(){const a=`${h}/${e}`,r=[];return this.serviceGeneric.parseParams(r,"reason",o),this.serviceGeneric.parseParams(r,"initDate",s),this.serviceGeneric.parseParams(r,"endDate",n),this.serviceGeneric.parseParams(r,"page",t),this.serviceGeneric.parseParams(r,"pageSize",i),yield this.serviceGeneric.search(a,r,!0)})}editWorkLeave(e,t){return(0,d.mG)(this,void 0,void 0,function*(){const i=`${h}/${e}`;return yield this.serviceGeneric.put(i,t,!0)})}requestWorkLeave(e,t){return(0,d.mG)(this,void 0,void 0,function*(){const i=`${h}/${e}`;return yield this.serviceGeneric.post(i,t,!1)})}deleteWorkLeave(e,t){return(0,d.mG)(this,void 0,void 0,function*(){const i=`${h}/${e}?id=${t}`;return yield this.serviceGeneric.delete(i,!0)})}getWorkLeavesReasons(){return(0,d.mG)(this,void 0,void 0,function*(){const e=`${h}/reasons`;return yield this.serviceGeneric.get(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(p.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i(44677),m=i(56365),v=i(43743),b=i(51110),f=i(88002),w=i(92340),D=i(33490),M=i(81483),k=i(9789),x=i(68014),y=i(65241);let L=(()=>{class e{constructor(e,t){this.appTranslateService=e,this.workLeaveService=t,this.confirmAction={label:"l-delete",action:()=>this.excludeWorkLeave()},this.cancelAction={label:"l-cancel",action:()=>this.excludeDialog.close(),danger:!0},this.deleted=new c.vpe}ngOnInit(){this.translateActionLabels()}openDialog(){return(0,d.mG)(this,void 0,void 0,function*(){this.excludeDialog.open()})}excludeWorkLeave(){return(0,d.mG)(this,void 0,void 0,function*(){try{this.employeeId&&this.workLeaveId&&(yield this.workLeaveService.deleteWorkLeave(this.employeeId,this.workLeaveId),this.deleted.emit())}finally{this.excludeDialog.close()}})}translateActionLabels(){for(let e of[this.confirmAction,this.cancelAction])this.appTranslateService.getI18n(e.label).then(t=>{e.label=t})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(y.g),c.Y36(g))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-exclude-work-leave"]],viewQuery:function(e,t){if(1&e&&c.Gf(r.hmF,5),2&e){let e;c.iGM(e=c.CRH())&&(t.excludeDialog=e.first)}},inputs:{workLeaveId:"workLeaveId",employeeId:"employeeId"},outputs:{deleted:"deleted"},decls:2,vars:5,consts:[["p-click-out","true","p-size","sm",1,"exclude-modal",3,"p-title","p-primary-action","p-secondary-action"]],template:function(e,t){1&e&&(c._UZ(0,"po-modal",0),c.ALo(1,"translate")),2&e&&(c.s9C("p-title",c.lcZ(1,3,"l-delete-work-leave-message")),c.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction))},directives:[r.hmF],pipes:[n.X$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),e})();var Z=i(36227),C=i(40469),A=i(64634),T=i(72212),H=i(81059),q=i(96054),S=i(36812),E=i(20307),I=i(24165);function P(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"app-page-header",20),c.NdJ("backFunction",function(){return c.CHM(e),c.oxw().back()}),c.qZA()}2&e&&c.Q6J("backIsVisible",!0)}function O(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"app-page-header",21),c.NdJ("backFunction",function(){return c.CHM(e),c.oxw().back()}),c.qZA()}2&e&&c.Q6J("backIsVisible",!0)}function _(e,t){if(1&e&&c._UZ(0,"app-card-employee",22),2&e){const e=c.oxw();c.Q6J("image",e.imageAvatar)("name",null==e.employeeData?null:e.employeeData.name)("role",null==e.employeeData?null:e.employeeData.roleDescription)("status",null==e.employeeData?null:e.employeeData.employeeStatus)}}function J(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-datepicker",23),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().editedInitDate=t})("p-change",function(){return c.CHM(e),c.oxw().changeInitDate()}),c.ALo(1,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,4,"l-initial")),c.Q6J("ngModel",e.editedInitDate)("p-iso-format",e.isoFormat)("p-disabled",!e.isEditable(e.reasonSelect,"initDate"))}}function V(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-datepicker",24),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().editedInitDate=t})("p-change",function(){return c.CHM(e),c.oxw().changeInitDate()}),c.ALo(1,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,5,"l-initial")),c.Q6J("ngModel",e.editedInitDate)("p-max-date",e.editedEndtDate)("p-iso-format",e.isoFormat)("p-disabled",!e.isEditable(e.reasonSelect,"initDate"))}}function F(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-datepicker",25),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().editedEndtDate=t})("p-change",function(){return c.CHM(e),c.oxw().updateDays()}),c.ALo(1,"translate"),c.ALo(2,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,6,"l-scheduler-messages.editor.end")),c.s9C("p-error-pattern",c.lcZ(2,8,"m-initialDateBiggerThanEndDate")),c.Q6J("p-min-date",e.editedInitDate)("ngModel",e.editedEndtDate)("p-iso-format",e.isoFormat)("p-disabled",!e.isEditable(e.reasonSelect,"endDate"))}}function U(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-number",26),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().days=t})("p-change-model",function(){return c.CHM(e),c.oxw().changeDaysDate()}),c.ALo(1,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,3,"l-days")),c.Q6J("ngModel",e.days)("p-disabled",!e.isEditable(e.reasonSelect,"days"))}}function Y(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-input",27),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().initHour=t})("p-blur",function(){return c.CHM(e),c.oxw().changeInitHour()}),c.ALo(1,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,5,"l-initial-hour")),c.Q6J("ngModel",e.initHour)("p-mask",e.mask)("p-pattern",e.pattern)("p-disabled",!e.isEditable(e.reasonSelect,"initHour"))}}function N(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-input",28),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().endHour=t})("p-blur",function(){return c.CHM(e),c.oxw().changeEndHour()}),c.ALo(1,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,5,"l-final-hour")),c.Q6J("ngModel",e.endHour)("p-mask",e.mask)("p-pattern",e.pattern)("p-disabled",!e.isEditable(e.reasonSelect,"endHour"))}}function Q(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"po-input",29),c.NdJ("ngModelChange",function(t){return c.CHM(e),c.oxw().hours=t})("p-blur",function(){return c.CHM(e),c.oxw().changeTotalHour()}),c.ALo(1,"translate"),c.qZA()}if(2&e){const e=c.oxw();c.s9C("p-label",c.lcZ(1,5,"l-total")),c.Q6J("ngModel",e.hours)("p-mask",e.mask)("p-pattern",e.patternMinutesOnly)("p-disabled",!e.isEditable(e.reasonSelect,"hours"))}}function R(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",30),c.TgZ(1,"po-button",31),c.NdJ("p-click",function(){return c.CHM(e),c.oxw().send()}),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"po-button",32),c.NdJ("p-click",function(){return c.CHM(e),c.oxw().back()}),c.ALo(4,"translate"),c.qZA(),c.qZA()}if(2&e){c.oxw();const e=c.MAs(5);c.xp6(1),c.s9C("p-label",c.lcZ(2,3,"l-save")),c.Q6J("p-disabled",!e.form.valid),c.xp6(2),c.s9C("p-label",c.lcZ(4,5,"l-cancel"))}}function G(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",33),c.TgZ(1,"po-button",34),c.NdJ("p-click",function(){return c.CHM(e),c.oxw().send()}),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"po-button",35),c.NdJ("p-click",function(){return c.CHM(e),c.oxw().back()}),c.ALo(4,"translate"),c.qZA(),c.qZA()}if(2&e){c.oxw();const e=c.MAs(5);c.xp6(1),c.s9C("p-label",c.lcZ(2,3,"l-save")),c.Q6J("p-disabled",!e.form.valid),c.xp6(2),c.s9C("p-label",c.lcZ(4,5,"l-cancel"))}}function W(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"app-success-dialog",36),c.NdJ("closeDialogEvent",function(){return c.CHM(e),c.oxw().back()}),c.qZA()}}let z=(()=>{class e extends H.R{constructor(e,t,i,o,s,n,a){super(),this.workLeaveService=e,this.notificationService=t,this.translateService=i,this.menuApplicationService=o,this.fieldPropertiesService=s,this.teamManagementService=n,this.activatedRoute=a,this.closeRequest=new c.vpe,this.id=null,this.reasons=[],this.employeeData=null,this.employeeId=null,this.viewIsTeamManagement=!1,this.mask="99:99",this.pattern="^(2[0-3]|[01]*[0-9]):?([0-5][0-9])$",this.patternMinutesOnly="^([0-9]*):?([0-5][0-9])$",this.reasonsObj=[],this.isEdit=!1,this.isoFormat=r.Iri.Extended}ngOnInit(){super.ngOnInit(),this.employeeData=this.teamManagementService.getEmployeeCard(),this.loadComponents(),this.clickEventControl=!1}ngOnDestroy(){!0===this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard()}loadComponents(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.loadFieldProperties(),yield this.getReasons(),this.teamManagementWorkLeave(),this.workLeaveEdit&&this.loadEdit()})}getURLParamId(){return this.activatedRoute.snapshot.paramMap.get("id")}showMenu(){this.menuApplicationService.showMenu()}changeInitDate(){this.editedInitDate&&(this.initDate=M.Em.formatUTCDate(new Date(this.editedInitDate)),this.days&&this.initDate&&(this.endDate||(this.endDate=this.initDate),this.changeDate()))}isVisible(e,t){let i=!0;return e&&e.props&&e.props.length&&(i=T.Z.isVisible(e.props,t)),i&&T.Z.isVisible(this.fieldProperties,t)}isEditable(e,t){let i=!0;return e&&e.props&&e.props.length&&(i=T.Z.isEditableStandardTrue(e.props,t)),i&&T.Z.isEditableStandardTrue(this.fieldProperties,t)}changeDaysDate(){this.endDate=null,this.days&&this.initDate&&(this.endDate=this.initDate,this.changeDate())}updateDays(){if(this.endDate=M.Em.formatUTCDate(new Date(this.editedEndtDate)),!this.endDate||!this.initDate)return;const e=M.Em.getDateWithoutTimezone(new Date(this.endDate)),t=M.Em.getDateWithoutTimezone(new Date(this.initDate)),i=e.getTime()-t.getTime(),o=+M.Em.getHoursByMilliseconds(i,!1).split(":")[0],s=Number((.0417*o).toFixed());this.days=s+1}changeInitHour(){A.m.isEmpty(this.initHour)||(this.initHour=M.Em.changeHour(this.initHour),A.m.isEmpty(this.endHour)?A.m.isEmpty(this.hours)||(this.endHour=M.Em.getHoursByMilliseconds(this.convertHourToMilliseconds(this.initHour)+this.convertHourToMilliseconds(this.hours)).replace(":","")):this.setTotalHours())}changeEndHour(){A.m.isEmpty(this.endHour)||(this.endHour=M.Em.changeHour(this.endHour),A.m.isEmpty(this.initHour)?A.m.isEmpty(this.hours)||(this.initHour=M.Em.getHoursByMilliseconds(this.convertHourToMilliseconds(this.endHour)-this.convertHourToMilliseconds(this.hours)).replace(":","")):this.setTotalHours())}changeTotalHour(){A.m.isEmpty(this.hours)||(this.hours=M.Em.changeHour(this.hours),A.m.isEmpty(this.initHour)?A.m.isEmpty(this.endHour)||(this.initHour=M.Em.getHoursByMilliseconds(this.convertHourToMilliseconds(this.endHour)-this.convertHourToMilliseconds(this.hours)).replace(":","")):this.endHour=M.Em.getHoursByMilliseconds(this.convertHourToMilliseconds(this.initHour)+this.convertHourToMilliseconds(this.hours)).replace(":",""))}changeReason(){this.reasonSelect=this.reasonsObj.find(e=>e.id==this.reason)}getReasons(){return(0,d.mG)(this,void 0,void 0,function*(){this.workLeaveService.getWorkLeavesReasons().then(e=>{e&&(this.reasonsObj=e.items,this.reasons=e.items.map(e=>({label:e.name,value:e.id})))})})}send(){this.informationIsValid()?this.callSaveService(this.createSendObject()):this.notifyMessageError()}informationIsValid(){return!(!this.initDate||this.endDate&&!this.isValidPeriod())}callSaveService(e){this.isEdit?this.workLeaveService.editWorkLeave(this.employeeId,e).then(e=>{this.isDialogSuccessVisible=!0}):this.workLeaveService.requestWorkLeave(this.employeeId,e).then(e=>{this.isDialogSuccessVisible=!0})}back(){this.viewIsTeamManagement=!1,this.closeRequest.emit()}loadFieldProperties(){return(0,d.mG)(this,void 0,void 0,function*(){this.fieldProperties=yield this.fieldPropertiesService.getFieldProperties("workLeave")})}loadEdit(){this.reason=this.workLeaveEdit.reason.id,this.editedInitDate=this.returnDateStringPODatepicker(this.workLeaveEdit.initDate),this.initDate=M.Em.formatUTCDate(new Date(this.editedInitDate)),this.editedEndtDate=this.returnDateStringPODatepicker(this.workLeaveEdit.endDate),this.endDate=M.Em.formatUTCDate(new Date(this.editedEndtDate)),this.initHour=M.Em.getHoursByMilliseconds(this.workLeaveEdit.initHour),this.endHour=M.Em.getHoursByMilliseconds(this.workLeaveEdit.endHour),this.hours=M.Em.getHoursByMilliseconds(this.workLeaveEdit.hours),this.id=this.workLeaveEdit.id,this.isEdit=!0,this.isDialogSuccessVisible=!1,this.updateDays(),this.changeReason()}loadRequest(){this.reason="",this.editedInitDate=this.returnDateStringPODatepicker(new Date),this.initDate=M.Em.formatUTCDate(new Date(this.editedInitDate)),this.endDate=void 0,this.editedEndtDate=void 0,this.days=void 0,this.initHour="",this.endHour="",this.hours="",this.id="",this.isDialogSuccessVisible=!1,this.isEdit=!1,this.changeReason()}setTotalHours(){let e;const t=M.Em.getDateUTCFormat(new Date(this.initDate));t.setDate(t.getUTCDate()),this.endDate?(e=M.Em.getDateUTCFormat(new Date(this.endDate)),e.setDate(e.getUTCDate())):(e=M.Em.getDateUTCFormat(new Date(this.initDate)),e.setDate(e.getUTCDate())),t.setMilliseconds(this.convertHourToMilliseconds(this.initHour)),e.setMilliseconds(this.convertHourToMilliseconds(this.endHour)),this.hours=M.Em.getHoursByMilliseconds(e.getTime()-t.getTime(),!1).replace(":","")}notifyMessageError(){this.translateService.getI18n("m-initialDateBiggerThanEndDate").then(e=>{this.notificationService.showNotification(e,r.ik9.Error)})}teamManagementWorkLeave(){this.viewIsTeamManagement=!0;const{employee:e,image:t}=this.teamManagementService.getEmployeeCard();this.employeeData=e,this.imageAvatar=t,this.employeeData&&this.employeeData.id?this.employeeId=this.employeeData.id:this.back()}changeDate(){if(!this.days||!this.initDate)return;const e=Number(this.days)-1;if(e>0){const t=M.Em.getDateUTCFormat(new Date(this.initDate));t.setDate(t.getUTCDate()+e),this.endDate=t}}convertHourToMilliseconds(e){return""!==e?M.Em.getTotalMilliseconds(5==(t=e).length?t:t.substr(0,2).concat(":").concat(t.substr(2,3))):0;var t}createSendObject(){const e={initDate:M.Em.getDateObject(this.initDate).toISOString(),endDate:this.endDate?M.Em.getDateObject(this.endDate).toISOString():M.Em.getDateObject(this.initDate).toISOString(),days:this.days,reason:this.reason,initHour:void 0,endHour:void 0,hours:void 0,id:void 0};return this.initHour&&(e.initHour=this.convertHourToMilliseconds(this.initHour)),this.endHour&&(e.endHour=this.convertHourToMilliseconds(this.endHour)),this.hours&&(e.hours=this.convertHourToMilliseconds(this.hours)),this.isEdit&&(e.id=this.id),e}isValidPeriod(){if(!this.initDate||!this.endDate)return!1;const e=M.Em.getDateObject(this.initDate),t=M.Em.getDateObject(this.endDate);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),e.setHours(0,0,0,0),t>=e}returnDateStringPODatepicker(e){const t=new Date(e),i=("0"+t.getDate()).slice(-2),o=("0"+(t.getMonth()+1)).slice(-2);return t.getFullYear()+"-"+o+"-"+i+"T"+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":00-00:00"}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(g),c.Y36(q.g),c.Y36(y.g),c.Y36(C.Kv),c.Y36(Z.c),c.Y36(k.C),c.Y36(l.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-request-work-leave"]],inputs:{workLeaveEdit:"workLeaveEdit"},outputs:{closeRequest:"closeRequest"},features:[c.qOj],decls:24,vars:21,consts:[[1,"work-leave"],["pageTitle","l-edit-work-leave",3,"backIsVisible","backFunction",4,"ngIf"],["pageTitle","l-request-work-leave",3,"backIsVisible","backFunction",4,"ngIf"],[3,"image","name","role","status",4,"ngIf"],["workLeaveForm","ngForm"],[1,"po-row","header-divider","po-pt-2","panel-body","po-xs-hidden","po-sm-hidden","po-md-12","po-lg-12","po-xl-12"],[1,"center-block","po-xs-12","po-sm-12","po-md-12","po-lg-9","po-xl-9"],["name","reasonSelect","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange","p-change"],["name","initDatePicker","class","po-sm-12 po-md-12 po-lg-12 po-xl-12","p-clean","true","p-required","true",3,"ngModel","p-label","p-iso-format","p-disabled","ngModelChange","p-change",4,"ngIf"],["name","initDatePicker","class","po-sm-6 po-md-6 po-lg-4 po-xl-4","p-clean","true","p-required","true",3,"ngModel","p-max-date","p-label","p-iso-format","p-disabled","ngModelChange","p-change",4,"ngIf"],["name","endDatePicker","class","po-sm-6 po-md-6 po-lg-4 po-xl-4","p-clean","true",3,"p-min-date","ngModel","p-label","p-iso-format","p-error-pattern","p-disabled","ngModelChange","p-change",4,"ngIf"],["p-min","0","class","po-sm-12 po-md-12 po-lg-4 po-xl-4","p-clean","true","name","daysInput",3,"ngModel","p-label","p-disabled","ngModelChange","p-change-model",4,"ngIf"],[1,"po-xl-4","po-lg-4","po-md-6","po-sm-6"],["p-placeholder","00:00","id","initHour","name","initHour","p-maxlength","5","class","label-ellipsis",3,"ngModel","p-label","p-mask","p-pattern","p-disabled","ngModelChange","p-blur",4,"ngIf"],["p-placeholder","00:00","id","endHour","name","endHour","p-maxlength","5",3,"ngModel","p-label","p-mask","p-pattern","p-disabled","ngModelChange","p-blur",4,"ngIf"],[1,"po-xl-4","po-lg-4","po-md-12","po-sm-12"],["p-placeholder","00:00","id","totalHour","name","totalHour","class","label-justify",3,"ngModel","p-label","p-mask","p-pattern","p-disabled","ngModelChange","p-blur",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","po-row",4,"ngIf"],["message","l-send-work-leave-success",3,"closeDialogEvent",4,"ngIf"],["pageTitle","l-edit-work-leave",3,"backIsVisible","backFunction"],["pageTitle","l-request-work-leave",3,"backIsVisible","backFunction"],[3,"image","name","role","status"],["name","initDatePicker","p-clean","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","p-iso-format","p-disabled","ngModelChange","p-change"],["name","initDatePicker","p-clean","true","p-required","true",1,"po-sm-6","po-md-6","po-lg-4","po-xl-4",3,"ngModel","p-max-date","p-label","p-iso-format","p-disabled","ngModelChange","p-change"],["name","endDatePicker","p-clean","true",1,"po-sm-6","po-md-6","po-lg-4","po-xl-4",3,"p-min-date","ngModel","p-label","p-iso-format","p-error-pattern","p-disabled","ngModelChange","p-change"],["p-min","0","p-clean","true","name","daysInput",1,"po-sm-12","po-md-12","po-lg-4","po-xl-4",3,"ngModel","p-label","p-disabled","ngModelChange","p-change-model"],["p-placeholder","00:00","id","initHour","name","initHour","p-maxlength","5",1,"label-ellipsis",3,"ngModel","p-label","p-mask","p-pattern","p-disabled","ngModelChange","p-blur"],["p-placeholder","00:00","id","endHour","name","endHour","p-maxlength","5",3,"ngModel","p-label","p-mask","p-pattern","p-disabled","ngModelChange","p-blur"],["p-placeholder","00:00","id","totalHour","name","totalHour",1,"label-justify",3,"ngModel","p-label","p-mask","p-pattern","p-disabled","ngModelChange","p-blur"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-type","primary",1,"po-sm-3","po-md-2","po-lg-2","po-xl-2","send-button","float-right",3,"p-disabled","p-label","p-click"],[1,"po-sm-3","po-md-2","po-lg-2","po-xl-2","send-button","float-right",3,"p-label","p-click"],[1,"po-row"],["p-primary","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2","block",3,"p-label","p-disabled","p-click"],["p-primary","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2","block",3,"p-label","p-click"],["message","l-send-work-leave-success",3,"closeDialogEvent"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,P,1,1,"app-page-header",1),c.YNc(2,O,1,1,"app-page-header",2),c.YNc(3,_,1,4,"app-card-employee",3),c.TgZ(4,"form",null,4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"po-select",7),c.NdJ("ngModelChange",function(e){return t.reason=e})("p-change",function(){return t.changeReason()}),c.ALo(9,"translate"),c.ALo(10,"translate"),c.qZA(),c.YNc(11,J,2,6,"po-datepicker",8),c.YNc(12,V,2,7,"po-datepicker",9),c.YNc(13,F,3,10,"po-datepicker",10),c.YNc(14,U,2,5,"po-number",11),c.TgZ(15,"div",12),c.YNc(16,Y,2,7,"po-input",13),c.qZA(),c.TgZ(17,"div",12),c.YNc(18,N,2,7,"po-input",14),c.qZA(),c.TgZ(19,"div",15),c.YNc(20,Q,2,7,"po-input",16),c.qZA(),c.YNc(21,R,5,7,"div",17),c.YNc(22,G,5,7,"div",18),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(23,W,1,0,"app-success-dialog",19)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.isEdit),c.xp6(1),c.Q6J("ngIf",!t.isEdit),c.xp6(1),c.Q6J("ngIf",t.employeeData),c.xp6(5),c.s9C("p-label",c.lcZ(9,17,"l-medical-certificate-reason")),c.s9C("p-placeholder",c.lcZ(10,19,"l-select-option")),c.Q6J("ngModel",t.reason)("p-options",t.reasons),c.xp6(3),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"initDate")&&!t.isVisible(t.reasonSelect,"endDate")),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"initDate")&&t.isVisible(t.reasonSelect,"endDate")),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"endDate")),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"days")),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"initHour")),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"endHour")),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.reasonSelect,"hours")),c.xp6(1),c.Q6J("ngIf",!t.viewIsMobile),c.xp6(1),c.Q6J("ngIf",t.viewIsMobile),c.xp6(1),c.Q6J("ngIf",t.isDialogSuccessVisible))},directives:[o.O5,s._Y,s.JL,s.F,r.C9q,s.JJ,s.On,S.q,E.x,r.GWy,r.S5$,r.xxV,r.bOz,I.V],pipes:[n.X$],styles:[".send-button[_ngcontent-%COMP%]{margin-top:2%;padding-bottom:5px;padding-right:0}.attach-file-button[_ngcontent-%COMP%]{margin-top:1%;margin-bottom:1%}[_nghost-%COMP%]     .po-disclaimer-group{background-color:transparent;border:0px;padding:0;margin-top:1%;margin-bottom:6%}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media only screen and (max-width: 480px){.send-button[_ngcontent-%COMP%]{margin-bottom:20px}}.center-block[_ngcontent-%COMP%]{margin:0 auto}.float-right[_ngcontent-%COMP%]{float:right}@media (min-width: 490px){.work-leave[_ngcontent-%COMP%]{margin:0 40px}}"]}),e})();var B=i(14833),$=i(64383),j=i(84479),X=i(37503),K=i(10690),ee=i(32268);function te(e,t){if(1&e&&c._UZ(0,"app-card-employee",10),2&e){const e=c.oxw(2);c.Q6J("image",e.imageAvatar)("name",null==e.employeeData?null:e.employeeData.name)("role",null==e.employeeData?null:e.employeeData.roleDescription)("status",null==e.employeeData?null:e.employeeData.employeeStatus)}}function ie(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",11),c.TgZ(1,"po-table",12),c.NdJ("p-show-more",function(){return c.CHM(e),c.oxw(2).showMore()}),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("p-hide-select-all",!0)("p-sort",!0)("p-striped",!0)("p-columns",e.columns)("p-items",e.items)("p-actions",e.tableActions)("p-loading",e.loading)("p-show-more-disabled",e.showMoreDisable)}}function oe(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",27),c.TgZ(1,"po-button",28),c.NdJ("p-click",function(){c.CHM(e);const t=c.oxw().$implicit;return c.oxw(3).editWorkLeave(t)}),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"po-button",29),c.NdJ("p-click",function(){c.CHM(e);const t=c.oxw().$implicit;return c.oxw(3).removeWorkLeave(t)}),c.ALo(4,"translate"),c.qZA(),c.qZA()}if(2&e){const e=c.oxw().$implicit;c.xp6(1),c.s9C("p-label",c.lcZ(2,4,"l-edit")),c.Q6J("p-disabled",!e.canAlter),c.xp6(2),c.s9C("p-label",c.lcZ(4,6,"l-delete")),c.Q6J("p-disabled",!e.canAlter)}}function se(e,t){if(1&e&&(c.TgZ(0,"div",17),c.TgZ(1,"app-expansion-card"),c.TgZ(2,"div",18),c._UZ(3,"div",19),c.TgZ(4,"div"),c.TgZ(5,"strong"),c._uU(6),c.ALo(7,"utcDate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(8,"div",20),c.TgZ(9,"div",21),c._UZ(10,"hr",22),c.TgZ(11,"label",23),c._uU(12),c.ALo(13,"translate"),c.qZA(),c.TgZ(14,"strong",24),c._uU(15),c.qZA(),c.qZA(),c.TgZ(16,"div",21),c._UZ(17,"hr",22),c.TgZ(18,"label",25),c._uU(19),c.ALo(20,"translate"),c.qZA(),c.TgZ(21,"strong",24),c._uU(22),c.ALo(23,"utcDate"),c.qZA(),c.qZA(),c.TgZ(24,"div",21),c._UZ(25,"hr",22),c.TgZ(26,"label",25),c._uU(27),c.ALo(28,"translate"),c.qZA(),c.TgZ(29,"strong",24),c._uU(30),c.ALo(31,"utcDate"),c.qZA(),c.qZA(),c.TgZ(32,"div",21),c._UZ(33,"hr",22),c.TgZ(34,"label",25),c._uU(35),c.ALo(36,"translate"),c.qZA(),c.TgZ(37,"strong",24),c._uU(38),c.qZA(),c.qZA(),c.TgZ(39,"div",21),c._UZ(40,"hr",22),c.TgZ(41,"label",25),c._uU(42),c.ALo(43,"translate"),c.qZA(),c.TgZ(44,"strong",24),c._uU(45),c.qZA(),c.qZA(),c.TgZ(46,"div",21),c._UZ(47,"hr",22),c.TgZ(48,"label",25),c._uU(49),c.ALo(50,"translate"),c.qZA(),c.TgZ(51,"strong",24),c._uU(52),c.qZA(),c.qZA(),c.TgZ(53,"div",21),c._UZ(54,"hr",22),c.TgZ(55,"label",25),c._uU(56),c.ALo(57,"translate"),c.qZA(),c.TgZ(58,"strong",24),c._uU(59),c.qZA(),c.qZA(),c.TgZ(60,"div",21),c._UZ(61,"hr",22),c.TgZ(62,"label",25),c._uU(63),c.ALo(64,"translate"),c.qZA(),c.TgZ(65,"strong",24),c._uU(66),c.qZA(),c.qZA(),c.YNc(67,oe,5,8,"div",26),c.qZA(),c.qZA(),c.qZA()),2&e){const e=t.$implicit,i=c.oxw(3);c.xp6(6),c.Oqu(c.xi3(7,18,e.initDate,"shortDate")),c.xp6(6),c.Oqu(c.lcZ(13,21,"l-reason")),c.xp6(3),c.Oqu(e.reason),c.xp6(4),c.Oqu(c.lcZ(20,23,"l-initial-date")),c.xp6(3),c.Oqu(c.xi3(23,25,e.initDate,"shortDate")),c.xp6(5),c.Oqu(c.lcZ(28,28,"l-end-date")),c.xp6(3),c.Oqu(c.xi3(31,30,e.endDate,"shortDate")),c.xp6(5),c.Oqu(c.lcZ(36,33,"l-days")),c.xp6(3),c.Oqu(e.days),c.xp6(4),c.Oqu(c.lcZ(43,35,"l-initial-hour")),c.xp6(3),c.Oqu(e.initHour),c.xp6(4),c.Oqu(c.lcZ(50,37,"l-final-hour")),c.xp6(3),c.Oqu(e.endHour),c.xp6(4),c.Oqu(c.lcZ(57,39,"l-hours")),c.xp6(3),c.Oqu(e.hours),c.xp6(4),c.Oqu(c.lcZ(64,41,"l-source")),c.xp6(3),c.Oqu(e.origin),c.xp6(1),c.Q6J("ngIf",i.showTableActions())}}function ne(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",13),c.YNc(1,se,68,43,"div",14),c.TgZ(2,"div",15),c.TgZ(3,"po-button",16),c.NdJ("p-click",function(){return c.CHM(e),c.oxw(2).showMore()}),c.ALo(4,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",e.items),c.xp6(2),c.s9C("p-label",c.lcZ(4,3,"l-load-more")),c.Q6J("p-disabled",e.showMoreDisable)}}function ae(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",30),c._UZ(1,"img",31),c.TgZ(2,"div",32),c.TgZ(3,"p",33),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"p",34),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"po-button",35),c.NdJ("p-click",function(){return c.CHM(e),c.oxw(2).openModalFilter()}),c.ALo(10,"translate"),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(4),c.Oqu(c.lcZ(5,3,"l-work-leave-not-found")),c.xp6(3),c.Oqu(c.lcZ(8,5,"l-request-new-period")),c.xp6(2),c.s9C("p-label",c.lcZ(10,7,"l-new-search")))}function re(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",3),c.TgZ(1,"app-page-header",4),c.NdJ("backFunction",function(){return c.CHM(e),c.oxw().back()}),c.qZA(),c.YNc(2,te,1,4,"app-card-employee",5),c.TgZ(3,"po-page-dynamic-search",6),c.NdJ("p-change-disclaimers",function(t){return c.CHM(e),c.oxw().onChangeDisclaimers(t)})("p-quick-search",function(t){return c.CHM(e),c.oxw().onQuickSearch(t)})("p-advanced-search",function(t){return c.CHM(e),c.oxw().onAdvancedSearch(t)}),c.qZA(),c.YNc(4,ie,2,8,"div",7),c.YNc(5,ne,5,5,"div",8),c.YNc(6,ae,11,9,"div",9),c.qZA()}if(2&e){const e=c.oxw();c.xp6(1),c.Q6J("backIsVisible",e.viewIsTeamManagement),c.xp6(1),c.Q6J("ngIf",e.employeeData),c.xp6(1),c.Q6J("ngClass",e.hasDisclaimers?"disclaimer":"")("p-actions",e.pageActions)("p-filters",e.filters)("p-literals",e.literals),c.xp6(1),c.Q6J("ngIf",!e.isMobile&&!e.workLeaveIsEmpty()),c.xp6(1),c.Q6J("ngIf",e.isMobile&&!e.workLeaveIsEmpty()),c.xp6(1),c.Q6J("ngIf",e.workLeaveIsEmpty())}}const le=[{path:"",component:(()=>{class e{constructor(e,t,i,o,s,n,a,r,l,d,p){this.appTranslateService=e,this.workLeaveService=t,this.windowUtilService=i,this.teamManagementService=o,this.activatedRoute=s,this.router=n,this.permissionSelector=a,this.fieldPropertiesService=r,this.lastAccessService=l,this.globals=d,this.moment=p,this.workLeaveListView=new D.i([]),this.pageActions=[],this.tableActions=[],this.items=[],this.loggedUser=w.N.loggedUser,this.employeeId=w.N.loggedUser,this.viewIsTeamManagement=!1,this.showRequest=!1,this.hasDisclaimers=!0,this.fieldPropertiesView={initHour:!0,endHour:!0,hours:!0,origin:!0},this.close=new c.vpe}ngOnInit(){this.workLeaveListView.actualPage=1,this.workLeaveListView.pageSize=10,this.showMoreDisable=!1,this.initializeComponent()}ngOnDestroy(){this.permissionSubscription&&this.permissionSubscription.unsubscribe(),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.viewIsTeamManagement&&!this.shouldKeepEmployee&&this.teamManagementService.cleanEmployeeCard()}initializeComponent(){return(0,d.mG)(this,void 0,void 0,function*(){this.getPermissions(),this.getFieldProperties(),this.subscribeToActivatedRoute(),this.isMobileCheck(),this.getLabelsSearch(),this.getColumns(),this.getPageActions(),this.getTableActions(),this.setCountLastAccess(),this.viewIsTeamManagement||this.getData(!0)})}getPermissions(){this.permissionSubscription=this.permissionSelector.permissions$.subscribe(e=>{this.permissions=e,this.canRequest=void 0!==this.permissions.teamManagementWorkLeaveRequest&&this.permissions.teamManagementWorkLeaveRequest,this.canEdit=void 0!==this.permissions.teamManagementWorkLeaveEdit&&this.permissions.teamManagementWorkLeaveEdit})}getFieldProperties(){this.fieldPropertiesService.getFieldProperties("workLeave").then(e=>{this.fieldProperties=e,this.fieldProperties.forEach(e=>{"initHour"===e.field?this.fieldPropertiesView.initHour=e.visible:"endHour"===e.field?this.fieldPropertiesView.endHour=e.visible:"hours"===e.field?this.fieldPropertiesView.hours=e.visible:"origin"===e.field&&(this.fieldPropertiesView.origin=e.visible)})})}isMobileCheck(){this.isMobile=this.windowUtilService.isMobileDevice()}translateString(e){return this.appTranslateService.getI18n(e)}getData(e){return(0,d.mG)(this,void 0,void 0,function*(){yield this.getWorkLeavesList(this.viewIsTeamManagement?this.employeeData.id:this.employeeId,this.workLeaveListView.actualPage,this.workLeaveListView.pageSize,e,this.initDateFilter,this.endDateFilter,this.reasonFilter)})}showMore(){this.getWorkLeavesList(this.viewIsTeamManagement?this.employeeData.id:this.employeeId,this.workLeaveListView.getNextPage(),this.workLeaveListView.pageSize,!1,this.initDateFilter,this.endDateFilter,this.reasonFilter)}onAdvancedSearch(e){e?this.searchItems(e):this.resetFilters()}onChangeDisclaimers(e){const t={};e.forEach(e=>{t[e.property]=e.value}),this.searchItems(t)}onQuickSearch(e){e?this.searchItems({reason:e}):this.resetFilters()}requestWorkLeave(){this.workLeaveEdit=void 0,this.shouldKeepEmployee=!0,this.request.loadRequest(),this.showRequest=!0}editWorkLeave(e){this.request.workLeaveEdit=this.workLeaveListView.records.find(t=>t.id==e.id),this.request.loadEdit(),this.showRequest=!0}removeWorkLeave(e){return(0,d.mG)(this,void 0,void 0,function*(){this.employeeId=this.viewIsTeamManagement?this.employeeData.id:this.employeeId,this.workLeaveId=e.id,this.excludeDialog.openDialog()})}back(){this.windowUtilService.back()}subscribeToActivatedRoute(){this.routeDataSubscription=this.activatedRoute.data.pipe((0,f.U)(e=>e.management)).subscribe(e=>{if(this.viewIsTeamManagement=!!e,e){if(null==this.teamManagementService.getEmployeeCard().employee)return void this.router.navigateByUrl("teamManagement");this.teamManagementWorkLeave()}})}teamManagementWorkLeave(){const{employee:e,image:t}=this.teamManagementService.getEmployeeCard();this.items=[],this.employeeData=e,this.imageAvatar=t,this.getData(!0)}showRequestButton(){return this.canRequest&&this.viewIsTeamManagement}showTableActions(){return this.canEdit&&this.viewIsTeamManagement}disableAction(e){return!e.canAlter}onDeleteWorkLeave(){this.getData(!0)}closeRequest(){this.getData(!0),this.showRequest=!1}workLeaveIsEmpty(){return!(this.isLoading||this.items&&0!==this.items.length)}openModalFilter(){this.poAdvancedFilter.onAdvancedAction()}getPageActions(){return(0,d.mG)(this,void 0,void 0,function*(){this.pageActions=this.canRequest&&this.viewIsTeamManagement?[{label:(yield this.translateString("l-request-work-leave")).toString(),action:this.requestWorkLeave.bind(this)}]:[]})}getTableActions(){return(0,d.mG)(this,void 0,void 0,function*(){this.tableActions=[{action:this.editWorkLeave.bind(this),label:(yield this.translateString("l-edit")).toString(),disabled:this.disableAction.bind(this),visible:this.showTableActions()},{action:this.removeWorkLeave.bind(this),label:(yield this.translateString("l-delete")).toString(),disabled:this.disableAction.bind(this),visible:this.showTableActions()}]})}getLabelsSearch(){return(0,d.mG)(this,void 0,void 0,function*(){this.literals={disclaimerGroupTitle:(yield this.translateString("l-filter-applied")).toString(),filterTitle:(yield this.translateString("l-advanced-search")).toString(),filterCancelLabel:(yield this.translateString("l-cancel-title")).toString(),filterConfirmLabel:(yield this.translateString("l-apply")).toString(),quickSearchLabel:(yield this.translateString("l-reason")).toString(),searchPlaceholder:(yield this.translateString("l-search-reason-placeholder")).toString()};let e=new Date,t=new Date;e.setDate(e.getDate()-90),t.setDate(t.getDate()+365),this.filters=[{property:"initDate",label:(yield this.translateString("l-initial-date")).toString(),type:"date",gridColumns:6,initValue:this.moment.getInstance(e).format("YYYY-MM-DD")},{property:"endDate",label:(yield this.translateString("l-end-date")).toString(),type:"date",gridColumns:6,initValue:this.moment.getInstance(t).format("YYYY-MM-DD")},{property:"reason",label:(yield this.translateString("l-reason")).toString(),gridColumns:12}]})}resetFilters(){this.workLeaveListView.actualPage>1&&(this.workLeaveListView.actualPage=1),this.getData(!0)}searchItems(e){this.initDateFilter=e.initDate?new Date(e.initDate):void 0,this.endDateFilter=e.endDate?new Date(e.endDate):void 0,this.reasonFilter=e.reason?e.reason:void 0,this.hasDisclaimers=!!(this.initDateFilter||this.endDateFilter||this.reasonFilter),this.workLeaveListView.actualPage>1&&(this.workLeaveListView.actualPage=1),this.getData(!0)}getColumns(){return(0,d.mG)(this,void 0,void 0,function*(){this.columns=[{property:"reason",label:(yield this.translateString("l-reason")).toString(),width:"30%"},{property:"initDate",label:(yield this.translateString("l-initial-date")).toString(),type:"date",width:"10%"},{property:"endDate",label:(yield this.translateString("l-end-date")).toString(),type:"date",width:"10%"},{property:"days",label:(yield this.translateString("l-days")).toString(),width:"8%"},{property:"initHour",label:(yield this.translateString("l-initial-hour")).toString(),width:"10%",visible:this.fieldPropertiesView.initHour},{property:"endHour",label:(yield this.translateString("l-final-hour")).toString(),width:"10%",visible:this.fieldPropertiesView.endHour},{property:"hours",label:(yield this.translateString("l-hours")).toString(),width:"8%",visible:this.fieldPropertiesView.hours},{property:"origin",label:(yield this.translateString("l-source")).toString(),width:"14%",visible:this.fieldPropertiesView.origin}]})}getWorkLeavesList(e,t,i,o,s=null,n=null,a=null){return(0,d.mG)(this,void 0,void 0,function*(){this.isLoading=!0;try{const r=yield this.workLeaveService.getWorkLeaves(e,t,i,a,s,n);if(r)return void this.updateItemsForTable(r,o)}catch(r){this.isLoading=!1}this.workLeaveListView.hasMoreRecords=!1})}updateItemsForTable(e,t){return(0,d.mG)(this,void 0,void 0,function*(){this.clearData(t),this.workLeaveListView.records=this.workLeaveListView.records.concat(e.items),this.workLeaveListView.hasMoreRecords=e.hasNext,this.isLoading=!1;for(let e=0;e<this.workLeaveListView.records.length;e++)this.items[e]={id:this.workLeaveListView.records[e].id,canAlter:this.workLeaveListView.records[e].canAlter,reason:this.workLeaveListView.records[e].reason.name,initDate:M.Em.formatUTCDate(new Date(this.workLeaveListView.records[e].initDate)),endDate:M.Em.formatUTCDate(new Date(this.workLeaveListView.records[e].endDate)),days:this.workLeaveListView.records[e].days,initHour:M.Em.getHoursByMilliseconds(this.workLeaveListView.records[e].initHour),endHour:M.Em.getHoursByMilliseconds(this.workLeaveListView.records[e].endHour),hours:M.Em.getHoursByMilliseconds(this.workLeaveListView.records[e].hours),origin:this.workLeaveListView.records[e].origin};this.items.length<this.workLeaveListView.actualPage*this.workLeaveListView.pageSize&&(this.showMoreDisable=!0)})}clearData(e){(!this.workLeaveListView.records||e)&&(this.workLeaveListView.records=[],e&&(this.items=[]))}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccessService.setLastAccess(B.Ye,e.id)})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(y.g),c.Y36(g),c.Y36(j.g),c.Y36(k.C),c.Y36(l.gz),c.Y36(l.F0),c.Y36(x.eL),c.Y36(Z.c),c.Y36(B.Lx),c.Y36(X.O),c.Y36($.z))},e.\u0275cmp=c.Xpm({type:e,selectors:[["workLeave"]],viewQuery:function(e,t){if(1&e&&(c.Gf(a.O6,5),c.Gf(L,5),c.Gf(z,5)),2&e){let e;c.iGM(e=c.CRH())&&(t.poAdvancedFilter=e.first),c.iGM(e=c.CRH())&&(t.excludeDialog=e.first),c.iGM(e=c.CRH())&&(t.request=e.first)}},outputs:{close:"close"},decls:3,vars:5,consts:[["class","work-leave",4,"ngIf"],[3,"employeeId","workLeaveId","deleted"],[3,"hidden","workLeaveEdit","closeRequest"],[1,"work-leave"],["pageTitle","l-work-leaves",3,"backIsVisible","backFunction"],[3,"image","name","role","status",4,"ngIf"],["p-title"," ",3,"ngClass","p-actions","p-filters","p-literals","p-change-disclaimers","p-quick-search","p-advanced-search"],["class","desktop",4,"ngIf"],["class","mobile",4,"ngIf"],["class","empty-center",4,"ngIf"],[3,"image","name","role","status"],[1,"desktop"],["p-container","","p-hide-text-overflow","","p-selectable","false",3,"p-hide-select-all","p-sort","p-striped","p-columns","p-items","p-actions","p-loading","p-show-more-disabled","p-show-more"],[1,"mobile"],["class","margin-card",4,"ngFor","ngForOf"],[1,"alignCenter","load-container"],[1,"load-more",3,"p-disabled","p-label","p-click"],[1,"margin-card"],["card-header","",1,"mr-card-header","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"pull-left"],["card-body",""],[1,"card-line"],[1,"line"],["for","date",1,"po-sm-3","po-md-5"],[1,"pull-right"],["for","date",1,"po-sm-6","po-md-6"],["class","button-actions edit-button",4,"ngIf"],[1,"button-actions","edit-button"],[1,"po-sm-12","po-md-12","po-mb-sm-1","po-mb-md-1","edit-button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","delete-button",3,"p-disabled","p-label","p-click"],[1,"empty-center"],["src","assets/img/empty-state.svg",1,"img-empty"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"label-empty"],[1,"text-filter"],["id","new-search","p-type","primary",3,"p-label","p-click"]],template:function(e,t){1&e&&(c.YNc(0,re,7,9,"div",0),c.TgZ(1,"app-exclude-work-leave",1),c.NdJ("deleted",function(){return t.onDeleteWorkLeave()}),c.qZA(),c.TgZ(2,"app-request-work-leave",2),c.NdJ("closeRequest",function(){return t.closeRequest()}),c.qZA()),2&e&&(c.Q6J("ngIf",!t.showRequest),c.xp6(1),c.Q6J("employeeId",t.employeeId)("workLeaveId",t.workLeaveId),c.xp6(1),c.Q6J("hidden",!t.showRequest)("workLeaveEdit",t.workLeaveEdit))},directives:[o.O5,L,z,S.q,a.O6,o.mk,E.x,r._w3,o.sg,r.bOz,K.c],pipes:[n.X$,ee.$],styles:["[_nghost-%COMP%]     div.po-page{margin-left:0!important;width:100%!important}[_nghost-%COMP%]     div.po-page div.po-page-content{width:100%!important;height:0px!important}[_nghost-%COMP%]     div.po-page div.po-page-header{padding-left:0;padding-right:0}@media screen and (max-width: 490px){[_nghost-%COMP%]     .po-page{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;display:block}}@media screen and (min-width: 490px){[_nghost-%COMP%]     .po-page{display:block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding-bottom:0}}.card-line[_ngcontent-%COMP%]{font-size:14px}.line[_ngcontent-%COMP%]{margin:35px 0 10px}.buttons-mobile[_ngcontent-%COMP%]{padding-bottom:7px}.edit-button[_ngcontent-%COMP%]{float:left}.delete-button[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]     .button-actions{width:100%;padding-top:5px}.avatar-small[_ngcontent-%COMP%]{float:left;margin:5px 8px 0 0}.pull-right[_ngcontent-%COMP%]{padding:0 8px;float:right!important}.margin-card[_ngcontent-%COMP%]{margin-bottom:10px}.mobile[_ngcontent-%COMP%]{overflow-y:visible}.load-container[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:20px}@media (min-width: 490px){.work-leave[_ngcontent-%COMP%]{margin:0 40px}}.text-filter[_ngcontent-%COMP%]{margin-top:-1%!important;margin-bottom:3%;color:#8e8e93;font-size:19px}.label-empty[_ngcontent-%COMP%]{font-size:23px}.img-empty[_ngcontent-%COMP%]{width:100%;max-width:220px;padding-bottom:10px;margin-bottom:20px}@media only screen and (min-width: 481px) and (max-width: 960px){.img-empty[_ngcontent-%COMP%]{width:100%;max-width:365px;padding-bottom:10px;margin-bottom:20px}}.empty-center[_ngcontent-%COMP%]{text-align:center;margin-top:3%;margin-bottom:25%}@media only screen and (min-width: 320px) and (max-width: 768px){.empty-center[_ngcontent-%COMP%]{text-align:center;margin-top:3%;padding-bottom:25%;margin-bottom:57%!important}.text-filter[_ngcontent-%COMP%]{padding-bottom:4%!important}}[_nghost-%COMP%]     .po-table-header-block{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;float:left}[_nghost-%COMP%]     .po-table-header-icon-unselected:after{float:none}[_nghost-%COMP%]     .po-table-header-icon-descending:after{float:none}[_nghost-%COMP%]     .po-table-header-icon-ascending:after{float:none}[_nghost-%COMP%]     .po-table-column-manager-footer .po-button{border:none!important}[_nghost-%COMP%]     .po-page-header{padding:16px}[_nghost-%COMP%]     .po-page-list-filter-wrapper{margin-top:0!important;float:left}[_nghost-%COMP%]     .disclaimer{margin-top:100px}[_nghost-%COMP%]     .po-page-list-operations{display:flow-root}@media screen and (min-width: 490px){[_nghost-%COMP%]     .po-page-list-actions{float:right;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]     .po-page-list-actions .po-button{margin-right:0;height:44px;padding:10px}}@media screen and (max-width: 490px){[_nghost-%COMP%]     .po-page-list-filter-wrapper .po-page-filter-content{width:calc(100% - 72px)}[_nghost-%COMP%]     .po-page-list-actions{margin-top:-18px;margin-bottom:28px}[_nghost-%COMP%]     .po-page-list-actions .po-button{height:44px}[_nghost-%COMP%]     .po-page-list-filter-wrapper .po-input, [_nghost-%COMP%]     .po-page-list-filter-wrapper .po-page-list-filter-search-link{height:44px}[_nghost-%COMP%]     .po-page-list-filter-wrapper .po-page-list-filter-search-link{font-size:12px}[_nghost-%COMP%]     .load-more .po-button{height:44px;width:100%;padding:0}}[_nghost-%COMP%]     #new-search .po-button{height:44px;padding:0 18px}"]}),e})(),canActivate:[b.P]},{path:"request",component:z,canActivate:[b.P]}];let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[l.Bz.forChild(le)],l.Bz]}),e})(),pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[g],imports:[[o.ez,s.u5,r.JBz,n.aw,u.d,m.q,a.Pu,v.Y,l.Bz,de]]}),e})()}}]);