!function(){function e(){e=function(e,t){return new i(e,void 0,t)};var t=RegExp.prototype,n=new WeakMap;function i(e,t,o){var a=new RegExp(e,t);return n.set(a,o||n.get(e)),r(a,i.prototype)}function o(e,t){var i=n.get(t);return Object.keys(i).reduce(function(t,n){return t[n]=e[i[n]],t},Object.create(null))}return a(i,RegExp),i.prototype.exec=function(e){var n=t.exec.call(this,e);return n&&(n.groups=o(n,this)),n},i.prototype[Symbol.replace]=function(e,i){if("string"==typeof i){var a=n.get(this);return t[Symbol.replace].call(this,e,i.replace(/\$<([^>]+)>/g,function(e,t){return"$"+a[t]}))}if("function"==typeof i){var r=this;return t[Symbol.replace].call(this,e,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(o(e,r)),i.apply(this,e)})}return t[Symbol.replace].call(this,e,i)},e.apply(this,arguments)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,o,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(c){s=!0,o=c}finally{try{r||null==n.return||n.return()}finally{if(s)throw o}}return a}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=o(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function o(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function d(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},34902:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var i,o=n(64762),a=n(26215),r=n(37716),s=((i=function(){function e(){h(this,e),this.messageReceiverSubject=new a.X(null),this.messages$=this.messageReceiverSubject.asObservable()}return m(e,[{key:"init",value:function(){var e=this;document.mhrMessage={ready:!0,new:function(t){return e.newMessage(t)}}}},{key:"newMessage",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=2;break}return t.abrupt("return",this.newMessageReceived(e));case 2:case"end":return t.stop()}},t,this)}))}},{key:"newMessageReceived",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.messageReceiverSubject.next(Object.assign(Object.assign({},e),{date:new Date}));case 1:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},13353:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var i,o=((i=o||(o={})).LOGIN_WITH_TOKEN="LOGIN_WITH_TOKEN",i.LOGIN_WITH_CREDENTIALS="LOGIN_WITH_CREDENTIALS",o)},76660:function(e,t,o){"use strict";o.r(t),o.d(t,{AbsenceModule:function(){return bt}});var r=o(38583),c=o(3679),l=o(54436),d=o(95987),g=o(29790),f=o(44956),v=o(32114),b=o(37716),x=o(64762),y=o(36857),w=o(65241),Z=[[["","advanced-search-dialog-content",""]]],C=function(){function e(t){h(this,e),this.translateService=t,this.title="l-advanced-search",this.onAdvancedSearch=new b.vpe}return m(e,[{key:"ngOnInit",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.poModal.onXClosed.pipe((0,y.t)(this)).subscribe(this.returnFormToPreviousState.bind(this)),e.next=3,this.mountActions();case 3:this.watchFormStatus();case 4:case"end":return e.stop()}},e,this)}))}},{key:"openDialog",value:function(){this.poModal.open(),this.valuesOnOpen=this.advancedSearchFormGroup.value}},{key:"apply",value:function(){this.advancedSearchFormGroup.valid&&(this.onAdvancedSearch.next(this.convertReactiveValueToAdvancedFilterValue()),this.poModal.close())}},{key:"clickOutHandler",value:function(){this.returnFormToPreviousState()}},{key:"cancel",value:function(){this.returnFormToPreviousState(),this.poModal.close()}},{key:"returnFormToPreviousState",value:function(){this.advancedSearchFormGroup.patchValue(this.valuesOnOpen)}},{key:"convertReactiveValueToAdvancedFilterValue",value:function(){var e=[];if(this.advancedSearchFormGroup.value)for(var t=0,n=Object.keys(this.advancedSearchFormGroup.value);t<n.length;t++){var i=n[t];e.push({key:i,value:this.advancedSearchFormGroup.value[i]})}return e}},{key:"watchFormStatus",value:function(){var e=this;this.advancedSearchFormGroup.statusChanges.pipe((0,y.t)(this)).subscribe(function(t){e.mountActions("VALID"===t)})}},{key:"mountActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.advancedSearchFormGroup.valid;return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.apply.bind(this),t.t1=!e,t.next=4,this.translateService.getI18n("l-apply");case 4:return t.t2=t.sent,this.applyAction={action:t.t0,disabled:t.t1,label:t.t2},t.t3=this.cancel.bind(this),t.next=9,this.translateService.getI18n("l-cancel");case 9:t.t4=t.sent,this.cancelAction={action:t.t3,label:t.t4};case 11:case"end":return t.stop()}},t,this)}))}}]),e}();C.\u0275fac=function(e){return new(e||C)(b.Y36(w.g))},C.\u0275cmp=b.Xpm({type:C,selectors:[["app-advanced-search-dialog"]],viewQuery:function(e,t){var n;(1&e&&b.Gf(f.hmF,7),2&e)&&(b.iGM(n=b.CRH())&&(t.poModal=n.first))},inputs:{title:"title",advancedSearchFormGroup:"advancedSearchFormGroup"},outputs:{onAdvancedSearch:"onAdvancedSearch"},ngContentSelectors:["[advanced-search-dialog-content]"],decls:4,vars:6,consts:[["p-size","lg",3,"p-click-out","p-title","p-primary-action","p-secondary-action","onClickOut"],[3,"ngSubmit"]],template:function(e,t){1&e&&(b.F$t(Z),b.TgZ(0,"po-modal",0),b.NdJ("onClickOut",function(){return t.clickOutHandler()}),b.ALo(1,"translate"),b.TgZ(2,"form",1),b.NdJ("ngSubmit",function(){return t.apply()}),b.Hsn(3),b.qZA(),b.qZA()),2&e&&b.Q6J("p-click-out",!1)("p-title",b.lcZ(1,4,t.title))("p-primary-action",t.applyAction)("p-secondary-action",t.cancelAction)},directives:[f.hmF,c._Y,c.JL],pipes:[g.X$],styles:[".po-modal-title{padding:0;margin-bottom:0}.po-modal-header{padding:16px;display:flex;align-items:center}.po-modal-body{padding-top:0;margin-top:0}.po-modal-footer{padding-right:8px;padding-left:8px}@media (min-width: 481px){.po-modal-footer{padding-right:16px;padding-left:16px}}.po-modal-header-close-button{position:static;position:initial;margin-left:auto;top:unset;right:unset;display:flex}\n"],encapsulation:2}),C=(0,x.gn)([(0,y.c)(),(0,x.w6)("design:paramtypes",[w.g])],C);var M,k=((M=function(){function e(){h(this,e),this.placeholder="",this.buttonText="l-advanced-search",this.onQuickSearch=new b.vpe,this.quickSearchFormGroup=new c.cw({quickSearch:new c.NI("")})}return m(e,[{key:"ngOnInit",value:function(){}},{key:"openAdvancedDialog",value:function(){this.advancedSearchDialog.openDialog()}},{key:"quickSearchSubmitted",value:function(){if(this.quickSearchFormGroup.valid){var e=this.quickSearchFormGroup.get("quickSearch").value;this.onQuickSearch.next(e)}}}]),e}()).\u0275fac=function(e){return new(e||M)},M.\u0275cmp=b.Xpm({type:M,selectors:[["app-advanced-search-box"]],inputs:{placeholder:"placeholder",buttonText:"buttonText",advancedSearchDialog:"advancedSearchDialog"},outputs:{onQuickSearch:"onQuickSearch"},decls:11,vars:5,consts:[[1,"advanced-search-box"],[3,"formGroup","ngSubmit"],["form","ngForm"],[1,"po-field-container-content","po-page-filter-content"],[1,"po-field-icon-container-right"],[1,"po-icon","po-icon-search","po-field-icon",3,"click"],["formControlName","quickSearch","type","text",1,"po-input","po-input-icon-right",3,"placeholder"],[1,"po-page-list-filter-search"],["tabindex","0",1,"po-page-list-filter-search-link",3,"click"]],template:function(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div",0),b.TgZ(1,"form",1,2),b.NdJ("ngSubmit",function(){return t.quickSearchSubmitted()}),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.TgZ(5,"span",5),b.NdJ("click",function(){return b.CHM(n),b.MAs(2).onSubmit()}),b.qZA(),b.qZA(),b._UZ(6,"input",6),b.qZA(),b.TgZ(7,"div",7),b.TgZ(8,"span",8),b.NdJ("click",function(){return t.openAdvancedDialog()}),b._uU(9),b.ALo(10,"translate"),b.qZA(),b.qZA(),b.qZA(),b.qZA()}2&e&&(b.xp6(1),b.Q6J("formGroup",t.quickSearchFormGroup),b.xp6(5),b.Q6J("placeholder",t.placeholder),b.xp6(3),b.hij(" ",b.lcZ(10,3,t.buttonText),""))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u],pipes:[g.X$],styles:[""]}),M),A=function(){var e=m(function e(t){h(this,e),this.templateRef=t});return e.\u0275fac=function(t){return new(t||e)(b.Y36(b.Rgc))},e.\u0275dir=b.lG2({type:e,selectors:[["","appAdvancedSearchContent",""]]}),e}();function P(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"po-disclaimer-group",6),b.NdJ("p-remove",function(e){return b.CHM(n),b.oxw().disclaimerRemoved(e)})("p-remove-all",function(){return b.CHM(n),b.oxw().changeFilter(!0,!0)}),b.ALo(1,"translate"),b.qZA()}if(2&e){var i=b.oxw();b.Q6J("p-disclaimers",i.disclaimers)("p-title",b.lcZ(1,2,i.disclaimersTitle))}}function O(e,t){1&e&&b.GkF(0)}function q(e,t){if(1&e&&(b.ynx(0),b.YNc(1,O,1,0,"ng-container",9),b.BQk()),2&e){var n=t.$implicit;b.xp6(1),b.Q6J("ngTemplateOutlet",n.templateRef)}}function T(e,t){if(1&e&&(b.TgZ(0,"div",7),b.YNc(1,q,2,1,"ng-container",8),b.qZA()),2&e){var n=b.oxw();b.xp6(1),b.Q6J("ngForOf",n.contentsTemplate)}}var _=function(){function e(t){h(this,e),this.advancedFilters=null==t?void 0:t.advancedFilters,this.quickFilter=null==t?void 0:t.quickFilter}return m(e,[{key:"advancedFiltersAsObject",get:function(){return this.advancedFilters?this.advancedFilters.reduce(function(e,t){return e[t.key]=t.value,e},{}):{}}}]),e}(),S=function(){var e=function(){function e(t){h(this,e),this.appTranslateService=t,this.placeholder="",this.disclaimersTitle="l-filter-applied",this.filtersChange=new b.vpe}return m(e,[{key:"advancedFiltersChanged",value:function(e){return this.filterChanged(new _({advancedFilters:e}))}},{key:"quickFilterChanged",value:function(e){return this.filterChanged(new _({quickFilter:e}))}},{key:"disclaimerRemoved",value:function(e){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.disclaimers=e.currentDisclaimers,null==this.currentFilter.quickFilter){t.next=5;break}return t.next=3,this.changeFilter();case 3:t.next=8;break;case 5:return n=this.currentFilter.advancedFilters.filter(function(e){return null!=i.disclaimers.find(function(t){return t.property===e.key})}),t.next=8,this.changeFilter(!1,!0,!1,new _({advancedFilters:n}));case 8:case"end":return t.stop()}},t,this)}))}},{key:"changeFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new _;return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,r,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n||this.filtersChange.next({old:this.currentFilter,new:i}),this.currentFilter=i,!e){o.next=34;break}if(!i){o.next=33;break}if(null==i.quickFilter){o.next=6;break}a=[{value:i.quickFilter}],o.next=33;break;case 6:if(!i.advancedFilters){o.next=33;break}a=[],r=p(i.advancedFilters),o.prev=9,r.s();case 11:if((s=r.n()).done){o.next=25;break}return c=s.value,o.t0=a,o.t1="".concat(this.getAdvancedFilterLabel(c),": "),o.next=17,this.formatValueForLabel(c.key,c.value);case 17:o.t2=o.sent,o.t3=o.t1.concat.call(o.t1,o.t2),o.t4=c.key,o.t5=c.value,o.t6={label:o.t3,property:o.t4,value:o.t5},o.t0.push.call(o.t0,o.t6);case 23:o.next=11;break;case 25:o.next=30;break;case 27:o.prev=27,o.t7=o.catch(9),r.e(o.t7);case 30:return o.prev=30,r.f(),o.finish(30);case 33:this.disclaimers=null!=a?a:[];case 34:t&&this.updateFormGroupValues();case 35:case"end":return o.stop()}},o,this,[[9,27,30,33]])}))}},{key:"updateFormGroupValues",value:function(){var e;this.advancedSearchFormGroup.reset(),this.advancedSearchFormGroup.patchValue(null===(e=this.currentFilter)||void 0===e?void 0:e.advancedFiltersAsObject)}},{key:"filterChanged",value:function(e){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.changeFilter(!0,!1,!1,e);case 2:case"end":return t.stop()}},t,this)}))}},{key:"getAdvancedFilterLabel",value:function(e){var t;return(null===(t=this.advancedFilterLabels)||void 0===t?void 0:t.has(e.key))?this.advancedFilterLabels.get(e.key):e.key}},{key:"formatValueForLabel",value:function(e,t){var n,i;return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(null===(i=null===(n=this.extra)||void 0===n?void 0:n.optionsLabelGetter)||void 0===i?void 0:i.has(e))){o.next=2;break}return o.abrupt("return",this.extra.optionsLabelGetter.get(e)(t,e));case 2:if(null==t){o.next=7;break}if("boolean"!=typeof t){o.next=5;break}return o.abrupt("return",this.appTranslateService.getI18n(t?"l-yes":"l-no"));case 5:if(!(t instanceof Array)){o.next=7;break}return o.abrupt("return",t.join(", "));case 7:return o.abrupt("return",t);case 8:case"end":return o.stop()}},o,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.Y36(w.g))},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-advanced-search"]],contentQueries:function(e,t,n){var i;(1&e&&b.Suo(n,A,4),2&e)&&(b.iGM(i=b.CRH())&&(t.contentsTemplate=i))},inputs:{advancedSearchFormGroup:"advancedSearchFormGroup",placeholder:"placeholder",disclaimersTitle:"disclaimersTitle",advancedFilterLabels:"advancedFilterLabels",extra:"extra"},outputs:{filtersChange:"filtersChange"},decls:6,vars:5,consts:[[1,"advanced-search","po-sm-12","po-md-12"],[1,"advanced-search-box-block",3,"advancedSearchDialog","placeholder","onQuickSearch"],["class","disclaimers",3,"p-disclaimers","p-title","p-remove","p-remove-all",4,"ngIf"],[3,"advancedSearchFormGroup","onAdvancedSearch"],["advancedSearchDialog",""],["advanced-search-dialog-content","",4,"ngIf"],[1,"disclaimers",3,"p-disclaimers","p-title","p-remove","p-remove-all"],["advanced-search-dialog-content",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(e,t){if(1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"app-advanced-search-box",1),b.NdJ("onQuickSearch",function(e){return t.quickFilterChanged(e)}),b.qZA(),b.YNc(2,P,2,4,"po-disclaimer-group",2),b.TgZ(3,"app-advanced-search-dialog",3,4),b.NdJ("onAdvancedSearch",function(e){return t.advancedFiltersChanged(e)}),b.YNc(5,T,2,1,"div",5),b.qZA(),b.qZA()),2&e){var n=b.MAs(4);b.xp6(1),b.Q6J("advancedSearchDialog",n)("placeholder",t.placeholder),b.xp6(1),b.Q6J("ngIf",t.disclaimers&&(null==t.disclaimers?null:t.disclaimers.length)>0),b.xp6(1),b.Q6J("advancedSearchFormGroup",t.advancedSearchFormGroup),b.xp6(2),b.Q6J("ngIf",(null==t.contentsTemplate?null:t.contentsTemplate.length)>0)}},directives:[k,r.O5,C,f.WX_,r.sg,r.tP],pipes:[g.X$],styles:[".advanced-search{width:100%}.advanced-search-box-block{display:flex;margin-bottom:16px;flex-direction:column;align-items:stretch}.disclaimers{width:100%}\n"],encapsulation:2}),e}(),I=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[r.ez,c.UX,g.aw,f.JBz],c.UX]}),e}(),D=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[r.ez,f.Y$o]]}),e}(),L=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[r.ez,D]]}),e}(),R=o(56365),N=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[r.ez,g.aw,R.q,f.JBz,c.u5]]}),e}(),E=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({imports:[[r.ez,D]]}),e}(),U=o(97427),F=o(9112),J=o(39761),V=o(89019),Y=o(21615),z=o(33490),Q=o(14833),G=o(81059),H=o(64383),B=o(96054),j=o(84479),$=o(37503),W=o(98348),K=o(36227),X=o(68014),ee=o(82236),te=o(85647),ne=o(81617),ie=o(36812),oe=o(57706),ae=o(82832);function re(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"app-card",4),b.NdJ("click",function(){var e=b.CHM(n).$implicit;return b.oxw().filter(e)}),b.TgZ(1,"div",5),b.TgZ(2,"div",6),b.TgZ(3,"div"),b.TgZ(4,"span",7),b._uU(5),b.ALo(6,"translate"),b.qZA(),b.qZA(),b.qZA(),b.TgZ(7,"div",8),b.TgZ(8,"div",9),b.TgZ(9,"div",10),b.TgZ(10,"span",11),b.TgZ(11,"a"),b._uU(12),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var i=t.$implicit,o=b.oxw();b.Q6J("cssClass",o.getClass(i.select)),b.xp6(5),b.Oqu(b.lcZ(6,3,null==i?null:i.name)),b.xp6(7),b.Oqu(i.quantity)}}var se=function(e){return{"card-not-allowed":e}};function ce(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"app-card",12),b.NdJ("click",function(){var e=b.CHM(n).$implicit;return b.oxw().filter(e)}),b.TgZ(1,"div",13),b.TgZ(2,"span",14),b._uU(3),b.ALo(4,"translate"),b.qZA(),b.qZA(),b.TgZ(5,"div",5),b.TgZ(6,"div",15),b.TgZ(7,"span"),b._uU(8),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var i=t.$implicit,o=b.oxw();b.Q6J("ngClass",b.VKq(6,se,!o.quantityIsValid(null==i?null:i.quantity)))("cssClass",o.getClass(i.select)),b.xp6(3),b.Oqu(b.lcZ(4,4,i.name)),b.xp6(5),b.Oqu(i.quantity)}}var le=function(){var e=function(){function e(){h(this,e),this.dashboardObject=[],this.filterEvent=new b.vpe}return m(e,[{key:"filter",value:function(e){e.quantity>0&&(e.select=!e.select,this.dashboardObject.forEach(function(t){t.name!==e.name&&(t.select=!1)}),this.filterEvent.emit(e))}},{key:"getClass",value:function(e){return e?"card-count-active":""}},{key:"quantityIsValid",value:function(e){return e>0}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-status-dashboard"]],inputs:{dashboardObject:"dashboardObject"},outputs:{filterEvent:"filterEvent"},decls:4,vars:2,consts:[[1,"scrolling-wrapper","po-visible-sm-12","po-visible-md-12"],["class","cards-block po-ml-1",3,"cssClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-template-columns-5","po-hidden-sm","po-hidden-md"],["class","card-pending",3,"ngClass","cssClass","click",4,"ngFor","ngForOf"],[1,"cards-block","po-ml-1",3,"cssClass","click"],["card-body","",1,"mr-card-body","po-sm-12"],[1,"po-row","row-title"],[1,"description-small"],[1,"po-row","row-description"],[1,"po-sm-6","center-text"],[1,"hours","absence"],[1,"quatity-size"],[1,"card-pending",3,"ngClass","cssClass","click"],["card-header","",1,"mr-card-header","po-sm-12"],[1,"description"],[1,"hours","delay"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.YNc(1,re,13,5,"app-card",1),b.qZA(),b.TgZ(2,"div",2),b.YNc(3,ce,9,8,"app-card",3),b.qZA()),2&e&&(b.xp6(1),b.Q6J("ngForOf",t.dashboardObject),b.xp6(2),b.Q6J("ngForOf",t.dashboardObject))},directives:[r.sg,ae.A,r.mk],pipes:[g.X$],styles:['.mr-card-body[_ngcontent-%COMP%]{text-align:center}.description[_ngcontent-%COMP%]{font-weight:bold;font-family:"NunitoSans-Bold"}.hours[_ngcontent-%COMP%]{font-size:160%}.hours.delay[_ngcontent-%COMP%]{color:rgba(190,39,12,.973)}@media (min-width: 961px){.hours[_ngcontent-%COMP%]{font-weight:normal;font-size:32px;font-family:"NunitoSans-ExtraLight"}.hours.absence[_ngcontent-%COMP%], .hours.delay[_ngcontent-%COMP%]{color:inherit}}.description[_ngcontent-%COMP%]{font-size:90%}.mr-card-header[_ngcontent-%COMP%]{padding:10px}.description-small[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;line-height:.7em;white-space:normal;display:block;text-align:left}.cards-block[_ngcontent-%COMP%]{display:inline-block;width:45%;margin-right:10px}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;white-space:nowrap;height:125px;padding:0!important;margin-left:10px}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block}.row-title[_ngcontent-%COMP%]{padding:10px 5px}.row-description[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 360px){.qty-oncall-text[_ngcontent-%COMP%]{position:relative;bottom:10px}}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.center-text[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}.card-pending[_ngcontent-%COMP%]{cursor:pointer!important;margin:0 5px}.card-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed!important}.card-select[_ngcontent-%COMP%]{background:#ceeaf2}[_nghost-%COMP%]     .card-well{height:118px;padding:0!important}.grid-template-columns-5[_ngcontent-%COMP%]{grid-template-columns:1.5fr 1.5fr 1.5fr 1.5fr 1.5fr}.grid[_ngcontent-%COMP%]{display:grid}.quatity-size[_ngcontent-%COMP%]{font-size:32px;font-family:"NunitoSans-ExtraLight","sans-serif"}@media (min-width: 961px){[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well{background:#ceeaf2}[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well .hours{font-weight:bold;font-family:"NunitoSans-Bold"}}']}),e}(),ue=function(){var e=m(function e(){h(this,e),this.info=""});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-info-tooltip"]],inputs:{info:"info"},decls:1,vars:1,consts:[[1,"po-icon","po-icon-info","info","info-tooltip",3,"p-tooltip"]],template:function(e,t){1&e&&b._UZ(0,"span",0),2&e&&b.Q6J("p-tooltip",t.info)},directives:[f.oK3],styles:[".info[_ngcontent-%COMP%]{font-size:16px;color:#0c9abe;cursor:help;display:flex;align-items:center;justify-content:center}"]}),e}();function pe(e,t){if(1&e&&b._UZ(0,"app-info-tooltip",3),2&e){var n=b.oxw();b.Q6J("info",n.info)}}var de=function(){var e=m(function e(){h(this,e),this.title=""});return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Xpm({type:e,selectors:[["app-field-title"]],inputs:{title:"title",info:"info"},decls:4,vars:2,consts:[[1,"po-field-container-title"],[1,"po-field-title"],["class","field-info",3,"info",4,"ngIf"],[1,"field-info",3,"info"]],template:function(e,t){1&e&&(b.TgZ(0,"div",0),b.TgZ(1,"span",1),b._uU(2),b.qZA(),b.YNc(3,pe,1,1,"app-info-tooltip",2),b.qZA()),2&e&&(b.xp6(2),b.Oqu(t.title),b.xp6(1),b.Q6J("ngIf",null!=t.info))},directives:[r.O5,ue],styles:[".po-field-container-title{display:flex;align-items:center}.po-field-title{display:inline;width:unset}.field-info{margin-left:4px;display:flex}\n"],encapsulation:2}),e}(),ge=o(18494),he=o(97983),fe=o(13235),me=o(32268),ve=["cardContainer"];function be(e,t){1&e&&b._UZ(0,"span",21)}function xe(e,t){1&e&&b._UZ(0,"span",22)}function ye(e,t){1&e&&b._UZ(0,"div")}function we(e,t){}function Ze(e,t){1&e&&b._UZ(0,"div")}var Ce=function(e){return{bonus:e}};function Me(e,t){if(1&e&&(b.ynx(0),b._uU(1),b.ALo(2,"translate"),b.BQk()),2&e){var n=b.oxw(2);b.xp6(1),b.hij("\xa0",b.xi3(2,1,"l-absence-bonus",b.VKq(4,Ce,n.card.vacationBonus)),"")}}var ke=function(e){return{qty:e}};function Ae(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.YNc(7,Me,3,6,"ng-container",26),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,3,"l-total-days")),b.xp6(3),b.hij(" ",b.xi3(6,5,"l-days-qty",b.VKq(8,ke,n.card.absenceDays))," "),b.xp6(2),b.Q6J("ngIf",null!=n.card.vacationBonus&&n.card.vacationBonus>0)}}function Pe(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-vacation-balance")),b.xp6(3),b.hij(" ",b.xi3(6,4,"l-days-qty",b.VKq(7,ke,n.card.balance))," ")}}var Oe=function(e,t){return{start:e,end:t}};function qe(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.ALo(7,"utcDate"),b.ALo(8,"utcDate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-absence-period-line-vacations-limit-interval1")),b.xp6(3),b.Oqu(b.xi3(6,4,"l-until-two-values",b.WLB(13,Oe,b.xi3(7,7,n.card.initConcessionPeriod,"shortDate"),b.xi3(8,10,n.card.endConcessionPeriod,"shortDate"))))}}function Te(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.ALo(7,"utcDate"),b.ALo(8,"utcDate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-vacations-day")),b.xp6(3),b.Oqu(b.xi3(6,4,"l-until-two-values",b.WLB(13,Oe,b.xi3(7,7,n.card.initDate,"shortDate"),b.xi3(8,10,n.card.endDate,"shortDate"))))}}function _e(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"utcDate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-take-vacation-until")),b.xp6(3),b.Oqu(b.xi3(6,4,n.card.takeVacationUntil,"shortDate"))}}function Se(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.ALo(7,"utcDate"),b.ALo(8,"utcDate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-period-referring-to")),b.xp6(3),b.Oqu(b.xi3(6,4,"l-until-two-values",b.WLB(13,Oe,b.xi3(7,7,n.card.initPeriod,"shortDate"),b.xi3(8,10,n.card.endPeriod,"shortDate"))))}}function Ie(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-vacation-status")),b.xp6(3),b.Oqu(b.lcZ(6,4,n.getConditionI18n(n.card.condition)))}}function De(e,t){if(1&e&&(b.TgZ(0,"div",23),b.TgZ(1,"span",24),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.TgZ(4,"span",25),b._uU(5),b.ALo(6,"translate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Oqu(b.lcZ(3,2,"l-stage")),b.xp6(3),b.Oqu(null!=n.card.statusLabel&&""!=n.card.statusLabel?n.card.statusLabel:b.lcZ(6,4,n.getStatusI18n(n.card.status)))}}function Le(e,t){}function Re(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"span",30),b.NdJ("click",function(){return b.CHM(n),b.oxw(2).showConflicts()}),b._uU(1),b.ALo(2,"translate"),b.qZA()}2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"l-absence-conflicts")," "))}function Ne(e,t){1&e&&(b.TgZ(0,"span",31),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e&&(b.xp6(1),b.hij(" ",b.lcZ(2,1,"l-absence-conflicts")," "))}function Ee(e,t){if(1&e&&(b.TgZ(0,"span"),b._uU(1),b.ALo(2,"translate"),b.qZA()),2&e){var n=b.oxw(2);b.Gre("card-tag tag tag-",n.card.condition,""),b.xp6(1),b.Oqu(b.lcZ(2,4,n.getConditionI18n(n.card.condition)))}}function Ue(e,t){if(1&e&&(b.YNc(0,Re,3,3,"span",27),b.YNc(1,Ne,3,3,"span",28),b.YNc(2,Ee,3,6,"span",29)),2&e){var n=b.oxw();b.Q6J("ngIf",n.card.hasConflict&&n.conflictIsClickable&&!n.isVacationLimit),b.xp6(1),b.Q6J("ngIf",n.card.hasConflict&&!n.conflictIsClickable&&!n.isVacationLimit),b.xp6(1),b.Q6J("ngIf",null!=n.card.condition)}}function Fe(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div",34),b.TgZ(1,"po-button",35),b.NdJ("click",function(){return b.CHM(n),b.oxw(2).reprove()}),b.ALo(2,"translate"),b.qZA(),b.TgZ(3,"po-button",36),b.NdJ("click",function(){return b.CHM(n),b.oxw(2).approve()}),b.ALo(4,"translate"),b.qZA(),b.qZA()}2&e&&(b.xp6(1),b.s9C("p-label",b.lcZ(2,2,"l-decline")),b.xp6(2),b.s9C("p-label",b.lcZ(4,4,"l-accept")))}function Je(e,t){1&e&&(b._UZ(0,"app-info-tooltip",40),b.ALo(1,"translate")),2&e&&b.Q6J("info",b.lcZ(1,1,"l-request-disabled"))}function Ve(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div",37),b.YNc(1,Je,2,3,"app-info-tooltip",38),b.TgZ(2,"po-button",39),b.NdJ("click",function(){b.CHM(n);var e=b.oxw(2);return e.openVacation(e.card,!0)}),b.ALo(3,"translate"),b.qZA(),b.qZA()}if(2&e){var i=b.oxw(2);b.ekj("request-button-disabled",0==i.card.canRequest),b.xp6(1),b.Q6J("ngIf",0==i.card.canRequest),b.xp6(1),b.s9C("p-label",b.lcZ(3,5,"l-request")),b.Q6J("p-disabled",0==i.card.canRequest)}}function Ye(e,t){if(1&e&&(b.YNc(0,Fe,5,6,"div",32),b.YNc(1,Ve,4,7,"div",33)),2&e){var n=b.oxw();b.Q6J("ngIf",n.buttonApproveReproveAreVisible),b.xp6(1),b.Q6J("ngIf",n.requestIsVisible&&n.hasPermissionVacation)}}var ze=function(e){a(n,e);var t=s(n);function n(e,i,o,a){var r;return h(this,n),(r=t.call(this)).imageService=e,r.router=i,r.globals=o,r.profileService=a,r.isCollapsed=!0,r.images={},r.conflictIsClickable=!0,r.hasPermissionVacation=!1,r.onReprove=new b.vpe,r.onApprove=new b.vpe,r.onConflict=new b.vpe,r}return m(n,[{key:"card",get:function(){var e;return null===(e=this.view)||void 0===e?void 0:e.card}},{key:"period",get:function(){var e;return null===(e=this.view)||void 0===e?void 0:e.period}},{key:"isVacationLimit",get:function(){return this.card.type==Y.u.TypeEnum.VacationLimit}},{key:"isApproved",get:function(){return this.card.status==Y.u.StatusEnum.Approved}},{key:"isRejected",get:function(){return this.card.status==Y.u.StatusEnum.Rejected}},{key:"requestIsVisible",get:function(){return[Y.u.ConditionEnum.ExpiredVacation,Y.u.ConditionEnum.DoubleExpiredVacation,Y.u.ConditionEnum.VacationsToExpire].includes(this.card.condition)&&this.card.status===Y.u.StatusEnum.Empty}},{key:"buttonApproveReproveAreVisible",get:function(){return this.card.canApprove&&!this.isApproved&&!this.isRejected&&!this.isVacationLimit&&!this.requestIsVisible}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.viewIsMobileOrTablet$.pipe((0,y.t)(e)).subscribe(function(t){e.isCollapsed=t})})}},{key:"getImage",value:function(e){return this.imageService.getImage(e,this.images)}},{key:"showConflicts",value:function(){this.onConflict.next(this.view)}},{key:"approve",value:function(){this.onApprove.next(this.view)}},{key:"reprove",value:function(){this.onReprove.next(this.view)}},{key:"getConditionI18n",value:function(e){switch(e){case Y.u.ConditionEnum.DoubleExpiredVacation:return"l-double-expired";case Y.u.ConditionEnum.ExpiredVacation:return"l-expired";case Y.u.ConditionEnum.OnVacation:return"l-vacation-status-vacation";case Y.u.ConditionEnum.VacationsToExpire:return"l-to-expire";case Y.u.ConditionEnum.DoubleRisk:return"l-double-risk";case Y.u.ConditionEnum.ScheduledVacation:return"l-scheduled-vacation";case Y.u.ConditionEnum.VacationsTaken:return"l-vacations-taken";case Y.u.ConditionEnum.Calculated:return"l-calculated-plural"}}},{key:"getStatusI18n",value:function(e){switch(e){case Y.u.StatusEnum.Approved:return"l-approved";case Y.u.StatusEnum.Approving:return"l-approving";case Y.u.StatusEnum.Calculated:return"l-calculated";case Y.u.StatusEnum.Empty:return"l-unsolicited";case Y.u.StatusEnum.Rejected:return"l-absence-rejected";case Y.u.StatusEnum.Vacation:return"l-vacation-status-vacation";case Y.u.StatusEnum.Closed:return"l-vacation-status-closed"}}},{key:"openVacation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.hasPermissionVacation||t&&(!t||0==e.canRequest)){n.next=5;break}return n.next=3,this.profileService.getEmployeeSummary(e.employeeId);case 3:(i=n.sent).id=e.employeeId,this.globals.setEmployeeCard(i,this.images[e.employeeId].changingThisBreaksApplicationSecurity,"vacation"),this.router.navigateByUrl("/teamManagement/absenceManager/vacation");case 5:case"end":return n.stop()}},n,this)}))}}]),n}(G.R);ze.\u0275fac=function(e){return new(e||ze)(b.Y36(ge.A),b.Y36(d.F0),b.Y36($.O),b.Y36(he.H))},ze.\u0275cmp=b.Xpm({type:ze,selectors:[["app-absence-timeline-card"]],viewQuery:function(e,t){var n;(1&e&&b.Gf(ve,5),2&e)&&(b.iGM(n=b.CRH())&&(t.cardContainer=n.first))},inputs:{view:"view",conflictIsClickable:"conflictIsClickable",hasPermissionVacation:"hasPermissionVacation"},outputs:{onReprove:"onReprove",onApprove:"onApprove",onConflict:"onConflict"},features:[b.qOj],decls:40,vars:40,consts:[[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","absence-timeline-card"],["card-header","",1,"header"],["cardContainer",""],[1,"avatar-card"],[1,"avatar-small","avatar-align",3,"id","click"],[1,"content"],[1,"about-employee","po-ml-2",3,"click"],[1,"name",3,"id"],["class","po-icon po-icon-export po-ml-1 vacation-link vacation-link-desktop",4,"ngIf"],[1,"role",3,"id"],["class","po-icon po-icon-export po-ml-1 po-hidden-lg po-hidden-xl vacation-link vacation-link-mobile",4,"ngIf"],[1,"collapse-icon","po-icon","cursor-pointer",3,"click"],[1,"tags"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["card-body","",1,"body","po-pt-1","po-pt-md-3","po-pb-md-2"],[1,"data"],["class","item",4,"ngIf"],["card-footer",""],["tags",""],["buttons",""],[1,"po-icon","po-icon-export","po-ml-1","vacation-link","vacation-link-desktop"],[1,"po-icon","po-icon-export","po-ml-1","po-hidden-lg","po-hidden-xl","vacation-link","vacation-link-mobile"],[1,"item"],[1,"title"],[1,"value"],[4,"ngIf"],["class","card-tag tag-absense-conflict tag tag-conflicts cursor-pointer",3,"click",4,"ngIf"],["class","card-tag tag-absense-conflict tag tag-conflicts",4,"ngIf"],[3,"class",4,"ngIf"],[1,"card-tag","tag-absense-conflict","tag","tag-conflicts","cursor-pointer",3,"click"],[1,"card-tag","tag-absense-conflict","tag","tag-conflicts"],["class","buttons",4,"ngIf"],["class","buttons request-button",3,"request-button-disabled",4,"ngIf"],[1,"buttons"],["p-icon","po-icon-close","p-type","danger",3,"p-label","click"],["p-icon","po-icon-ok","p-type","default",3,"p-label","click"],[1,"buttons","request-button"],[3,"info",4,"ngIf"],["p-type","default",3,"p-label","p-disabled","click"],[3,"info"]],template:function(e,t){if(1&e&&(b.TgZ(0,"app-card",0),b.TgZ(1,"div",1,2),b.TgZ(3,"div",3),b.TgZ(4,"div",4),b.NdJ("click",function(){return t.openVacation(t.card)}),b.qZA(),b.qZA(),b.TgZ(5,"div",5),b.TgZ(6,"div",6),b.NdJ("click",function(){return t.openVacation(t.card)}),b.TgZ(7,"div",7),b.TgZ(8,"strong"),b._uU(9),b.ALo(10,"titleCase"),b.qZA(),b.YNc(11,be,1,0,"span",8),b.qZA(),b.TgZ(12,"div",9),b.TgZ(13,"span"),b._uU(14),b.ALo(15,"titleCase"),b.qZA(),b.YNc(16,xe,1,0,"span",10),b.qZA(),b.qZA(),b.TgZ(17,"span",11),b.NdJ("click",function(){return t.isCollapsed=!t.isCollapsed}),b.qZA(),b.TgZ(18,"div",12),b.YNc(19,ye,1,0,"div",13),b.qZA(),b.YNc(20,we,0,0,"ng-template",14),b.qZA(),b.qZA(),b.TgZ(21,"div",15),b.TgZ(22,"div",5),b.TgZ(23,"div",12),b.YNc(24,Ze,1,0,"div",13),b.qZA(),b.TgZ(25,"div",16),b.YNc(26,Ae,8,10,"div",17),b.YNc(27,Pe,7,9,"div",17),b.YNc(28,qe,9,16,"div",17),b.YNc(29,Te,9,16,"div",17),b.YNc(30,_e,7,7,"div",17),b.YNc(31,Se,9,16,"div",17),b.YNc(32,Ie,7,6,"div",17),b.YNc(33,De,7,6,"div",17),b.qZA(),b.qZA(),b.qZA(),b.TgZ(34,"div",18),b.YNc(35,Le,0,0,"ng-template",14),b.qZA(),b.qZA(),b.YNc(36,Ue,3,3,"ng-template",null,19,b.W1O),b.YNc(38,Ye,2,2,"ng-template",null,20,b.W1O)),2&e){var n=b.MAs(37),i=b.MAs(39);b.xp6(4),b.Udp("background-image",t.getImage(t.card.employeeId)),b.ekj("cursor-pointer",t.hasPermissionVacation),b.MGl("id","photo-",t.card.id,""),b.xp6(2),b.ekj("cursor-pointer",t.hasPermissionVacation),b.xp6(1),b.MGl("id","lbl-employee-name-",t.card.id,""),b.xp6(2),b.Oqu(b.lcZ(10,36,t.card.name)),b.xp6(2),b.Q6J("ngIf",t.hasPermissionVacation),b.xp6(1),b.MGl("id","lbl-role-description-",t.card.id,""),b.xp6(2),b.Oqu(b.lcZ(15,38,t.card.roleDescription)),b.xp6(2),b.Q6J("ngIf",t.hasPermissionVacation),b.xp6(1),b.ekj("po-icon-arrow-down",t.isCollapsed)("po-icon-arrow-up",!t.isCollapsed),b.xp6(2),b.Q6J("ngIf",(0==t.card.hasConflict||t.isVacationLimit&&t.card.hasConflict)&&null==t.card.condition)("ngIfElse",n),b.xp6(1),b.Q6J("ngTemplateOutlet",i),b.xp6(3),b.ekj("po-mb-2",t.card.hasConflict||null!=t.card.condition),b.xp6(1),b.Q6J("ngIf",(0==t.card.hasConflict||t.isVacationLimit&&t.card.hasConflict)&&null==t.card.condition)("ngIfElse",n),b.xp6(2),b.Q6J("ngIf",!t.isVacationLimit),b.xp6(1),b.Q6J("ngIf",t.isVacationLimit&&null!=t.card.balance),b.xp6(1),b.Q6J("ngIf",t.isVacationLimit&&(null!=t.card.initConcessionPeriod||null!=t.card.endConcessionPeriod)),b.xp6(1),b.Q6J("ngIf",0==t.isVacationLimit),b.xp6(1),b.Q6J("ngIf",!t.isCollapsed&&null!=t.card.takeVacationUntil),b.xp6(1),b.Q6J("ngIf",!t.isCollapsed&&(null!=t.card.initPeriod||null!=t.card.endPeriod)),b.xp6(1),b.Q6J("ngIf",!t.isCollapsed&&null!=t.card.condition&&null==t.card.takeVacationUntil),b.xp6(1),b.Q6J("ngIf",!t.isCollapsed),b.xp6(1),b.Gre("footer ",t.buttonApproveReproveAreVisible||t.requestIsVisible?"po-pt-2 po-pb-2":"po-pt-1"," po-pt-lg-0 po-pb-lg-0"),b.xp6(1),b.Q6J("ngTemplateOutlet",i)}},directives:[ae.A,r.O5,r.tP,f.bOz,ue],pipes:[fe.r,g.X$,me.$],styles:['.header[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]{color:#4a5c60;overflow:hidden;word-break:break-word}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:11px}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]   .po-icon[_ngcontent-%COMP%]{font-size:17px}.header[_ngcontent-%COMP%]   .vacation-link[_ngcontent-%COMP%]{color:#179abd;font-size:20px;display:none}.header[_ngcontent-%COMP%]   .vacation-link[_ngcontent-%COMP%]:hover{text-decoration:none}.header[_ngcontent-%COMP%]   .vacation-link-mobile[_ngcontent-%COMP%]{display:flex;margin-top:auto;padding-bottom:2.6px}@media (min-width: 961px){.header[_ngcontent-%COMP%]   .vacation-link-mobile[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .vacation-link-desktop[_ngcontent-%COMP%]{display:flex}}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:repeat(3,minmax(0,1fr));flex-grow:1}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{display:none}@media (max-width: 960px){.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{grid-template-columns:1fr 25px;grid-gap:20px;gap:20px}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{display:inline;font-size:24px;color:#179abd;margin-bottom:auto}}.header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:-14px}@media (max-width: 960px){.header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:none}}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{justify-content:flex-end}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%] ~ po-button[_ngcontent-%COMP%]{margin-left:.5rem}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button, .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{height:24px;width:92px;display:flex;align-items:center;justify-content:center;padding:0}@media (min-width: 1367px){.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button, .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{width:120px}}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button-icon{font-size:19px}@media (min-width: 961px){.body[_ngcontent-%COMP%]{margin-left:calc(1rem + 32px)}}@media (min-width: 961px){.body[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:none}}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:grid;flex-grow:1;grid-gap:16px 30px;gap:16px 30px;align-items:flex-start;grid-template-columns:repeat(5,minmax(0,1fr))}@media (max-width: 1366px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (max-width: 960px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr));grid-gap:4px;gap:4px}}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 960px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));padding-bottom:4px;margin-bottom:4px;grid-gap:3px;gap:3px}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:not(:last-child){border-bottom:#eceeee 1px solid}}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#1e2526;font-size:12px}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"NunitoSans-bold"}@media (max-width: 960px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right}}.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 960px){.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:grid;grid-gap:15px;gap:15px}.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button{width:100%}.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button-icon{font-size:17px}}@media (max-width: 960px) and (min-width: 370px){.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 960px){.footer[_ngcontent-%COMP%]   .request-button[_ngcontent-%COMP%]{grid-template-columns:1fr}.footer[_ngcontent-%COMP%]   .request-button-disabled[_ngcontent-%COMP%]{grid-template-columns:16px 1fr}}.tags[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.5rem;gap:.5rem;flex-wrap:wrap}.tags[_ngcontent-%COMP%]{justify-content:flex-start}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{border-radius:3px;opacity:1;padding:2px 5px;color:#fff;font-size:12px;text-transform:uppercase}.tags[_ngcontent-%COMP%]   .tag-expiredVacation[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-doubleExpiredVacation[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-doubleRisk[_ngcontent-%COMP%]{background:#c64840}.tags[_ngcontent-%COMP%]   .tag-conflicts[_ngcontent-%COMP%]{background:#ffb600}.tags[_ngcontent-%COMP%]   .tag-vacationsToExpire[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-scheduledVacation[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-calculated[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-vacationsTaken[_ngcontent-%COMP%]{background-color:#0c9abe}.tags[_ngcontent-%COMP%]   .tag-onVacation[_ngcontent-%COMP%]{background-color:#20b28e}.absence-timeline-card[_ngcontent-%COMP%]  .card-well{margin-bottom:0;padding-bottom:0}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.avatar-card[_ngcontent-%COMP%]{align-self:stretch;display:flex;align-items:center;width:40px}@media (max-width: 960px){.avatar-card[_ngcontent-%COMP%]{align-self:flex-start;margin-top:2px}}.avatar-card[_ngcontent-%COMP%]   .avatar-small[_ngcontent-%COMP%]{max-height:40px;width:100%;height:100%}@media (max-width: 960px){.avatar-card[_ngcontent-%COMP%]   .avatar-small[_ngcontent-%COMP%]{width:35px;height:35px}}']}),ze=(0,x.gn)([(0,y.c)(),(0,x.w6)("design:paramtypes",[ge.A,d.F0,$.O,he.H])],ze);var Qe=["modal"];function Ge(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"app-status-dashboard",18),b.NdJ("filterEvent",function(e){return b.CHM(n),b.oxw().filterFromDashboard(e)}),b.qZA()}if(2&e){var i=b.oxw();b.Q6J("dashboardObject",i.dashboardStatus)}}function He(e,t){if(1&e&&(b.TgZ(0,"div",32),b._UZ(1,"po-switch",33),b.qZA()),2&e){var n=b.oxw(2);b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("showIndirectSubordinates"))}}function Be(e,t){if(1&e&&(b.TgZ(0,"div",32),b._UZ(1,"po-select",34),b.ALo(2,"translate"),b.qZA()),2&e){var n=b.oxw(2);b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("levelsBelow"))("p-options",n.levelsOptions)("p-placeholder",b.lcZ(2,3,"l-select-option"))}}function je(e,t){if(1&e&&(b.TgZ(0,"div",35),b._UZ(1,"po-input",36),b.ALo(2,"translate"),b.qZA()),2&e){var n=b.oxw(2);b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("name"))("p-placeholder",b.lcZ(2,2,"l-search-collaborator-placeholder"))}}function $e(e,t){if(1&e&&(b.TgZ(0,"div",37),b._UZ(1,"app-field-title",38),b.ALo(2,"translate"),b._UZ(3,"po-select",39),b.ALo(4,"translate"),b.qZA()),2&e){var n=b.oxw(2);b.xp6(1),b.Q6J("title",n.advancedFilterLabels.get("monthInAdvance"))("info",b.lcZ(2,4,"l-month-in-advance-info")),b.xp6(2),b.Q6J("p-options",n.monthInAdvanceOptions)("p-placeholder",b.lcZ(4,6,"l-select"))}}function We(e,t){if(1&e&&(b.TgZ(0,"div",22),b._UZ(1,"po-multiselect",40),b.ALo(2,"translate"),b.qZA()),2&e){var n=b.oxw(2);b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("condition"))("p-options",n.conditionOptions)("p-placeholder",b.lcZ(2,3,"l-select"))}}function Ke(e,t){if(1&e&&(b.YNc(0,He,2,1,"div",19),b.YNc(1,Be,3,5,"div",19),b.YNc(2,je,3,4,"div",20),b.TgZ(3,"div",21),b.TgZ(4,"div",22),b._UZ(5,"po-multiselect",23),b.ALo(6,"translate"),b.qZA(),b.TgZ(7,"div",22),b._UZ(8,"po-multiselect",24),b.ALo(9,"translate"),b.qZA(),b.qZA(),b._UZ(10,"po-divider",25),b.TgZ(11,"div",26),b.TgZ(12,"div"),b._UZ(13,"po-datepicker",27),b.ALo(14,"translate"),b.qZA(),b.TgZ(15,"div"),b._UZ(16,"po-datepicker",28),b.ALo(17,"translate"),b.qZA(),b.YNc(18,$e,5,8,"div",29),b.qZA(),b._UZ(19,"po-divider",25),b.TgZ(20,"div",21),b.YNc(21,We,3,5,"div",30),b.TgZ(22,"div"),b._UZ(23,"po-multiselect",31),b.ALo(24,"translate"),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.Q6J("ngIf",null==n.indirectEmployeesProps?null:n.indirectEmployeesProps.visible),b.xp6(1),b.Q6J("ngIf",null==n.hierarchicalLevelProps?null:n.hierarchicalLevelProps.visible),b.xp6(1),b.Q6J("ngIf",0==n.shouldSearchNameInMemory),b.xp6(3),b.Q6J("p-label",n.advancedFilterLabels.get("team"))("p-options",n.teamSelect)("p-placeholder",b.lcZ(6,27,"l-select")),b.xp6(3),b.Q6J("p-label",n.advancedFilterLabels.get("role"))("p-options",n.roleSelect)("p-placeholder",b.lcZ(9,29,"l-select")),b.xp6(4),b.Gre("po-sm-6 po-lg-",null!=n.monthInAdvanceProps&&n.monthInAdvanceProps.visible?4:6,""),b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("initDate"))("p-placeholder",b.lcZ(14,31,"dateFormat")),b.xp6(2),b.Gre("po-sm-6 po-lg-",null!=n.monthInAdvanceProps&&n.monthInAdvanceProps.visible?4:6,""),b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("endDate"))("p-placeholder",b.lcZ(17,33,"dateFormat")),b.xp6(2),b.Q6J("ngIf",n.monthInAdvanceProps&&n.monthInAdvanceProps.visible),b.xp6(3),b.Q6J("ngIf",n.showCondition),b.xp6(1),b.Gre("po-sm-12 ",n.showCondition?"po-md-6":"po-md-12",""),b.xp6(1),b.Q6J("p-label",n.advancedFilterLabels.get("status"))("p-options",n.selectOptions)("p-placeholder",b.lcZ(24,35,"l-select"))}}function Xe(e,t){if(1&e&&(b.TgZ(0,"div",51),b._uU(1),b.qZA()),2&e){var n=b.oxw(2).$implicit,i=b.oxw(2);b.xp6(1),b.Oqu(i.getMountYear(n.yearMonth))}}function et(e,t){if(1&e&&(b.TgZ(0,"div",52),b.TgZ(1,"div",53),b._uU(2),b.ALo(3,"utcDate"),b.qZA(),b.TgZ(4,"div",54),b._uU(5),b.ALo(6,"utcDate"),b.qZA(),b.qZA()),2&e){var n=b.oxw().$implicit;b.xp6(2),b.Oqu(b.xi3(3,2,n.refDate,"dd")),b.xp6(3),b.Oqu(b.xi3(6,5,n.refDate,"E"))}}function tt(e,t){if(1&e&&b._UZ(0,"span",55),2&e){var n=b.oxw().$implicit,i=b.oxw(3);b.Q6J("ngClass",i.getClassForStatusIcon(n))}}function nt(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div"),b.YNc(1,Xe,2,1,"div",44),b.TgZ(2,"div",45),b.YNc(3,et,7,8,"div",46),b.TgZ(4,"div",47),b.YNc(5,tt,1,1,"span",48),b.qZA(),b.TgZ(6,"div",49),b.TgZ(7,"app-absence-timeline-card",50),b.NdJ("onApprove",function(e){return b.CHM(n),b.oxw(3).openModal(e,!0)})("onReprove",function(e){return b.CHM(n),b.oxw(3).openModal(e,!1)})("onConflict",function(e){return b.CHM(n),b.oxw(3).showConflicts(e)}),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var i=t.$implicit,o=t.index,a=b.oxw().$implicit,r=b.oxw(2);b.xp6(1),b.Q6J("ngIf",0==o),b.xp6(2),b.Q6J("ngIf",!r.isSameDate(i,a,o)),b.xp6(1),b.Q6J("ngClass",r.getClassForStatus(i)),b.xp6(1),b.Q6J("ngIf",!r.isApprovingStatus(i.status)||r.isAbsenceConflict(i)),b.xp6(2),b.Q6J("view",i)("hasPermissionVacation",r.hasPermissionVacation)}}function it(e,t){if(1&e&&(b.ynx(0),b.YNc(1,nt,8,6,"div",43),b.BQk()),2&e){var n=t.$implicit;b.xp6(1),b.Q6J("ngForOf",n.cardsView)}}function ot(e,t){if(1&e&&(b.TgZ(0,"div",41),b.TgZ(1,"div",42),b.YNc(2,it,2,1,"ng-container",43),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(2),b.Q6J("ngForOf",n.months)}}function at(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div",56),b.NdJ("click",function(){return b.CHM(n),b.oxw().viewMore()}),b.TgZ(1,"a",57),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.qZA()}2&e&&(b.xp6(2),b.hij("",b.lcZ(3,1,"l-load-more")," "))}function rt(e,t){1&e&&(b.TgZ(0,"div",58),b.TgZ(1,"span"),b._uU(2),b.ALo(3,"translate"),b.qZA(),b.qZA()),2&e&&(b.xp6(2),b.hij("",b.lcZ(3,1,"l-no-vacation-records")," "))}function st(e,t){if(1&e&&(b.TgZ(0,"div",59),b.TgZ(1,"div",60),b.TgZ(2,"strong"),b._uU(3),b.ALo(4,"titleCase"),b.qZA(),b.qZA(),b.TgZ(5,"div",61),b.TgZ(6,"span"),b._uU(7),b.ALo(8,"titleCase"),b.qZA(),b.qZA(),b.qZA()),2&e){var n=b.oxw();b.xp6(1),b.MGl("id","lbl-employee-name-",n.actualCard.card.id,""),b.xp6(2),b.Oqu(b.lcZ(4,4,n.actualCard.card.name)),b.xp6(2),b.MGl("id","lbl-role-description-",n.actualCard.card.id,""),b.xp6(2),b.Oqu(b.lcZ(8,6,n.actualCard.card.roleDescription))}}function ct(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div",62),b.TgZ(1,"po-textarea",63),b.NdJ("ngModelChange",function(e){return b.CHM(n),b.oxw().justify=e}),b.ALo(2,"translate"),b.qZA(),b.qZA()}if(2&e){var i=b.oxw();b.xp6(1),b.s9C("p-label",b.lcZ(2,4,"l-reason")),b.Q6J("p-disabled",i.justifyProps&&!i.justifyProps.editable)("ngModel",i.justify)("p-required",i.justifyProps&&i.justifyProps.required)}}function lt(e,t){if(1&e&&(b.TgZ(0,"div",51),b._uU(1),b.qZA()),2&e){var n=b.oxw(2).$implicit,i=b.oxw(2);b.xp6(1),b.hij(" ",i.getMountYear(n.yearMonth)," ")}}function ut(e,t){if(1&e&&(b.TgZ(0,"div",52),b.TgZ(1,"div",53),b._uU(2),b.ALo(3,"utcDate"),b.qZA(),b.TgZ(4,"div",54),b._uU(5),b.ALo(6,"utcDate"),b.qZA(),b.qZA()),2&e){var n=b.oxw().$implicit;b.xp6(2),b.Oqu(b.xi3(3,2,n.refDate,"dd")),b.xp6(3),b.Oqu(b.xi3(6,5,n.refDate,"E"))}}function pt(e,t){if(1&e&&b._UZ(0,"span",55),2&e){var n=b.oxw().$implicit,i=b.oxw(3);b.Q6J("ngClass",i.getClassForStatusIcon(n))}}function dt(e,t){if(1&e){var n=b.EpF();b.TgZ(0,"div"),b.YNc(1,lt,2,1,"div",44),b.TgZ(2,"div",45),b.YNc(3,ut,7,8,"div",46),b.TgZ(4,"div",47),b.YNc(5,pt,1,1,"span",48),b.qZA(),b.TgZ(6,"div",49),b.TgZ(7,"app-absence-timeline-card",64),b.NdJ("onApprove",function(e){return b.CHM(n),b.oxw(3).openModal(e,!0)})("onReprove",function(e){return b.CHM(n),b.oxw(3).openModal(e,!1)}),b.qZA(),b.qZA(),b.qZA(),b.qZA()}if(2&e){var i=t.$implicit,o=t.index,a=b.oxw().$implicit,r=b.oxw(2);b.xp6(1),b.Q6J("ngIf",0==o),b.xp6(2),b.Q6J("ngIf",!r.isSameDate(i,a,o)),b.xp6(1),b.Q6J("ngClass",r.getClassForStatus(i)),b.xp6(1),b.Q6J("ngIf",!r.isApprovingStatus(i.status)||r.isAbsenceConflict(i)),b.xp6(2),b.Q6J("view",i)("conflictIsClickable",!1)("hasPermissionVacation",r.hasPermissionVacation)}}function gt(e,t){if(1&e&&(b.ynx(0),b.YNc(1,dt,8,7,"div",43),b.BQk()),2&e){var n=t.$implicit;b.xp6(1),b.Q6J("ngForOf",n.cardsView)}}function ht(e,t){if(1&e&&(b.TgZ(0,"div",42),b.YNc(1,gt,2,1,"ng-container",43),b.qZA()),2&e){var n=b.oxw();b.xp6(1),b.Q6J("ngForOf",n.conflictsMonths)}}var ft=function(){return(e=ft||(ft={})).Acquisition="acquisition",e.Concessive="concessive",e.OnVacation="onVacation",ft;var e}(),mt=function(e){a(o,e);var t=s(o);function o(e,n,i,a,r,s,l,u,p,d,g,f){var m;return h(this,o),(m=t.call(this)).fieldProperties=e,m.service=n,m.moment=i,m.appTranslateService=a,m.notificationService=r,m.teamEmployeesService=s,m.i18n=l,m.lastAccess=u,m.globals=p,m.windowUtilService=d,m.permissionSelectors=g,m.datepipe=f,m.initialized=!1,m.months=[],m.conflictsMonths=[],m.cacheAllMonths=[],m.filteredMonths=[],m.isModalOpened=!1,m.conflictAbsencesDialogIsVisible=!1,m.modalAction={action:function(){m.confirm(m.actualCard)},label:"l-confirm"},m.advancedFilterLabels=new Map,m.selectOptions=[],m.conditionOptions=[],m.levelsOptions=[],m.monthInAdvanceOptions=[],m.teamSelect=[],m.roleSelect=[],m.advancedSearchExtra={},m.showCondition=!1,m.hasPermissionVacation=!1,m.currentFilter={},m.dashboardStatus=[],m.shouldSearchNameInMemory=!0,m.advancedSearchFormGroup=new c.cw({showIndirectSubordinates:new c.NI,name:new c.NI,initDate:new c.NI,endDate:new c.NI,status:new c.NI,condition:new c.NI,monthInAdvance:new c.NI,levelsBelow:new c.NI,team:new c.NI,role:new c.NI,period:new c.NI}),m.SELECT_EMPTY_VALUE_OPTION="undefined",m.hierarchicalLevels=[],m.absenceRecordsView=new z.i([]),m}return m(o,[{key:"initDateFormControl",get:function(){return this.advancedSearchFormGroup.get("initDate")}},{key:"endDateFormControl",get:function(){return this.advancedSearchFormGroup.get("endDate")}},{key:"monthInAdvanceFormControl",get:function(){return this.advancedSearchFormGroup.get("monthInAdvance")}},{key:"ngOnInit",value:function(){i(u(o.prototype),"ngOnInit",this).call(this),this.configure(),this.getAbsenceCount()}},{key:"getHierarchicalLevels",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hierarchicalLevelProps||!this.hierarchicalLevelProps.visible){e.next=5;break}return e.next=3,this.service.getHierarchicalLevels();case 3:t=e.sent,this.hierarchicalLevels=t.items;case 5:case"end":return e.stop()}},e,this)}))}},{key:"getFirstPosition",value:function(){return this.hierarchicalLevels[0]?this.hierarchicalLevels[0].value:void 0}},{key:"getLastPosition",value:function(){return this.hierarchicalLevels[this.hierarchicalLevels.length-1]?this.hierarchicalLevels[this.hierarchicalLevels.length-1].value:void 0}},{key:"isWebView",value:function(){this.viewIsMobile=this.windowUtilService.isWebView()}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess(Q.ye,t.id)})}},{key:"getHierarchicalLevel",value:function(e,t){return t||(e?1:void 0)}},{key:"retrieveAndProccessAbsenceCards",value:function(){var e,t,n,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null!==(e=o.page)&&void 0!==e||(o.page=1),null!==(t=o.onlyVacationConflicts)&&void 0!==t||(o.onlyVacationConflicts=!1),null!==(n=o.isFilter)&&void 0!==n||(o.isFilter=!1),this.showIndirectSubordinates=o.showIndirectSubordinates,this.levelsBelow=o.levelsBelow;var a=this.getHierarchicalLevel(this.showIndirectSubordinates,this.levelsBelow),r=o.team&&o.team!==this.SELECT_EMPTY_VALUE_OPTION?o.team:void 0,s=o.role&&o.role!==this.SELECT_EMPTY_VALUE_OPTION?o.role:void 0,c=o.status&&o.status!==this.SELECT_EMPTY_VALUE_OPTION?o.status:void 0;this.service.getAllAbsences(V.N.loggedUser,o.page,this.absenceRecordsView.pageSize,o.initDate?new Date(o.initDate):void 0,o.endDate?new Date(o.endDate):void 0,r,s,void 0,a,c,o.onlyVacationConflicts,o.monthInAdvance,o.name,o.condition,o.period,!0).then(function(e){i.updateAbsenceRecordView(e,o.isFilter),i.processAbsences(i.absenceRecordsView.records),i.initialized=!0,i.cacheAllMonths=i.months,i.shouldSearchNameInMemory&&i.searchCardsByEmployeeNameInMemory()})}},{key:"getMountYear",value:function(e){var t=e%100,n=new Date((e-t)/100,t-1,1,0,0,0,0);return this.moment.getInstance(n).format("MMMM, YYYY")}},{key:"isSameDate",value:function(e,t,n){return!(0===n||!t.cardsView[n-1])&&t.cardsView[n-1].period.initDate.getDate()===e.period.initDate.getDate()}},{key:"getClassForStatus",value:function(e){if(e.card.hasConflict)return"timeline-conflict-warning";switch(e.status){case Y.u.StatusEnum.Approved:return"timeline-status-approved";case Y.u.StatusEnum.Rejected:return"timeline-status-rejected";default:return"timeline-status-none"}}},{key:"getClassForStatusIcon",value:function(e){if(e.card.hasConflict)return"po-icon-warning";switch(e.status){case Y.u.StatusEnum.Approved:return"po-icon-ok";case Y.u.StatusEnum.Rejected:return"po-icon-close";default:return""}}},{key:"isApprovingStatus",value:function(e){return e===Y.u.StatusEnum.Approving}},{key:"confirm",value:function(e){var t=this;if(this.justifyIsNullAndRequired()&&!this.isApprove)this.appTranslateService.getI18n("l-reason-required").then(function(e){t.notificationService.showNotification(e,f.ik9.Error)});else{var n;n=this.convertingToAbsenceInfo(e);var i=this.defineMessageReturnStatus();n.canApprove=!1,this.service.putAbsenceInfo(n).then(function(n){t.updateData(e,n),t.getAbsenceCount(),t.translateMessages(i,n)})}}},{key:"isAbsenceConflict",value:function(e){return e.card.hasConflict}},{key:"openModal",value:function(e,t){this.isModalOpened=!0,this.justify=void 0,this.actualCard=e,this.isApprove=t,this.modalTitle=t?"l-approve-absence":"l-reprove-absence",this.modal.open()}},{key:"searchCardsByEmployeeNameInMemory",value:function(e){if(this.months=this.cacheAllMonths,(null==e?void 0:e.length)>=3){var t=[];this.months.forEach(function(n){t=t.concat(n.absenceCards.filter(function(t){return function(t){return t.toUpperCase().includes(e.toUpperCase())}(t.name)}))}),this.months=ne.bk.initialize(t,this.moment,this.i18n)}}},{key:"viewMore",value:function(){this.retrieveAndProccessAbsenceCards(Object.assign({page:this.absenceRecordsView.getNextPage()},this.absenceRecordsView.filter))}},{key:"showConflicts",value:function(e){var t=this,n=this.getHierarchicalLevel(this.showIndirectSubordinates,this.levelsBelow);this.service.getAllAbsences(V.N.loggedUser,null,null,e.card.initDate,e.card.endDate,null,null,null,n,null,!0).then(function(e){t.conflictsMonths=ne.bk.initialize(e.records,t.moment,t.i18n),t.openConflictAbsencesDialog()})}},{key:"openConflictAbsencesDialog",value:function(){this.conflictAbsencesDialogIsVisible=!0}},{key:"closeConflictAbsencesDialog",value:function(){this.conflictAbsencesDialogIsVisible=!1}},{key:"onChangeDisclaimers",value:function(e){this.onAdvancedSearch(e.reduce(function(e,t){return e[t.property]=t.value,e},{}))}},{key:"filterFromDashboard",value:function(e){e.quantity>0&&(this.advanceSearch.changeFilter(!0,!0,!0),this.dashboardStatus.forEach(function(t){t.name===e.name&&(t=e)}),e.select?(this.absenceRecordsView.filter={condition:e.type},this.onAdvancedSearch({condition:e.type})):(this.absenceRecordsView.filter=void 0,this.onAdvancedSearch({})))}},{key:"filtersChange",value:function(e){this.clearDashboardStatus(),null!=e.new.quickFilter?this.onQuickSearch(e.new.quickFilter):this.onAdvancedSearch(e.new.advancedFiltersAsObject)}},{key:"onQuickSearch",value:function(e){this.shouldSearchNameInMemory?this.searchCardsByEmployeeNameInMemory(e):(this.absenceRecordsView.filter={name:e},this.retrieveAndProccessAbsenceCards({name:e,isFilter:!0}))}},{key:"onAdvancedSearch",value:function(e){e.period===ft.OnVacation&&(e.condition?e.condition+=",".concat(Y.u.ConditionEnum.OnVacation):e.condition=Y.u.ConditionEnum.OnVacation),this.absenceRecordsView.filter=e,this.retrieveAndProccessAbsenceCards(Object.assign(Object.assign({},e),{isFilter:!0}))}},{key:"getAbsenceCount",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.getAbsenceCount(V.N.loggedUser);case 2:t=e.sent,this.initDashboard(t.onVacation,t.expiredVacation,t.vacationsToExpire,t.doubleExpiredVacation,t.doubleRisk);case 4:case"end":return e.stop()}},e,this)}))}},{key:"initDashboard",value:function(e,t,n,i,o){this.dashboardStatus=[{name:"l-on-vacation",quantity:null!=e?e:0,type:Y.u.ConditionEnum.OnVacation,select:!1},{name:"l-expired",quantity:null!=t?t:0,type:Y.u.ConditionEnum.ExpiredVacation,select:!1},{name:"l-to-expire",quantity:null!=n?n:0,type:Y.u.ConditionEnum.VacationsToExpire,select:!1},{name:"l-double",quantity:null!=i?i:0,type:Y.u.ConditionEnum.DoubleExpiredVacation,select:!1},{name:"l-double-risk",quantity:null!=o?o:0,type:Y.u.ConditionEnum.DoubleRisk,select:!1}]}},{key:"clearDashboardStatus",value:function(){this.dashboardStatus.forEach(function(e){e.select=!1})}},{key:"updateAbsenceRecordView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.absenceRecordsView.records||(this.absenceRecordsView.records=[]),t?this.absenceRecordsView.records=e.records:(this.absenceRecordsView.records=this.absenceRecordsView.records.concat(e.records),this.absenceRecordsView.records=this.absenceRecordsView.records.sort(function(e,t){return e.refDate>t.refDate?1:-1})),this.absenceRecordsView.actualPage=e.actualPage,this.absenceRecordsView.hasMoreRecords=e.hasMoreRecords}},{key:"getProperties",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldProperties.getFieldProperties("vacation");case 2:return e.sent.forEach(function(e){switch(e.field){case"justify":t.justifyProps=e;break;case"hierarchicalLevel":t.hierarchicalLevelProps=e;break;case"indirectSubordinatesLevel":t.indirectEmployeesProps=e;break;case"monthInAdvance":t.monthInAdvanceProps=e;break;case"searchNameInDatabase":t.shouldSearchNameInMemory=!e||!e.visible;break;case"condition":t.showCondition=e&&e.visible;break;case"dashboard":t.dashboardProps=e&&e.visible}}),e.next=5,this.getHierarchicalLevels();case 5:case"end":return e.stop()}},e,this)}))}},{key:"translateLabelConfirm",value:function(){var e=this;this.appTranslateService.getI18n(this.modalAction.label).then(function(t){e.modalAction.label=t})}},{key:"processAbsences",value:function(e){this.months=ne.bk.initialize(e,this.moment,this.i18n)}},{key:"justifyIsNullAndRequired",value:function(){return!this.justify&&this.justifyProps&&this.justifyProps.required}},{key:"translateMessages",value:function(e,t){var n=this;this.appTranslateService.getI18n(e).then(function(e){n.actualCard.statusLabel=t.statusLabel,n.actualCard.status=t.status,n.actualCard.canApprove=t.canApprove,n.actualCard.approved=t.approved,n.notificationService.showNotification(e,f.ik9.Success),n.modal.close()})}},{key:"updateData",value:function(e,t){this.absenceRecordsView&&this.absenceRecordsView.records&&this.absenceRecordsView.records.forEach(function(n){n.id===e.id&&n.employeeId===e.employeeId&&(n.statusLabel=t.statusLabel,n.canApprove=t.canApprove)})}},{key:"defineMessageReturnStatus",value:function(){return this.isApprove?"m-approved-request":"m-reprove-request"}},{key:"convertingToAbsenceInfo",value:function(e){var t;return e&&(t={id:e.id,approved:this.isApprove,canApprove:e.canApprove,type:e.type,absenceDays:e.quantity.days,status:e.status,endDate:e.period.endDate,initDate:e.period.initDate,vacationBonus:e.quantity.bonus,justify:this.justify,approvers:e.approvers,statusLabel:e.statusLabel,statusAbbr:e.statusAbbr,endConcessionPeriod:e.endConcessionPeriod,initConcessionPeriod:e.initConcessionPeriod}),t}},{key:"initializeSelectFilters",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,i,o,a,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.teamEmployeesService.getTeams(V.N.loggedUser);case 2:return t=e.sent,i=[],t.forEach(function(e){i.push({label:e.name,value:e.id})}),this.teamSelect=i,e.next=7,this.teamEmployeesService.getRoles(V.N.loggedUser);case 7:return o=e.sent,a=[],o.forEach(function(e){a.push({label:e.name,value:e.id})}),this.roleSelect=a,this.selectOptions=[{label:"l-unsolicited-plural",value:Y.u.StatusEnum.Empty},{label:"l-approved-plural",value:Y.u.StatusEnum.Approved},{label:"l-approving",value:Y.u.StatusEnum.Approving},{label:"l-absence-closed",value:Y.u.StatusEnum.Closed},{label:"l-calculated-plural",value:Y.u.StatusEnum.Calculated}],W.ZP.isErpRM()||this.selectOptions.push({label:"l-rejected-plural",value:Y.u.StatusEnum.Rejected}),this.selectOptions.forEach(function(e){r.appTranslateService.getI18n(e.label).then(function(t){e.label=t})}),e.next=16,this.getConditionOptions();case 16:return this.conditionOptions=e.sent,e.next=19,this.appTranslateService.getI18n("l-select");case 19:e.t0=e.sent,e.t1=-1,e.t2={label:e.t0,value:e.t1},this.monthInAdvanceOptions=[e.t2].concat(n(Array.from(Array(10)).map(function(e,t){return{label:"".concat(t+1),value:t+1}}))),this.levelsOptions=this.getLevelsOptions();case 24:case"end":return e.stop()}},e,this)}))}},{key:"getLevelsOptions",value:function(){for(var e=[],t=this.getFirstPosition();t<=this.getLastPosition();t++)e.push({label:t.toString(),value:t});return e}},{key:"getConditionOptions",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appTranslateService.getI18n("l-vacation-situation-expired");case 2:return e.t0=e.sent,e.t1=Y.u.ConditionEnum.ExpiredVacation,e.t2={label:e.t0,value:e.t1},e.next=7,this.appTranslateService.getI18n("l-vacation-situation-vacations-to-expire");case 7:return e.t3=e.sent,e.t4=Y.u.ConditionEnum.VacationsToExpire,e.t5={label:e.t3,value:e.t4},e.next=12,this.appTranslateService.getI18n("l-vacation-situation-double-expired");case 12:return e.t6=e.sent,e.t7=Y.u.ConditionEnum.DoubleExpiredVacation,e.t8={label:e.t6,value:e.t7},e.next=17,this.appTranslateService.getI18n("l-on-vacation");case 17:return e.t9=e.sent,e.t10=Y.u.ConditionEnum.OnVacation,e.t11={label:e.t9,value:e.t10},e.next=22,this.appTranslateService.getI18n("l-double-risk");case 22:return e.t12=e.sent,e.t13=Y.u.ConditionEnum.DoubleRisk,e.t14={label:e.t12,value:e.t13},e.next=27,this.appTranslateService.getI18n("l-scheduled-vacation");case 27:return e.t15=e.sent,e.t16=Y.u.ConditionEnum.ScheduledVacation,e.t17={label:e.t15,value:e.t16},e.next=32,this.appTranslateService.getI18n("l-vacations-taken");case 32:return e.t18=e.sent,e.t19=Y.u.ConditionEnum.VacationsTaken,e.t20={label:e.t18,value:e.t19},e.next=37,this.appTranslateService.getI18n("l-calculated-plural");case 37:return e.t21=e.sent,e.t22=Y.u.ConditionEnum.Calculated,e.t23={label:e.t21,value:e.t22},e.abrupt("return",[e.t2,e.t5,e.t8,e.t11,e.t14,e.t17,e.t20,e.t23]);case 41:case"end":return e.stop()}},e,this)}))}},{key:"getConditionLabelByValue",value:function(e){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getLabelByValueAndOptions(e,this.conditionOptions));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getStatusLabelByValue",value:function(e){return this.getLabelByValueAndOptions(e,this.selectOptions)}},{key:"getTeamLabelByValue",value:function(e){return this.getLabelByValueAndOptions(e,this.teamSelect)}},{key:"getRoleLabelByValue",value:function(e){return this.getLabelByValueAndOptions(e,this.roleSelect)}},{key:"getDateByValue",value:function(e){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null==e?"":this.datepipe.transform(e,"shortDate"));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getLabelByValueAndOptions",value:function(e,t){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",null==e||0===e.length?e:(e instanceof Array?e:[e]).map(function(e){var n,i=t.find(function(t){return e==t.value});return null!==(n=null==i?void 0:i.label)&&void 0!==n?n:e}).join(", "));case 1:case"end":return n.stop()}},n)}))}},{key:"mountSearchLabels",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.advancedFilterLabels,e.next=3,this.appTranslateService.getI18n("l-team");case 3:return e.t1=e.sent,e.t0.set.call(e.t0,"team",e.t1),e.t2=this.advancedFilterLabels,e.next=8,this.appTranslateService.getI18n("l-role");case 8:return e.t3=e.sent,e.t2.set.call(e.t2,"role",e.t3),e.t4=this.advancedFilterLabels,e.next=13,this.appTranslateService.getI18n("l-month-in-advance");case 13:return e.t5=e.sent,e.t4.set.call(e.t4,"monthInAdvance",e.t5),e.t6=this.advancedFilterLabels,e.next=18,this.appTranslateService.getI18n("l-name");case 18:return e.t7=e.sent,e.t6.set.call(e.t6,"name",e.t7),e.t8=this.advancedFilterLabels,e.next=23,this.appTranslateService.getI18n("l-vacation-situation");case 23:return e.t9=e.sent,e.t8.set.call(e.t8,"status",e.t9),e.t10=this.advancedFilterLabels,e.next=28,this.appTranslateService.getI18n("l-vacation-status");case 28:return e.t11=e.sent,e.t10.set.call(e.t10,"condition",e.t11),e.t12=this.advancedFilterLabels,e.next=33,this.appTranslateService.getI18n("l-initial-date");case 33:return e.t13=e.sent,e.t12.set.call(e.t12,"initDate",e.t13),e.t14=this.advancedFilterLabels,e.next=38,this.appTranslateService.getI18n("l-end-date");case 38:return e.t15=e.sent,e.t14.set.call(e.t14,"endDate",e.t15),e.t16=this.advancedFilterLabels,e.next=43,this.appTranslateService.getI18n("l-period");case 43:return e.t17=e.sent,e.t16.set.call(e.t16,"period",e.t17),e.t18=this.advancedFilterLabels,e.next=48,this.appTranslateService.getI18n("l-show-indirect-subordinates");case 48:return e.t19=e.sent,e.t18.set.call(e.t18,"showIndirectSubordinates",e.t19),e.t20=this.advancedFilterLabels,e.next=53,this.appTranslateService.getI18n("l-level");case 53:e.t21=e.sent,e.t20.set.call(e.t20,"levelsBelow",e.t21),this.advancedSearchExtra.optionsLabelGetter=new Map,this.advancedSearchExtra.optionsLabelGetter.set("condition",this.getConditionLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("status",this.getStatusLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("team",this.getTeamLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("role",this.getRoleLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("initDate",this.getDateByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("endDate",this.getDateByValue.bind(this));case 62:case"end":return e.stop()}},e,this)}))}},{key:"configure",value:function(){return(0,x.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.absenceRecordsView=new z.i([],10),this.isWebView(),e.next=4,this.getProperties();case 4:return e.next=6,this.initializeSelectFilters();case 6:return this.getHierarchicalLevels(),this.translateLabelConfirm(),this.setCountLastAccess(),this.retrieveAndProccessAbsenceCards(),e.next=12,this.mountSearchLabels();case 12:this.configureFormReactiveness(),this.checkPermissions();case 14:case"end":return e.stop()}},e,this)}))}},{key:"checkPermissions",value:function(){var e=this;this.permissionSelectors.permissions$.pipe((0,y.t)(this)).subscribe(function(t){e.hasPermissionVacation=t.teamManagementVacation})}},{key:"configureFormReactiveness",value:function(){var e=this;this.monthInAdvanceFormControl.valueChanges.pipe((0,y.t)(this)).subscribe(function(t){-1!==t?null!=t?(e.initDateFormControl.enabled&&e.initDateFormControl.disable(),e.endDateFormControl.enabled&&e.endDateFormControl.disable(),e.initDateFormControl.value&&e.initDateFormControl.patchValue(null),e.endDateFormControl.value&&e.endDateFormControl.patchValue(null)):(e.initDateFormControl.disabled&&e.initDateFormControl.enable(),e.endDateFormControl.disabled&&e.endDateFormControl.enable()):e.monthInAdvanceFormControl.patchValue(null)}),(0,F.aj)([this.initDateFormControl.valueChanges.pipe((0,J.O)(null)),this.endDateFormControl.valueChanges.pipe((0,J.O)(null))]).pipe((0,y.t)(this)).subscribe(function(t){null!=t[0]||null!=t[1]?(e.monthInAdvanceFormControl.disable(),e.monthInAdvanceFormControl.value&&e.monthInAdvanceFormControl.patchValue(null)):e.monthInAdvanceFormControl.enable()})}}]),o}(G.R);mt.\u0275fac=function(e){return new(e||mt)(b.Y36(K.c),b.Y36(te.D),b.Y36(H.z),b.Y36(w.g),b.Y36(B.g),b.Y36(ee.s),b.Y36(w.g),b.Y36(Q.Lx),b.Y36($.O),b.Y36(j.g),b.Y36(X.eL),b.Y36(r.uU))},mt.\u0275cmp=b.Xpm({type:mt,selectors:[["app-absence"]],viewQuery:function(e,t){var n;(1&e&&(b.Gf(Qe,5),b.Gf(S,5)),2&e)&&(b.iGM(n=b.CRH())&&(t.modal=n.first),b.iGM(n=b.CRH())&&(t.advanceSearch=n.first))},features:[b.qOj],decls:20,vars:22,consts:[[3,"pageTitle"],[3,"dashboardObject","filterEvent",4,"ngIf"],[1,"advanced-search",3,"advancedSearchFormGroup","placeholder","advancedFilterLabels","extra","filtersChange"],["advancedSearchDialog",""],["appAdvancedSearchContent","",3,"formGroup"],[1,"content"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",4,"ngIf"],["class","next-records",3,"click",4,"ngIf"],["class","no-vacation-records",4,"ngIf"],["p-click-out","true","p-size","lg",3,"p-primary-action","p-title"],["modal",""],["class","about-employee",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 justify-label no-padding",4,"ngIf"],["id","absence-conflict","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["pageTitle","l-absence-conflicts",3,"backIsVisible","backFunction"],[1,"timeline-center","scroll-dialog"],["class","timeline",4,"ngIf"],[3,"dashboardObject","filterEvent"],["class","po-sm-12",4,"ngIf"],["class","po-sm-12 po-mt-2",4,"ngIf"],[1,"po-row"],[1,"po-sm-12","po-md-6"],["formControlName","team",3,"p-label","p-options","p-placeholder"],["formControlName","role",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12","po-my-1"],[1,"po-row","po-mt-1"],["formControlName","initDate",3,"p-label","p-placeholder"],["formControlName","endDate",3,"p-label","p-placeholder"],["class","po-sm-6 po-lg-4",4,"ngIf"],["class","po-sm-12 po-md-6",4,"ngIf"],["formControlName","status",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12"],["formControlName","showIndirectSubordinates",3,"p-label"],["formControlName","levelsBelow",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12","po-mt-2"],["formControlName","name",3,"p-label","p-placeholder"],[1,"po-sm-6","po-lg-4"],[3,"title","info"],["formControlName","monthInAdvance",3,"p-options","p-placeholder"],["formControlName","condition",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],[1,"timeline"],[4,"ngFor","ngForOf"],["class","timeline-content timeline-month po-mb-2",4,"ngIf"],[1,"timeline-block"],["class","timeline-date",4,"ngIf"],[1,"timeline-status-indicator",3,"ngClass"],["class","po-icon center",3,"ngClass",4,"ngIf"],[1,"timeline-content"],[3,"view","hasPermissionVacation","onApprove","onReprove","onConflict"],[1,"timeline-content","timeline-month","po-mb-2"],[1,"timeline-date"],[1,"timeline-day"],[1,"timeline-day-of-week"],[1,"po-icon","center",3,"ngClass"],[1,"next-records",3,"click"],["id","link-more-records"],[1,"no-vacation-records"],[1,"about-employee"],[1,"name",3,"id"],[1,"role",3,"id"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","justify-label","no-padding"],["name","justify","p-maxlength","500",3,"p-disabled","ngModel","p-label","p-required","ngModelChange"],[3,"view","conflictIsClickable","hasPermissionVacation","onApprove","onReprove"]],template:function(e,t){1&e&&(b._UZ(0,"app-page-header",0),b.YNc(1,Ge,1,1,"app-status-dashboard",1),b.TgZ(2,"app-advanced-search",2,3),b.NdJ("filtersChange",function(e){return t.filtersChange(e)}),b.ALo(4,"translate"),b.YNc(5,Ke,25,37,"ng-template",4),b.qZA(),b.TgZ(6,"div",5),b.YNc(7,ot,3,1,"div",6),b.qZA(),b.YNc(8,at,4,3,"div",7),b.YNc(9,rt,4,3,"div",8),b.TgZ(10,"po-modal",9,10),b.ALo(12,"translate"),b.YNc(13,st,9,8,"div",11),b.YNc(14,ct,3,6,"div",12),b.qZA(),b.TgZ(15,"app-dialog",13),b.NdJ("closeDialogEvent",function(){return t.closeConflictAbsencesDialog()}),b.TgZ(16,"div",14),b.TgZ(17,"app-page-header",15),b.NdJ("backFunction",function(){return t.closeConflictAbsencesDialog()}),b.qZA(),b.TgZ(18,"div",16),b.YNc(19,ht,2,1,"div",17),b.qZA(),b.qZA(),b.qZA()),2&e&&(b.Q6J("pageTitle",t.viewIsMobile?"l-absence-page-title-mobile":"l-absence-page-title"),b.xp6(1),b.Q6J("ngIf",t.dashboardProps),b.xp6(1),b.Q6J("advancedSearchFormGroup",t.advancedSearchFormGroup)("placeholder",b.lcZ(4,18,"l-name-search"))("advancedFilterLabels",t.advancedFilterLabels)("extra",t.advancedSearchExtra),b.xp6(3),b.Q6J("formGroup",t.advancedSearchFormGroup),b.xp6(2),b.Q6J("ngIf",t.absenceRecordsView.records&&t.absenceRecordsView.records.length>0),b.xp6(1),b.Q6J("ngIf",t.initialized&&t.absenceRecordsView.hasMoreRecords&&t.absenceRecordsView.records&&t.absenceRecordsView.records.length>0),b.xp6(1),b.Q6J("ngIf",t.initialized&&t.absenceRecordsView.records&&0==t.absenceRecordsView.records.length),b.xp6(1),b.MGl("p-title","",b.lcZ(12,20,t.modalTitle),"?"),b.Q6J("p-primary-action",t.modalAction),b.xp6(3),b.Q6J("ngIf",t.isModalOpened),b.xp6(1),b.Q6J("ngIf",t.justifyProps&&t.justifyProps.visible&&!t.isApprove),b.xp6(1),b.Q6J("isVisible",t.conflictAbsencesDialogIsVisible)("closeDialogButtonEnable",!t.viewIsMobile),b.xp6(2),b.Q6J("backIsVisible",t.viewIsMobile),b.xp6(2),b.Q6J("ngIf",t.absenceRecordsView.records&&t.absenceRecordsView.records.length>0))},directives:[ie.q,r.O5,S,A,c.JL,c.sg,f.hmF,oe.a,le,f.r5_,c.JJ,c.u,f.Gk3,f.GWy,f.nrg,f.C9q,f.xxV,de,r.sg,r.mk,ze,f.gJm,c.On],pipes:[g.X$,me.$,fe.r],styles:['@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{float:none;margin-top:unset}}[_nghost-%COMP%]     div.po-page div.po-page-content, [_nghost-%COMP%]     div.po-page{height:auto!important}@media screen and (min-width: 961px){[_nghost-%COMP%]     div.po-page{margin-left:0!important;height:auto!important}[_nghost-%COMP%]     div.po-page, [_nghost-%COMP%]     div.po-page div.po-page-content{width:100%!important}[_nghost-%COMP%]     div.po-page div.po-page-header, [_nghost-%COMP%]     div.po-page div.po-page-content{padding-left:8px!important;padding-right:8px!important}}.advanced-search[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%], .advanced-search[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.avatar-align[_ngcontent-%COMP%]{margin-top:0;margin-right:8px}.timeline[_ngcontent-%COMP%]{position:relative;margin-top:1em;margin-bottom:2em;margin-left:10px!important}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:34px;height:100%;width:1.6px;background:#9de6f9}.profile[_ngcontent-%COMP%]{margin-bottom:24px}.timeline-block[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.timeline-block[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.timeline-block[_ngcontent-%COMP%]:first-child{margin-top:0}.timeline-block[_ngcontent-%COMP%]:last-child{margin-left:-8px}.timeline-date[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:0;width:30px;border-width:2px;text-align:center}@media (max-width: 960px){.timeline-date[_ngcontent-%COMP%]{-webkit-transform:none;transform:none;top:0}}.timeline-status-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:35px;width:16px;height:16px;border-radius:50%;border-width:2px;background:#1b92be;text-align:center;color:#fff}@media (max-width: 960px){.timeline-status-indicator[_ngcontent-%COMP%]{-webkit-transform:none;transform:none;top:15px}}.timeline-status-none[_ngcontent-%COMP%]{width:10px;height:10px;left:38px}.mr-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.button-filter[_ngcontent-%COMP%]{color:#0c9abe;display:table-cell;width:50px;position:relative;top:-20px}@media only screen and (min-width: 1367px){.button-filter[_ngcontent-%COMP%]{color:#0c9abe;display:table-cell;width:50px;position:relative;top:-25px}}.filter-input[_ngcontent-%COMP%]{display:table-cell;padding-left:1em;min-width:220px}.timeline-status-approved[_ngcontent-%COMP%]{background-color:#00bc82;display:flex;align-items:center;justify-items:center}.timeline-status-rejected[_ngcontent-%COMP%]{background-color:#ca3f3f;display:flex;align-items:center;justify-items:center}.timeline-conflict-warning[_ngcontent-%COMP%]{background-color:#ea9b3e;display:flex;align-items:center;justify-items:center}.timeline-picture[_ngcontent-%COMP%]{position:absolute;top:0;left:42px;width:40px;height:40px;border-radius:50%;border-color:#4a87ee;border-style:solid;border-width:2px;background:white}.timeline-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;border-radius:50%}.justify-label[_ngcontent-%COMP%]{font-weight:bold}.justify[_ngcontent-%COMP%]{margin-top:10px}.text-area[_ngcontent-%COMP%]{font-weight:normal;border-radius:4%}.timeline-content[_ngcontent-%COMP%]{position:relative;margin-left:60px}.timeline-content[_ngcontent-%COMP%]:not(.timeline-month){margin-bottom:0}.timeline-content[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.timeline-month[_ngcontent-%COMP%]{color:#210;font-family:"NunitoSans-bold";font-size:.8em;margin-top:16px;text-transform:uppercase}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fbfbfb}.timeline-day[_ngcontent-%COMP%]{font-size:140%;color:#000;font-weight:bolder}.timeline-day-of-week[_ngcontent-%COMP%]{font-size:70%;text-transform:uppercase;color:gray;font-weight:bolder}hr[_ngcontent-%COMP%]{margin:12px -16px -4px}.office[_ngcontent-%COMP%]{font-size:.8em;font-weight:bold;color:#9da7a9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}.no-vacation-records[_ngcontent-%COMP%]{font-weight:bold;padding-top:1em}.levels-below[_ngcontent-%COMP%]{color:#9da7a9;margin-left:10px}.filter-button[_ngcontent-%COMP%]{margin-top:10px}.filter[_ngcontent-%COMP%]{display:table}.absence-status[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:-6px;color:#9da7a9}.tag-container[_ngcontent-%COMP%] > .card-tag[_ngcontent-%COMP%]{margin-right:.3em;display:inline-block}.card-tag[_ngcontent-%COMP%]{margin-top:.5em;padding:.3em .6em;border-radius:3px;font-size:.8em;color:#fff;font-family:NunitoSans-bold}.tag-action[_ngcontent-%COMP%]:hover{cursor:pointer}.tag-absense-conflict[_ngcontent-%COMP%]{background-color:#ea9b3e}.tag-absense-alert[_ngcontent-%COMP%]{background-color:#c64840}.text-space[_ngcontent-%COMP%]{margin-right:.2em}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.scroll-dialog[_ngcontent-%COMP%]{overflow-y:auto}.scroll-dialog[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px}.scroll-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px!important}@media only screen and (min-width: 961px){.timeline-center[_ngcontent-%COMP%]{padding-left:12%;padding-right:12%}.scroll-dialog[_ngcontent-%COMP%]{max-height:450px!important;margin-right:-2.6%!important}[_nghost-%COMP%]     #absence-conflict .full-screen-dialog{max-height:auto!important}[_nghost-%COMP%]     #absence-conflict #tit-page-header{margin-left:0!important;margin-top:-4%!important}}@media only screen and (max-width: 767px){.scroll-dialog[_ngcontent-%COMP%]{max-height:570px!important;margin-right:-1%!important}[_nghost-%COMP%]     #absence-conflict .full-screen-dialog{overflow-y:hidden!important;max-height:100%!important}}@media (max-height: 480px){.scroll-dialog[_ngcontent-%COMP%]{max-height:100%!important}}[_nghost-%COMP%]     #absence-conflict #dialogCloseBtn{color:#1ea2c3;top:4px!important}@media (min-width: 481px){[_nghost-%COMP%]     #absence-conflict #dialogCloseBtn{margin-right:-4%!important}}[_nghost-%COMP%]     #absence-conflict .scroll-dialog{padding:0;margin-right:0!important}@media (min-width: 481px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .header .content{grid-template-columns:1fr 260px}}@media (max-width: 960px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .header .content{grid-template-columns:1fr 25px;grid-gap:20px;gap:20px}}[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .header .tags{display:none}@media (min-width: 481px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body{padding-top:1rem}}[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body .content .tags{display:flex}[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body .content .data{display:grid;flex-grow:1;grid-gap:16px 30px;gap:16px 30px;align-items:flex-start;grid-template-columns:repeat(3,minmax(0,1fr))}@media (max-width: 960px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body .content .data{grid-template-columns:repeat(1,minmax(0,1fr));grid-gap:4px;gap:4px}}[_nghost-%COMP%]     po-switch .po-field-container{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     po-switch .po-field-container .po-switch-label{display:none}[_nghost-%COMP%]     po-switch .po-field-container .po-switch-content{width:auto;margin-right:10px;margin-top:0}[_nghost-%COMP%]     .po-checkbox-group-label{word-break:break-word}@media (max-width: 960px){[_nghost-%COMP%]     .po-modal-overlay{height:calc(100% - 60px)}}.area-title[_ngcontent-%COMP%]{font-size:22px;font-family:"NunitoSans"}.advanced-search[_ngcontent-%COMP%]{padding-right:16px}']});var vt=[{path:"",component:mt=(0,x.gn)([(0,y.c)(),(0,x.w6)("design:paramtypes",[K.c,te.D,H.z,w.g,B.g,ee.s,w.g,Q.Lx,$.O,j.g,X.eL,r.uU])],mt)}],bt=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.oAB({type:e}),e.\u0275inj=b.cJS({providers:[te.D],imports:[[R.q,g.aw,r.ez,c.u5,f.JBz,l.KP,d.Bz.forChild(vt),v.Pu,I,L,E,D,U.F,N],d.Bz]}),e}()},85647:function(e,t,n){"use strict";n.d(t,{D:function(){return d}});var i,o=n(92340),a=n(21615),r=n(81483),s=n(33490),c=n(59708),l=n(81617),u=n(37716),p="team/absence",d=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"parseParams",value:function(e,t,n){n&&(e[t]=n)}},{key:"getAllAbsences",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,g=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0,m=arguments.length>12?arguments[12]:void 0,v=arguments.length>13?arguments[13]:void 0,b=arguments.length>14?arguments[14]:void 0,x=arguments.length>15&&void 0!==arguments[15]&&arguments[15];return new Promise(function(o){e.getAllAbsencesByEmployee(t,n,i,a,r,c,u,p,d,g,h,f,m,v,b,x).then(function(e){var t=[],i=new s.i(t);e.items.forEach(function(e){e.absences&&e.absences.forEach(function(n){t.push(new l.yQ(e.employee,n))})}),t=t.sort(function(e,t){return e.refDate>t.refDate?1:-1}),i.actualPage=n,i.hasMoreRecords=e.hasNext,o(i)})})}},{key:"getAllAbsencesByEmployee",value:function(e,t,n,i,o,a,r,s,c,l,u,d,g,h,f,m){var v="".concat(p,"/all/").concat(e),b=[];return this.parseParams(b,"page",t),this.parseParams(b,"pageSize",n),this.parseParams(b,"initView",i),this.parseParams(b,"endView",o),this.parseParams(b,"team",a),this.parseParams(b,"role",r),this.parseParams(b,"canApprove",s),this.parseParams(b,"hierarchicalLevel",c),this.parseParams(b,"status",l),this.parseParams(b,"onlyVacationConflicts",u),this.parseParams(b,"monthInAdvance",d),this.parseParams(b,"name",g),this.parseParams(b,"condition",h),this.parseParams(b,"period",f),m&&this.parseParams(b,"encodeEmployeeId",m),this.serviceGeneric.search(v,b,!1)}},{key:"putAbsenceInfo",value:function(e){return this.serviceGeneric.put(p,e,!1)}},{key:"getHierarchicalLevels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser;return this.serviceGeneric.get("team/hierarchicalLevels/".concat(e),!1)}},{key:"getHomeAbsences",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,u=new Date(n),p=r.Em.getDateUTCFormat(new Date(n.setMonth(n.getMonth()+3)));return new Promise(function(n){e.getAllAbsencesByEmployee(t,i,c,u,p).then(function(e){var t=[],i=new s.i(t);e.items.forEach(function(e){e.absences&&e.absences.forEach(function(n){if(n.status===a.u.StatusEnum.Vacation||n.type===a.u.StatusEnum.Vacation){var i=new l.Y2;i.employeeId=e.employee.id,i.employeeName=e.employee.name,i.initVacation=n.initDate,i.endVacation=n.endDate,i.status=n.status,t.push(i)}})}),n(i)})})}},{key:"getAbsenceCount",value:function(e){return this.serviceGeneric.get("".concat(p,"/all/count/").concat(e),!1,!1)}}]),e}()).\u0275fac=function(e){return new(e||i)(u.LFG(c.M))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i)},81617:function(e,t,n){"use strict";n.d(t,{bk:function(){return r},yQ:function(){return u},Y2:function(){return p}});var i=n(21615),o=n(81483),a=n(64634),r=function(){function e(t){h(this,e),this.yearMonth=0,this.cards=[],this.views=[],this.yearMonth=o.Em.extractYearMonth(t.refDate),this.addCard(t)}return m(e,[{key:"absenceCards",get:function(){return this.cards}},{key:"cardsView",get:function(){return this.views}},{key:"addCard",value:function(e){this.cards.push(e),this.views.push(new l(e))}}],[{key:"initialize",value:function(t,n,i){var a=[];if(e.MOMENT=n,e.I18N=i,t&&t.length>0){var r=0,s=-1;t.forEach(function(t){var n=o.Em.extractYearMonth(t.refDate);r===n?a[s].addCard(t):(r=n,a.push(new e(t)),s++)})}return a}}]),e}(),s=m(function e(t,n){h(this,e),this.init="",this.end="",this.initDate=o.Em.getDateObject(t),this.init=r.MOMENT.getInstance(t).format("L"),n&&(this.endDate=o.Em.getDateObject(n),this.end=r.MOMENT.getInstance(n).format("L"))}),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,e),this.days=t,this.bonus=n}return m(e,[{key:"hasBonus",get:function(){return this.bonus>0}}]),e}(),l=function(){function e(t){h(this,e),this.card=t,this.period=new s(t.initDate,t.endDate),!t.absenceDays&&this.period.endDate&&r.MOMENT&&(t.absenceDays=r.MOMENT.getInstance(this.period.endDate).diff(r.MOMENT.getInstance(this.period.initDate),"days")+1),this.quantity=new c(t.absenceDays,t.vacationBonus)}return m(e,[{key:"canApprove",get:function(){return this.card.canApprove},set:function(e){this.card.canApprove=e}},{key:"status",get:function(){return this.card.status},set:function(e){this.card.status=e}},{key:"statusLabel",get:function(){return this.card.statusLabel},set:function(e){this.card.statusLabel=e}},{key:"type",get:function(){return this.card.type}},{key:"id",get:function(){return this.card.id}},{key:"employeeId",get:function(){return this.card.employeeId}},{key:"name",get:function(){return this.card.name}},{key:"roleDescription",get:function(){return this.card.roleDescription}},{key:"refDate",get:function(){return this.card.refDate}},{key:"approved",get:function(){return this.card.approved},set:function(e){this.card.approved=e}},{key:"approvers",get:function(){return this.card.approvers}},{key:"endConcessionPeriod",get:function(){return this.card.endConcessionPeriod}},{key:"statusAbbr",get:function(){return this.card.statusAbbr}},{key:"initConcessionPeriod",get:function(){return this.card.initConcessionPeriod}},{key:"getStatusLabelKey",value:function(e){return"l-absence-"+a.m.camelToHyphen(e)}}]),e}(),u=m(function e(t,n){h(this,e),this.employeeId=t.id,this.name=t.name,this.roleDescription=t.roleDescription,this.id=n.id,this.type=n.type,this.status=n.status,this.statusAbbr=n.statusAbbr,this.statusLabel=n.statusLabel,this.initDate=n.initDate,this.endDate=n.endDate,this.refDate=n.type===i.u.TypeEnum.VacationLimit.toString()?n.endDate:n.initDate,this.absenceDays=n.absenceDays,this.initConcessionPeriod=n.initConcessionPeriod,this.endConcessionPeriod=n.endConcessionPeriod,this.vacationBonus=n.vacationBonus,this.approved=n.approved,this.approvers=n.approvers,this.justify=n.justify,this.canApprove=n.canApprove,this.hasConflict=n.hasConflict,this.condition=n.condition,this.takeVacationUntil=n.takeVacationUntil,this.initPeriod=n.initPeriod,this.endPeriod=n.endPeriod,this.balance=n.balance,this.canRequest=n.canRequest}),p=m(function e(){h(this,e)})},21615:function(e,t,n){"use strict";n.d(t,{u:function(){return o}});var i,o=((i=o||(o={})).TypeEnum={Vacation:"vacation",VacationLimit:"vacationLimit",License:"license",Bonus:"bonus",Absence:"absence"},i.StatusEnum={Empty:"empty",Approving:"approving",Approved:"approved",Rejected:"rejected",Closed:"closed",Vacation:"vacation",Calculated:"calculated"},i.ConditionEnum={ExpiredVacation:"expiredVacation",VacationsToExpire:"vacationsToExpire",OnVacation:"onVacation",DoubleExpiredVacation:"doubleExpiredVacation",DoubleRisk:"doubleRisk",ScheduledVacation:"scheduledVacation",VacationsTaken:"vacationsTaken",Calculated:"calculated"},o)},2673:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var i=((i||(i={})).TypeEnum={Allowance:"allowance",Vacation:"vacation",Clocking:"clocking"},i)},12194:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var i=((i||(i={})).TypeEnum={InitDate:"initDate",EndDate:"endDate",TotalHours:"totalHours",TotalDays:"totalDays",Justify:"justify",Reason:"reason",Status:"status",VacationBonus:"vacationBonus",Other:"other",Direction:"direction",InitHour:"initHour",EndHour:"endHour",InitVacationLimit:"initVacationLimit",EndVacationLimit:"endVacationLimit",HasAttachment:"hasAttachment",RequestId:"requestId"},i)},24764:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var i,o=((i=o||(o={})).RequestTypeEnum={Allowance:"allowance",Vacation:"vacation",Clocking:"clocking",Demission:"demission",Substitution:"substitution"},i.StatusEnum={Approved:"approved",Approving:"approving",Rejected:"rejected",Empty:"empty",Closed:"closed"},o)},42628:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var i,o=((i=o||(o={})).StatusEnum={Approved:"approved",Approving:"approving",Rejected:"rejected",Empty:"empty",Closed:"closed"},i.TypeEnum={Allowance:"allowance",Clocking:"clocking",Vacation:"vacation",Demission:"demission",Substitution:"substitution"},o)},3247:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var i=((i||(i={})).StatusEnum={Approved:"approved",Approving:"approving",Rejected:"rejected",Empty:"empty",Closed:"closed",Calculated:"calculated"},i)},51110:function(e,n,i){"use strict";i.d(n,{P:function(){return l}});var o,a=i(64762),r=i(68014),s=i(37716),c=i(95987),l=((o=function(){function e(t,n){h(this,e),this.router=t,this.permissionSelector=n}return m(e,[{key:"canActivate",value:function(e,t){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validPermission("root",t.url);case 2:if(e.t0=!!e.sent,e.t0){e.next=5;break}e.t0=(this.router.navigate(["home"],{queryParams:{retUrl:t.url}}),!1);case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}))}},{key:"canActivateChild",value:function(e,t){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.validPermission("child",t.url);case 2:if(e.t0=!!e.sent,e.t0){e.next=5;break}e.t0=(this.router.navigate(["home"],{queryParams:{retUrl:t.url}}),!1);case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e,this)}))}},{key:"validPermission",value:function(e,n){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,a,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.permissionSelector.nextPermissionsNotNull();case 2:return o=i.sent,a=[],r=!0,i.abrupt("return",("root"===e?(a.push(["/profile","profile"]),a.push(["/teamManagement/profile","teamManagementProfile"]),a.push(["/timesheet/allowances","allowance"]),a.push(["/timesheet/allowances/request","allowance"]),a.push(["/teamManagement/timesheet/allowances","teamManagementAllowance"]),a.push(["/teamManagement/timesheet/allowances/request","teamManagementAllowance"]),a.push(["/timesheet/overtime-hours","overtimeHours"]),a.push(["/timesheet/requestOvertimeHours","overtimeHours"]),a.push(["/timesheet/clockings","timesheet"]),a.push(["/timesheet/clockingRegister","clockingRegister"]),a.push(["/timesheet/clockingsGeo/register","clockingGeoRegister"]),a.push(["/timesheet/clockingsGeo/view","clockingGeoView"]),a.push(["/teamManagement/timesheet/clockings","teamManagementTimesheet"]),a.push(["/timesheet/occurrences","timesheet"]),a.push(["/payments","payment"]),a.push(["/payments/report","payment"]),a.push(["/payment","payment"]),a.push(["/payment/report","payment"]),a.push(["/payment/annualReceipts","annualReceipt"]),a.push(["/teamManagement/payment/salaryHistory","teamManagementSalaryHist"]),a.push(["/teamManagement/payments","teamManagementPayments"]),a.push(["/payment/salaryHistory","salaryHistory"]),a.push(["/request/notifications/overtime","timesheet"]),a.push(["/request/notifications/overtime/pending","timesheet"]),a.push(["/requisitions","requisitions"]),a.push(["/demission","demission"]),a.push(["/demission/visualize","demission"]),a.push(["/demission/confirm","demission"]),a.push(["/demission/request","demissionRequest"]),a.push(["/substitution","substitution"]),a.push(["/teamManagement/managementOfDelaysAndAbsences/health/medicalCertificate","medicalCertificate"]),a.push(["/health/medicalCertificate","medicalCertificate"]),a.push(["/health/medicalCertificate/request","medicalCertificate"]),a.push(["/absence","absenceManager"]),a.push(["/substitutes","substituteRequest"]),a.push(["/substituteRequest","substituteRequest"]),a.push(["/teamManagement","teamManagement"]),a.push(["/teamManagement/overview","teamManagement"]),a.push(["/teamManagement/managementOfDelaysAndAbsences","managementOfDelaysAndAbsences"]),a.push(["/teamBalance","teamManagement"]),a.push(["/teamManagement/vacation","teamManagementVacation"]),a.push(["/vacation","vacation"]),a.push(["/vacation/details","vacation"]),a.push(["/vacation/receipt","vacation"]),a.push(["/teamManagement/vacation/receipt","teamManagementVacation"]),a.push(["/alterPassword","alterPassword"]),a.push(["/teamManagement/shifts","teamManagementShifts"]),a.push(["/shifts","teamManagementShifts"]),a.push(["/shifts/update","teamManagementShifts"]),a.push(["/workLeave","workLeave"]),a.push(["/benefits/dependentsBeneficiaries/dependents","dependents"]),a.push(["/benefits/dependentsBeneficiaries/beneficiaries","beneficiaries"]),a.push(["/workLeave/request","teamManagementWorkLeaveRequest"]),a.push(["/timesheet/onCall","onCall"]),a.push(["/timesheet/onCall/request","onCallRequest"]),a.push(["/teamManagement/timesheet/onCall/request","teamManagementOnCallRequest"]),a.push(["/teamManagement/timesheet/onCall","teamManagementOnCallRequest"]),a.push(["/request/notifications/oncall","notificationOnCall"]),a.push(["/employeeDataChange","employeeDataChange"])):"child"===e&&(a.push(["/substitution/visualize","substitution"]),a.push(["/substitution/confirm","substitution"]),a.push(["/payment/payment/detail","payment"]),a.push(["/payments/payment/detail","payment"]),a.push(["/vacation/request","vacationRegister"])),a.every(function(e,i){if(e[0]!==n)return!0;for(var a=0,s=Object.entries(o);a<s.length;a++){var c=t(s[a],2),l=c[0],u=c[1];if(l===e[1]&&!u){r=!1;break}}return!!r&&void 0}),r));case 6:case"end":return i.stop()}},i,this)}))}}]),e}()).\u0275fac=function(e){return new(e||o)(s.LFG(c.F0),s.LFG(r.eL))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac}),o)},48681:function(e,t,n){"use strict";n.d(t,{e:function(){return c}});var i,o=n(64762),a=n(98348),r=n(68014),s=n(37716),c=((i=function(){function e(t){h(this,e),this.propertiesSelectors=t}return m(e,[{key:"getServerApiUrl",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadUrlService();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getExternalApps",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPropertiesJSON();case 2:return e.abrupt("return",e.sent.EXTERNAL_APP_RESPONSE);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getRestMigrationControl",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPropertiesJSON();case 2:return e.abrupt("return",e.sent.DTSREST_PENDING_MIGRATION);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getRestDTSFrameworkLogin",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPropertiesJSON();case 2:return e.abrupt("return",e.sent.DTSREST_FRAMEWORK_LOGIN);case 3:case"end":return e.stop()}},e,this)}))}},{key:"loadUrlService",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPropertiesJSON();case 2:t=e.sent,e.prev=3,t.ERP&&a.ZP.setErp(t.ERP),t.PROPS&&a.ZP.setProps(t.PROPS),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(3),console.error(e.t0);case 10:return e.prev=10,e.abrupt("return",a.ZP.getBaseUrl(document.location.href)+"/");case 13:case"end":return e.stop()}},e,this,[[3,7,10,13]])}))}},{key:"getPropertiesJSON",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.propertiesSelectors.nextPropertiesNotNull();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(r.Ub))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i)},47106:function(e,t,n){"use strict";n.d(t,{n:function(){return O}});var i,o=n(64762),a=n(37716),r=n(63114),s=n(53871),c=n(59708),l=((i=function(){function e(t){h(this,e),this.genericService=t}return m(e,[{key:"getFileAttachmentRequirements",value:function(){return this.genericService.get("file/attachmentRequirements",!1)}}]),e}()).\u0275fac=function(e){return new(e||i)(a.LFG(c.M))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i),u=n(84479),p=n(65241),d=n(38583),g=n(44956),f=n(29790),v=n(69838);function b(e,t){if(1&e&&(a.ynx(0),a._uU(1),a.ALo(2,"translate"),a.BQk()),2&e){var n=a.oxw(5);a.xp6(1),a.Oqu(a.xi3(2,1,"l-supported-formats",n.supportedFilesI18n))}}function x(e,t){if(1&e&&(a.ynx(0),a._uU(1),a.ALo(2,"translate"),a.BQk()),2&e){var n=a.oxw(5);a.xp6(1),a.Oqu(a.xi3(2,1,"l-supported-formats-only-file",n.supportedFilesI18n))}}function y(e,t){if(1&e&&(a.ynx(0),a._uU(1),a.ALo(2,"translate"),a.BQk()),2&e){var n=a.oxw(5);a.xp6(1),a.Oqu(a.xi3(2,1,"l-supported-formats-only-image",n.supportedFilesI18n))}}function w(e,t){if(1&e&&(a.TgZ(0,"span"),a._uU(1,"\xa0 "),a.YNc(2,b,3,4,"ng-container",8),a.YNc(3,x,3,4,"ng-container",8),a.YNc(4,y,3,4,"ng-container",8),a.qZA()),2&e){var n=a.oxw(4);a.xp6(2),a.Q6J("ngIf",null!=n.supportedFilesI18n.imageFormats&&null!=n.supportedFilesI18n.fileFormats),a.xp6(1),a.Q6J("ngIf",null==n.supportedFilesI18n.imageFormats&&null!=n.supportedFilesI18n.fileFormats),a.xp6(1),a.Q6J("ngIf",null!=n.supportedFilesI18n.imageFormats&&null==n.supportedFilesI18n.fileFormats)}}function Z(e,t){if(1&e&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e){var n=a.oxw(4);a.xp6(1),a.hij("\xa0",a.xi3(2,1,"l-size-limit",n.maxSizeI18n),"")}}function C(e,t){if(1&e&&(a.ynx(0),a.YNc(1,w,5,3,"span",8),a.YNc(2,Z,3,4,"span",8),a.TgZ(3,"span"),a._uU(4,"."),a.qZA(),a.BQk()),2&e){var n=a.oxw(3);a.xp6(1),a.Q6J("ngIf",null!=n.supportedFiles),a.xp6(1),a.Q6J("ngIf",null!=n.maxSize)}}function M(e,t){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"p"),a.TgZ(2,"span"),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.YNc(5,C,5,2,"ng-container",8),a.qZA(),a.qZA()),2&e){var n=a.oxw(2);a.Gre("requirements ",n.requirementsCss,""),a.xp6(3),a.Oqu(a.lcZ(4,5,"l-file-readable")),a.xp6(2),a.Q6J("ngIf",null!=n.supportedFiles||null!=n.maxSize)}}function k(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"div",4),a.TgZ(1,"div",5),a.TgZ(2,"po-button",6),a.NdJ("p-click",function(){return a.CHM(n),a.oxw().openSelectMedicalCertificateFileDialog()}),a.ALo(3,"translate"),a.qZA(),a.qZA(),a.YNc(4,M,6,7,"div",7),a.qZA()}if(2&e){var i=a.oxw();a.xp6(2),a.Gre("attach-file-button ",i.attachFileButtonCss,""),a.s9C("p-label",a.lcZ(3,5,"l-attach-file")),a.xp6(2),a.Q6J("ngIf",i.showRequirements)}}function A(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"span",19),a.NdJ("click",function(){return a.CHM(n),a.oxw(2).downloadAttachedFile()}),a.qZA()}}function P(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"div",9),a.TgZ(1,"div",10),a.TgZ(2,"span"),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.qZA(),a.TgZ(5,"div",11),a.TgZ(6,"div",12),a.TgZ(7,"div",13),a.TgZ(8,"div",14),a.YNc(9,A,1,0,"span",15),a.TgZ(10,"span",16),a._uU(11),a.qZA(),a.TgZ(12,"span",17),a._uU(13),a.ALo(14,"bytes"),a.qZA(),a.TgZ(15,"span",18),a.NdJ("click",function(){return a.CHM(n),a.oxw().excludeAttachedFile()}),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){var i=a.oxw();a.xp6(3),a.hij("",a.lcZ(4,4,"l-attachment"),":"),a.xp6(6),a.Q6J("ngIf",null!=i.urlDownloadFile&&null!=i.attachedId),a.xp6(2),a.Oqu(i.attachedName),a.xp6(2),a.Oqu(a.lcZ(14,6,3*i.attachedFile.content.length/4))}}var O=function(){var e=function(){function e(t,n,i){h(this,e),this.windowUtilService=t,this.translateService=n,this.attachFileService=i,this.showRequirements=!0,this.requirementsCss="po-mt-1 po-sm-12 po-md-6 po-lg-5 po-xl-3 no-padding",this.attachFileButtonCss="po-sm-12 po-md-12 po-lg-2 po-xl-2 po-pt-1",this.attachedFileChange=new a.vpe}return m(e,[{key:"attachedFile",get:function(){return this._attachedFile},set:function(e){this._attachedFile=e,this.obtainNameFromFileInfo(e)}},{key:"supportedFiles",get:function(){return this._supportedFiles},set:function(e){this._supportedFiles=e,this.mountExtensionsI18n(e),this.mountMimeTypesStringFormat(e)}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e,this.mountMaxSizeI18n(e)}},{key:"ngOnInit",value:function(){this.loadRequirements()}},{key:"fillFileInfo",value:function(e){e.content?(!e.name&&this.attachedFile.name&&(e.name=this.attachedFile.name),this.attachedFile=e):this.attachedFile=null,this.attachedFileChange.next(this.attachedFile)}},{key:"openSelectMedicalCertificateFileDialog",value:function(){this.windowUtilService.isIOS()?this.selectFileDialog.openFileBrowser():this.selectFileDialog.openSelectFileDialog()}},{key:"isAttachedFile",value:function(){return null!=this.attachedFile}},{key:"excludeAttachedFile",value:function(){this.attachedFile=null,this.selectFileDialog.fileInfo=null,this.attachedFileChange.next(this.attachedFile)}},{key:"downloadAttachedFile",value:function(){this.previewFileDialog.initializeComponent(this.urlDownloadFile,this.attachedFile,this.attachedId)}},{key:"obtainNameFromFileInfo",value:function(e){if(e)if(null!=e.type&&null!=e.name){var t="."+e.type;this.attachedName=e.name.indexOf(t)===e.name.length-t.length?e.name:e.name+t}else this.attachedName=e.name;else this.attachedName=null;return this.attachedName}},{key:"mountExtensionsI18n",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}return t.next=3,this.supportedFilesToString(e.filter(function(e){return 0===e.mimeType.indexOf("image/")}));case 3:return t.t1=t.sent,t.next=6,this.supportedFilesToString(e.filter(function(e){return-1===e.mimeType.indexOf("image/")}));case 6:t.t2=t.sent,t.t0={imageFormats:t.t1,fileFormats:t.t2},t.next=11;break;case 10:t.t0={};case 11:this.supportedFilesI18n=t.t0;case 12:case"end":return t.stop()}},t,this)}))}},{key:"supportedFilesToString",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.translateService.getI18n("l-and-interval2");case 2:return n=t.sent,i=e.map(function(e){return".".concat(e.extension.toUpperCase())}).join(", ").replace(/,( \.\w+)$/," ".concat(n,"$1")),t.abrupt("return",i.length>0?i:null);case 5:case"end":return t.stop()}},t,this)}))}},{key:"mountMaxSizeI18n",value:function(e){this.maxSizeI18n=e?{size:e/1e3+" MB"}:{size:null}}},{key:"mountMimeTypesStringFormat",value:function(e){this.mimeTypesStringFormat=e?e.map(function(e){return e.mimeType}).join(", "):void 0}},{key:"loadRequirements",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e.requirements){t.next=5;break}t.t0=e.requirements,t.next=8;break;case 5:return t.next=7,this.attachFileService.getFileAttachmentRequirements();case 7:t.t0=t.sent;case 8:n=t.t0,e.requirements=n,this.supportedFiles=n.extensions,this.maxSize=n.maxFileSize,t.next=15;break;case 12:t.prev=12,t.t1=t.catch(0),this.loadDefaultRequirements();case 15:case"end":return t.stop()}},t,this,[[0,12]])}))}},{key:"loadDefaultRequirements",value:function(){this.supportedFiles=[{extension:"png",mimeType:"image/png"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"pdf",mimeType:"application/pdf"}],this.maxSize=void 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.g),a.Y36(p.g),a.Y36(l))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-attach-file"]],viewQuery:function(e,t){var n;(1&e&&(a.Gf(s.Q,5),a.Gf(r.K,5)),2&e)&&(a.iGM(n=a.CRH())&&(t.selectFileDialog=n.first),a.iGM(n=a.CRH())&&(t.previewFileDialog=n.first))},inputs:{attachedFile:"attachedFile",showRequirements:"showRequirements",urlDownloadFile:"urlDownloadFile",attachedId:"attachedId",requirementsCss:"requirementsCss",attachFileButtonCss:"attachFileButtonCss"},outputs:{attachedFileChange:"attachedFileChange"},decls:6,vars:4,consts:[[1,"attach-file-box"],["class","attach-without-file",4,"ngIf","ngIfElse"],["attachWithFile",""],[3,"mimeTypes","maxSize","closeSelectFileDialogEvent"],[1,"attach-without-file"],[1,"button-and-disclaimer"],["p-type","default",3,"p-label","p-click"],[3,"class",4,"ngIf"],[4,"ngIf"],[1,"attach-with-file"],[1,"title"],[1,"po-row"],[1,"box-wrapper","po-xl-6","po-lg-6","po-md-6","po-sm-12"],[1,"box"],[1,"inside"],["class","po-icon po-icon-attach download-attach",3,"click",4,"ngIf"],[1,"attach-name"],[1,"attach-file-size"],[1,"po-icon","po-icon-delete","remove-attach",3,"click"],[1,"po-icon","po-icon-attach","download-attach",3,"click"]],template:function(e,t){if(1&e&&(a.TgZ(0,"div",0),a.YNc(1,k,5,7,"div",1),a.YNc(2,P,16,8,"ng-template",null,2,a.W1O),a.qZA(),a.TgZ(4,"app-select-file",3),a.NdJ("closeSelectFileDialogEvent",function(e){return t.fillFileInfo(e)}),a.qZA(),a._UZ(5,"app-preview-file")),2&e){var n=a.MAs(3);a.xp6(1),a.Q6J("ngIf",!t.isAttachedFile())("ngIfElse",n),a.xp6(3),a.Q6J("mimeTypes",t.mimeTypesStringFormat)("maxSize",t.maxSize)}},directives:[d.O5,s.Q,r.K,g.bOz],pipes:[f.X$,v.$N_],styles:['.attach-file-box[_ngcontent-%COMP%]{padding:0 8px}.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .button-and-disclaimer[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .button-and-disclaimer[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     button{height:32px}@media screen and (min-width: 961px){.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .button-and-disclaimer[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     button{height:48px}}.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:#707070;font-size:60%;text-align:center;line-height:16px}@media (min-width: 961px){.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:80%;text-align:unset}}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"NunitoSans-bold";font-weight:400;margin-bottom:8px;color:#4a5c60}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]{padding-left:0}@media (max-width: 960px){.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]{padding-right:0}}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #b6bdbf;border-radius:5px;padding:0 8px}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]{padding:12px 2px;display:flex;align-items:center}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .po-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:22px}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .attach-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:136px;white-space:nowrap}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .download-attach[_ngcontent-%COMP%]{color:#0c9abe;margin-right:13px}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .remove-attach[_ngcontent-%COMP%]{color:#d13f43}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .attach-file-size[_ngcontent-%COMP%]{margin-left:auto;margin-right:13px;color:#4a5c60;opacity:.87;font-size:10pt}[_nghost-%COMP%]     .attach-without-file .attach-file-button{padding:0}@media screen and (min-width: 961px){[_nghost-%COMP%]     .attach-without-file .attach-file-button{height:100%}[_nghost-%COMP%]     .attach-without-file .attach-file-button button{height:100%}}[_nghost-%COMP%]     .po-disclaimer-group{align-self:end;margin:0}[_nghost-%COMP%]     .po-disclaimer-group .po-disclaimer-group-title{display:none}[_nghost-%COMP%]     .po-disclaimer-group .po-disclaimer-group-disclaimer-align{margin:0}']}),e}()},20307:function(e,t,n){"use strict";n.d(t,{x:function(){return k}});var i=n(37716),o=n(38583),a=n(29790);function r(e,t){if(1&e&&(i.TgZ(0,"div",10),i._uU(1),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Oqu(n.name)}}function s(e,t){if(1&e&&(i.TgZ(0,"div",11),i._uU(1),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Oqu(n.role)}}function c(e,t){1&e&&(i.TgZ(0,"span",18),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-n").toUpperCase()," "))}function l(e,t){1&e&&(i.TgZ(0,"span",19),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-d").toUpperCase()," "))}function u(e,t){1&e&&(i.TgZ(0,"span",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-a").toUpperCase()," "))}function p(e,t){1&e&&(i.TgZ(0,"span",21),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-f").toUpperCase()," "))}function d(e,t){1&e&&(i.TgZ(0,"span",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-t").toUpperCase()," "))}function g(e,t){if(1&e&&(i.TgZ(0,"div",12),i.YNc(1,c,3,3,"span",13),i.YNc(2,l,3,3,"span",14),i.YNc(3,u,3,3,"span",15),i.YNc(4,p,3,3,"span",16),i.YNc(5,d,3,3,"span",17),i.qZA()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.status&&"N"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"D"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"A"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"F"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"T"==n.status.toUpperCase())}}function f(e,t){if(1&e&&(i.TgZ(0,"div",23),i.TgZ(1,"div",10),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA(),i.TgZ(5,"div",11),i._uU(6),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,2,"l-colaborator")),i.xp6(3),i.Oqu(n.name)}}function v(e,t){if(1&e&&(i.TgZ(0,"div",23),i.TgZ(1,"div",10),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA(),i.TgZ(5,"div",11),i._uU(6),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,2,"l-role")),i.xp6(3),i.Oqu(n.role)}}function b(e,t){1&e&&(i.TgZ(0,"span",18),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-n").toUpperCase()," "))}function x(e,t){1&e&&(i.TgZ(0,"span",19),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-d").toUpperCase()," "))}function y(e,t){1&e&&(i.TgZ(0,"span",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-a").toUpperCase()," "))}function w(e,t){1&e&&(i.TgZ(0,"span",21),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-f").toUpperCase()," "))}function Z(e,t){1&e&&(i.TgZ(0,"span",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&e&&(i.xp6(1),i.hij("",i.lcZ(2,1,"l-situation-t").toUpperCase()," "))}function C(e,t){if(1&e&&(i.TgZ(0,"div",23),i.TgZ(1,"div",10),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA(),i.TgZ(5,"div",12),i.YNc(6,b,3,3,"span",13),i.YNc(7,x,3,3,"span",14),i.YNc(8,y,3,3,"span",15),i.YNc(9,w,3,3,"span",16),i.YNc(10,Z,3,3,"span",17),i.qZA(),i.qZA()),2&e){var n=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,6,"l-situation")),i.xp6(3),i.Q6J("ngIf",n.status&&"N"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"D"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"A"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"F"==n.status.toUpperCase()),i.xp6(1),i.Q6J("ngIf",n.status&&"T"==n.status.toUpperCase())}}var M,k=((M=function(){function e(){h(this,e),this.image="",this.name="",this.role="",this.status=""}return m(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||M)},M.\u0275cmp=i.Xpm({type:M,selectors:[["app-card-employee"]],inputs:{image:"image",name:"name",role:"role",status:"status"},decls:12,vars:8,consts:[[1,"po-row","po-mb-1"],[1,"po-col-12","card-employee"],[1,"header"],[1,"avatar-container"],[1,"avatar","avatar-medium","avatar-align"],[1,"card-header-item","mobile","po-xs-12","po-sm-12","po-hidden-md","po-hidden-lg","po-hidden-xl"],["class","title",4,"ngIf"],["class","office",4,"ngIf"],["class","po-info-container-title",4,"ngIf"],["class","card-header-item po-hidden-xs po-hidden-sm po-md-12",4,"ngIf"],[1,"title"],[1,"office"],[1,"po-info-container-title"],["class","po-info-value situation-container situation-n",4,"ngIf"],["class","po-info-value situation-container situation-d",4,"ngIf"],["class","po-info-value situation-container situation-a",4,"ngIf"],["class","po-info-value situation-container situation-f",4,"ngIf"],["class","po-info-value situation-container situation-t",4,"ngIf"],[1,"po-info-value","situation-container","situation-n"],[1,"po-info-value","situation-container","situation-d"],[1,"po-info-value","situation-container","situation-a"],[1,"po-info-value","situation-container","situation-f"],[1,"po-info-value","situation-container","situation-t"],[1,"card-header-item","po-hidden-xs","po-hidden-sm","po-md-12"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i._UZ(4,"div",4),i.qZA(),i.TgZ(5,"div",5),i.YNc(6,r,2,1,"div",6),i.YNc(7,s,2,1,"div",7),i.YNc(8,g,6,5,"div",8),i.qZA(),i.YNc(9,f,7,4,"div",9),i.YNc(10,v,7,4,"div",9),i.YNc(11,C,11,8,"div",9),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(4),i.Udp("background-image",t.image),i.xp6(2),i.Q6J("ngIf",t.name),i.xp6(1),i.Q6J("ngIf",t.role),i.xp6(1),i.Q6J("ngIf",t.status),i.xp6(1),i.Q6J("ngIf",t.name),i.xp6(1),i.Q6J("ngIf",t.role),i.xp6(1),i.Q6J("ngIf",t.status))},directives:[o.O5],pipes:[a.X$],styles:["[_nghost-%COMP%]     .card-employee{flex:1;margin-top:10px;box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:16px;margin-bottom:8px;background:#ffffff}[_nghost-%COMP%]     .card-employee .header{display:flex;align-items:flex-start;justify-content:flex-start}[_nghost-%COMP%]     .card-employee .header .avatar-container{align-self:center}[_nghost-%COMP%]     .card-employee .header .card-header-item{margin:1em 2em 1em .75em}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container{border-radius:5px;color:#fff;padding:0 4px;display:inline-block}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-a{background:#c64840}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-d{background:#530e09}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-f{background:#ea9a3e}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-n{background:#00b28e}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-t{background:#666}[_nghost-%COMP%]     .card-employee .header .card-header-item .title{font-size:10pt;font-weight:bold;color:#666}[_nghost-%COMP%]     .card-employee .header .card-header-item.mobile{align-self:center}[_nghost-%COMP%]     .card-employee .header .card-header-item.mobile .title{font-size:12pt;font-weight:bold;color:#666}[_nghost-%COMP%]     .card-employee .header .card-header-item.mobile .office{font-size:10pt;color:#888}"]}),M)},82832:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var i,o=n(37716),a=n(38583),r=[[["","card-header",""]],[["","card-body",""]],[["","card-footer",""]]],s=["[card-header]","[card-body]","[card-footer]"],c=((i=function(){function e(){h(this,e),this.colorAll="#021B44",this.letterAll="#fff",this.letterTimesheet="#000",this.colorTimesheet="#fff",this.letterVacation="#000",this.colorVacation="#fff",this.defaultCssClass="card-well",this.cardCssClass="card-well po-xl-12 po-lg-12 po-md-12 po-sm-12",this.avatarImage="",this.employeeName="",this.office="",this.acceptEvent=new o.vpe,this.declineEvent=new o.vpe}return m(e,[{key:"cssClass",get:function(){return this.cardCssClass},set:function(e){this.cardCssClass="".concat(this.defaultCssClass," ").concat(e)}},{key:"ngOnInit",value:function(){}},{key:"accept",value:function(){this.acceptEvent.emit()}},{key:"decline",value:function(){this.declineEvent.emit()}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-card"]],inputs:{avatarImage:"avatarImage",employeeName:"employeeName",office:"office",cssClass:"cssClass"},outputs:{acceptEvent:"acceptEvent",declineEvent:"declineEvent"},ngContentSelectors:s,decls:4,vars:1,consts:[[3,"ngClass"]],template:function(e,t){1&e&&(o.F$t(r),o.TgZ(0,"div",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA()),2&e&&o.Q6J("ngClass",t.cssClass)},directives:[a.mk],styles:[".card-well[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:16px;margin-bottom:8px;position:relative;background:#ffffff}.space[_ngcontent-%COMP%]{margin-bottom:180px}.card-request-vacation-active[_ngcontent-%COMP%]{background:url(flipflops-transparent.cb0b519ffc6e3558040f.svg),linear-gradient(to top right,#0c7cbe 0%,#0cb8be 100%);min-height:90px;background-repeat:no-repeat;background-position:center center}.card-request-active[_ngcontent-%COMP%]{background:linear-gradient(to top right,#0c7cbe 0%,#0cb8be 100%);min-height:90px;background-repeat:no-repeat;background-position:center center;color:#fff}.card-count-active[_ngcontent-%COMP%]{background:#ceeaf2}"]}),i)},44677:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var i,o=n(38583),a=n(29790),r=n(37716),s=((i=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.oAB({type:i}),i.\u0275inj=r.cJS({imports:[[o.ez,a.aw]]}),i)},66163:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var i=m(function e(){h(this,e),this.employee=void 0,this.image=void 0,this.originComponent=""})},81483:function(e,t,n){"use strict";n.d(t,{XB:function(){return c},Em:function(){return l}});var i,o=n(16738),a=n(37716),r=6e4,s=new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$"),c=(new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$|24:00"),new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3])[0-5][0-9]$|24:00")),l=((i=function(){function e(){h(this,e)}return m(e,null,[{key:"extractYearMonth",value:function(e){return"string"==typeof e&&(e=new Date(e)),100*e.getUTCFullYear()+e.getUTCMonth()+1}},{key:"calculateDifferenceTime",value:function(t,n){if(!t||!n)throw new TypeError("Invalid parameters");if(s.test(t)&&s.test(n)){var i=e.getHours(t),o=e.getMinutes(t),a=e.getHours(n),r=e.getMinutes(n),c=e.getDefaultTime(new Date,i,o),l=e.getDefaultTime(new Date,a,r),u=l.getTime()-c.getTime();return u<=0&&(l.setDate(l.getDate()+1),u=l.getTime()-c.getTime()),e.getHoursByMilliseconds(u)}}},{key:"getDefaultTime",value:function(e,t,n){var i=new Date(e);return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getDate(),t,n,0)}},{key:"getHours",value:function(e){return s.test(e)?+e.split(":")[0]:(console.error("Formato de hora invalido"),0)}},{key:"formatUTCDate",value:function(t){var n=e.getDateUTCFormat(t);return new Date(n.getTime())}},{key:"getMinutes",value:function(e){return s.test(e)?+e.split(":")[1]:(console.error("Formato de hora invalido"),0)}},{key:"getTotalMinutes",value:function(e){return s.test(e)?60*+e.split(":")[0]+ +e.split(":")[1]:(console.error("Formato de hora invalido"),0)}},{key:"getTotalMilliseconds",value:function(t){return(t?e.getTotalMinutes(t):0)*r}},{key:"getDateUTCFormat",value:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}},{key:"getHoursByMilliseconds",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=!1;Number(e)<0&&(e=-1*Number(e),n=!0);var i="string"==typeof e?parseFloat(e):e,o=Math.floor(i/r%60),a=Math.floor(i/(60*r));t&&(a%=24);var s=a<10?"0"+a:a,c=o<10?"0"+o:o;return n?"-".concat(s,":").concat(c):"".concat(s,":").concat(c)}return"00:00"}},{key:"getDateWithoutTimezone",value:function(t){var n=e.getDateWithoutTimezoneAndDontUseString(t);return n.setUTCHours(0,0,0,0),n}},{key:"getDateWithoutTimezoneAndDontUseString",value:function(e){if(!e)throw new TypeError("Invalid date format");return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}},{key:"isEqual",value:function(t,n){return e.getDateWithoutTimezone(t).toISOString()===e.getDateWithoutTimezone(n).toISOString()}},{key:"diffInYears",value:function(e,t){return t||(t=new Date),new Date(t.getTime()-e.getTime()).getUTCFullYear()-1970}},{key:"getDateObject",value:function(e){return"string"==typeof e?new Date(e):new Date(e.getTime())}},{key:"momentFormat",value:function(e,t){var n=localStorage.getItem("usedLanguage")||"pt";"pt"===n&&(n="pt-br");var i="L";return"weekday"===t?i="dddd":"dayMonth"===t&&(i="DD/MM"),o(e).locale(n).format(i).toLowerCase()}},{key:"changeHour",value:function(e){return 2===e.length&&(Number(e[0])<2||2===Number(e[0])&&Number(e[1])<=3?e+="00":e="0"+e+"0"),3===e.length&&(Number(e[0])<=2?e+="0":e="0"+e),e}},{key:"convertHourToMilliseconds",value:function(e){return""!==e?this.getTotalMilliseconds((t=e).includes(":")?t:t.substr(0,2).concat(":").concat(t.substr(2,3))):0;var t}},{key:"returnDateStringPODatepicker",value:function(e){var t=new Date(e),n=("0"+t.getUTCDate()).slice(-2),i=("0"+(t.getUTCMonth()+1)).slice(-2);return t.getUTCFullYear()+"-"+i+"-"+n+"T05:00:00-00:00"}},{key:"diffInDays",value:function(e,t,n){e=this.getDateObject(e),t=this.getDateObject(t);var i=Math.floor((t-e)/864e5);return n?Math.abs(i):i}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i)},62439:function(e,t,n){"use strict";n.d(t,{C:function(){return s}});var i,o=n(64762),a=n(37716),r=n(65241),s=((i=function(){function e(t){h(this,e),this.translateService=t}return m(e,[{key:"getWeekDayLabel",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=1===t.t0?3:2===t.t0?6:3===t.t0?9:4===t.t0?12:5===t.t0?15:6===t.t0?18:0===t.t0?21:24;break;case 3:return t.next=5,this.translateService.getI18n("l-monday");case 5:return t.abrupt("return",t.sent);case 6:return t.next=8,this.translateService.getI18n("l-tuesday");case 8:return t.abrupt("return",t.sent);case 9:return t.next=11,this.translateService.getI18n("l-wednesday");case 11:return t.abrupt("return",t.sent);case 12:return t.next=14,this.translateService.getI18n("l-thursday");case 14:return t.abrupt("return",t.sent);case 15:return t.next=17,this.translateService.getI18n("l-friday");case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.translateService.getI18n("l-saturday");case 20:return t.abrupt("return",t.sent);case 21:return t.next=23,this.translateService.getI18n("l-sunday");case 23:return t.abrupt("return",t.sent);case 24:return t.abrupt("return","");case 25:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(a.LFG(r.g))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i)},57706:function(e,t,n){"use strict";n.d(t,{a:function(){return f}});var i=n(37716),o=n(40469),a=n(38583),r=function(e){return{backgroundColor:e}};function s(e,t){if(1&e&&i._UZ(0,"div",2),2&e){var n=i.oxw();i.Q6J("ngClass",i.VKq(1,r,n.isVisible))}}function c(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"a",5),i.NdJ("click",function(){return i.CHM(n),i.oxw(2).closeDialog()}),i._uU(1,"\xd7"),i.qZA()}}var l=function(e){return{"full-screen-dialog":e}};function u(e,t){if(1&e&&(i.TgZ(0,"div",3),i.YNc(1,c,2,0,"a",4),i.Hsn(2,0,["class","overlay-content"]),i.qZA()),2&e){var n=i.oxw();i.Q6J("ngClass",i.VKq(2,l,n.isVisible)),i.xp6(1),i.Q6J("ngIf",n.closeDialogButtonEnable)}}var p,d=[[["","dialog-content",""]]],g=["[dialog-content]"],f=((p=function(){function e(t){h(this,e),this.menuApplicationService=t,this.isVisible=!1,this.closeDialogEvent=new i.vpe,this.closeDialogButtonEnable=!1,this.menuIsVisible=!1}return m(e,[{key:"ngOnInit",value:function(){this.hideMenu()}},{key:"ngOnDestroy",value:function(){this.showMenu()}},{key:"hideMenu",value:function(){this.menuIsVisible||this.menuApplicationService.hideMenu()}},{key:"showMenu",value:function(){this.menuApplicationService.showMenu()}},{key:"closeDialog",value:function(){this.isVisible=!1,this.closeDialogEvent.emit()}}]),e}()).\u0275fac=function(e){return new(e||p)(i.Y36(o.Kv))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-dialog"]],inputs:{isVisible:"isVisible",closeDialogButtonEnable:"closeDialogButtonEnable",menuIsVisible:"menuIsVisible"},outputs:{closeDialogEvent:"closeDialogEvent"},ngContentSelectors:g,decls:2,vars:2,consts:[["class","overlay",3,"ngClass",4,"ngIf"],["id","dialog","class","dialog overlay",3,"ngClass",4,"ngIf"],[1,"overlay",3,"ngClass"],["id","dialog",1,"dialog","overlay",3,"ngClass"],["id","dialogCloseBtn","class","closebtn",3,"click",4,"ngIf"],["id","dialogCloseBtn",1,"closebtn",3,"click"]],template:function(e,t){1&e&&(i.F$t(d),i.YNc(0,s,1,3,"div",0),i.YNc(1,u,3,4,"div",1)),2&e&&(i.Q6J("ngIf",t.isVisible),i.xp6(1),i.Q6J("ngIf",t.isVisible))},directives:[a.O5,a.mk],styles:[".overlay[_ngcontent-%COMP%]{height:0%;width:100%;position:fixed;top:0;left:0;background-color:#fff;transition:1.5s;z-index:1000;border-radius:0;padding:0 16px}.overlay-content[_ngcontent-%COMP%]{position:relative;top:25%;width:100%;text-align:center;margin-top:30px}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px;text-decoration:none;font-size:36px;color:#818181;display:block;transition:.3s}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#f1f1f1}.overlay[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:-11px;right:5px;cursor:pointer}.backgroundColor[_ngcontent-%COMP%]{z-index:200;background-color:rgba(5,45,62,.7);height:100%}.full-screen-dialog[_ngcontent-%COMP%]{height:100%;overflow:auto}@media only screen and (max-width: 480px){.full-screen-dialog[_ngcontent-%COMP%]{height:100vh;overflow:auto;padding-bottom:76px}}@media (min-width: 961px){.full-screen-dialog[_ngcontent-%COMP%]{height:auto;top:50%;left:50%;width:640px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-bottom:1.5em;border-radius:3px;overflow:unset}}@media (min-width: 480px){.overlay[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:30px;right:35px;cursor:pointer}}"]}),p)},46526:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var i,o=n(56185),a=n(94405),r=n(37716),s=n(38583),c=((i=function(){function e(t,n){h(this,e),this.fileManipulationService=t,this.datePipe=n}return m(e,[{key:"generateExcel",value:function(e,t,n,i){var a=new o.Workbook,r=a.addWorksheet(e);r.addRow([t]).font={size:16,bold:!0},r.addRow([]),r.addRow([this.datePipe.transform(new Date,"medium")]),r.addRow([]),r.addRow(n),i.forEach(function(e){r.addRow(e)}),this.generateExcelFile(a,e)}},{key:"generateExcelVersion",value:function(e,t,n,i,a){var r=new o.Workbook,s=r.addWorksheet(e);s.addRow([t]).font={size:16,bold:!0},s.addRow([]),s.addRow([this.datePipe.transform(new Date,"medium")]),s.addRow([]),s.addRow(a),s.addRow([]),s.addRow(n),i.forEach(function(e){s.addRow(e)}),this.generateExcelFile(r,e)}},{key:"generateExcelBalance",value:function(e,t,n,i){var a,r,s,c=new o.Workbook,l=c.addWorksheet(e);l.addRow([t]).font={name:"Calibri",family:4,size:16,bold:!0},l.addRow([]),l.addRow([this.datePipe.transform(new Date,"medium")]),l.addRow([]),l.addRow(n).eachCell(function(e,t){e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),i.forEach(function(e){s=l.addRow(e),r=s.getCell(3),a=r.text.includes("-")?"FF9999":"00:00"===r.text?"FFFFFF":"FF99FF99",r.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},r=s.getCell(4),a=r.text.includes("-")?"FF9999":"00:00"===r.text?"FFFFFF":"FF99FF99",r.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}},r=s.getCell(5),a=r.text.includes("-")?"FF9999":"00:00"===r.text?"FFFFFF":"FF99FF99",r.fill={type:"pattern",pattern:"solid",fgColor:{argb:a}}}),l.getColumn(1).width=40,l.getColumn(2).width=30,l.getColumn(3).width=20,l.getColumn(4).width=20,l.getColumn(5).width=20,l.addRow([]),this.generateExcelFile(c,e)}},{key:"generateExcelFile",value:function(e,t){var n=this;t=this.fileManipulationService.formatFilenameReport([t],".xlsx"),e.xlsx.writeBuffer().then(function(e){var i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});n.fileManipulationService.saveAs(i,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",t)})}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.e),r.LFG(s.uU))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},10690:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var i,o=n(37716),a=n(44956),r=n(38583),s=[[["","card-header",""]],[["","card-body",""]]],c=["[card-header]","[card-body]"],l=((i=function(){function e(){h(this,e),this.iconClass="po-icon-arrow-down",this.iconClassCollapsed="po-icon-arrow-up"}return m(e,[{key:"ngClass",get:function(){var e={};return e[this.iconClass]=!this.collapsed,e[this.iconClassCollapsed]=this.collapsed,e}},{key:"ngOnInit",value:function(){}},{key:"collapsedBody",value:function(){this.collapsed=!this.collapsed}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-expansion-card"]],inputs:{collapsed:"collapsed",iconClass:"iconClass",iconClassCollapsed:"iconClassCollapsed"},ngContentSelectors:c,decls:7,vars:2,consts:[["id","expansion-card-header"],[1,"icon-collapsed"],[1,"po-icon","pull-right",3,"ngClass","click"],["id","expansion-card-body",3,"hidden"]],template:function(e,t){1&e&&(o.F$t(s),o.TgZ(0,"po-container"),o.TgZ(1,"div",0),o.Hsn(2),o.TgZ(3,"div",1),o.TgZ(4,"span",2),o.NdJ("click",function(){return t.collapsedBody()}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5,"div",3),o.Hsn(6,1),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngClass",t.ngClass),o.xp6(1),o.Q6J("hidden",!t.collapsed))},directives:[a.PJf,r.mk],styles:[".icon-collapsed[_ngcontent-%COMP%]{color:#0c9abe;font-size:25px;z-index:2;position:absolute;right:25px}"]}),i)},43743:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var i,o=n(38583),a=n(44956),r=n(37716),s=((i=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.oAB({type:i}),i.\u0275inj=r.cJS({imports:[[o.ez,a.JBz]]}),i)},94405:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var i,o=n(64762),a=n(59708),r=n(49457),s=((s||(s={})).TypeEnum={Png:"png",Jpg:"jpg",Gif:"gif",Bmp:"bmp",XMsBmp:"x-ms-bmp",Pdf:"pdf"},s),c=n(37716),l=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"openFile",value:function(e,t,n,i){var o=this;return this.serviceGeneric.setResponseType("blob"),i?this.serviceGeneric.search(e,i,!1).then(function(e){o.saveAs(e,n,t)}).catch(function(e){o.serviceGeneric.setResponseType("json"),console.error("Error: ".concat(e.message))}):this.serviceGeneric.get(e,!1).then(function(e){o.saveAs(e,n,t)}).catch(function(e){o.serviceGeneric.setResponseType("json"),console.error("Error: ".concat(e.message))})}},{key:"openFileFromFileInfo",value:function(e,t,n){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.base64ToBlob(e,t);case 2:o=i.sent,this.serviceGeneric.setResponseType("blob"),this.saveAs(o,n,t);case 4:case"end":return i.stop()}},i,this)}))}},{key:"saveAs",value:function(e,t,n){var i=new Blob([e],{type:t});(0,r.saveAs)(i,n),this.serviceGeneric.setResponseType("json")}},{key:"formatFilenameReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".pdf";return e&&e.length>0?e.join("_").replace(/\s/g,"_")+t:this.generateRandomFilename()+t}},{key:"generateRandomFilename",value:function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,12)}},{key:"returnExtensionByMediaType",value:function(e){switch(e){case"image/jpeg":return s.TypeEnum.Jpg;case"image/png":return s.TypeEnum.Png;case"image/bmp":return s.TypeEnum.Bmp;case"image/x-ms-bmp":return s.TypeEnum.XMsBmp;case"application/pdf":return s.TypeEnum.Pdf}}},{key:"returnMediaTypeByExtension",value:function(e){switch(e){case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"xmsbmp":return"image/x-ms-bmp";case"pdf":return"application/pdf"}}},{key:"getPictureBase64FromCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=e.toDataURL(t);return this.removeMIMEInfoFromBase64(n)}},{key:"removeMIMEInfoFromBase64",value:function(e){return e.replace(/^data:(image|application)\/(png|jpeg|jpg|bmp|x-ms-bmp|pdf);base64,/,"")}},{key:"createMIMEBase64InfoByExtension",value:function(e){var t="data:";return(t+=this.returnMediaTypeByExtension(e))+";base64,"}},{key:"blobToBase64",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){var i=new FileReader;i.onload=function(){t(i.result)},i.readAsDataURL(e)}));case 1:case"end":return t.stop()}},t)}))}},{key:"base64ToBlob",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data:image/".concat(e.type||"png",";base64,").concat(e.content));case 2:return t.abrupt("return",t.sent.blob());case 3:case"end":return t.stop()}},t)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(a.M))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)},62393:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var i,o=n(64762),a=n(37716),r=((i=function(){function e(){h(this,e)}return m(e,[{key:"bufferFileonStorage",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],i=0;i<=e.length;)o={storagename:"StoreFileId-"+n.length,partfile:e.substr(i,1e4)},n.push(o),i+=1e4;return t.abrupt("return",n);case 3:case"end":return t.stop()}},t)}))}},{key:"saveBase64onStorage",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.forEach(function(e){localStorage.setItem(e.storagename,e.partfile)});case 1:case"end":return t.stop()}},t)}))}},{key:"nameListBas64onStorage",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.abrupt("return",(e.forEach(function(e){n.push(e.storagename)}),n));case 2:case"end":return t.stop()}},t)}))}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i)},72212:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var i=function(){function e(){h(this,e)}return m(e,null,[{key:"isVisible",value:function(e,t){return!e||!e.some(function(e){return e.field===t&&!e.visible})}},{key:"isEditable",value:function(e,t){return e&&e.some(function(e){return e.field===t&&e.editable})}},{key:"isEditableStandardTrue",value:function(e,t){return!e||!e.some(function(e){return e.field===t&&!e.editable})}},{key:"isRequired",value:function(e,t){return e&&e.some(function(e){return e.field===t&&e.required})}},{key:"scrollToElement",value:function(e,t,n){setTimeout(function(){t.hash(e),n()},550)}}]),e}()},33490:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;h(this,e),this.hasMoreRecords=!1,this.actualPage=0,this.pageSize=0,this.records=t,this.pageSize=n}return m(e,[{key:"getNextPage",value:function(){return this.actualPage+=1,this.actualPage}}]),e}()},56365:function(e,t,n){"use strict";n.d(t,{q:function(){return R}});var i,o=n(80521),a=n(38583),r=n(3679),s=n(90171),c=n(39075),l=n(95987),u=n(29790),p=n(44956),d=n(69838),g=n(64275),f=n(97185),v=n(37716),b=((i=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({imports:[[a.ez,u.aw]]}),i),x=n(44677),y=n(62439),w=n(94405),Z=n(33224),C=n(88044),M=n(14833),k=n(35734),A=n(99329),P=n(64383),O=n(44852),q=n(11530),T=n(30343),_=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.oAB({type:e}),e.\u0275inj=v.cJS({providers:[T.V]}),e}(),S=n(16338),I=n(71904),D=n(65241),L=n(84479),R=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.oAB({type:e}),e.\u0275inj=v.cJS({providers:[M.Lx,D.g,A.e,L.g,{provide:c.ok,useClass:I.f},L.g,Z._,C.l,O._,q.H,P.z,w.e,g.q,k.y,S.t,y.C,f.$],imports:[[a.ez,u.aw,r.u5,x.d,b,_,p.hOC,o.ud,s.To,p.JBz,d.ggn,l.Bz],u.aw,r.u5,p.JBz,x.d,b,_,o.ud]}),e}()},33224:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var i,o=n(37716),a=((i=function(){function e(){h(this,e)}return m(e,[{key:"getPosition",value:function(e,t){navigator.geolocation.getCurrentPosition(e,function(e){var n="";switch(e.code){case e.PERMISSION_DENIED:n="l-permision-geo-denied";break;case e.POSITION_UNAVAILABLE:n="l-position-unavailable";break;case e.TIMEOUT:n="l-timeout-geo"}t&&t(new TypeError(n))},{enableHighAccuracy:!0})}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},18494:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var i,o=n(26215),a=n(97983),r=n(37716),s=n(39075),c=((i=function(){function e(t,n){h(this,e),this.sanitization=t,this.profileService=n}return m(e,[{key:"getImage",value:function(e,t){return t[e]||this.getImageStyle(e).subscribe(function(n){return t[e]=n}),t[e]}},{key:"getImageStyle",value:function(e){var t=this,n=new o.X(this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"));return this.profileService.getImageBase64(e).then(function(e){e&&e.content&&n.next(t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(e.type||"png")+";base64,"+e.content,")")))}).finally(function(){n.closed||n.complete()}),n.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(s.H7),r.LFG(a.H))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},88044:function(e,t,n){"use strict";n.d(t,{l:function(){return a},g:function(){return r}});var i,o=n(37716),a=((i=function(){function e(){h(this,e),this.initialize()}return m(e,[{key:"initialize",value:function(){void 0===document.IonicExternalEvents&&(document.IonicExternalEvents=[])}},{key:"emit",value:function(e){var t=document.IonicExternalEvents;return e.id=Date.now().toString(),e.captured=!1,t.push(e),e}},{key:"getArrayEvents",value:function(){return document.IonicExternalEvents}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i),r=function(){return(e=r||(r={}))[e.DownloadFile=0]="DownloadFile",e[e.DownloadAndOpenFile=1]="DownloadAndOpenFile",e[e.OpenFile=2]="OpenFile",e[e.ShareFile=3]="ShareFile",e[e.RequestGeolocationPermission=4]="RequestGeolocationPermission",e[e.SystemBrowser=5]="SystemBrowser",e[e.RequestGelocationCoordinates=6]="RequestGelocationCoordinates",e[e.Camera=7]="Camera",e[e.FilePicker=8]="FilePicker",e[e.Logout=9]="Logout",e[e.OpenClockInApp=10]="OpenClockInApp",e[e.TokenChange=11]="TokenChange",e[e.RateApp=12]="RateApp",e[e.ClearPassword=13]="ClearPassword",e[e.ShowBlastAdvertising=14]="ShowBlastAdvertising",e[e.MustShowBlastAdvertisingCard=15]="MustShowBlastAdvertisingCard",e[e.TransferFile=16]="TransferFile",r;var e}()},85385:function(e,t,n){"use strict";n.d(t,{j:function(){return f}});var i=n(64762),o=n(37716),a=n(44956),r=n(65241),s=n(96054),c=n(38583),l=n(3679),u=n(29790);function p(e,t){if(1&e&&(o.TgZ(0,"span",3),o._uU(1),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Oqu(n.modalText)}}function d(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-textarea",4),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().justifyReprovedReason=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,2,"l-reason")),o.Q6J("ngModel",i.justifyReprovedReason)}}var g,f=((g=function(){function e(t,n){h(this,e),this.appTranslateService=t,this.notificationService=n,this.justifyReprovedReason="",this.sendRequest=!1,this.isReprove=!1,this.reprovedReason=new o.vpe}return m(e,[{key:"ngOnInit",value:function(){this.getModalActions()}},{key:"openModal",value:function(){this.poModal.open()}},{key:"closeModal",value:function(){this.poModal.close(),this.justifyReprovedReason=""}},{key:"translateString",value:function(e){return this.appTranslateService.getI18n(e)}},{key:"getModalActions",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){return(0,i.mG)(t,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hasRequiredValue();case 2:if(!e.sent){e.next=9;break}return e.next=5,this.appTranslateService.getI18n("l-reason-required");case 5:t=e.sent,this.notificationService.showNotification(t,a.ik9.Error),e.next=10;break;case 9:this.sendRequest=!0,this.reprovedReason.emit(this.sendRequest);case 10:case"end":return e.stop()}},e,this)}))},e.next=3,this.translateString("l-confirm");case 3:return e.t1=e.sent.toString(),this.confirmActionModal={action:e.t0,label:e.t1},e.t2=function(){return(0,i.mG)(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.sendRequest=!1,this.reprovedReason.emit(this.sendRequest);case 1:case"end":return e.stop()}},e,this)}))},e.next=8,this.translateString("l-cancel-title");case 8:e.t3=e.sent.toString(),e.t4=!0,this.closeActionModal={action:e.t2,label:e.t3,danger:e.t4};case 11:case"end":return e.stop()}},e,this)}))}},{key:"hasRequiredValue",value:function(){return!(!this.isReprove||!this.reasonFieldProps.required||0!==this.justifyReprovedReason.length)}}]),e}()).\u0275fac=function(e){return new(e||g)(o.Y36(r.g),o.Y36(s.g))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-justify-notification"]],viewQuery:function(e,t){var n;1&e&&o.Gf(a.hmF,7),2&e&&o.iGM(n=o.CRH())&&(t.poModal=n.first)},inputs:{title:"title",primaryAction:"primaryAction",secondaryAction:"secondaryAction",modalText:"modalText",reasonRequired:"reasonRequired",reasonFieldProps:"reasonFieldProps"},outputs:{reprovedReason:"reprovedReason"},decls:3,vars:5,consts:[["p-size","md",3,"p-title","p-primary-action","p-secondary-action"],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12",4,"ngIf"],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12","name","textarea",3,"ngModel","p-label","ngModelChange",4,"ngIf"],[1,"po-lg-12","po-xl-12","po-md-12","po-sm-12"],["name","textarea",1,"po-lg-12","po-xl-12","po-md-12","po-sm-12",3,"ngModel","p-label","ngModelChange"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.YNc(1,p,2,1,"span",1),o.YNc(2,d,2,4,"po-textarea",2),o.qZA()),2&e&&(o.Q6J("p-title",t.title)("p-primary-action",t.confirmActionModal)("p-secondary-action",t.closeActionModal),o.xp6(1),o.Q6J("ngIf",t.modalText),o.xp6(1),o.Q6J("ngIf",t.reasonRequired&&(null==t.reasonFieldProps?null:t.reasonFieldProps.visible)))},directives:[a.hmF,c.O5,a.gJm,l.JJ,l.On],pipes:[u.X$],styles:[".po-modal{z-index:1000!important}"]}),g)},78662:function(e,t,n){"use strict";n.d(t,{Pz:function(){return a},nd:function(){return r},Mt:function(){return s},im:function(){return c},g5:function(){return l}});var i,o=n(37716),a="DemissionlKey",r="SubstitutionKey",s="DataChangeKey",c="requisitionsKey",l=((i=function(){function e(){h(this,e)}return m(e,[{key:"setLastAccess",value:function(e,t){var n=e+t;localStorage.setItem(n,(this.getKeyLastAccess(n)+1).toString())}},{key:"getKeyLastAccess",value:function(e){return Number(localStorage.getItem(e))}},{key:"getLastAccessMenuItems",value:function(e){for(var t=[a,r],n=[],i=0;i<t.length;i++){var o=this.getKeyLastAccess(t[i]+e);+o>0&&n.push({id:t[i],cont:o,featuredIcon:"",featuredLabel:"",featuredRoute:""})}return n}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},14833:function(e,t,n){"use strict";n.d(t,{ye:function(){return a},R1:function(){return r},jY:function(){return s},w9:function(){return c},Mo:function(){return l},dG:function(){return u},iF:function(){return p},uB:function(){return d},Ux:function(){return g},jh:function(){return f},SP:function(){return v},uI:function(){return b},HV:function(){return x},cr:function(){return y},to:function(){return w},Ye:function(){return Z},Pz:function(){return C},im:function(){return M},j8:function(){return k},mw:function(){return A},c5:function(){return P},Lx:function(){return O}});var i,o=n(37716),a="absenceKey",r="vacationKey",s="medicalKey",c="paymentsKey",l="annualReceiptKey",u="profileKey",p="substitutesKey",d="allowanceKey",g="clockingGeolocationKey",f="clockingGeolocationViewKey",v="clockingKey",b="clockInKey",x="loanStatementsKey",y="dependentsBeneficiaries",w="teamManagementKey",Z="workLeaveKey",C="demissionKey",M="requisitionsKey",k="salaryHistoryKey",A="overtimeHoursKey",P="reportsKey",O=((i=function(){function e(){h(this,e)}return m(e,[{key:"setLastAccess",value:function(e,t){var n=e+t;localStorage.setItem(n,(Number(this.getKeyLastAccess(n))+1).toString())}},{key:"getKeyLastAccess",value:function(e){return localStorage.getItem(e)}},{key:"getLastAccessMenuItems",value:function(e){for(var t=[f,s,c,l,r,u,p,d,g,v,a,b,x,y,w,Z,C,M,k,A,P],n=[],i=0;i<t.length;i++){var o=this.getKeyLastAccess(t[i]+e);+o>0&&n.push({id:t[i],cont:+o,featuredIcon:"",featuredLabel:"",featuredRoute:""})}return n}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},35734:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var i,o=n(37716),a=((i=function(){function e(){h(this,e),this.browser=navigator,this.setDefaultConstraints()}return m(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constraints;this.video=e,this.browser.getUserMedia=this.browser.getUserMedia||this.browser.webkitGetUserMedia||this.browser.mozGetUserMedia||this.browser.msGetUserMedia,this.browser.mediaDevices.getUserMedia(n).then(function(e){t.currentStream=e,t.video.srcObject=e,t.video.play()})}},{key:"drawImageFromVideoOnCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:640,n=arguments.length>2?arguments[2]:void 0,i=this.video.videoWidth/this.video.videoHeight;e.width=t,e.height=n||e.width/i,e.getContext("2d").drawImage(this.video,0,0,e.width,e.height)}},{key:"stop",value:function(){this.video&&(this.video.pause(),this.video.srcObject=null,this.currentStream&&this.currentStream.getTracks().forEach(function(e){return e.stop()}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"resume",value:function(){this.video&&this.video.play()}},{key:"isActive",value:function(){return this.video&&!this.video.ended&&!this.video.paused}},{key:"setDefaultConstraints",value:function(){this.constraints={audio:!1,video:{facingMode:"environment"}}}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},99329:function(e,t,n){"use strict";n.d(t,{e:function(){return d}});var i,o=n(44956),a=((a||(a={})).TypeEnum={Danger:"danger",Error:"error",Warning:"warning",Info:"info",Success:"success"},a),r=n(98348),s=n(68014),c=n(37716),l=n(96054),u=n(84479),p=n(37503),d=((i=function(){function e(t,n,i,o){h(this,e),this.notificationService=t,this.windowUtilService=n,this.globals=i,this.loggedDispatchers=o}return m(e,[{key:"processErrorMessage",value:function(e){if(r.ZP.isErpProtheus())this.processErrorMessageProtheus(e);else if([0,401].indexOf(e.status)>=0||302===e.status&&r.ZP.isErpDatasul())this.loggedDispatchers.setIsLogged(!1),this.globals.clearLocalStorage();else if(e.error&&e.error.messages||e.messages){var t;t=this.getMessageError(e,t),this.processErrorMessagePatternTHFOne(t)}else e.error&&e.error.message&&-1===[0,400,401].indexOf(e.status)?this.processErrorMessagePatternTotvsApi(e.error):e.error&&400===e.status&&this.processValidationMessagePatternTotvsApi(e.error)}},{key:"getMessageError",value:function(e,t){return e.error&&e.error.messages?e.error:e}},{key:"processErrorMessageProtheus",value:function(e){if(e.error&&[0,401].indexOf(e.status)>=0)this.globals.canLoadApp=!1,this.globals.clearTokenStorage(),this.windowUtilService.changeHref(r.ZP.getRootContext(location.origin)+"logout.html"),this.loggedDispatchers.setIsLogged(!1);else if(e.error){var t;t=t?{code:e.error.code,message:e.error.message,detailedMessage:void 0}:{code:e.error.errorCode,message:e.error.errorMessage,detailedMessage:void 0},this.processErrorMessagePatternTotvsApi(t)}else e.messages?this.processErrorMessagePatternTHFOne(e):void 0!==e.status&&e.message&&-1===[0,400,401].indexOf(e.status)&&this.processErrorMessagePatternTotvsApi(e)}},{key:"processValidationMessagePatternTotvsApi",value:function(e){var t=this;e&&e.items&&e.items.forEach(function(e){switch(e.type){case a.TypeEnum.Danger:case a.TypeEnum.Error:t.notificationService.showNotification(e.detail,o.ik9.Error);break;case a.TypeEnum.Info:t.notificationService.showNotification(e.detail,o.ik9.Information);break;case a.TypeEnum.Warning:t.notificationService.showNotification(e.detail,o.ik9.Warning);break;case a.TypeEnum.Success:t.notificationService.showNotification(e.detail,o.ik9.Success)}})}},{key:"processErrorMessagePatternTHFOne",value:function(e){var t=this;e&&e.messages&&e.messages.forEach(function(e){t.handleToastr(e)})}},{key:"processErrorMessagePatternTotvsApi",value:function(e){var t=this;e&&(this.handleToastr({code:e.code,detail:e.message,type:a.TypeEnum.Error}),console.error(e.details),e.details&&e.details.length>0&&e.details.forEach(function(e){t.handleToastr({code:e.code,detail:e.message,type:a.TypeEnum.Error}),console.error(e.details)}))}},{key:"handleToastr",value:function(e){e.type===a.TypeEnum.Error?this.notificationService.showNotification(e.detail,o.ik9.Error):e.type===a.TypeEnum.Warning?this.notificationService.showNotification(e.detail,o.ik9.Warning):e.type===a.TypeEnum.Info&&this.notificationService.showNotification(e.detail,o.ik9.Information)}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(l.g),c.LFG(u.g),c.LFG(p.O),c.LFG(s.pG))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)},81059:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var i,o=n(26215),a=n(84479),r=n(37716),s=((i=function(){function e(){h(this,e),this.viewIsMobile=!1,this.subject=new o.X(this.viewIsMobile),this.subjectMobileOrTablet=new o.X(this.viewIsMobileOrTablet),this.viewIsMobile$=this.subject.asObservable(),this.viewIsMobileOrTablet$=this.subjectMobileOrTablet.asObservable()}return m(e,[{key:"ngOnInit",value:function(){this.defineIsMobile(window.innerWidth,window.innerHeight)}},{key:"ngOnDestroy",value:function(){this.subject.complete(),this.subjectMobileOrTablet.complete()}},{key:"onResize",value:function(e){this.defineIsMobile(e.target.innerWidth,e.target.innerHeight)}},{key:"defineIsMobile",value:function(e,t){var n=this;this.viewIsMobile=a.g.isMobile(e,t),this.viewIsMobileOrTablet=a.g.mdDeviceOrSmaller(e),setTimeout(function(){n.subject.next(n.viewIsMobile),n.subjectMobileOrTablet.next(n.viewIsMobileOrTablet)},0)}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275dir=r.lG2({type:i,hostBindings:function(e,t){1&e&&r.NdJ("resize",function(e){return t.onResize(e)},!1,r.Jf7)}}),i)},64383:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var i,o=n(16738),a=(n(40328),n(66117),n(37716)),r=n(29790),s=((i=function(){function e(t){h(this,e),this.translateService=t,o.locale(t.getBrowserCultureLang())}return m(e,[{key:"getInstance",value:function(e,t){return o(e,t)}}]),e}()).\u0275fac=function(e){return new(e||i)(a.LFG(r.sK))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i)},44852:function(e,t,n){"use strict";n.d(t,{_:function(){return d}});var i,o=n(79765),a=n(88044),r=n(59708),s=n(64634),c=n(37716),l=n(95987),u=n(84479),p=n(65241),d=((i=function(){function e(t,n,i,a,r){h(this,e),this.ionicUtilsService=t,this.router=n,this.windowUtilService=i,this.appTranslateService=a,this.serviceGeneric=r,this.reloadContextSource=new o.xQ,this.reloadContextSourceObservable=this.reloadContextSource.asObservable()}return m(e,[{key:"goToNextPage",value:function(e){var t=e.split("/"),n=0,i="";t.forEach(function(e){n>2&&(i+=n!==t.length-1?e+"/":e),n++}),this.router.navigate([i])}},{key:"nextContext",value:function(){this.reloadContextSource.next()}},{key:"doNavigation",value:function(e,t){if("string"!=typeof e){var n=e;n&&n.externalApp?this.redirectToExternalApp(n):n&&n.url.indexOf("PortalMeuRH")>0&&this.goToNextPage(n.url)}else t?this.router.navigate([e],t):this.router.navigate([e])}},{key:"redirectToExternalApp",value:function(e){var t=this;this.getExternalAuthenticationToken(e.id,e.externalAppStagingEnvironment).then(function(n){var i=new Map;n&&i.set("{token}",n.token);var o=s.m.replaceKeyValueString(i,e.url);t.appTranslateService.getI18n("l-confirm-external-redirect-operation").then(function(e){t.confirm(e)&&(t.windowUtilService.isWebView()?t.ionicUtilsService.emit({args:{url:o},type:a.g.SystemBrowser}):t.open(o))})})}},{key:"open",value:function(e){window.open(e,"_blank")}},{key:"confirm",value:function(e){return window.confirm(e)}},{key:"getExternalAuthenticationToken",value:function(e,t){var n="integration/token/".concat(e,"/{current}"),i=[];return t&&(i.stagingEnvironment=t),this.serviceGeneric.search(n,i)}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(a.l),c.LFG(l.F0),c.LFG(u.g),c.LFG(p.g),c.LFG(r.M))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)},48582:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var i=n(37716),o=n(38583),a=n(44956);function r(e,t){if(1&e){var n=i.EpF();i.ynx(0),i._UZ(1,"img",3),i.TgZ(2,"h2",4),i._uU(3),i.qZA(),i.TgZ(4,"h5",5),i._uU(5),i.qZA(),i.TgZ(6,"po-button",6),i.NdJ("click",function(){return i.CHM(n),i.oxw().action()}),i.qZA(),i.BQk()}if(2&e){var o=i.oxw();i.xp6(3),i.Oqu(o.title),i.xp6(2),i.Oqu(o.subtitle),i.xp6(1),i.s9C("p-label",o.newRecord)}}function s(e,t){1&e&&i._UZ(0,"po-loading-icon",8)}function c(e,t){if(1&e&&i.YNc(0,s,1,0,"po-loading-icon",7),2&e){var n=i.oxw();i.Q6J("ngIf",n.shouldShowSpinner)}}var l,u=((l=m(function e(){h(this,e),this.loading=!1,this.shouldShowSpinner=!1})).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-no-record"]],inputs:{title:"title",subtitle:"subtitle",newRecord:"newRecord",loading:"loading",shouldShowSpinner:"shouldShowSpinner",action:"action"},decls:4,vars:2,consts:[[1,"no-records","text-center"],[4,"ngIf","ngIfElse"],["loadingBlock",""],["src","assets/img/payroll-loan-empty-statement.svg",1,"image-empty"],[1,"po-mt-5","title"],[1,"po-mt-2","po-mb-4","subtitle"],["p-primary","true","p-type","primary",1,"new-record","po-sm-12",3,"p-label","click"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.YNc(1,r,7,3,"ng-container",1),i.qZA(),i.YNc(2,c,1,1,"ng-template",null,2,i.W1O)),2&e){var n=i.MAs(3);i.xp6(1),i.Q6J("ngIf",!t.loading)("ngIfElse",n)}},directives:[o.O5,a.bOz,a.AR0],styles:['.no-records[_ngcontent-%COMP%]   .image-empty[_ngcontent-%COMP%]{width:100%;height:30vh}@media (min-width: 481px){.no-records[_ngcontent-%COMP%]   .image-empty[_ngcontent-%COMP%]{height:305px}}.no-records[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem}@media (min-width: 481px){.no-records[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.no-records[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}@media (min-width: 481px){.no-records[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.25rem}}.no-records[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .no-records[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:"NunitoSans-Light";font-weight:normal;text-overflow:unset;white-space:unset}.no-records[_ngcontent-%COMP%]   .new-record[_ngcontent-%COMP%]     button{padding:9px 0;height:auto;margin-bottom:10px}.no-records[_ngcontent-%COMP%]   .new-record[_ngcontent-%COMP%]     button .po-button-label{font-size:16px}@media (min-width: 961px){.no-records[_ngcontent-%COMP%]   .new-record[_ngcontent-%COMP%]     button{padding:9px 70px;width:auto}}.no-records[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:flex;justify-content:center}']}),l)},96054:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i,o=n(37716),a=n(44956),r=((i=function(){function e(t){h(this,e),this.poNotificationService=t}return m(e,[{key:"showNotification",value:function(e,t){return this.poNotification={message:e},{0:this.poNotificationService.error.bind(this.poNotificationService,this.poNotification),1:this.poNotificationService.information.bind(this.poNotificationService,this.poNotification),2:this.poNotificationService.success.bind(this.poNotificationService,this.poNotification),3:this.poNotificationService.warning.bind(this.poNotificationService,this.poNotification)}[t]()}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(a.fRI))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},11530:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var i,o=n(37716),a=n(65241),r=((i=function(){function e(t){h(this,e),this.translateService=t}return m(e,[{key:"simpleReverseGeocoding",value:function(e,t){var n=this;return this.getJson(e,t).then(function(e){return e.json().then(function(e){if(e.address){var t={city:n.parseUndefinedValue(e.address.city),road:n.parseUndefinedValue(e.address.road),country:n.parseUndefinedValue(e.address.country),number:n.parseUndefinedValue(e.address.house_number),state:n.parseUndefinedValue(e.address.state),neighborhood:n.parseUndefinedValue(e.address.suburb)};return n.fillLocationString(t)}})})}},{key:"getJson",value:function(e,t){return fetch("https://nominatim.openstreetmap.org/reverse?format=json&lon="+e+"&lat="+t)}},{key:"parseUndefinedValue",value:function(e){return e||""}},{key:"fillLocationString",value:function(e){return this.translateService.getI18n("location-string",e).then(function(e){return e&&e.replace(/,,/g,",").replace(/\-\-/g,"-").replace(/[ ]+[,|\-]/g," ").replace(/^[,|\-]/g,"").replace(/[,|\-]$/g,"").trim()})}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(a.g))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},36812:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var i=n(37716),o=n(84479),a=n(38583),r=n(29790);function s(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"a",4),i.TgZ(1,"div",5),i.NdJ("click",function(){return i.CHM(n),i.oxw().back()}),i.qZA(),i.qZA()}}var c,l=[[["","title",""]],[["","sub-title",""]]],u=function(e){return{"no-back":e}},p=["[title]","[sub-title]"],d=((c=function(){function e(t){h(this,e),this.windowUtilService=t,this.backFunction=new i.vpe,this.backIsVisible=!1,this.pageTitle="",this.subTitleIsDayAndWeekDay=!1,this.subTitleIsPeriod=!1,this.dateIsDay=!1,this.dateIsWeekDay=!1,this.date="",this.initPeriod="",this.endPeriod="",this.isDialog=!1}return m(e,[{key:"viewIsMobile",get:function(){return this.windowUtilService.isWebView()}},{key:"ngOnInit",value:function(){this.backIsVisible=this.backIsVisible||this.viewIsMobile}},{key:"back",value:function(){this.backFunction.observers.length>0?this.backFunction.emit(!1):this.windowUtilService.back()}},{key:"titleForDialog",value:function(){return this.isDialog?"":"max-width-page-title"}}]),e}()).\u0275fac=function(e){return new(e||c)(i.Y36(o.g))},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-page-header"]],inputs:{backIsVisible:"backIsVisible",pageTitle:"pageTitle",subTitleIsDayAndWeekDay:"subTitleIsDayAndWeekDay",subTitleIsPeriod:"subTitleIsPeriod",dateIsDay:"dateIsDay",dateIsWeekDay:"dateIsWeekDay",date:"date",initPeriod:"initPeriod",endPeriod:"endPeriod",isDialog:"isDialog"},outputs:{backFunction:"backFunction"},ngContentSelectors:p,decls:9,vars:8,consts:[[1,"general",3,"ngClass"],["class","mouse-pointer header-back",4,"ngIf"],["id","tit-page-header",1,"header-content","po-font-title",3,"ngClass"],[1,"po-font-subtitle","sub-title"],[1,"mouse-pointer","header-back"],["id","btn-back",1,"image-return","po-icon","po-icon-arrow-left",3,"click"]],template:function(e,t){1&e&&(i.F$t(l),i.TgZ(0,"div",0),i.YNc(1,s,2,0,"a",1),i.TgZ(2,"h2",2),i._uU(3),i.ALo(4,"translate"),i.Hsn(5),i.qZA(),i.TgZ(6,"div"),i.TgZ(7,"h4",3),i.Hsn(8,1),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.Q6J("ngClass",i.VKq(6,u,!t.backIsVisible)),i.xp6(1),i.Q6J("ngIf",t.backIsVisible),i.xp6(1),i.Q6J("ngClass",t.titleForDialog()),i.xp6(1),i.hij(" ",i.lcZ(4,4,t.pageTitle),""))},directives:[a.mk,a.O5],pipes:[r.X$],styles:['.image-return[_ngcontent-%COMP%]{font-size:2rem}.mouse-pointer[_ngcontent-%COMP%]{text-align:center}.max-width-page-title[_ngcontent-%COMP%]{padding-left:8px}.po-font-title[_ngcontent-%COMP%]{margin:0;padding-left:0}@media screen and (min-width: 320px) and (max-width: 481px){.po-font-title[_ngcontent-%COMP%]{width:calc(100vw - 80px)}}@media screen and (max-width: 320px){.po-font-title[_ngcontent-%COMP%]{width:calc(100vw - 100px)}}.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:11px;font-size:16px}.header-back[_ngcontent-%COMP%]{grid-area:header-back}.header-content[_ngcontent-%COMP%]{grid-area:header-content}.general[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header-back header-content";grid-template-columns:40px 1fr;align-items:center;padding:40px 0 10px}.general.no-back[_ngcontent-%COMP%]{grid-template-areas:"header-content";grid-template-columns:1fr}.day[_ngcontent-%COMP%]{color:#28303e;float:left;margin-right:10px}.week-day[_ngcontent-%COMP%]{color:#9da7a9;margin-bottom:0;margin-top:0}@media only screen and (max-width: 960px){.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:0!important;font-size:16px}}@media screen and (min-width: 961px) and (max-width: 1366px){.max-width-page-title[_ngcontent-%COMP%]{max-width:calc(100vw - 158px)}}@media only screen and (min-width: 1201px) and (max-width: 1502px){.max-width-page-title[_ngcontent-%COMP%]{max-width:calc(100vw - 158px);padding-left:0}}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:40px;font-size:16px}}@media only screen and (-webkit-min-device-pixel-ratio: 3),only screen and (min--moz-device-pixel-ratio: 3),only screen and (-o-min-device-pixel-ratio: 3/1){.image-return[_ngcontent-%COMP%]{float:left;margin-left:0;margin-right:8px}.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:48px;font-size:16px}}']}),c)},18648:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var i,o=n(81483),a=n(37716),r=((i=function(){function e(){h(this,e)}return m(e,[{key:"transform",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null!=e)return o.Em.getHoursByMilliseconds(e,t)}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"formatMillisecondsAsHour",type:i,pure:!0}),i)},13235:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var i,o=n(64634),a=n(37716),r=((i=function(){function e(){h(this,e)}return m(e,[{key:"transform",value:function(e){return o.m.toTitleCase(e)}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"titleCase",type:i,pure:!0}),i)},32268:function(e,t,n){"use strict";n.d(t,{$:function(){return d}});var o,r,c=n(38583),l=n(81483),p=n(37716),d=((r=function(e){a(n,e);var t=s(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"transform",value:function(e,t){if(!e)return"";var o=new Date(e),a=n.getDateUTCFormat(o);return i(u(n.prototype),"transform",this).call(this,a,t)}}],[{key:"getDateUTCFormat",value:function(e){return l.Em.getDateUTCFormat(e)}}]),n}(c.uU)).\u0275fac=function(e){return(o||(o=p.n5z(r)))(e||r)},r.\u0275pipe=p.Yjl({name:"utcDate",type:r,pure:!0}),r)},63114:function(e,t,n){"use strict";n.d(t,{K:function(){return b}});var i,o=n(64762),a=n(44956),r=n(48681),s=n(98348),c=n(94405),l=n(88044),u=n(59708),p=n(30343),d=n(37716),g=n(84479),f=n(29790),v=["canvas"],b=((i=function(){function e(t,n,i,o,a,r){h(this,e),this.fileManipulationService=t,this.ionicUtilService=n,this.windowUtilService=i,this.serviceGeneric=o,this.spinnerService=a,this.configurationService=r}return m(e,[{key:"initializeComponent",value:function(e,t,n){this.fileUrlDownload=e,this.id=n,this.fileInfo=t,this.downloadFile()}},{key:"openPreviewFileDialog",value:function(){this.previewFileDialog.open(),this.drawImageOnCanvas()}},{key:"closePreviewFileDialog",value:function(){this.previewFileDialog.close()}},{key:"drawImageOnCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:640;return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.canvas.nativeElement.width=e,this.canvas.nativeElement.height=t,(i=new Image).src=this.fileManipulationService.createMIMEBase64InfoByExtension(this.fileInfo.type)+this.fileInfo.content,this.canvas.nativeElement.getContext("2d").drawImage(i,0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height);case 3:case"end":return n.stop()}},n,this)}))}},{key:"getUrlFileDownload",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.ZP.isErpDatasul()){e.next=5;break}return e.next=3,this.serviceGeneric.resolveUrl(0,this.fileUrlDownload);case 3:return t=e.sent,e.abrupt("return","".concat(document.location.origin).concat(t).concat(this.fileUrlDownload,"/").concat(this.id,"/").concat(this.fileInfo.type));case 5:return e.abrupt("return",new Promise(function(e){e(n.configurationService.getServerApiUrl().then(function(e){return(0,o.mG)(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.ZP.isErpNode()||s.ZP.isErpProtheus()?"".concat(e).concat(this.fileUrlDownload,"/").concat(this.id,"/").concat(this.fileInfo.type):"".concat(document.location.origin).concat(e).concat(this.fileUrlDownload,"/").concat(this.id,"/").concat(this.fileInfo.type));case 1:case"end":return t.stop()}},t,this)}))}))}));case 6:case"end":return e.stop()}},e,this)}))}},{key:"openFile",value:function(){var e=this.fileManipulationService.returnMediaTypeByExtension(this.fileInfo.type);this.fileManipulationService.openFileFromFileInfo(this.fileInfo,this.fileInfo.name+"."+this.fileInfo.type,e)}},{key:"downloadFile",value:function(){var e=this;this.fileInfo.name=this.fileManipulationService.generateRandomFilename(),this.windowUtilService.isWebView()?(this.spinnerService.show(),this.getUrlFileDownload().then(function(t){var n={args:{openAfterDownload:!0,url:t,filename:e.fileInfo.name,fileMIMEtype:e.fileManipulationService.returnMediaTypeByExtension(e.fileInfo.type)},type:l.g.DownloadAndOpenFile};e.ionicUtilService.emit(n)}).catch(function(t){e.spinnerService.hide()})):this.openFile()}},{key:"callbackIonicExternalEvent",value:function(e){e.detail.event.type===l.g.DownloadAndOpenFile&&this.spinnerService.hide()}}]),e}()).\u0275fac=function(e){return new(e||i)(d.Y36(c.e),d.Y36(l.l),d.Y36(g.g),d.Y36(u.M),d.Y36(p.V),d.Y36(r.e))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-preview-file"]],viewQuery:function(e,t){var n;1&e&&(d.Gf(a.hmF,5),d.Gf(v,5)),2&e&&(d.iGM(n=d.CRH())&&(t.previewFileDialog=n.first),d.iGM(n=d.CRH())&&(t.canvas=n.first))},hostBindings:function(e,t){1&e&&d.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,d.evT)},decls:11,vars:9,consts:[["p-size","auto",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[1,"canvas-format"],["canvas",""],[1,"modal-select-file-options"],["p-small","true","p-type","default",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-icon","po-icon po-icon-download","p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"]],template:function(e,t){1&e&&(d.TgZ(0,"po-modal",0,1),d.ALo(2,"translate"),d.TgZ(3,"div"),d._UZ(4,"canvas",2,3),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"po-button",5),d.NdJ("p-click",function(){return t.closePreviewFileDialog()}),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"po-button",6),d.NdJ("p-click",function(){return t.downloadFile()}),d.ALo(10,"translate"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.s9C("p-title",d.lcZ(2,3,"l-visualization")),d.xp6(7),d.s9C("p-label",d.lcZ(8,5,"l-close")),d.xp6(2),d.s9C("p-label",d.lcZ(10,7,"l-download")))},directives:[a.hmF,a.bOz],pipes:[f.X$],styles:[".modal-select-file-options[_ngcontent-%COMP%]{overflow:auto;margin-top:35px;margin-bottom:25px}.canvas-format[_ngcontent-%COMP%]{height:400px;width:320px}[_nghost-%COMP%]     .po-modal-title{font-size:20px}[_nghost-%COMP%]     .po-modal-header-close-button{padding-left:95px}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),i)},53871:function(e,t,n){"use strict";n.d(t,{Q:function(){return C}});var i=n(64762),o=n(37716),a=n(44956),r=n(88044),s=n(94405),c=n(38583),l=n(35734),u=n(84479),p=n(96054),d=n(65241),g=n(29790),f=["video"],v=["canvas"],b=["fileInput"];function x(e,t){if(1&e&&(o.TgZ(0,"div"),o._UZ(1,"video",6,7),o._UZ(3,"canvas",8,9),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.ekj("show-component",n.showVideoCapture),o.xp6(2),o.ekj("show-component",!n.showVideoCapture)}}function y(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"po-button",10),o.NdJ("click",function(){return o.CHM(n),o.oxw().openFileBrowser()}),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"po-button",11),o.NdJ("p-click",function(){return o.CHM(n),o.oxw().takePicture()}),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-search-file")),o.xp6(2),o.s9C("p-label",o.lcZ(4,4,"l-take-picture")))}function w(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"po-button",12),o.NdJ("p-click",function(){return o.CHM(n),o.oxw().startCamera()}),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"po-button",13),o.NdJ("p-click",function(){return o.CHM(n),o.oxw().saveSnapshot()}),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(4,4,"l-confirm")))}var Z,C=((Z=function(){function e(t,n,i,a,r,s,c){h(this,e),this.cameraService=t,this.windowUtilService=n,this.ionicUtilService=i,this.fileManipulationService=a,this.notificationService=r,this.translateService=s,this.locale=c,this.closeSelectFileDialogEvent=new o.vpe,this.mimeTypes="image/png, image/jpeg, application/pdf",this.showErrorWhenExceedingLimit=!0,this.showErrorWhenInvalidFormat=!0}return m(e,[{key:"ngOnInit",value:function(){this.showVideoCapture=!0}},{key:"ngOnDestroy",value:function(){this.isWebView()||this.cameraService.stop()}},{key:"openSelectFileDialog",value:function(){this.selectFileDialog.open(),this.isWebView()||this.startCamera()}},{key:"startCamera",value:function(){this.showVideoCapture=!0,this.isWebView()||this.cameraService.start(this.video.nativeElement)}},{key:"startCameraDevice",value:function(){this.fileInfo=null,this.ionicUtilService.emit({args:{},type:r.g.Camera})}},{key:"closeSelectFileDialog",value:function(){this.selectFileDialog.close(),this.stopCamera(),this.closeSelectFileDialogEvent.emit(this.fileInfo)}},{key:"openFileBrowser",value:function(){this.stopCamera(),this.fileInput.nativeElement.click()}},{key:"onFileChange",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o,a,r,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.target.files.length){t.next=12;break}return n=e.target.files[0],t.next=4,this.formatIsInvalid(n);case 4:return i=t.sent,t.next=7,this.isExceedingLimit(n);case 7:if(o=t.sent,!i&&!o){t.next=10;break}return t.abrupt("return",void(this.fileInput.nativeElement.value=null));case 10:(a=new FileReader).readAsDataURL(n),a.onloadend=function(){(r=a.result.toString())&&(s.initializeFileProperties(r,n.name,n.type),s.closeSelectFileDialog())};case 12:case"end":return t.stop()}},t,this)}))}},{key:"takePicture",value:function(){this.isWebView()?this.startCameraDevice():this.isCameraActivated()?(this.showTakenPicture(),this.showVideoCapture=!1,this.stopCamera()):this.startCamera()}},{key:"stopCamera",value:function(){!this.isWebView()&&this.isCameraActivated()&&this.cameraService.stop()}},{key:"isCameraActivated",value:function(){return this.cameraService.isActive()}},{key:"showTakenPicture",value:function(){this.cameraService.drawImageFromVideoOnCanvas(this.canvas.nativeElement,640,640)}},{key:"showButtonsConfirmSnapshot",value:function(){return!this.showVideoCapture}},{key:"saveSnapshot",value:function(){this.initializeFileProperties(this.fileManipulationService.getPictureBase64FromCanvas(this.canvas.nativeElement),this.fileManipulationService.generateRandomFilename()+".jpg","image/jpeg"),this.closeSelectFileDialog()}},{key:"isWebView",value:function(){return this.windowUtilService.isWebView()}},{key:"initializeFileProperties",value:function(e,t,n){var i=this.fileManipulationService.returnExtensionByMediaType(n);this.fileInfo={content:this.fileManipulationService.removeMIMEInfoFromBase64(e),name:t,type:i}}},{key:"normalizeBase64BigFiles",value:function(){"="!==this.fileInfo.content.charAt(this.fileInfo.content.length-1)&&this.fileInfo.content.length%4!=0&&(this.fileInfo.content+="=")}},{key:"callbackIonicExternalEvent",value:function(e){e.detail.event.type===r.g.Camera&&(e.detail.success?(this.initializeFileProperties(e.detail.returnObject.imgBase64,e.detail.returnObject.fileName,e.detail.returnObject.mediaType),this.closeSelectFileDialog()):this.fileInfo=null)}},{key:"formatIsInvalid",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=this.mimeTypes&&this.mimeTypes.length>0)){t.next=19;break}if(!this.mimeTypes.includes(e.type)){t.next=10;break}return t.next=4,e.arrayBuffer();case 4:for(n=t.sent,i=new Uint8Array(n).subarray(0,4),o="",r=0;r<i.length;r++)o+=i[r].toString(16);t.t0=o,t.next="25504446"===t.t0||"89504e47"===t.t0||"ffd8ffe0"===t.t0||"ffd8ffee"===t.t0||"ffd8ffe1"===t.t0||"ffd8ffe8"===t.t0||"ffd8ffe2"===t.t0||"ffd8ffe3"===t.t0?9:10;break;case 9:return t.abrupt("return",!1);case 10:if(t.t1=this.showErrorWhenInvalidFormat,!t.t1){t.next=18;break}return t.t2=this.notificationService,t.next=15,this.translateService.getI18n("l-invalid-format");case 15:t.t3=t.sent,t.t4=a.ik9.Error,t.t2.showNotification.call(t.t2,t.t3,t.t4);case 18:return t.abrupt("return",!0);case 19:return t.abrupt("return",!1);case 20:case"end":return t.stop()}},t,this)}))}},{key:"isExceedingLimit",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null!=this.maxSize&&e.size/1e3>this.maxSize)){t.next=8;break}if(!this.showErrorWhenExceedingLimit){t.next=7;break}return n="1.0-2",t.next=5,this.translateService.getI18n("l-exceeding-limit",{size:"".concat((0,c.uf)(e.size/1e6,this.locale,n)," MB"),maxSize:"".concat((0,c.uf)(this.maxSize/1e3,this.locale,n)," MB")});case 5:i=t.sent,this.notificationService.showNotification(i,a.ik9.Error);case 7:return t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||Z)(o.Y36(l.y),o.Y36(u.g),o.Y36(r.l),o.Y36(s.e),o.Y36(p.g),o.Y36(d.g),o.Y36(o.soG))},Z.\u0275cmp=o.Xpm({type:Z,selectors:[["app-select-file"]],viewQuery:function(e,t){var n;1&e&&(o.Gf(a.hmF,5),o.Gf(f,5),o.Gf(v,5),o.Gf(b,5)),2&e&&(o.iGM(n=o.CRH())&&(t.selectFileDialog=n.first),o.iGM(n=o.CRH())&&(t.video=n.first),o.iGM(n=o.CRH())&&(t.canvas=n.first),o.iGM(n=o.CRH())&&(t.fileInput=n.first))},hostBindings:function(e,t){1&e&&o.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,o.evT)},inputs:{mimeTypes:"mimeTypes",maxSize:"maxSize",showErrorWhenExceedingLimit:"showErrorWhenExceedingLimit",showErrorWhenInvalidFormat:"showErrorWhenInvalidFormat"},outputs:{closeSelectFileDialogEvent:"closeSelectFileDialogEvent"},decls:9,vars:7,consts:[["p-size","auto",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[4,"ngIf"],["type","file","name","myFile",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-file",3,"accept","change"],["fileInput",""],[1,"modal-select-file-options"],["muted","",1,"video-format"],["video",""],[1,"video-format"],["canvas",""],["p-small","true","p-type","default",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","click"],["p-icon","po-icon po-icon-camera","p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-small","true","p-type","default",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0,1),o.ALo(2,"translate"),o.YNc(3,x,5,4,"div",2),o.TgZ(4,"input",3,4),o.NdJ("change",function(e){return t.onFileChange(e)}),o.qZA(),o.TgZ(6,"div",5),o.YNc(7,y,5,6,"div",2),o.YNc(8,w,5,6,"div",2),o.qZA(),o.qZA()),2&e&&(o.s9C("p-title",o.lcZ(2,5,"l-select-image")),o.xp6(3),o.Q6J("ngIf",!t.isWebView()),o.xp6(1),o.Q6J("accept",t.mimeTypes),o.xp6(3),o.Q6J("ngIf",!t.showButtonsConfirmSnapshot()),o.xp6(1),o.Q6J("ngIf",t.showButtonsConfirmSnapshot()))},directives:[a.hmF,c.O5,a.bOz],pipes:[g.X$],styles:[".modal-select-file-options[_ngcontent-%COMP%]{overflow:auto;margin-top:35px;margin-bottom:25px}.input-file[_ngcontent-%COMP%]{display:none}.video-format[_ngcontent-%COMP%]{height:320px;width:320px;display:none}@media only screen and (max-width: 320px){.video-format[_ngcontent-%COMP%]{height:180px;width:260px;display:none}}.show-component[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]     .po-modal-title{font-size:20px}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),Z)},59708:function(e,t,n){"use strict";n.d(t,{M:function(){return b}});var i,o=n(64762),a=n(91841),r=n(48681),s=n(98348),c=n(64275),l=n(99329),u=n(30343),p=n(64634),d=n(37716),g=n(84479),f=n(69505),v=((i=v||(v={}))[i.GET=0]="GET",i[i.POST=1]="POST",i[i.PUT=2]="PUT",i[i.DELETE=3]="DELETE",v),b=function(){var e=function(){function e(t,n,i,o,a,r,s){h(this,e),this.http=t,this.configurationService=n,this.messageService=i,this.spinnerService=o,this.restMigrationControl=a,this.windowUtilService=r,this.refreshTokenService=s,this.initialize()}return m(e,[{key:"initialize",value:function(){this.headers=new a.WM,this.setAuthorizationToken(),this.withCredentials=!0,this.options={headers:this.headers,withCredentials:this.withCredentials,responseType:"json"}}},{key:"processHttpResponse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.spinnerService.hide(),e){var n=this.tryGetLegacyData(e);if(n)return n;this.handleMessage(e)}return e}},{key:"resolveUrl",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!s.ZP.isTomcatAppServer()||!(t.indexOf("/api/rh/v1/login/auth/")>-1||t.indexOf("/totvs-login/logout")>-1)){n.next=4;break}n.t0="",n.next=14;break;case 4:if(!s.ZP.isErpDatasul()){n.next=10;break}return n.next=7,this.restMigrationControl.getBaseUrlDts(Number(e),t);case 7:n.t1=n.sent,n.next=13;break;case 10:return n.next=12,this.configurationService.getServerApiUrl();case 12:n.t1=n.sent;case 13:n.t0=n.t1;case 14:return i=n.t0,n.abrupt("return",i);case 16:case"end":return n.stop()}},n,this)}))}},{key:"httpRequest",value:function(e,t,n,i){var o=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return this.resolveUrl(e,t).then(function(s){return o.processHttpRequest(e,t,s,n,i,a,r)})}},{key:"processHttpRequest",value:function(e,t,n,i,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return this.requestOptions(e,t,n,i,o,a,r)}},{key:"requestOptions",value:function(e,t,n,i,o){var a,r=this,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=n+t;switch(i&&(l=p.m.concatQueryParam(l,i)),this.setAppErp(t),this.setProtheusHeaders(l),c&&this.spinnerService.show(),l.includes("storage.googleapis.com")&&this.options.headers.delete("Authorization"),e){case v.GET:a=this.http.get(l,this.options);break;case v.POST:a=this.http.post(l,o,this.options);break;case v.PUT:a=this.http.put(l,o,this.options);break;case v.DELETE:a=this.http.delete(l,this.options)}return a.toPromise().then(function(e){return"html"===r.options.responseType?r.handleHtmlResponse(null==e?void 0:e.toString()):r.processHttpResponse(e,c)}).catch(function(e){return c&&r.spinnerService.hide(),s?r.handleError(e):Promise.reject(e)})}},{key:"setProtheusHeaders",value:function(e){s.ZP.isErpProtheus()&&((this.windowUtilService.isIosDevice()||this.windowUtilService.isSafariBrowser()||this.windowUtilService.isFirefoxBrowser())&&!this.options.headers.get("x-protheus-connection")&&(this.options.headers=this.options.headers.append("x-protheus-connection","close")),this.options.headers=this.options.headers.get("Accept-Language")?this.options.headers.set("Accept-Language","pt-BR"):this.options.headers.append("Accept-Language","pt-BR"),e.includes("logout")&&this.setWithCredencials(!1))}},{key:"setAppErp",value:function(e){if(!this.options.headers.get("x-totvs-app")){var t;switch(s.ZP.getErp()){case s.Ld.RM:t="0533";break;case s.Ld.PROTHEUS:t="0200";var n=this.options.responseType;this.options=this.isAuthService(e)?{headers:this.headers,responseType:n}:{headers:this.headers,withCredentials:!1,responseType:n};break;case s.Ld.DTS:t="5200";break;case s.Ld.NODE:t="9999"}this.options.headers=this.options.headers.append("x-totvs-app",t)}}},{key:"isAuthService",value:function(e){return e.toUpperCase().includes("auth/".toUpperCase())}},{key:"post",value:function(e,t,n,i){return this.httpRequest(v.POST,e,void 0,t,n,i)}},{key:"postWithQP",value:function(e,t,n,i,o){return this.httpRequest(v.POST,e,n,t,i,o)}},{key:"put",value:function(e,t,n,i){return this.httpRequest(v.PUT,e,void 0,t,n,i)}},{key:"putWithQP",value:function(e,t,n,i,o){return this.httpRequest(v.PUT,e,n,t,i,o)}},{key:"delete",value:function(e,t,n){return this.httpRequest(v.DELETE,e,void 0,void 0,t,n)}},{key:"tryGetLegacyData",value:function(e){return e.data}},{key:"get",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.httpRequest(v.GET,e,void 0,void 0,t,n)}},{key:"search",value:function(e,t,n,i){return this.httpRequest(v.GET,e,t,void 0,n,i)}},{key:"handleError",value:function(e){return this.handleMessage(e),Promise.reject(e)}},{key:"handleHtmlResponse",value:function(e){return Promise.resolve(e)}},{key:"parseParams",value:function(e,t,n){n&&(e[t]=n)}},{key:"handleMessage",value:function(e){e&&this.messageService.processErrorMessage(e)}},{key:"parseObjectToUrlEncoded",value:function(e){return Object.keys(e).reduce(function(t,n,i){return 0===i?"".concat(n,"=").concat(e[n]):"".concat(t,"&").concat(n,"=").concat(e[n])},e[0])}},{key:"setAuthorizationToken",value:function(){(s.ZP.isErpProtheus()||s.ZP.isErpRM())&&(this.token=localStorage.getItem("token"),this.token&&(this.options={headers:this.headers.append("Authorization","Bearer "+this.token),responseType:"json",withCredentials:this.withCredentials}))}},{key:"setWithCredencials",value:function(e){this.options.withCredentials=e}},{key:"setResponseType",value:function(e){this.options.responseType=e}},{key:"setHeaderField",value:function(e,t){this.options.headers=this.options.headers.set(e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(a.eN),d.LFG(r.e),d.LFG(l.e),d.LFG(u.V),d.LFG(c.q),d.LFG(g.g),d.LFG(f.$))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}()},69505:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var i,o=n(37716),a=n(91841),r=((i=function(){function e(t){h(this,e),this.http=t}return m(e,[{key:"refreshToken",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.post(e+"auth/login/refreshToken",{apiUri:n,refreshTokenKey:t})}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(a.eN))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},30343:function(e,t,n){"use strict";n.d(t,{V:function(){return a}});var i=n(79765),o=n(37716),a=function(){function e(){h(this,e),this.spinnerObservable=e.spinnerSource.asObservable()}return m(e,[{key:"show",value:function(){e.numberOfSpinners++,e.spinnerSource.next(!0)}},{key:"hide",value:function(){e.numberOfSpinners--,e.numberOfSpinners<=0&&e.spinnerSource.next(!1)}},{key:"resetSpinnerCount",value:function(){e.numberOfSpinners=0}}]),e}();a.spinnerSource=new i.xQ,a.numberOfSpinners=0,a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac})},91956:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(64762),o=n(88229),a=n(28049),r=function(){function e(){var t=this;h(this,e),this.state=new o.t(1),this.state$=this.state.asObservable(),this.state$.subscribe(function(e){return t.currentState=e})}return m(e,[{key:"getCurrentState",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.state$.pipe((0,a.P)()).toPromise());case 1:case"end":return e.stop()}},e,this)}))}},{key:"setCurrentState",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.state.next(e),e));case 1:case"end":return t.stop()}},t,this)}))}}]),e}()},64634:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var i=n(81483),o=function(){function e(){h(this,e)}return m(e,null,[{key:"isEmpty",value:function(e){return null==e||""===e.trim()}},{key:"concatQueryParam",value:function(e,t){e+="?";var n=[];for(var o in t)if(null!=t[o]){var a=t[o]instanceof Date?i.Em.getDateWithoutTimezone(t[o]).toISOString():t[o];n.push(o+"="+a)}return e+n.join("&")}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"replaceKeyValueString",value:function(e,t){return e.forEach(function(e,n){t=t.replace(n,e)}),t}},{key:"camelToHyphen",value:function(e){return e&&e.toString().replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"mask",value:function(e,t){if(!e)return e;var n,i,o,a="",r=0;for(n=0;n<t.length;n++)if("9"===(i=t.charAt(n))||"A"===i||"*"===i){if(o=e.charAt(r++),"9"===i)for(;!/[0-9]/.test(o);){if(r>=e.length)return a;o=e.charAt(r++)}if(a+=o,r>=e.length)return a}else a+=i;return a}},{key:"toTitleCase",value:function(e){return e&&e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}}]),e}()},24165:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var i=n(37716),o=n(38583),a=n(57706),r=n(29790);function s(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"app-dialog",1),i.NdJ("closeDialogEvent",function(){return i.CHM(n),i.oxw().closeDialog()}),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.NdJ("click",function(){return i.CHM(n),i.oxw().closeDialog()}),i.TgZ(3,"div",4),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.NdJ("click",function(){return i.CHM(n),i.oxw().closeDialog()}),i.qZA(),i.qZA(),i.TgZ(6,"strong"),i.TgZ(7,"h4",6),i.NdJ("click",function(){return i.CHM(n),i.oxw().closeDialog()}),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){var o=i.oxw();i.Q6J("isVisible",o.dialogIsVisible)("closeDialogButtonEnable",!0),i.xp6(8),i.hij(" ",i.lcZ(9,3,o.message)," ")}}var c,l=((c=function(){function e(){h(this,e),this.message="",this.closeDialogEvent=new i.vpe}return m(e,[{key:"ngOnInit",value:function(){this.dialogIsVisible=!0}},{key:"closeDialog",value:function(){this.dialogIsVisible=!1,this.closeDialogEvent.emit()}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=i.Xpm({type:c,selectors:[["app-success-dialog"]],inputs:{message:"message"},outputs:{closeDialogEvent:"closeDialogEvent"},decls:1,vars:1,consts:[[3,"isVisible","closeDialogButtonEnable","closeDialogEvent",4,"ngIf"],[3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-content"],[1,"message","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"]],template:function(e,t){1&e&&i.YNc(0,s,10,5,"app-dialog",0),2&e&&i.Q6J("ngIf",t.dialogIsVisible)},directives:[o.O5,a.a],pipes:[r.X$],styles:[".dialog-content[_ngcontent-%COMP%]{height:350px}.message[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:0 30px}.image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}"]}),c)},16338:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var i,o=n(37716),a=n(65241),r=((i=function(){function e(t){h(this,e),this.translateService=t}return m(e,[{key:"getSufix",value:function(e,t){if("en"!==this.translateService.getCurrentLang().toLowerCase())return"pt"===this.translateService.getCurrentLang().toLowerCase()?0===t||6===t?"\xba":"\xaa":"\xba";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(a.g))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},71904:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var i,o,r=n(39075),c=n(37716),l=((o=function(e){a(n,e);var t=s(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).overrides={pan:{direction:30}},e}return m(n)}(r.hm)).\u0275fac=function(e){return(i||(i=c.n5z(o)))(e||o)},o.\u0275prov=c.Yz7({token:o,factory:o.\u0275fac}),o)},65241:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var i,o=n(37716),a=n(29790),r=((i=function(){function e(t){h(this,e),this.translateService=t}return m(e,[{key:"getI18n",value:function(e,t){return this.translateService.get(e,t).toPromise().then(function(e){return e})}},{key:"getCurrentLang",value:function(){return this.translateService.currentLang}},{key:"onLangChange",get:function(){return this.translateService.onLangChange}}]),e}()).\u0275fac=function(e){return new(e||i)(o.LFG(a.sK))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},84479:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});var i,o=n(37716),a=n(38583),r=n(80521),s=((i=function(){function e(t,n){h(this,e),this.location=t,this.platform=n}return m(e,[{key:"back",value:function(){this.location.back()}},{key:"go",value:function(e){window.history.go(e)}},{key:"reloadPage",value:function(){location.reload()}},{key:"getHref",value:function(){return window.location.href}},{key:"changeHref",value:function(e){window.location.href=e}},{key:"locationAssign",value:function(e){window.location.assign(e)}},{key:"goToOrigin",value:function(){window.location.href=window.location.origin}},{key:"scrollToTop",value:function(){window.scrollTo(0,0)}},{key:"getDevice",value:function(){var e=window.localStorage.getItem("device");return null==e?"":e}},{key:"isIOS",value:function(){return"ios"===this.getDevice().toLowerCase()}},{key:"isAndroid",value:function(){return this.getDevice()&&"android"===this.getDevice().toLowerCase()}},{key:"isWebView",value:function(){return"android"===this.getDevice().toLowerCase()||"ios"===this.getDevice().toLowerCase()}},{key:"isSafariBrowser",value:function(){return this.platform.SAFARI}},{key:"isFirefoxBrowser",value:function(){return this.platform.FIREFOX}},{key:"isIosDevice",value:function(){return this.platform.IOS}},{key:"isMobileDevice",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}}],[{key:"isMobile",value:function(t,n){return t<=e.MOBILE_WIDTH&&n<=e.MOBILE_HEIGHT}},{key:"mdDeviceOrSmaller",value:function(t){return t<=e.MD_WIDTH}}]),e}()).MOBILE_WIDTH=767,i.MOBILE_HEIGHT=812,i.MD_WIDTH=960,i.\u0275fac=function(e){return new(e||i)(o.LFG(a.Ye),o.LFG(r.t4))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i)},37503:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var i,o=n(79765),a=n(66163),r=n(98348),s=n(37716),c=((i=function(){function e(){h(this,e),this.urlHistory=[],this.employeeSummarySubject=new o.xQ,this.employeeSummaryPrivate=null,this.paramKeyString=new Map,this._canLoadApp=!1,this.employeeCard=new a.J,this.employeePermission=void 0}return m(e,[{key:"canLoadApp",get:function(){return this._canLoadApp},set:function(e){this._canLoadApp=e}},{key:"getUser",value:function(){return this.user?this.user:localStorage.getItem("loggedUser")}},{key:"setUser",value:function(e){this.user=e,localStorage.setItem("loggedUser",e)}},{key:"getEmployeeCard",value:function(){return this.employeeCard}},{key:"setEmployeeCard",value:function(e,t,n){this.employeeCard={employee:e,image:t,originComponent:n}}},{key:"cleanEmployeeCard",value:function(){this.employeeCard={employee:void 0,image:void 0,originComponent:""}}},{key:"getEmployeeSummary",value:function(){var e=this;return new Promise(function(t,n){e.employeeSummaryPrivate?t(e.employeeSummaryPrivate):e.employeeSummarySubject.asObservable().subscribe(function(e){t(e)})})}},{key:"setEmployeeSummary",value:function(e){this.employeeSummaryPrivate=e,this.employeeSummarySubject.next(this.employeeSummaryPrivate)}},{key:"getParamKeyString",value:function(){return this.paramKeyString}},{key:"setParamKeyString",value:function(e,t){this.paramKeyString.set(e,t)}},{key:"clearTokenStorage",value:function(){this.existsTokenInStorage()&&localStorage.removeItem("token")}},{key:"clearSessionTomcat",value:function(){this.existsSessionTomcat()&&localStorage.removeItem("sessionTomcat")}},{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"isNewApiModelRM",value:function(){return null!==localStorage.getItem("newApiModelRM")}},{key:"enableNewApiModelRM",value:function(){localStorage.setItem("newApiModelRM","true")}},{key:"clearLocalStorage",value:function(){var e=!(this.existsIonic5Key()&&(r.ZP.isErpDatasul()||r.ZP.isTomcatAppServer()));this.clearTokenStorage(),e&&(this.clearSessionTomcat(),this.clearSessionJboss(),this.clearIonic5Key()),this.clearUserLoggedInfo()}},{key:"clearUserLoggedInfo",value:function(){this.existsUserLoggedInfo()&&localStorage.removeItem("loggedUser")}},{key:"existsUserLoggedInfo",value:function(){return null!==localStorage.getItem("loggedUser")}},{key:"setRefreshToken",value:function(e){localStorage.setItem("refreshToken",e)}},{key:"cleanEmployeeSummary",value:function(){this.setEmployeeSummary(null)}},{key:"existsSessionTomcat",value:function(){return null!==localStorage.getItem("sessionTomcat")}},{key:"existsSessionJboss",value:function(){return null!==localStorage.getItem("sessionJboss")}},{key:"getSessionTomcat",value:function(){return localStorage.getItem("sessionTomcat")}},{key:"getSessionJboss",value:function(){return localStorage.getItem("sessionJboss")}},{key:"clearSessionJboss",value:function(){this.existsSessionJboss()&&localStorage.removeItem("sessionJboss")}},{key:"clearIonic5Key",value:function(){this.existsIonic5Key()&&localStorage.removeItem("ionic5")}},{key:"getFlagShowBlastAdvertising",value:function(){return localStorage.getItem("showBlastAdvertising")}},{key:"existsFlagShowBlastAdvertising",value:function(){return null!==localStorage.getItem("showBlastAdvertising")}},{key:"setFlagShowBlastAdvertising",value:function(e){localStorage.setItem("showBlastAdvertising",e)}},{key:"existsTokenInStorage",value:function(){return null!==this.getToken()}},{key:"existsIonic5Key",value:function(){return null!==localStorage.getItem("ionic5")}},{key:"setIsLogged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"true";localStorage.setItem("isLogged",e)}},{key:"getEmployeePermission",value:function(){return this.employeePermission}},{key:"setEmployeePermission",value:function(e){this.employeePermission=e}},{key:"clearEmployeePermission",value:function(){this.employeePermission&&(this.employeePermission=void 0)}},{key:"shuffleString",value:function(e){if(!e||e.length<3)return e;var t,n,i,o=["<||$&%||>",">[/;-=","&%#@>.<"],a=[],r=[],s=[];for(e&&e.length>=1?r=e.split("").reverse():r.push(e),s=[],t=r.length<=10?2:Math.round(.15*r.length);a.length<=t;){var c=Math.floor(Math.random()*r.length);a.includes(c)||a.push(c)}n=0;for(var l=0;l<r.length;l++)n<t&&a.includes(l)?(s[l]=o[Math.floor(Math.random()*o.length)]+r[l],n++):s[l]=r[l];return i=s.join(""),btoa(i)}},{key:"unscrambleString",value:function(e){var t;return e=atob(e),["<||$&%||>",">[/;-=","&%#@>.<"].forEach(function(t){e=e.replace(t,"")}),e&&e.length>=1?t=e.split("").reverse():t.push(e),t.join("")}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i)},87451:function(e,t,n){"use strict";n.d(t,{z:function(){return l},m:function(){return u}});var i=n(64762),o=n(89019),a=n(33490),r=n(59708),s=n(37716),c="health/medicalcertificate/",l=function(){var e=function(){function e(t){h(this,e),this.genericService=t}return m(e,[{key:"getCids",value:function(e,t,n){t=t||10;var i={};return this.parseParams(i,"page",e=e||1),this.parseParams(i,"pageSize",t),this.parseParams(i,"filter",n),this.genericService.search("health/cid",i)}},{key:"getTypes",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(c,"type"),e.next=3,this.genericService.get(t);case 3:return e.abrupt("return",e.sent.items);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getReasons",value:function(e,t,n){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o="".concat(c,"reasons"),e=e||null,t=t||null,a={},i.abrupt("return",(this.parseParams(a,"filter",n),this.parseParams(a,"page",e),this.parseParams(a,"pageSize",t),this.genericService.search(o,a)));case 4:case"end":return i.stop()}},i,this)}))}},{key:"deleteMedicalCertificate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.N.loggedUser;return this.genericService.delete("".concat(c).concat(t,"/").concat(e))}},{key:"saveMedicalCertificate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.N.loggedUser;return this.genericService.post(c+t,e,!1)}},{key:"updateMedicalCertificate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.N.loggedUser;if(void 0===e.id)throw"The medical certificate must have one id to be updated.";return this.genericService.put(c+t,e,!1)}},{key:"getMedicalCertificateRequests",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a="health/medicalcertificate/"+e,r={};return this.parseParams(r,"page",n),this.parseParams(r,"pageSize",i),this.parseParams(r,"status",t),this.genericService.search(a,r)}},{key:"getMedicalCertificateRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser,t=arguments.length>1?arguments[1]:void 0;return this.genericService.get("".concat(c).concat(e,"/").concat(t))}},{key:"getMedicalCertificateAttachedFile",value:function(e){return this.genericService.get("".concat(c,"file/info/").concat(e))}},{key:"getMedicalCertificateRequestsHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=new a.i([]),i.next=3,this.getMedicalCertificateRequests(e,u.NotPending,t,n);case 3:return r=i.sent,i.abrupt("return",(r&&(o.records=r.items,o.hasMoreRecords=r.hasNext),o.actualPage=t,o));case 5:case"end":return i.stop()}},i,this)}))}},{key:"parseParams",value:function(e,t,n){null!=n&&(e[t]=n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),u=function(){return(e=u||(u={})).Pending="pending",e.NotPending="notpending",u;var e}()},91195:function(e,t,n){"use strict";n.d(t,{O:function(){return se}});var o=n(64762),r=n(37716),c=n(44956),l=n(88002),p=n(89019),d=n(33490),g=n(14833),f=n(81059),v=n(44852),b=n(63114),x=n(36227),y=n(9789),w=n(87451),Z=n(65241),C=n(38583),M=n(29790),k=n(32268);function A(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"div",2),r.TgZ(2,"span",3),r.TgZ(3,"div",4),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"div",5),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"span",3),r.TgZ(10,"div",4),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"div",5),r._uU(14),r.ALo(15,"utcDate"),r.qZA(),r.qZA(),r.TgZ(16,"span",3),r.TgZ(17,"div",4),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"div",5),r._uU(21),r.ALo(22,"utcDate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.oxw();r.xp6(4),r.Oqu(r.lcZ(5,6,"l-type-of-removal")),r.xp6(3),r.Oqu(n.medicalCertificate.type.name),r.xp6(4),r.Oqu(r.lcZ(12,8,"l-start")),r.xp6(3),r.Oqu(r.xi3(15,10,n.medicalCertificate.begin,"shortDate")),r.xp6(4),r.Oqu(r.lcZ(19,13,"l-end-2")),r.xp6(3),r.Oqu(r.xi3(22,15,n.medicalCertificate.end,"shortDate"))}}var P,O=((P=function(){function e(t,n){var i=this;h(this,e),this.appTranslateService=t,this.healthService=n,this.deleted=new r.vpe,this.confirmAction={label:"l-delete",action:function(){return i.excludeMedicalCertificateRequest()}},this.cancelAction={label:"l-cancel",action:function(){return i.excludeDialog.close()}}}return m(e,[{key:"ngOnInit",value:function(){this.translateActionLabels()}},{key:"translateActionLabels",value:function(){for(var e=this,t=function(){var t=i[n];e.appTranslateService.getI18n(t.label).then(function(e){t.label=e})},n=0,i=[this.confirmAction,this.cancelAction];n<i.length;n++)t()}},{key:"openDialog",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.excludeDialog.open();case 1:case"end":return e.stop()}},e,this)}))}},{key:"excludeMedicalCertificateRequest",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=this.medicalCertificate.id,!e.t0){e.next=6;break}return e.next=5,this.healthService.deleteMedicalCertificate(this.medicalCertificate.id);case 5:this.deleted.emit();case 6:return e.prev=6,this.excludeDialog.close(),e.finish(6);case 9:case"end":return e.stop()}},e,this,[[0,,6,9]])}))}}]),e}()).\u0275fac=function(e){return new(e||P)(r.Y36(Z.g),r.Y36(w.z))},P.\u0275cmp=r.Xpm({type:P,selectors:[["app-exclude-medical-certificate"]],viewQuery:function(e,t){var n;1&e&&r.Gf(c.hmF,5),2&e&&r.iGM(n=r.CRH())&&(t.excludeDialog=n.first)},inputs:{medicalCertificate:"medicalCertificate"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row","second-row"]],template:function(e,t){1&e&&(r.TgZ(0,"po-modal",0),r.ALo(1,"translate"),r.YNc(2,A,23,18,"div",1),r.qZA()),2&e&&(r.s9C("p-title",r.lcZ(1,4,"l-want-delete-request")),r.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),r.xp6(2),r.Q6J("ngIf",void 0!==t.medicalCertificate))},directives:[c.hmF,C.O5],pipes:[M.X$,k.$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),P),q=n(37503),T=n(95987),_=n(36812),S=n(20307),I=n(82832),D=n(90171),L=n(48582),R=n(18648),N=["rejectionJustifyTextArea"];function E(e,t){if(1&e&&r._UZ(0,"app-card-employee",13),2&e){var n=r.oxw(2);r.Q6J("image",n.imageAvatar)("name",null==n.employeeData?null:n.employeeData.name)("role",null==n.employeeData?null:n.employeeData.roleDescription)("status",null==n.employeeData?null:n.employeeData.employeeStatus)}}function U(e,t){if(1&e&&(r.TgZ(0,"span",25),r.TgZ(1,"div",26),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",27),r._uU(5),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Oqu(r.lcZ(3,2,"l-medical-certificate-type")),r.xp6(3),r.Oqu(n.type.name)}}function F(e,t){if(1&e&&(r.TgZ(0,"span",25),r.TgZ(1,"div",26),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",27),r._uU(5),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Oqu(r.lcZ(3,2,"l-medical-certificate-reason")),r.xp6(3),r.Oqu(n.reason)}}function J(e,t){if(1&e&&(r.TgZ(0,"span",25),r.TgZ(1,"div",26),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",27),r._uU(5),r.ALo(6,"formatMillisecondsAsHour"),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Oqu(r.lcZ(3,2,"l-initial-hour")),r.xp6(3),r.Oqu(r.lcZ(6,4,n.initHour))}}function V(e,t){if(1&e&&(r.TgZ(0,"span",25),r.TgZ(1,"div",26),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"div",27),r._uU(5),r.ALo(6,"formatMillisecondsAsHour"),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Oqu(r.lcZ(3,2,"l-final-hour")),r.xp6(3),r.Oqu(r.lcZ(6,4,n.endHour))}}function Y(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"app-card",14),r.TgZ(1,"div",15),r.TgZ(2,"h2",16),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"span",17),r._UZ(6,"span",18),r.TgZ(7,"ul",19),r._UZ(8,"div",20),r.TgZ(9,"li",21),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw(2).goToEditRequestMedicalCertificatePage(e.id)}),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.TgZ(12,"li",21),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw(2).openExcludeDialog(e)}),r._uU(13),r.ALo(14,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",22),r.TgZ(16,"div",23),r.YNc(17,U,6,4,"span",24),r.YNc(18,F,6,4,"span",24),r.TgZ(19,"span",25),r.TgZ(20,"div",26),r._uU(21),r.ALo(22,"translate"),r.qZA(),r.TgZ(23,"div",27),r._uU(24),r.ALo(25,"utcDate"),r.qZA(),r.qZA(),r.TgZ(26,"span",25),r.TgZ(27,"div",26),r._uU(28),r.ALo(29,"translate"),r.qZA(),r.TgZ(30,"div",27),r._uU(31),r.ALo(32,"utcDate"),r.qZA(),r.qZA(),r.YNc(33,J,7,6,"span",24),r.YNc(34,V,7,6,"span",24),r.TgZ(35,"span",25),r.TgZ(36,"div",26),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"div",27),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.qZA(),r.TgZ(42,"span",25),r.TgZ(43,"po-button",28),r.NdJ("p-click",function(){var e=r.CHM(n).$implicit;return r.oxw(2).getMedicalCertificateAttachedFile(e.id)}),r.ALo(44,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=t.$implicit,o=r.oxw(2);r.Q6J("cssClass","card-request-active po-xl-12 po-lg-12 po-md-12 po-sm-12"),r.xp6(3),r.hij(" ",r.lcZ(4,15,"l-medical-certificate-requested")," "),r.xp6(7),r.hij(" ",r.lcZ(11,17,"l-adjust")," "),r.xp6(3),r.hij(" ",r.lcZ(14,19,"l-delete")," "),r.xp6(4),r.Q6J("ngIf",o.medicalCertificateTypeProperties&&o.medicalCertificateTypeProperties.visible),r.xp6(1),r.Q6J("ngIf",o.medicalCertificateReasonProperties&&o.medicalCertificateReasonProperties.visible&&i.reason),r.xp6(3),r.Oqu(r.lcZ(22,21,"l-start")),r.xp6(3),r.Oqu(r.xi3(25,23,i.begin,"shortDate")),r.xp6(4),r.Oqu(r.lcZ(29,26,"l-end-2")),r.xp6(3),r.Oqu(r.xi3(32,28,i.end,"shortDate")),r.xp6(2),r.Q6J("ngIf",i.initHour&&i.endHour),r.xp6(1),r.Q6J("ngIf",i.initHour&&i.endHour),r.xp6(3),r.Oqu(r.lcZ(38,31,"l-status")),r.xp6(3),r.Oqu(r.lcZ(41,33,o.translateStatus(i.status))),r.xp6(3),r.MGl("p-label","\xa0",r.lcZ(44,35,"l-view-medical-certificate"),"")}}function z(e,t){1&e&&r._UZ(0,"div",50)}function Q(e,t){1&e&&r._UZ(0,"div",51)}function G(e,t){1&e&&r._UZ(0,"span",52)}function H(e,t){1&e&&r._UZ(0,"span",53)}function B(e,t){if(1&e&&(r.TgZ(0,"span"),r._UZ(1,"hr",43),r.TgZ(2,"div",44),r.TgZ(3,"span",45),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"span",46),r._uU(7),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(4),r.Oqu(r.lcZ(5,2,"l-type")),r.xp6(3),r.Oqu(n.type.name)}}function j(e,t){if(1&e&&(r.TgZ(0,"span"),r._UZ(1,"hr",43),r.TgZ(2,"div",44),r.TgZ(3,"span",45),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"span",46),r._uU(7),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(4),r.Oqu(r.lcZ(5,2,"l-medical-certificate-reason")),r.xp6(3),r.Oqu(n.reason)}}function $(e,t){1&e&&r._UZ(0,"hr",43)}function W(e,t){if(1&e&&(r.TgZ(0,"div",44),r.TgZ(1,"span",45),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span",46),r._uU(5),r.ALo(6,"formatMillisecondsAsHour"),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Oqu(r.lcZ(3,2,"l-initial-hour")),r.xp6(3),r.Oqu(r.lcZ(6,4,n.initHour))}}function K(e,t){1&e&&r._UZ(0,"hr",43)}function X(e,t){if(1&e&&(r.TgZ(0,"div",44),r.TgZ(1,"span",45),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"span",46),r._uU(5),r.ALo(6,"formatMillisecondsAsHour"),r.qZA(),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(2),r.Oqu(r.lcZ(3,2,"l-final-hour")),r.xp6(3),r.Oqu(r.lcZ(6,4,n.endHour))}}function ee(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div"),r._UZ(1,"hr",43),r.TgZ(2,"div",44),r.TgZ(3,"a",54),r.NdJ("click",function(){r.CHM(n);var e=r.oxw().$implicit;return r.oxw(3).openDialog(e.id,e.rejectionJustify)}),r.TgZ(4,"span",55),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}2&e&&(r.xp6(5),r.Oqu(r.lcZ(6,1,"l-see-reason-for-rejection")))}function te(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"mat-expansion-panel",33,34),r.TgZ(2,"mat-expansion-panel-header",35),r.TgZ(3,"mat-panel-title"),r.TgZ(4,"div"),r.YNc(5,z,1,0,"div",36),r.YNc(6,Q,1,0,"div",37),r.TgZ(7,"span",38),r._uU(8),r.ALo(9,"utcDate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-panel-description",39),r.TgZ(11,"div",40),r.YNc(12,G,1,0,"span",41),r.YNc(13,H,1,0,"span",42),r.qZA(),r.qZA(),r.qZA(),r._UZ(14,"hr",43),r.TgZ(15,"div",44),r.TgZ(16,"span",45),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"span",46),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.qZA(),r.YNc(22,B,8,4,"span",12),r.YNc(23,j,8,4,"span",12),r._UZ(24,"hr",43),r.TgZ(25,"div",44),r.TgZ(26,"span",45),r._uU(27),r.ALo(28,"translate"),r.qZA(),r.TgZ(29,"span",46),r._uU(30),r.ALo(31,"utcDate"),r.qZA(),r.qZA(),r._UZ(32,"hr",43),r.TgZ(33,"div",44),r.TgZ(34,"span",45),r._uU(35),r.ALo(36,"translate"),r.qZA(),r.TgZ(37,"span",46),r._uU(38),r.ALo(39,"utcDate"),r.qZA(),r.qZA(),r.YNc(40,$,1,0,"hr",47),r.YNc(41,W,7,6,"div",48),r.YNc(42,K,1,0,"hr",47),r.YNc(43,X,7,6,"div",48),r._UZ(44,"hr",43),r.TgZ(45,"div",44),r.TgZ(46,"span",45),r._uU(47),r.ALo(48,"translate"),r.qZA(),r.TgZ(49,"span",46),r._uU(50),r.ALo(51,"utcDate"),r.qZA(),r.qZA(),r._UZ(52,"hr",43),r.TgZ(53,"div",44),r.TgZ(54,"span",45),r._uU(55),r.ALo(56,"translate"),r.qZA(),r.TgZ(57,"span",49),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw(3).getMedicalCertificateAttachedFile(e.id)}),r.TgZ(58,"a"),r._uU(59),r.ALo(60,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(61,ee,7,3,"div",12),r.qZA()}if(2&e){var i=t.$implicit,o=r.MAs(1),a=r.oxw(3);r.xp6(5),r.Q6J("ngIf",a.isApproved(i.status)),r.xp6(1),r.Q6J("ngIf",a.isRejected(i.status)),r.xp6(2),r.Oqu(r.xi3(9,22,i.begin,"dd/MM/yyyy")),r.xp6(4),r.Q6J("ngIf",o.expanded),r.xp6(1),r.Q6J("ngIf",!o.expanded),r.xp6(4),r.Oqu(r.lcZ(18,25,"l-status")),r.xp6(3),r.Oqu(r.lcZ(21,27,a.translateStatus(i.status))),r.xp6(2),r.Q6J("ngIf",a.medicalCertificateTypeProperties&&a.medicalCertificateTypeProperties.visible),r.xp6(1),r.Q6J("ngIf",a.medicalCertificateReasonProperties&&a.medicalCertificateReasonProperties.visible&&i.reason),r.xp6(4),r.Oqu(r.lcZ(28,29,"l-start")),r.xp6(3),r.Oqu(r.xi3(31,31,i.begin,"dd/MM/yyyy")),r.xp6(5),r.Oqu(r.lcZ(36,34,"l-end")),r.xp6(3),r.Oqu(r.xi3(39,36,i.end,"dd/MM/yyyy")),r.xp6(2),r.Q6J("ngIf",i.initHour&&i.endHour),r.xp6(1),r.Q6J("ngIf",i.initHour&&i.endHour),r.xp6(1),r.Q6J("ngIf",i.initHour&&i.endHour),r.xp6(1),r.Q6J("ngIf",i.initHour&&i.endHour),r.xp6(4),r.Oqu(r.lcZ(48,39,"l-submission")),r.xp6(3),r.Oqu(r.xi3(51,41,i.sent,"dd/MM/yyyy")),r.xp6(5),r.Oqu(r.lcZ(56,44,"l-attached-file")),r.xp6(4),r.Oqu(r.lcZ(60,46,"l-view")),r.xp6(2),r.Q6J("ngIf",a.isRejected(i.status)&&i.id&&i.canEdit)}}function ne(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",56),r.NdJ("click",function(){return r.CHM(n),r.oxw(3).viewMoreHistory()}),r.TgZ(1,"a",null,57),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.qZA()}2&e&&(r.xp6(3),r.hij("",r.lcZ(4,1,"l-load-more")," "))}function ie(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"h2",29),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"mat-accordion",30),r.YNc(5,te,62,48,"mat-expansion-panel",31),r.qZA(),r.YNc(6,ne,5,3,"div",32),r.qZA()),2&e){var n=r.oxw(2);r.xp6(2),r.hij(" ",r.lcZ(3,3,"l-last-submissions")," "),r.xp6(3),r.Q6J("ngForOf",n.medicalCertificateHistoryView.records),r.xp6(1),r.Q6J("ngIf",n.medicalCertificateHistoryView.hasMoreRecords)}}var oe=function(e){return{"table-card":e}};function ae(e,t){if(1&e){var n=r.EpF();r.ynx(0),r.YNc(1,E,1,4,"app-card-employee",8),r.TgZ(2,"div",9),r.TgZ(3,"po-button",10),r.NdJ("p-click",function(){return r.CHM(n),r.oxw().openMedicalCertificateRequest()}),r.ALo(4,"translate"),r.qZA(),r.YNc(5,Y,45,37,"app-card",11),r.YNc(6,ie,7,5,"div",12),r.qZA(),r.BQk()}if(2&e){var i=r.oxw();r.xp6(1),r.Q6J("ngIf",i.employeeData),r.xp6(1),r.Q6J("ngClass",r.VKq(7,oe,i.employeeData)),r.xp6(1),r.s9C("p-label",r.lcZ(4,5,"l-request-new-medical-certificate")),r.xp6(2),r.Q6J("ngForOf",i.medicalCertificateRequests),r.xp6(1),r.Q6J("ngIf",i.medicalCertificateHistoryView.records&&i.medicalCertificateHistoryView.records.length)}}function re(e,t){if(1&e&&(r._UZ(0,"app-no-record",58),r.ALo(1,"translate"),r.ALo(2,"translate"),r.ALo(3,"translate")),2&e){var n=r.oxw();r.s9C("title",r.lcZ(1,5,"l-no-medical-certificate")),r.s9C("subtitle",r.lcZ(2,7,"l-click-below-to-send")),r.s9C("newRecord",r.lcZ(3,9,"l-request-medical-certificate")),r.Q6J("loading",!n.dataFinished)("action",n.openMedicalCertificateRequest.bind(n))}}var se=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,s,c,l,u,g){var f;return h(this,n),(f=t.call(this)).service=e,f.appTranslateService=i,f.navigationUtilService=o,f.fieldProperties=a,f.lastAccess=s,f.teamManagementService=c,f.globals=l,f.activatedRoute=u,f.router=g,f.medicalCertificateRequests=[],f.medicalCertificateHistoryView=new d.i([]),f.medicalCertificateId="",f.employeeId=p.N.loggedUser,f.viewIsTeamManagement=!1,f.firstViewTeamManagement=!1,f.dataFinished=!1,f.shouldKeepEmployee=!1,f.close=new r.vpe,f}return m(n,[{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.subscribeToActivatedRoute()}},{key:"ngOnDestroy",value:function(){this.viewIsTeamManagement&&!this.shouldKeepEmployee&&this.teamManagementService.cleanEmployeeCard(),null!=this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}},{key:"openDialog",value:function(e,t){this.medicalCertificateId=e,this.rejectionJustifyTextArea.nativeElement.value=t,this.rejectionJustifyDialog.open()}},{key:"init",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadFieldProperties(),this.initRejectionJustifyModalActions(),this.setCountLastAccess(),e.next=5,this.getData();case 5:case"end":return e.stop()}},e,this)}))}},{key:"initRejectionJustifyModalActions",value:function(){var e=this;this.appTranslateService.getI18n("l-resend").then(function(t){e.editAction={action:function(){return e.goToEditRequestMedicalCertificatePage()},label:t}}),this.appTranslateService.getI18n("l-cancel").then(function(t){e.cancelAction={action:function(){return e.rejectionJustifyDialog.close()},label:t}})}},{key:"getData",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMedicalCertificateRequests();case 2:return e.next=4,this.getMedicalCertificateRequestsHistory(this.medicalCertificateHistoryView.getNextPage(),this.medicalCertificateHistoryView.pageSize);case 4:this.dataFinished=!0;case 5:case"end":return e.stop()}},e,this)}))}},{key:"getMedicalCertificateRequests",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.service.getMedicalCertificateRequests(this.employeeId,w.m.Pending);case 3:if(!(t=e.sent)){e.next=6;break}return e.abrupt("return",void(this.medicalCertificateRequests=t.items));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}},{key:"getMedicalCertificateAttachedFile",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.service.getMedicalCertificateAttachedFile(e);case 3:(n=t.sent)&&this.initializeFilePreviewDialog("health/medicalcertificate/file/download",n,e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"getMedicalCertificateRequestsHistory",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.service.getMedicalCertificateRequestsHistory(this.employeeId,e,t);case 3:if(!(i=n.sent)){n.next=6;break}return n.abrupt("return",this.updateMedicalCertificateRequestsHistory(i));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error(n.t0);case 11:this.medicalCertificateHistoryView.hasMoreRecords=!1;case 12:case"end":return n.stop()}},n,this,[[0,8]])}))}},{key:"updateMedicalCertificateRequestsHistory",value:function(e){this.medicalCertificateHistoryView.records||(this.medicalCertificateHistoryView.records=[]),this.medicalCertificateHistoryView.records=this.medicalCertificateHistoryView.records.concat(e.records),this.medicalCertificateHistoryView.hasMoreRecords=e.hasMoreRecords}},{key:"goToEditRequestMedicalCertificatePage",value:function(e){this.shouldKeepEmployee=!0,!this.medicalCertificateId&&e&&(this.medicalCertificateId=e),this.medicalCertificateId&&this.navigationUtilService.doNavigation("/health/medicalCertificate/request/".concat(this.medicalCertificateId))}},{key:"viewMoreHistory",value:function(){this.getMedicalCertificateRequestsHistory(this.medicalCertificateHistoryView.getNextPage(),this.medicalCertificateHistoryView.pageSize)}},{key:"isApproved",value:function(e){return"approved"===e}},{key:"isRejected",value:function(e){return"rejected"===e}},{key:"translateStatus",value:function(e){switch(e){case"pending":return"l-status-pending";case"rejected":return"l-rejected";case"approved":return"l-status-approved"}return""}},{key:"initializeFilePreviewDialog",value:function(e,t,n){this.previewFileDialog.initializeComponent(e,t,n)}},{key:"onDoneEditRequest",value:function(){this.medicalCertificateId="",this.init()}},{key:"openExcludeDialog",value:function(e){this.medicalCertificate=e,this.excludeDialog.openDialog()}},{key:"teamManagementMedicalCertificate",value:function(){var e=this.teamManagementService.getEmployeeCard(),t=e.employee,n=e.image;this.employeeData=t,this.employeeId=t.id,this.imageAvatar=n,this.medicalCertificateHistoryView.actualPage=0,this.medicalCertificateHistoryView.records=[],this.firstViewTeamManagement=!0}},{key:"loadFieldProperties",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldProperties.getFieldProperties("medicalCertificate");case 2:null!=(t=e.sent)&&t.forEach(function(e){"type"===e.field&&(n.medicalCertificateTypeProperties=e),"reason"===e.field&&(n.medicalCertificateReasonProperties=e)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"subscribeToActivatedRoute",value:function(){var e=this;this.routeDataSubscription=this.activatedRoute.data.pipe((0,l.U)(function(e){return e.management})).subscribe(function(t){if(e.viewIsTeamManagement=t,t){if(!e.teamManagementService.getEmployeeCard().employee)return void e.router.navigateByUrl("teamManagement");e.teamManagementMedicalCertificate()}e.init()})}},{key:"existsMedicalCertificate",value:function(){return this.medicalCertificateRequests.length>0||this.medicalCertificateHistoryView.records.length>0}},{key:"openMedicalCertificateRequest",value:function(){this.shouldKeepEmployee=!0,this.navigationUtilService.doNavigation("/health/medicalCertificate/request")}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess(g.jY,t.id)})}}]),n}(f.R);return e.\u0275fac=function(t){return new(t||e)(r.Y36(w.z),r.Y36(Z.g),r.Y36(v._),r.Y36(x.c),r.Y36(g.Lx),r.Y36(y.C),r.Y36(q.O),r.Y36(T.gz),r.Y36(T.F0))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-medical-certificate"]],viewQuery:function(e,t){var n;(1&e&&(r.Gf(c.hmF,5),r.Gf(N,5),r.Gf(b.K,5),r.Gf(O,5)),2&e)&&(r.iGM(n=r.CRH())&&(t.rejectionJustifyDialog=n.first),r.iGM(n=r.CRH())&&(t.rejectionJustifyTextArea=n.first),r.iGM(n=r.CRH())&&(t.previewFileDialog=n.first),r.iGM(n=r.CRH())&&(t.excludeDialog=n.first))},outputs:{close:"close"},features:[r.qOj],decls:11,vars:10,consts:[["pageTitle","l-medical-certificate",1,"po-field-title","po-pl-1",3,"backIsVisible"],[4,"ngIf","ngIfElse"],["p-click-out","true",3,"p-title","p-primary-action","p-secondary-action"],["modal",""],[1,"text-area","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"disabled"],["rejectionJustifyTextArea",""],[3,"medicalCertificate","deleted"],["noRecord",""],[3,"image","name","role","status",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","spacing",3,"ngClass"],["p-primary","true","p-type","primary",1,"request-substitute-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-click"],[3,"cssClass",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"image","name","role","status"],[3,"cssClass"],["card-header","",1,"mr-card-header"],[1,"po-sm-11","po-md-11","po-lg-11","po-xl-11","title-label"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],[1,"dropdown-arrow"],[1,"dropdown-menu-itens",3,"click"],["card-body",""],[1,"po-row"],["class","po-sm-6 po-md-3 po-mt-2 panel-item-group",4,"ngIf"],[1,"po-sm-6","po-md-3","po-mt-2","panel-item-group"],[1,"requested-label"],[1,"requested-value"],["p-primary","true","p-type","primary","p-type","link","p-icon","po-icon po-icon-download",3,"p-label","p-click"],[1,"latest-requests","po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-3","po-mb-2"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","true",4,"ngFor","ngForOf"],["class","next-records po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"click",4,"ngIf"],["hideToggle","true"],["dropdown",""],[1,"dropdown-history-header"],["class","circleBase type1",4,"ngIf"],["class","circleBase type2",4,"ngIf"],[1,"historic-label","historic-label-title"],[1,"specific-class"],[1,"right-align"],["class","po-icon ico-minus ico-color",4,"ngIf"],["class","po-icon ico-plus ico-color",4,"ngIf"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],["class","line",4,"ngIf"],["class","historic-content",4,"ngIf"],[1,"historic-value","link",3,"click"],[1,"circleBase","type1"],[1,"circleBase","type2"],[1,"po-icon","ico-minus","ico-color"],[1,"po-icon","ico-plus","ico-color"],[3,"click"],[1,"historic-label-link"],[1,"next-records","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"click"],["linkMoreRecords",""],[3,"title","subtitle","newRecord","loading","action"]],template:function(e,t){if(1&e&&(r._UZ(0,"app-page-header",0),r.YNc(1,ae,7,9,"ng-container",1),r._UZ(2,"app-preview-file"),r.TgZ(3,"po-modal",2,3),r.ALo(5,"translate"),r._UZ(6,"textarea",4,5),r.qZA(),r.TgZ(8,"app-exclude-medical-certificate",6),r.NdJ("deleted",function(){return t.onDoneEditRequest()}),r.qZA(),r.YNc(9,re,4,11,"ng-template",null,7,r.W1O)),2&e){var n=r.MAs(10);r.Q6J("backIsVisible",t.viewIsTeamManagement),r.xp6(1),r.Q6J("ngIf",t.existsMedicalCertificate())("ngIfElse",n),r.xp6(2),r.s9C("p-title",r.lcZ(5,8,"l-reason-for-rejection")),r.Q6J("p-primary-action",t.editAction)("p-secondary-action",t.cancelAction),r.xp6(3),r.Q6J("disabled",!0),r.xp6(2),r.Q6J("medicalCertificate",t.medicalCertificate)}},directives:[_.q,C.O5,b.K,c.hmF,O,C.mk,c.bOz,C.sg,S.x,I.A,D.pp,D.ib,D.yz,D.yK,D.u4,L.b],pipes:[M.X$,k.$,R.P],styles:['.right-align[_ngcontent-%COMP%]{position:relative;width:100%}.right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:0}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.dropdown-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-content[_ngcontent-%COMP%]{padding:0 24px}.historic-value[_ngcontent-%COMP%]{float:right;color:#2b3639}.historic-label[_ngcontent-%COMP%]{color:#4a5c60}.historic-label-link[_ngcontent-%COMP%]{cursor:pointer;color:#0c9abe}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}.container[_ngcontent-%COMP%]{margin-top:25px;padding:0}.title-label[_ngcontent-%COMP%]{color:#fff;margin-top:0;padding-left:8px;font-size:18px;font-weight:bold}.subtitle-opacity[_ngcontent-%COMP%]{opacity:.7}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7;font-size:12px;font-weight:0}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.requested-value[_ngcontent-%COMP%]{font-weight:bold;font-size:12px}.request-substitute-btn[_ngcontent-%COMP%]{padding:0;margin-bottom:10px}[_nghost-%COMP%]     .po-button{height:42px}[_nghost-%COMP%]     .panel-item-group{padding-bottom:0}[_nghost-%COMP%]     .mat-expansion-panel-header-description{margin-right:0}.ico-color[_ngcontent-%COMP%]{color:#0c9abe}.circleBase[_ngcontent-%COMP%]{border-radius:50%}.type1[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;background:#c64840}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px}.link[_ngcontent-%COMP%]{cursor:pointer;font-weight:bold!important;color:#0c9abe!important}[_nghost-%COMP%]     .po-button-link{border-color:#fff;color:#fff;border:1px solid}[_nghost-%COMP%]     .glyphicon-paperclip{font-family:"Glyphicons Halflings"!important}@media only screen and (max-width: 960px){[_nghost-%COMP%]     .po-button-link{margin-top:5px}}.text-area[_ngcontent-%COMP%]{height:200px;background-color:#fff;color:#0c9abe}.dropdown-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:-3px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:50%;position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;color:#0c9abe;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}.card-employee[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]     .card-employee{margin-bottom:-10px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}']}),e}()},40469:function(t,n,i){"use strict";i.d(n,{Kv:function(){return T}});var o,a=i(64762),r=i(79765),s=i(48681),c={id:"home",labelKeyShort:"home",labelKeyLong:"home",url:"../PortalMeuRH/index.html#/home",imagePath:"ico-home",checkPermission:!1},l={id:"medicalCertificate",labelKeyShort:"l-medical-certificate",labelKeyLong:"l-request-medical-certificate",url:"../PortalMeuRH/index.html#/health/medicalCertificate",imagePath:"icon-medical-briefcase",checkPermission:!0},u={id:"vacation",labelKeyShort:"im-vacation",labelKeyLong:"im-vacation",url:"../PortalMeuRH/index.html#/vacation",imagePath:"ico-sun",checkPermission:!0},p={id:"timesheetSubMenu",labelKeyShort:"im-timesheet",labelKeyLong:"im-timesheet",url:"../PortalMeuRH/index.html#/menu/timesheetSubMenu/l-timesheet",imagePath:"ico-clocking-register",checkPermission:!1,children:[{id:"timesheet",labelKeyShort:"im-timesheet",labelKeyLong:"im-timesheetLong",url:"../PortalMeuRH/index.html#/timesheet/clockings",imagePath:"ico-timesheet-2",checkPermission:!0},{id:"allowance",labelKeyShort:"im-allowance",labelKeyLong:"im-allowanceLong",url:"../PortalMeuRH/index.html#/timesheet/allowances",imagePath:"ico-allowance",checkPermission:!0},{id:"clockingGeoRegister",labelKeyShort:"im-clocking-register",labelKeyLong:"im-clocking-register",url:"../PortalMeuRH/index.html#/timesheet/clockingsGeo/register",imagePath:"ico-clocking-register",checkPermission:!0},{id:"externalClockIn",labelKeyShort:"im-clockin-short",labelKeyLong:"im-clockin",url:"../PortalMeuRH/index.html#/timesheet/externalClockIn",imagePath:"assets/img/face_recog.svg",checkPermission:!0,hideOnIosIonic3:!0,onlyMobile:!0},{id:"overtimeHours",labelKeyLong:"im-overtime-hours",labelKeyShort:"im-overtime-hours",url:"../PortalMeuRH/index.html#/timesheet/overtimeHours",imagePath:"ico-overtime",checkPermission:!0},{id:"onCall",labelKeyShort:"l-on-call",labelKeyLong:"l-on-call",url:"../PortalMeuRH/index.html#/timesheet/onCall",imagePath:"ico-on-call",checkPermission:!0}],grouper:!0},d={id:"manager",labelKeyShort:"im-manager",labelKeyLong:"im-manager",url:"../PortalMeuRH/index.html#/menu/manager/im-manager",imagePath:"ico-team",checkPermission:!1,children:[{id:"absenceManager",labelKeyShort:"im-vacation",labelKeyLong:"im-vacationLong",url:"../PortalMeuRH/index.html#/absence",imagePath:"icon-sun-checked",checkPermission:!0},{id:"clockingGeoView",labelKeyShort:"im-clocking-geo-view",labelKeyLong:"im-clocking-geo-view",url:"../PortalMeuRH/index.html#/timesheet/clockingsGeo/view",imagePath:"ico-map-pin",checkPermission:!0},{id:"substituteRequest",labelKeyShort:"l-substitute",labelKeyLong:"l-substitute-request",url:"../PortalMeuRH/index.html#/substitutes",imagePath:"ico-user-plus",checkPermission:!0},{id:"teamManagement",labelKeyShort:"l-teamManagement",labelKeyLong:"l-teamManagement",url:"../PortalMeuRH/index.html#/teamManagement",imagePath:"ico-team",checkPermission:!0,onlyLargeScreen:!0},{id:"teamManagement",labelKeyShort:"l-teamManagement",labelKeyLong:"l-teamManagement",url:"../PortalMeuRH/index.html#/teamManagement/overview",imagePath:"ico-team",checkPermission:!0,onlySmallScreen:!0},{id:"requisitions",labelKeyShort:"l-requisitions",labelKeyLong:"l-requisitions",url:"../PortalMeuRH/index.html#/requisitions",imagePath:"po-icon po-icon-archive",checkPermission:!0},{id:"managementOfDelaysAndAbsences",labelKeyShort:"im-management-of-delays-and-absences",labelKeyLong:"im-management-of-delays-and-absences",url:"../PortalMeuRH/index.html#/teamManagement/managementOfDelaysAndAbsences",imagePath:"ico-how-to-reg",checkPermission:!0,onlySmallScreen:!0},{id:"teamManagementOnCallRequest",labelKeyShort:"im-management-request-on-call-short",labelKeyLong:"im-management-request-on-call",url:"../PortalMeuRH/index.html#/teamManagement/managementRequestOnCall",imagePath:"ico-on-call",checkPermission:!0,onlySmallScreen:!0}],grouper:!0},g={id:"paymentSubMenu",labelKeyShort:"im-payments",labelKeyLong:"im-statementLong",url:"../PortalMeuRH/index.html#/menu/paymentSubMenu/l-payment",imagePath:"ico-wallet",checkPermission:!1,children:[{id:"payment",labelKeyShort:"im-payments",labelKeyLong:"im-paymentsLong",url:"../PortalMeuRH/index.html#/payments",imagePath:"ico-wallet",checkPermission:!0},{id:"annualReceipt",labelKeyShort:"im-annualReceipt",labelKeyLong:"im-annualReceiptLong",url:"../PortalMeuRH/index.html#/payment/annualReceipts",imagePath:"ico-bar-chart",checkPermission:!0},{id:"salaryHistory",labelKeyShort:"im-salaryHistory",labelKeyLong:"im-salaryHistoryLong",url:"../PortalMeuRH/index.html#/payment/salaryHistory",imagePath:"ico-dollar-sign",checkPermission:!0},{id:"dependents && beneficiaries",labelKeyShort:"l-dependents-beneficiaries",labelKeyLong:"l-dependents-beneficiaries",url:"../PortalMeuRH/index.html#/benefits/dependentsBeneficiaries/dependents",imagePath:"ico-benefits",operatorsOnId:!0,checkPermission:!0},{id:"dependents && !beneficiaries",labelKeyShort:"l-dependents",labelKeyLong:"l-dependents",url:"../PortalMeuRH/index.html#/benefits/dependentsBeneficiaries/dependents",imagePath:"ico-benefits",operatorsOnId:!0,checkPermission:!0},{id:"beneficiaries && !dependents",labelKeyShort:"l-beneficiaries",labelKeyLong:"l-beneficiaries",url:"../PortalMeuRH/index.html#/benefits/dependentsBeneficiaries/beneficiaries",imagePath:"ico-benefits",operatorsOnId:!0,checkPermission:!0}],grouper:!0},f={id:"reports",labelKeyShort:"l-reports",labelKeyLong:"l-reportsLong",url:"../PortalMeuRH/index.html#/reports",imagePath:"ico-clock",checkPermission:!0},v={id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-my-requests",labelKeyLong:"l-totvs-payroll-loan-my-requests",url:"../PortalMeuRH/index.html#/payrollLoan/myRequests",imagePath:"po-icon po-icon-clock",checkPermission:!0},b={id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-statements",labelKeyLong:"l-totvs-payroll-loan-statements",url:"../PortalMeuRH/index.html#/payrollLoan/loanStatements",imagePath:"po-icon po-icon-list",checkPermission:!0},x={id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-use-of-personal-data",labelKeyLong:"l-totvs-payroll-loan-use-of-personal-data",url:"../PortalMeuRH/index.html#/payrollLoan/revokePersonalData",imagePath:"po-icon po-icon-security-guard",checkPermission:!0},y={id:"payrollLoanSimulation",labelKeyShort:"l-totvs-payroll-loan-new-request",labelKeyLong:"l-totvs-payroll-loan-new-request",url:"../PortalMeuRH/index.html#/payrollLoan/simulation",imagePath:"po-icon po-icon-finance",checkPermission:!0},w={id:"workLeave",labelKeyShort:"l-work-leaves",labelKeyLong:"l-work-leaves",url:"../PortalMeuRH/index.html#/workLeave",imagePath:"po-icon po-icon-user-delete",checkPermission:!0},Z=[c,g,p,u,d,{id:"more",labelKeyShort:"l-more",labelKeyLong:"l-more",url:"../PortalMeuRH/index.html#/menu/more/l-more",imagePath:"po-icon po-icon-menu",checkPermission:!1,children:[f,l,w,{id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-title",labelKeyLong:"l-totvs-payroll-loan-title",url:"../PortalMeuRH/index.html#/menu/payrollLoan/l-explanatory-label/explanatory",imagePath:"po-icon po-icon-finance",checkPermission:!0,children:[v,b,x],featured:y}],grouper:!0}],C=[c,g,p,u,d,f,l,w,{id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-title",labelKeyLong:"l-totvs-payroll-loan-title",url:"../PortalMeuRH/index.html#/menu/payrollLoan/l-totvs-payroll-loan-title",imagePath:"po-icon po-icon-finance",checkPermission:!0,children:[y,v,b,x]}],M=i(64634),k=i(84479),A=i(76857),P=i(68014),O=i(37716),q=i(37503),T=((o=function(){function t(e,n,i,o,a){h(this,t),this.permissionService=e,this.configurationService=n,this.globals=i,this.windowUtilService=o,this.permissionSelectors=a,this.menuApplicationServiceSource=new r.xQ,this.menuApplicationServiceObservable=this.menuApplicationServiceSource.asObservable()}return m(t,[{key:"parseMenuPermissions",value:function(e,t){var n=this,i=[],o=JSON.parse(JSON.stringify(e)),a=k.g.mdDeviceOrSmaller(window.innerWidth);return o.forEach(function(e){if(e.checkPermission||e.grouper)if(e.operatorsOnId)n.validatePermissionWithOperatorsOnId(e,t)&&i.push(e);else if(e.grouper&&e.children&&e.children.length>0){var o=!1;e.children=e.children.filter(function(e){if((t[e.id]||n.isExternalApp(e)||e.operatorsOnId&&n.validatePermissionWithOperatorsOnId(e,t))&&(!e.hideOnIos||!n.windowUtilService.isIOS())&&(!e.hideOnIosIonic3||!n.windowUtilService.isIOS()||n.globals.existsIonic5Key())&&(!e.onlyLargeScreen||!a)&&(!e.onlySmallScreen||a)&&(!e.onlyMobile||n.windowUtilService.isWebView()))return o=!!e.externalApp&&e.externalApp,e}),o?i.push(e):1===e.children.length?i.push(e.children[0]):e.children.length>1&&i.push(e)}else t[e.id]&&i.push(e);else i.push(e);n.setStaticPermissions(t)}),i}},{key:"isExternalApp",value:function(e){return e.externalApp&&!0===e.externalApp}},{key:"validatePermissionWithOperatorsOnId",value:function(t,n){for(var i,o,a=e(/(!)?([0-9A-Z_a-z]+)(((\|\|)|(&&)))?/gi,{not:1,permission:2,operator:3}),r=[],s=[];null!==(o=a.exec(t.id.replace(/\s/,"")));)o.groups&&(o.groups.permission&&r.push({permission:o.groups.permission,not:null!=o.groups.not}),o.groups.operator&&s.push(o.groups.operator));if(s.length>=r.length)throw new Error("Existem mais operadores que o necess\xe1rio");for(var c=0;c<r.length;c++){var l=n[r[c].permission];r[c].not&&(l=!l),0===c?i=l:c-1<s.length&&(i="&&"===s[c-1]?i&&l:i||l)}var u=t.id.split("||");return(n[u[0]]||n[u[1]])&&(i=!0),i}},{key:"setStaticPermissions",value:function(e){t.permissions=e}},{key:"getPluginPermissions",value:function(e){return this.permissionService.getPluginsPermissions(e,"{current}")}},{key:"getMenus",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.permissionSelectors.nextPermissionsNotNull();case 2:return t=e.sent,n=this.windowUtilService.isMobileDevice()?Z:C,e.abrupt("return",this.applyPermissionsOnMenu(n,t));case 5:case"end":return e.stop()}},e,this)}))}},{key:"applyPermissionsOnMenu",value:function(e,t){var n=this;return this.configurationService.getExternalApps().then(function(i){return i.forEach(function(t){t.enabled&&e.forEach(function(e){if(e.grouper&&e.id===t.grouperId){var i=t.useStagingEnvironment?t.urlStaging:t.url,o={externalApp:!0,externalAppStagingEnvironment:t.useStagingEnvironment,id:t.id,imagePath:t.icon,labelKeyLong:t.nameLong[localStorage.getItem("usedLanguage")],labelKeyShort:t.nameShort[localStorage.getItem("usedLanguage")],url:M.m.replaceKeyValueString(n.globals.getParamKeyString(),i)},a=!1;e.children.forEach(function(e){e.id===o.id&&(a=!0)}),a||e.children.push(o)}})}),n.parseMenuPermissions(e,t)}).catch(function(){return n.parseMenuPermissions(e,t)})}},{key:"showMenu",value:function(){this.menuApplicationServiceSource.next(!0)}},{key:"hideMenu",value:function(){this.menuApplicationServiceSource.next(!1)}}]),t}()).\u0275fac=function(e){return new(e||o)(O.LFG(A.$),O.LFG(s.e),O.LFG(q.O),O.LFG(k.g),O.LFG(P.eL))},o.\u0275prov=O.Yz7({token:o,factory:o.\u0275fac}),o)},91061:function(e,t,n){"use strict";n.d(t,{G:function(){return u}});var i,o=n(38583),a=n(29790),r=n(44956),s=n(56365),c=n(3679),l=n(37716),u=((i=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[o.ez,s.q,a.aw,r.JBz,c.u5]]}),i)},68358:function(e,t,n){"use strict";n.d(t,{a:function(){return U}});var i=n(64762),o=n(92340),a=((a||(a={})).TypeEnum={Proceeds:"proceeds",Deductions:"deductions",NetValue:"net-value",Others:"others",TaxBase:"tax-base",Starred:"starred"},a),r=n(81483),s=n(94405),c=n(88044),l=n(30343),u=n(97983),p=n(98348),d=n(36227),g=n(85561),f=n(25523),v=n(88002),b=n(9789),x=n(37716),y=n(95987),w=n(84479),Z=n(49344),C=n(65241),M=n(37503),k=n(62393),A=n(36812),P=n(38583),O=n(20307),q=n(32268),T=n(29790);function _(e,t){if(1&e&&x._UZ(0,"app-card-employee",12),2&e){var n=x.oxw();x.Q6J("image",n.imageAvatar)("name",null==n.employeeData?null:n.employeeData.name)}}function S(e,t){1&e&&(x.TgZ(0,"span",16),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&e&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"l-download")," "))}function I(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"span",13),x.NdJ("click",function(){x.CHM(n);var e=x.oxw();return e.downloadPaymentDetail(null==e.payment.paymentSummarySelected?null:e.payment.paymentSummarySelected.id)}),x._UZ(1,"span",14),x.YNc(2,S,3,3,"span",15),x.qZA()}if(2&e){var i=x.oxw();x.xp6(2),x.Q6J("ngIf",!i.isWebView())}}function D(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"span",17),x.NdJ("click",function(){x.CHM(n);var e=x.oxw();return e.sharePaymentDetail(null==e.payment.paymentSummarySelected?null:e.payment.paymentSummarySelected.id)}),x.qZA()}}function L(e,t){1&e&&x._UZ(0,"hr",31)}function R(e,t){if(1&e&&(x.TgZ(0,"li"),x.TgZ(1,"div",27),x.YNc(2,L,1,0,"hr",28),x.TgZ(3,"p",29),x._uU(4),x.qZA(),x.TgZ(5,"p",30),x.TgZ(6,"strong"),x._uU(7),x.ALo(8,"number"),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=t.index;x.xp6(2),x.Q6J("ngIf",0!=i),x.xp6(2),x.Oqu(n.description),x.xp6(3),x.Oqu(x.xi3(8,3,n.value,"1.2-2"))}}function N(e,t){if(1&e&&(x.TgZ(0,"div",18),x.TgZ(1,"div",19),x.TgZ(2,"div",20),x.TgZ(3,"h4",21),x.TgZ(4,"strong"),x._uU(5),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"div",22),x.TgZ(7,"h4",21),x.TgZ(8,"strong",23),x._uU(9),x.ALo(10,"number"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"div",24),x.TgZ(12,"ul",25),x.YNc(13,R,9,6,"li",26),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e){var n=t.$implicit;x.xp6(3),x.s9C("id",n.description),x.xp6(2),x.Oqu(n.description),x.xp6(2),x.MGl("id","",n.description,"-value"),x.xp6(1),x.Q6J("ngClass",("proceeds"===n.type||"net-value"===n.type)&&n.subtotal>0?"column-value-positive":n.subtotal<0?"column-value-negative":"column-value-default"),x.xp6(1),x.hij(" ",x.xi3(10,6,n.subtotal,"1.2-2")," "),x.xp6(4),x.Q6J("ngForOf",n.events)}}var E,U=((E=function(){function e(t,n,i,o,a,r,s,c,l,u,p,d,g,f,m){h(this,e),this.paymentResource=t,this.router=n,this.windowUtilService=i,this.ionicUtilService=o,this.toastsManager=a,this.appTranslateService=r,this.fieldProperties=s,this.profileService=c,this.fileManipulationService=l,this.payment=u,this.spinnerService=p,this.globals=d,this.fileTransferService=g,this.teamManagementService=f,this.route=m,this.paymentDetailGrouped=[],this.employeeName="",this.canDownloadFile=!1,this.canShareFile=!1,this.transferFile=""}return m(e,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"ngOnDestroy",value:function(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}},{key:"initializeComponent",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.payment.paymentSummarySelected){e.next=15;break}return this.windowUtilService.scrollToTop(),this.getPaymentDetail(),e.next=5,this.getProperties();case 5:return this.checkIfFileCanBeDownloaded(),this.checkIfFileCanBeShared(),this.subscribeToActivatedRoute(),t=this.employeeData?this.employeeData.id:o.N.loggedUser,e.next=11,this.profileService.getEmployeeSummary(t);case 11:n=e.sent,this.employeeName=n.name,e.next=16;break;case 15:this.goPayments();case 16:case"end":return e.stop()}},e,this)}))}},{key:"subscribeToActivatedRoute",value:function(){var e=this;this.routeDataSubscription=this.route.data.pipe((0,v.U)(function(e){return e.management})).subscribe(function(t){if(e.viewIsTeamManagement=t,t){if(null==e.teamManagementService.getEmployeeCard().employee)return void e.router.navigateByUrl("teamManagement");e.teamManagementPaymentsDetail()}})}},{key:"teamManagementPaymentsDetail",value:function(){var e=this.teamManagementService.getEmployeeCard(),t=e.employee,n=e.image;this.employeeData=t,this.imageAvatar=n}},{key:"getPaymentDetail",value:function(){var e=this;this.paymentResource.getPayment(this.payment.paymentSummarySelected.id).then(function(t){e.setPaymentDetailGrouped(t)})}},{key:"downloadPaymentDetail",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.fileManipulationService.formatFilenameReport(this.getPaymentFileName()),!this.isWebView()||p.ZP.isTomcatAppServer()){t.next=5;break}this.spinnerService.show(),this.paymentResource.getReportDownloadUrl(o.N.loggedUser,e).then(function(e){r.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:n,fileMIMEtype:"application/pdf"},type:c.g.DownloadAndOpenFile})}).catch(function(e){r.spinnerService.hide()}),t.next=26;break;case 5:if(!this.isWebView()||!p.ZP.isTomcatAppServer()){t.next=25;break}return this.spinnerService.show(),t.next=9,this.getAndSetBase64String(e);case 9:return t.next=11,this.fileTransferService.bufferFileonStorage(this.transferFile);case 11:return i=t.sent,t.next=14,this.fileTransferService.saveBase64onStorage(i);case 14:return t.next=16,this.fileTransferService.nameListBas64onStorage(i);case 16:t.t0=t.sent,t.t1=n,t.t2=!1,t.t3={keyStorage:t.t0,filename:t.t1,fileMIMEtype:"application/pdf",isShare:t.t2},t.t4=c.g.TransferFile,a={args:t.t3,type:t.t4},this.ionicUtilService.emit(a),this.paymentResource.setDefaulResponseType(),t.next=26;break;case 25:this.paymentResource.openPaymentDetailService(o.N.loggedUser,e,n);case 26:case"end":return t.stop()}},t,this)}))}},{key:"getAndSetBase64String",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.transferFile="",t.next=3,this.paymentResource.getBlobReport(o.N.loggedUser,e).then(function(e){return(0,i.mG)(n,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fileManipulationService.blobToBase64(e).then(function(e){return n.transferFile=e});case 2:case"end":return t.stop()}},t,this)}))});case 3:case"end":return t.stop()}},t,this)}))}},{key:"sharePaymentDetail",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.fileManipulationService.formatFilenameReport(this.getPaymentFileName()),!this.isWebView()||p.ZP.isTomcatAppServer()){t.next=5;break}this.spinnerService.show(),this.paymentResource.getReportDownloadUrl(o.N.loggedUser,e).then(function(e){r.appTranslateService.getI18n("l-payment-description").then(function(t){r.ionicUtilService.emit({args:{url:e,filename:n,subject:t},type:c.g.ShareFile})})}).catch(function(e){r.spinnerService.hide()}),t.next=21;break;case 5:if(!this.isWebView()||!p.ZP.isTomcatAppServer()){t.next=20;break}return this.spinnerService.show(),t.next=9,this.getAndSetBase64String(e);case 9:return t.next=11,this.fileTransferService.bufferFileonStorage(this.transferFile);case 11:return i=t.sent,t.next=14,this.fileTransferService.saveBase64onStorage(i);case 14:return t.next=16,this.fileTransferService.nameListBas64onStorage(i);case 16:a=t.sent,this.appTranslateService.getI18n("l-payment-description").then(function(e){r.ionicUtilService.emit({args:{keyStorage:a,filename:n,fileMIMEtype:"application/pdf",isShare:!0,subject:e},type:c.g.TransferFile}),r.paymentResource.setDefaulResponseType()}),t.next=21;break;case 20:this.appTranslateService.getI18n("m-not-web-view-device").then(function(e){r.toastsManager.info(e)});case 21:case"end":return t.stop()}},t,this)}))}},{key:"isIOS",value:function(){return this.windowUtilService.isIOS()}},{key:"isWebView",value:function(){return this.windowUtilService.isWebView()}},{key:"goPayments",value:function(){this.router.navigate(["payments"])}},{key:"getPaymentFileName",value:function(){return[this.employeeName,r.Em.extractYearMonth(this.payment.paymentSummarySelected.referenceDate).toString()]}},{key:"setPaymentDetailGrouped",value:function(e){var t=this;e&&e.subtotals&&e.subtotals.forEach(function(n){var i=[],o=n.value;e.events.forEach(function(e){n.type.toString().indexOf(e.type.toString())>-1&&(e.description=e.id.trim()+"-"+e.description.trim(),n.type===a.TypeEnum.Deductions&&(e.value=-1*e.value),i.push(e))}),n.type===a.TypeEnum.Deductions&&(o*=-1),t.paymentDetailGrouped.push({description:n.description,subtotal:o,type:n.type,events:i})})}},{key:"getProperties",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldProperties.getFieldProperties("payment");case 2:t=e.sent,this.propertiesDownloadAndShare=t[0];case 4:case"end":return e.stop()}},e,this)}))}},{key:"checkIfFileCanBeDownloaded",value:function(){var e;this.canDownloadFile=(null===(e=this.propertiesDownloadAndShare)||void 0===e?void 0:e.visible)&&(!this.isIOS()||this.globals.existsIonic5Key())}},{key:"checkIfFileCanBeShared",value:function(){var e;this.canShareFile=(null===(e=this.propertiesDownloadAndShare)||void 0===e?void 0:e.visible)&&this.isWebView()}},{key:"callbackIonicExternalEvent",value:function(e){(e.detail.event.type===c.g.DownloadAndOpenFile||e.detail.event.type===c.g.ShareFile||e.detail.event.type===c.g.TransferFile)&&this.spinnerService.hide()}}]),e}()).\u0275fac=function(e){return new(e||E)(x.Y36(f.t),x.Y36(y.F0),x.Y36(w.g),x.Y36(c.l),x.Y36(Z._W),x.Y36(C.g),x.Y36(d.c),x.Y36(u.H),x.Y36(s.e),x.Y36(g.A),x.Y36(l.V),x.Y36(M.O),x.Y36(k.c),x.Y36(b.C),x.Y36(y.gz))},E.\u0275cmp=x.Xpm({type:E,selectors:[["app-payment-detail"]],hostBindings:function(e,t){1&e&&x.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,x.evT)},decls:23,vars:19,consts:[["backIsVisible","true","pageTitle",""],[3,"image","name",4,"ngIf"],["title",""],["id","paymentDetailDateMonthYearReference",2,"text-transform","capitalize"],["sub-title",""],[1,"subtitle-description"],[1,"subtitle-description-date"],["id","paymentDetailDateReference"],["class","download-container",3,"click",4,"ngIf"],["class","pull-right ico-share-2 icon-color-totvs mouse-pointer share-icon waves-effect waves-base icon-size download-container",3,"click",4,"ngIf"],["class","header-divider po-lg-12 po-md-12 po-sm-12",4,"ngFor","ngForOf"],[1,"end-adjustment"],[3,"image","name"],[1,"download-container",3,"click"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base","icon-size"],["class","subtitle-download",4,"ngIf"],[1,"subtitle-download"],[1,"pull-right","ico-share-2","icon-color-totvs","mouse-pointer","share-icon","waves-effect","waves-base","icon-size","download-container",3,"click"],[1,"header-divider","po-lg-12","po-md-12","po-sm-12"],[1,"line-divider"],[1,"po-lg-9","po-md-9","po-sm-8"],[1,"spacing-adjustment",3,"id"],[1,"po-md-3","po-lg-3","po-sm-4","text-right"],[3,"ngClass"],[1,"po-row","spacing-adjustment"],[1,"list-unstyled","clearfix"],[4,"ngFor","ngForOf"],[1,"po-row","no-padding"],["class","line po-lg-11 po-md-11 po-sm-11",4,"ngIf"],[1,"po-lg-8","po-md-8","po-sm-8","p-adjustment"],[1,"po-lg-4","po-md-4","po-sm-4","text-right","p-adjustment"],[1,"line","po-lg-11","po-md-11","po-sm-11"]],template:function(e,t){1&e&&(x.TgZ(0,"app-page-header",0),x.YNc(1,_,1,2,"app-card-employee",1),x.TgZ(2,"span",2),x.TgZ(3,"span",3),x._uU(4),x.ALo(5,"utcDate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(6,"span",4),x.TgZ(7,"h4",5),x._uU(8),x.ALo(9,"translate"),x.TgZ(10,"span"),x._uU(11),x.qZA(),x.qZA(),x.TgZ(12,"p",6),x._uU(13),x.ALo(14,"translate"),x.TgZ(15,"span",7),x._uU(16),x.ALo(17,"utcDate"),x.qZA(),x.YNc(18,I,3,1,"span",8),x.YNc(19,D,1,0,"span",9),x.qZA(),x.qZA(),x.YNc(20,N,14,9,"div",10),x.TgZ(21,"div",11),x._uU(22,"\xa0"),x.qZA()),2&e&&(x.xp6(1),x.Q6J("ngIf",t.employeeData),x.xp6(3),x.Oqu(x.xi3(5,9,t.payment.paymentSummarySelected.referenceDate,"MMMM yyyy")),x.xp6(4),x.hij(" ",x.lcZ(9,12,"l-payment-paymentDate")," "),x.xp6(3),x.Oqu(t.payment.paymentSummarySelected.type),x.xp6(2),x.hij(" ",x.lcZ(14,14,"l-payment-releasedDate")," "),x.xp6(3),x.Oqu(x.xi3(17,16,t.payment.paymentSummarySelected.paymentDate,"shortDate")),x.xp6(2),x.Q6J("ngIf",t.canDownloadFile),x.xp6(1),x.Q6J("ngIf",t.canShareFile&&!t.isIOS()),x.xp6(1),x.Q6J("ngForOf",t.paymentDetailGrouped))},directives:[A.q,P.O5,P.sg,O.x,P.mk],pipes:[q.$,T.X$,P.JJ],styles:["h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:0}p[_ngcontent-%COMP%]{padding:0 4px}.p-adjustment[_ngcontent-%COMP%]{margin:0;font-size:15px}.line[_ngcontent-%COMP%]{border-color:#dddfdf;padding-right:7%}.column-value-positive[_ngcontent-%COMP%]{color:#00b28e}.share-icon[_ngcontent-%COMP%]{margin-right:12px}.download-icon[_ngcontent-%COMP%]{margin-left:24px}.column-value-negative[_ngcontent-%COMP%]{color:#d84141}.column-value-default[_ngcontent-%COMP%]{color:#333}.end-adjustment[_ngcontent-%COMP%]{height:16px;float:left}.header-divider[_ngcontent-%COMP%]{padding:8px 0}.header-divider[_ngcontent-%COMP%]   .line-divider[_ngcontent-%COMP%]{margin-top:9px;margin-bottom:-9px}.po-row[_ngcontent-%COMP%]{padding:0;margin:0;display:block}.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.spacing-adjustment[_ngcontent-%COMP%]{padding:0 8px}.subtitle-description[_ngcontent-%COMP%]{color:#333;font-family:NunitoSans-Bold;padding-top:4px}.subtitle-download[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 720px){.subtitle-download[_ngcontent-%COMP%]{color:#0c9abe;font-family:NunitoSans-Bold;padding-left:10px;cursor:pointer;font-size:16px;display:inline-block;margin-top:-4px}}.icon-size[_ngcontent-%COMP%]{font-size:16px;font-weight:bold}.download-container[_ngcontent-%COMP%]{display:inline-flex;color:#0c9abe;float:right;font-size:18px;cursor:pointer;margin-top:-7px;margin-right:10px}.subtitle-description-date[_ngcontent-%COMP%]{color:#333;font-family:NunitoSans;font-size:12px;padding-left:0;margin-bottom:-8px}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.end-adjustment[_ngcontent-%COMP%]{height:41px!important}}"]}),E)},85561:function(e,t,n){"use strict";n.d(t,{A:function(){return S}});var o=n(95987),r=n(45435),c=n(88002),l=n(9789),p=n(92340),d=n(14833),g=n(81059),f=n(25523),v=function(){function e(){h(this,e),this.payments=[]}return m(e,null,[{key:"merge",value:function(e,t){return e.payments.push(t),e}},{key:"initialize",value:function(t){var n=new e;return n.month=new Date(t.referenceDate).getUTCMonth(),n.reference=new Date(t.referenceDate),n.payments.push(t),n}}]),e}(),b=function(){function e(){h(this,e),this.paymentsMonth=[]}return m(e,null,[{key:"merge",value:function(e,t){for(var n=!0,i=0;i<e.paymentsMonth.length;i++)if(e.paymentsMonth[i].month===new Date(t.referenceDate).getUTCMonth()){e.paymentsMonth[i]=v.merge(e.paymentsMonth[i],t),n=!1;break}return n&&e.paymentsMonth.push(v.initialize(t)),e}},{key:"initialize",value:function(t){var n=new e;return n.year=new Date(t.referenceDate).getUTCFullYear(),n.paymentsMonth.push(v.initialize(t)),n}}]),e}(),x=n(37716),y=n(37503);function w(e,t){if(1&e&&x._UZ(0,"app-card-employee",4),2&e){var n=x.oxw(2);x.Q6J("image",n.imageAvatar)("name",null==n.employeeData?null:n.employeeData.name)}}function Z(e,t){if(1&e&&(x.TgZ(0,"td",31),x.ALo(1,"utcDate"),x._uU(2),x.ALo(3,"utcDate"),x.qZA()),2&e){var n=x.oxw(2).$implicit;x.MGl("id","lbl-desktop-payment-reference-month-",x.xi3(1,3,n.reference,"MM-yyyy"),""),x.uIk("rowspan",n.payments.length),x.xp6(2),x.hij(" ",x.xi3(3,6,n.reference,"MMMM")," ")}}function C(e,t){if(1&e&&(x.TgZ(0,"td",32),x.ALo(1,"utcDate"),x._uU(2),x.ALo(3,"utcDate"),x.qZA()),2&e){var n=x.oxw(2).$implicit;x.MGl("id","lbl-mobile-payment-reference-month-",x.xi3(1,3,n.reference,"MM-yyyy"),""),x.uIk("rowspan",n.payments.length),x.xp6(2),x.hij(" ",x.xi3(3,6,n.reference,"MMM")," ")}}function M(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"tr",21),x.NdJ("click",function(){var e=x.CHM(n).$implicit;return x.oxw(5).goToPayments(e)}),x.YNc(1,Z,4,9,"td",22),x.YNc(2,C,4,9,"td",23),x.TgZ(3,"td",24),x.TgZ(4,"a",25),x.NdJ("click",function(){var e=x.CHM(n).$implicit;return x.oxw(5).goToPayments(e)}),x._uU(5),x.qZA(),x.qZA(),x.TgZ(6,"td",26),x.ALo(7,"utcDate"),x._uU(8),x.ALo(9,"utcDate"),x.qZA(),x.TgZ(10,"td",27),x.ALo(11,"utcDate"),x._uU(12),x.ALo(13,"utcDate"),x.qZA(),x.TgZ(14,"td",28),x._uU(15),x.ALo(16,"number"),x.qZA(),x.TgZ(17,"td",29),x.TgZ(18,"span",30),x.NdJ("click",function(){var e=x.CHM(n).$implicit;return x.oxw(5).goToPayments(e)}),x.qZA(),x.qZA(),x.qZA()}if(2&e){var i=t.$implicit,o=t.index;x.xp6(1),x.Q6J("ngIf",o<1),x.xp6(1),x.Q6J("ngIf",o<1),x.xp6(3),x.Oqu(i.type),x.xp6(1),x.MGl("id","lbl-desktop-payment-date-",x.xi3(7,8,i.paymentDate,"dd-MM-yyyy"),""),x.xp6(2),x.hij(" ",x.xi3(9,11,i.paymentDate,"dd/MM/yyyy")," "),x.xp6(2),x.MGl("id","lbl-mobile-payment-date-",x.xi3(11,14,i.paymentDate,"dd-MM-yyyy"),""),x.xp6(2),x.hij(" ",x.xi3(13,17,i.paymentDate,"dd/MM")," "),x.xp6(3),x.Oqu(x.xi3(16,20,i.value,"1.2-2"))}}function k(e,t){if(1&e&&(x.TgZ(0,"tbody"),x.YNc(1,M,19,23,"tr",20),x.qZA()),2&e){var n=t.$implicit;x.xp6(1),x.Q6J("ngForOf",n.payments)}}function A(e,t){if(1&e&&(x.TgZ(0,"tbody"),x.TgZ(1,"tr",8),x.TgZ(2,"td",18),x._uU(3),x.qZA(),x.qZA(),x.qZA(),x.YNc(4,k,2,1,"tbody",19)),2&e){var n=t.$implicit;x.xp6(3),x.Oqu(n.year),x.xp6(1),x.Q6J("ngForOf",n.paymentsMonth)}}function P(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",33),x.TgZ(1,"a",34),x.NdJ("click",function(){return x.CHM(n),x.oxw(3).viewMore()}),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.qZA()}2&e&&(x.xp6(2),x.Oqu(x.lcZ(3,1,"l-payment-next-periods")))}function O(e,t){if(1&e&&(x.TgZ(0,"div",5),x.TgZ(1,"table",6),x.TgZ(2,"thead",7),x.TgZ(3,"tr",8),x.TgZ(4,"th",9),x._uU(5),x.ALo(6,"translate"),x.qZA(),x.TgZ(7,"th",10),x._uU(8),x.ALo(9,"translate"),x.qZA(),x.TgZ(10,"th",11),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.TgZ(13,"th",12),x._uU(14),x.ALo(15,"translate"),x.qZA(),x.TgZ(16,"th",10),x._uU(17),x.ALo(18,"translate"),x.qZA(),x.TgZ(19,"th",13),x._uU(20),x.ALo(21,"translate"),x.qZA(),x.TgZ(22,"th",14),x._uU(23),x.ALo(24,"translate"),x.qZA(),x.TgZ(25,"th",15),x._uU(26),x.ALo(27,"translate"),x.qZA(),x.qZA(),x.qZA(),x.YNc(28,A,5,2,"ng-template",16),x.qZA(),x.YNc(29,P,4,3,"div",17),x.qZA()),2&e){var n=x.oxw(2);x.xp6(5),x.hij(" ",x.lcZ(6,10,"l-payment-referenceDate")," "),x.xp6(3),x.hij(" ",x.lcZ(9,12,"l-payment-referenceDate-mobile")," "),x.xp6(3),x.hij(" ",x.lcZ(12,14,"l-payment-paymentType")," "),x.xp6(3),x.hij(" ",x.lcZ(15,16,"l-payment-paymentDate")," "),x.xp6(3),x.hij(" ",x.lcZ(18,18,"l-payment-paymentDate-mobile")," "),x.xp6(3),x.hij(" ",x.lcZ(21,20,"l-payment-value")," "),x.xp6(3),x.hij(" ",x.lcZ(24,22,"l-payment-value-mobile")," "),x.xp6(3),x.hij(" ",x.lcZ(27,24,"l-view")," "),x.xp6(2),x.Q6J("ngForOf",n.paymentsGroup),x.xp6(1),x.Q6J("ngIf",n.showViewMore())}}function q(e,t){if(1&e&&(x.TgZ(0,"div"),x._UZ(1,"app-page-header",1),x.YNc(2,w,1,2,"app-card-employee",2),x.YNc(3,O,30,26,"div",3),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.Q6J("backIsVisible",!!n.employeeData),x.xp6(1),x.Q6J("ngIf",n.employeeData),x.xp6(1),x.Q6J("ngIf",n.paymentsGroup)}}function T(e,t){1&e&&(x.TgZ(0,"div"),x._UZ(1,"app-payment-detail"),x.qZA())}var _,S=((_=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s){var c;return h(this,n),(c=t.call(this)).paymentsService=e,c.router=i,c.activatedRoute=o,c.lastAccess=a,c.globals=r,c.teamManagementService=s,c.viewIsTeamManagement=!1,c}return m(n,[{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.paymentSummaries=null,this.subscribeToActivatedRoute(),this.search(),this.setCountLastAccess(),this.changePaymentDetailView()}},{key:"ngOnDestroy",value:function(){this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.routeDetailSubscription.unsubscribe()}},{key:"changePaymentDetailView",value:function(){var e=this;this.routeDetailSubscription=this.router.events.pipe((0,r.h)(function(e){return e instanceof o.m2})).subscribe(function(t){e.paymentDetailIsVisible="/payments/payment/detail"===t.url||"/teamManagement/payments/payment/detail"===t.url})}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess(d.w9,t.id)})}},{key:"goToPayments",value:function(e){this.paymentSummarySelected=e,e&&this.router.navigate(["payment/detail"],{relativeTo:this.activatedRoute})}},{key:"subscribeToActivatedRoute",value:function(){var e=this;this.routeDataSubscription=this.activatedRoute.data.pipe((0,c.U)(function(e){return e.management})).subscribe(function(t){if(e.viewIsTeamManagement=t,t){if(null==e.teamManagementService.getEmployeeCard().employee)return void e.router.navigateByUrl("teamManagement");e.teamManagementPaymentsSummary()}})}},{key:"teamManagementPaymentsSummary",value:function(){var e=this.teamManagementService.getEmployeeCard(),t=e.employee,n=e.image;this.paymentSummaries=[],this.employeeData=t,this.imageAvatar=n}},{key:"readPeriodFromResult",value:function(){var e;this.paymentSummaries.forEach(function(t){(!e||e>=new Date(t.referenceDate))&&(e=new Date(t.referenceDate))}),this.definePeriod(e||new Date)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paymentsService.getPayments(this.employeeData?this.employeeData.id:p.N.loggedUser,this.initDate,this.endDate).then(function(n){n&&(e.paymentSummaries=e.paymentSummaries&&t?e.paymentSummaries.concat(n):n,e.paymentsGroup=function(){function e(){h(this,e)}return m(e,null,[{key:"showPaymentsGroup",value:function(e){var t=[];return e&&e.forEach(function(e){var n=!0;new Date(e.referenceDate).getUTCFullYear()&&(t.forEach(function(t){t.year===new Date(e.referenceDate).getUTCFullYear()&&(b.merge(t,e),n=!1)}),n&&t.push(b.initialize(e)))}),t.sort(function(e,t){return e.year<t.year?1:-1})}}]),e}().showPaymentsGroup(e.paymentSummaries))})}},{key:"definePeriod",value:function(e){this.endDate=e,this.endDate.setUTCDate(0),this.endDate.setHours(23,59,59,0),this.initDate=new Date(e),this.initDate.setDate(1),this.initDate.setMonth(this.initDate.getMonth()-5),this.initDate.setHours(0,0,0,0)}},{key:"showViewMore",value:function(){return this.paymentSummaries.length>=6}},{key:"viewMore",value:function(){this.paymentSummaries&&this.paymentSummaries.length>0&&(this.readPeriodFromResult(),this.search(!0))}}]),n}(g.R)).\u0275fac=function(e){return new(e||_)(x.Y36(f.t),x.Y36(o.F0),x.Y36(o.gz),x.Y36(d.Lx),x.Y36(y.O),x.Y36(l.C))},_.\u0275cmp=x.Xpm({type:_,selectors:[["app-payments-summary"]],features:[x.qOj],decls:2,vars:2,consts:[[4,"ngIf"],["pageTitle","l-payment-description",3,"backIsVisible"],[3,"image","name",4,"ngIf"],["class","panel-body header-divider poxl12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],[3,"image","name"],[1,"panel-body","header-divider","poxl12","po-lg-12","po-md-12","po-sm-12"],["ng-init","current = 0",1,"payment-panel","table"],[1,"column-header"],[1,"custom-tr"],["id","ReferenceDate",1,"payment-label-column","po-hidden-sm"],[1,"payment-label-column","po-hidden-md","po-hidden-lg","po-hidden-xl"],[1,"payment-label-column"],[1,"payment-label-column","po-hidden-sm"],[1,"payment-label-column","po-hidden-sm","text-right","column-value-payment"],[1,"payment-label-column","po-hidden-md","po-hidden-lg","po-hidden-xl","text-right","column-value-payment"],[1,"payment-label-column","po-hidden-sm","text-center"],["ngFor","",3,"ngForOf"],["class","next-periods",4,"ngIf"],["colspan","5",1,"year-agrupator"],[4,"ngFor","ngForOf"],["class","custom-tr hover-design mouse-pointer",3,"click",4,"ngFor","ngForOf"],[1,"custom-tr","hover-design","mouse-pointer",3,"click"],["class","month-agrupator po-hidden-sm",3,"id",4,"ngIf"],["class","month-agrupator po-hidden-md po-hidden-lg po-hidden-xl",3,"id",4,"ngIf"],[1,"column-type"],[1,"mouse-pointer",3,"click"],[1,"column-date","po-hidden-sm",3,"id"],[1,"column-date","po-hidden-md","po-hidden-lg","po-hidden-xl",3,"id"],[1,"column-value-payment"],[1,"po-hidden-sm","text-center"],[1,"po-icon","po-icon-eye","icons","mouse-pointer",3,"click"],[1,"month-agrupator","po-hidden-sm",3,"id"],[1,"month-agrupator","po-hidden-md","po-hidden-lg","po-hidden-xl",3,"id"],[1,"next-periods"],["id","linkViewMore",3,"click"]],template:function(e,t){1&e&&(x.YNc(0,q,4,3,"div",0),x.YNc(1,T,2,0,"div",0)),2&e&&(x.Q6J("ngIf",!t.paymentDetailIsVisible),x.xp6(1),x.Q6J("ngIf",t.paymentDetailIsVisible))},styles:["tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#e6f4f8}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px}.card-holder[_ngcontent-%COMP%]{margin-top:0;margin-bottom:4vh;height:100%;display:flex;flex-direction:column}.card-holder[_ngcontent-%COMP%]   .info-holder[_ngcontent-%COMP%]{display:flex}.card-holder[_ngcontent-%COMP%]   .mobile-info-holder[_ngcontent-%COMP%]{display:none}.card-holder[_ngcontent-%COMP%]   .mobile-info-holder[_ngcontent-%COMP%]   .title-name[_ngcontent-%COMP%]{font-weight:bold}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:12px;line-height:1;text-align:left;height:20px!important;padding:10px 8px}.month-agrupator[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;line-height:3.5;text-align:left;color:#4a5c60;text-transform:capitalize}.year-agrupator[_ngcontent-%COMP%]{font-size:20px!important;line-height:2.4;text-align:left;color:#2b3639;background-color:#fff;padding:1rem 0 0 .75rem;height:40px!important}.payment-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;line-height:2;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe}.next-periods[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.column-value-payment[_ngcontent-%COMP%]{text-align:right!important}.column-date[_ngcontent-%COMP%]{color:#4a5c60}.column-type[_ngcontent-%COMP%]{color:#0c9abe}.panel-body[_ngcontent-%COMP%]{margin-bottom:16px!important;padding-bottom:0;float:none!important}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.panel-body[_ngcontent-%COMP%]{margin-bottom:41px!important;padding-bottom:0;float:none!important}}.payment-panel[_ngcontent-%COMP%]{margin-bottom:0!important}.icons[_ngcontent-%COMP%]{font-weight:bold;font-size:20px;color:#0c9abe}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}"]}),_)},53569:function(e,t,n){"use strict";n.r(t),n.d(t,{PaymentsSummaryModule:function(){return Z}});var i,o=n(38583),a=n(3679),r=n(29790),s=n(44956),c=n(62393),l=n(56365),u=n(68358),p=n(95987),d=n(51110),g=n(85561),f=n(37716),v=[{path:"",component:g.A,canActivate:[d.P]}],b=((i=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[p.Bz.forChild(v)],p.Bz]}),i),x=n(36812),y=n(20307),w=n(32268),Z=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({providers:[c.c],imports:[[o.ez,b,r.aw,l.q,s.JBz,a.u5]]}),e}();f.B6R(g.A,[o.O5,x.q,y.x,o.sg,u.a],[r.X$,w.$,o.JJ])},25523:function(e,t,n){"use strict";n.d(t,{b:function(){return l},t:function(){return u}});var i,o=n(48681),a=n(94405),r=n(59708),s=n(98348),c=n(37716),l="payment",u=((i=function(){function e(t,n,i){h(this,e),this.serviceGeneric=t,this.fileManipulationService=n,this.configurationService=i}return m(e,[{key:"getPayments",value:function(e,t,n){var i,o="".concat(l,"/payments/").concat(e);return t&&n&&((i=[]).initView=t.toISOString(),i.endView=n.toISOString()),this.serviceGeneric.setResponseType("json"),this.serviceGeneric.search(o,i)}},{key:"getPayment",value:function(e){var t="".concat(l,"/detail/").concat(e);return this.serviceGeneric.setResponseType("json"),this.serviceGeneric.get(t)}},{key:"getReportDownloadUrl",value:function(e,t){var n=this;return new Promise(function(i){var o="payments/report/";s.ZP.isErpDatasul()?(o="".concat(l,"/").concat(o).concat(encodeURIComponent(e),"/").concat(t),n.serviceGeneric.resolveUrl(0,o).then(function(e){i("".concat(document.location.origin).concat(e).concat(o))})):i(n.configurationService.getServerApiUrl().then(function(n){return s.ZP.isErpNode()||s.ZP.isErpProtheus()?"".concat(n).concat(l,"/").concat(o).concat(encodeURIComponent(e),"/").concat(t):"".concat(document.location.origin).concat(n).concat(l,"/").concat(o).concat(encodeURIComponent(e),"/").concat(t)}))})}},{key:"openPaymentDetailService",value:function(e,t,n){return this.fileManipulationService.openFile("".concat(l,"/payments/report/").concat(e,"/").concat(t),n,"application/pdf")}},{key:"getBlobReport",value:function(e,t){var n="".concat(l,"/payments/report/").concat(e,"/").concat(t);return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.get(n,!1)}},{key:"setDefaulResponseType",value:function(){this.serviceGeneric.setResponseType("json")}},{key:"getPaymentAvailable",value:function(e,t,n){var i,o="".concat(l,"/available/").concat(e);return t&&n&&((i=[]).initView=t.toISOString(),i.endView=n.toISOString()),this.serviceGeneric.search(o,i)}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(r.M),c.LFG(a.e),c.LFG(o.e))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)},29163:function(e,t,n){"use strict";n.d(t,{u:function(){return O}});var i,o=n(64762),a=n(37716),r=n(44956),s=n(28601),c=n(29790),l=((i=function(){function e(){h(this,e),this.authorizedPersonalData=new a.vpe}return m(e,[{key:"authorizedData",value:function(e){this.authorizedPersonalData.next(e),this.modal.close()}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-personal-data-modal"]],viewQuery:function(e,t){var n;1&e&&a.Gf(r.hmF,5),2&e&&a.iGM(n=a.CRH())&&(t.modal=n.first)},outputs:{authorizedPersonalData:"authorizedPersonalData"},decls:3,vars:4,consts:[["p-click-out","true","p-size","md",3,"p-title"],[3,"renderedByModal","authorizedPersonalData","closeModal"]],template:function(e,t){1&e&&(a.TgZ(0,"po-modal",0),a.ALo(1,"translate"),a.TgZ(2,"app-personal-data",1),a.NdJ("authorizedPersonalData",function(e){return t.authorizedData(e)})("closeModal",function(){return t.modal.close()}),a.qZA(),a.qZA()),2&e&&(a.Q6J("p-title",a.lcZ(1,2,"l-personal-data-title")),a.xp6(2),a.Q6J("renderedByModal",!0))},directives:[r.hmF,s.h],pipes:[c.X$],styles:["[_nghost-%COMP%]     .po-button-danger{background-color:transparent;border:1px solid #c64840;color:#c64840}[_nghost-%COMP%]     .po-modal-footer{display:none}[_nghost-%COMP%]     .po-text-ellipsis, [_nghost-%COMP%]     .po-text-nowrap{white-space:normal}[_nghost-%COMP%]     .po-modal-body{overflow-x:hidden;overflow-y:hidden;margin-bottom:21px}[_nghost-%COMP%]     .po-modal-content{margin-bottom:40px}[_nghost-%COMP%]     .po-modal-title{padding-left:16px}[_nghost-%COMP%]     .po-modal-content{padding-top:16px;padding-bottom:8px}[_nghost-%COMP%]     .po-icon{padding-top:16px}"]}),i),u=n(34668),p=n(84479),d=n(95987),g=n(38583),f=n(36812);function v(e,t){1&e&&a._UZ(0,"iframe",3)}function b(e,t){if(1&e){var n=a.EpF();a.ynx(0),a.TgZ(1,"a",11),a.NdJ("click",function(){return a.CHM(n),a.oxw(2).loadedExternalWebsite=!0}),a._uU(2),a.ALo(3,"lowercase"),a.ALo(4,"translate"),a.qZA(),a.BQk()}2&e&&(a.xp6(2),a.hij(" ",a.lcZ(3,1,a.lcZ(4,3,"l-click-here")),". "))}function x(e,t){1&e&&(a.TgZ(0,"a",12),a._uU(1),a.ALo(2,"lowercase"),a.ALo(3,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,a.lcZ(3,3,"l-click-here")),". "))}function y(e,t){if(1&e&&(a.ynx(0),a._UZ(1,"app-page-header",4),a._UZ(2,"div",5),a.TgZ(3,"div",6),a._UZ(4,"h3",7),a.TgZ(5,"span",8),a._uU(6),a.YNc(7,b,5,5,"ng-container",9),a.YNc(8,x,4,5,"ng-template",null,10,a.W1O),a.qZA(),a.qZA(),a.BQk()),2&e){var n=a.MAs(9),i=a.oxw();a.xp6(1),a.Q6J("backIsVisible",!0),a.xp6(3),a.Q6J("innerHTML",i.title,a.oJD),a.xp6(2),a.hij(" ",i.description," "),a.xp6(1),a.Q6J("ngIf",i.windowUtilService.isMobileDevice())("ngIfElse",n)}}var w=function(){var e=m(function e(t){h(this,e),this.windowUtilService=t,this.loadedExternalWebsite=!1});return e.\u0275fac=function(t){return new(t||e)(a.Y36(p.g))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-explanatory-preload"]],inputs:{title:"title",description:"description"},decls:3,vars:2,consts:[[1,"clearfix"],["class","external-frame","name","externalFrame","frameborder","0",4,"ngIf"],[4,"ngIf"],["name","externalFrame","frameborder","0",1,"external-frame"],["pageTitle","l-totvs-payroll-loan-title",3,"backIsVisible"],[1,"body-container-image","po-md-12"],[1,"body-container"],[1,"body-container-title","po-md-12","po-mt-sm-3","po-mt-md-3","po-mt-lg-3",3,"innerHTML"],[1,"body-container-desciption","po-md-12","po-mt-sm-3","po-mb-sm-3","po-mt-md-3","po-mt-lg-3"],[4,"ngIf","ngIfElse"],["web",""],["href","https://www.totvs.com/techfin/consignado/","target","externalFrame",1,"clickable",3,"click"],["href","https://www.totvs.com/techfin/consignado/","target","_blank",1,"clickable"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.YNc(1,v,1,0,"iframe",1),a.YNc(2,y,10,5,"ng-container",2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngIf",t.loadedExternalWebsite),a.xp6(1),a.Q6J("ngIf",!t.loadedExternalWebsite))},directives:[g.O5,f.q],pipes:[g.i8,c.X$],styles:['.general{padding-top:15px!important}  .po-page-content{overflow:hidden}.clearfix[_ngcontent-%COMP%]:after{content:"";display:table;clear:both;margin-bottom:50px}.body-container[_ngcontent-%COMP%]{text-align:center}.body-container-image[_ngcontent-%COMP%]{background:url(take-money.8a73e034577ed0b29ef6.svg) no-repeat center;width:100%;height:30vh;background-size:contain;background-repeat:no-repeat;background-position:center center;margin-bottom:2vh}.external-frame[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 108px);margin-left:-16px}@media only screen and (min-width: 961px){.body-container-image[_ngcontent-%COMP%]{height:50vh}.external-frame[_ngcontent-%COMP%]{height:calc(100vh - 48px)}}@media only screen and (max-width: 320px){.body-container-title[_ngcontent-%COMP%]{font-size:18px}.body-container-desciption[_ngcontent-%COMP%]{font-size:14px}}']}),e}();function Z(e,t){if(1&e){var n=a.EpF();a.ynx(0),a.TgZ(1,"h1",5),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"h2",6),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"p",5),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"h2",7),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"p",5),a._uU(14),a.ALo(15,"translate"),a.qZA(),a.TgZ(16,"div",8),a.TgZ(17,"po-button",9),a.NdJ("p-click",function(){return a.CHM(n),a.oxw(3).personalData.modal.open()}),a.ALo(18,"translate"),a.qZA(),a.qZA(),a.BQk()}2&e&&(a.xp6(2),a.Oqu(a.lcZ(3,6,"l-explanatory-title")),a.xp6(3),a.Oqu(a.lcZ(6,8,"l-how-is")),a.xp6(3),a.Oqu(a.lcZ(9,10,"l-how-is-body")),a.xp6(3),a.Oqu(a.lcZ(12,12,"l-how-to")),a.xp6(3),a.Oqu(a.lcZ(15,14,"l-how-to-body")),a.xp6(3),a.Q6J("p-label",a.lcZ(18,16,"l-continue")))}function C(e,t){if(1&e&&a._UZ(0,"app-explanatory-preload",10),2&e){var n=a.oxw(3);a.Q6J("title",n.statusAccessTitle)("description",n.statusAccessDescription)}}function M(e,t){if(1&e){var n=a.EpF();a.ynx(0),a.YNc(1,Z,19,18,"ng-container",2),a.YNc(2,C,1,2,"ng-template",null,3,a.W1O),a.TgZ(4,"app-personal-data-modal",4),a.NdJ("authorizedPersonalData",function(e){return a.CHM(n),a.oxw(2).isAuthorized=e}),a.qZA(),a.BQk()}if(2&e){var i=a.MAs(3),o=a.oxw(2);a.xp6(1),a.Q6J("ngIf",1===o.statusAccess.code)("ngIfElse",i)}}function k(e,t){if(1&e&&(a.ynx(0),a.YNc(1,M,5,2,"ng-container",2),a.BQk()),2&e){var n=a.oxw(),i=a.MAs(2);a.xp6(1),a.Q6J("ngIf",!n.isAuthorized)("ngIfElse",i)}}function A(e,t){1&e&&a.Hsn(0)}var P=["*"],O=function(){var e=function(){function e(t,n,i,o){h(this,e),this.personalDataService=t,this.windowUtilService=n,this.router=i,this.translate=o,this.initialized=!1,this.labels=[],this.openByComponent=!1}return m(e,[{key:"ngOnInit",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateLabels();case 2:return e.next=4,this.personalDataService.getStatusAccess();case 4:if(this.statusAccess=e.sent,this.checkStatusAccess(),e.t0=1===this.statusAccess.code,!e.t0){e.next=13;break}return e.next=10,this.personalDataService.getAuthorizedUsePersonalData();case 10:this.isAuthorized=e.sent,this.viewIsMobile=this.windowUtilService.isMobileDevice(),this.isAuthorized&&this.viewIsMobile&&!this.openByComponent&&this.router.navigate(["menu","payrollLoan","l-totvs-payroll-loan-title"]);case 13:this.initialized=!0;case 14:case"end":return e.stop()}},e,this)}))}},{key:"checkStatusAccess",value:function(){4===this.statusAccess.code?(this.statusAccessTitle=this.labels["l-totvs-payroll-loan-title"],this.statusAccessDescription=this.labels["l-preload-message"]):(3===this.statusAccess.code||2===this.statusAccess.code)&&(this.statusAccessTitle=this.labels["l-come-here-loan-title"],this.statusAccessDescription=this.labels["l-preload-working-message"])}},{key:"translateLabels",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translate.get(["l-totvs-payroll-loan-title","l-come-here-loan-title","l-preload-message","l-preload-working-message"]).toPromise();case 2:this.labels=e.sent;case 3:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.l),a.Y36(p.g),a.Y36(d.F0),a.Y36(c.sK))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-explanatory"]],viewQuery:function(e,t){var n;(1&e&&a.Gf(l,5),2&e)&&(a.iGM(n=a.CRH())&&(t.personalData=n.first))},inputs:{openByComponent:"openByComponent"},ngContentSelectors:P,decls:3,vars:1,consts:[[4,"ngIf"],["page",""],[4,"ngIf","ngIfElse"],["message",""],[3,"authorizedPersonalData"],[1,"po-md-12"],[1,"p-margin","po-md-12"],[1,"p-submargin","po-md-12"],[1,"p-submargin","fix-container","po-md-12"],["p-type","primary",1,"po-mb-ms-4","no-padding","po-sm-12","po-md-2",3,"p-label","p-click"],[3,"title","description"]],template:function(e,t){1&e&&(a.F$t(),a.YNc(0,k,2,2,"ng-container",0),a.YNc(1,A,1,0,"ng-template",null,1,a.W1O)),2&e&&a.Q6J("ngIf",t.initialized)},directives:[g.O5,l,r.bOz,w],pipes:[c.X$],styles:[".no-padding[_ngcontent-%COMP%]{padding:0}.fix-container[_ngcontent-%COMP%]{height:50px}.p-margin[_ngcontent-%COMP%]{margin-top:20px}.p-submargin[_ngcontent-%COMP%]{margin-top:15px}.message-error[_ngcontent-%COMP%]{font-weight:bold;margin-bottom:55px}.ico[_ngcontent-%COMP%]{color:#0c9abe;margin-right:5px}"]}),e}()},28601:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var i=n(64762),o=n(37716),a=n(44956),r=n(34668),s=n(84479),c=n(95987),l=n(96054),u=n(29790),p=n(38583);function d(e,t){1&e&&(o.TgZ(0,"h1",8),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"l-personal-data-title")))}function g(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-button",9),o.NdJ("p-click",function(){return o.CHM(n),o.oxw().decline()}),o.ALo(1,"translate"),o.qZA()}2&e&&o.Q6J("p-label",o.lcZ(1,1,"l-deny"))}var f,v=((f=function(){function e(t,n,i,a,r){h(this,e),this.service=t,this.windowUtilService=n,this.router=i,this.notificationService=a,this.translate=r,this.labels=[],this.renderedByModal=!1,this.authorizedPersonalData=new o.vpe,this.closeModal=new o.vpe}return m(e,[{key:"ngOnInit",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.viewIsMobile=this.windowUtilService.isMobileDevice(),e.next=3,this.translate.get(["l-success-authorized-personal-data","l-error-authorized-personal-data"]).toPromise();case 3:this.labels=e.sent;case 4:case"end":return e.stop()}},e,this)}))}},{key:"authorizePersonalData",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.authorizeUsePersonalData();case 2:this.notificationService.showNotification(this.labels["l-success-authorized-personal-data"],a.ik9.Success),this.viewIsMobile?this.router.navigate(["menu","payrollLoan","l-totvs-payroll-loan-title"]):this.renderedByModal?this.authorizedPersonalData.next(!0):this.router.navigate(["payrollLoan","revokePersonalData"]);case 4:case"end":return e.stop()}},e,this)}))}},{key:"decline",value:function(){this.notificationService.showNotification(this.labels["l-error-authorized-personal-data"],a.ik9.Error),this.closeModal.next()}}]),e}()).\u0275fac=function(e){return new(e||f)(o.Y36(r.l),o.Y36(s.g),o.Y36(c.F0),o.Y36(l.g),o.Y36(u.sK))},f.\u0275cmp=o.Xpm({type:f,selectors:[["app-personal-data"]],inputs:{renderedByModal:"renderedByModal"},outputs:{authorizedPersonalData:"authorizedPersonalData",closeModal:"closeModal"},decls:50,vars:53,consts:[[1,"text-align","po-md-12"],["class","po-md-12",4,"ngIf"],[1,"po-md-12","po-font-text-large-bold",3,"innerHTML"],[1,"po-md-12",3,"innerHTML"],[1,"list-items","po-md-12"],[1,"highlighter","po-md-12"],["class","po-sm-6 po-md-3 po-lg-2 po-xl-2","p-type","danger",3,"p-label","p-click",4,"ngIf"],["p-type","primary",1,"po-sm-6","po-md-4","po-lg-3","po-xl-2",3,"p-label","p-click"],[1,"po-md-12"],["p-type","danger",1,"po-sm-6","po-md-3","po-lg-2","po-xl-2",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,d,3,3,"h1",1),o._UZ(2,"p",2),o.ALo(3,"translate"),o._UZ(4,"p",3),o.ALo(5,"translate"),o._UZ(6,"p",2),o.ALo(7,"translate"),o.TgZ(8,"div",4),o.TgZ(9,"ul",5),o.TgZ(10,"li"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"li"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"li"),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"li"),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"li"),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.qZA(),o.qZA(),o._UZ(25,"p",3),o.ALo(26,"translate"),o._UZ(27,"p",2),o.ALo(28,"translate"),o.TgZ(29,"div",4),o.TgZ(30,"ul",5),o.TgZ(31,"li"),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"li"),o._uU(35),o.ALo(36,"translate"),o.qZA(),o.TgZ(37,"li"),o._uU(38),o.ALo(39,"translate"),o.qZA(),o.TgZ(40,"li"),o._uU(41),o.ALo(42,"translate"),o.qZA(),o.qZA(),o.qZA(),o._UZ(43,"p",3),o.ALo(44,"translate"),o._UZ(45,"p",3),o.ALo(46,"translate"),o.YNc(47,g,2,3,"po-button",6),o.TgZ(48,"po-button",7),o.NdJ("p-click",function(){return t.authorizePersonalData()}),o.ALo(49,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",!t.renderedByModal),o.xp6(1),o.Q6J("innerHTML",o.lcZ(3,19,"l-personal-data-consent-subtitle"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(5,21,"l-personal-data-body"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(7,23,"l-personal-data-consent"),o.oJD),o.xp6(5),o.hij("",o.lcZ(12,25,"l-cpf"),";"),o.xp6(3),o.hij("",o.lcZ(15,27,"l-functional-registration"),";"),o.xp6(3),o.hij("",o.lcZ(18,29,"l-admission-date"),";"),o.xp6(3),o.hij("",o.lcZ(21,31,"l-monthly-salary"),";"),o.xp6(3),o.hij("",o.lcZ(24,33,"l-consignable-margin"),"."),o.xp6(2),o.Q6J("innerHTML",o.lcZ(26,35,"l-personal-data-body2"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(28,37,"l-personal-data-body3"),o.oJD),o.xp6(5),o.Oqu(o.lcZ(33,39,"l-personal-data-body4")),o.xp6(3),o.Oqu(o.lcZ(36,41,"l-personal-data-body5")),o.xp6(3),o.Oqu(o.lcZ(39,43,"l-personal-data-body6")),o.xp6(3),o.Oqu(o.lcZ(42,45,"l-personal-data-body7")),o.xp6(2),o.Q6J("innerHTML",o.lcZ(44,47,"l-personal-data-body8"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(46,49,"l-personal-data-body9"),o.oJD),o.xp6(2),o.Q6J("ngIf",t.renderedByModal),o.xp6(1),o.Q6J("p-label",o.lcZ(49,51,"l-authorize")))},directives:[p.O5,a.bOz],pipes:[u.X$],styles:[".highlighter[_ngcontent-%COMP%]{list-style-type:disc}.list-items[_ngcontent-%COMP%]{margin-left:10px}.p-margin[_ngcontent-%COMP%]{margin-top:15px}.text-align[_ngcontent-%COMP%]{text-align:justify}"]}),f)},34668:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var i,o=n(64762),a=n(59708),r=n(91956),s=n(37716),c="rh/payrollLoan/v1",l=((i=function(){function e(t){h(this,e),this.service=t,this.statusAccess=new r.Z}return m(e,[{key:"getAuthorizedUsePersonalData",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.get("".concat(c,"/registrations/authorizedUsePersonalData"));case 2:return e.abrupt("return",e.sent.response);case 3:case"end":return e.stop()}},e,this)}))}},{key:"authorizeUsePersonalData",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.put("".concat(c,"/registrations/authorizeUsePersonalData"),!0);case 2:return e.abrupt("return",e.sent.response);case 3:case"end":return e.stop()}},e,this)}))}},{key:"revokePersonalData",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.put("".concat(c,"/registrations/revokeUsePersonalData"),!0);case 2:return e.abrupt("return",e.sent.response);case 3:case"end":return e.stop()}},e,this)}))}},{key:"getStatusAccess",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.get("".concat(c,"/registrations/status"));case 2:return t=e.sent,e.abrupt("return",(this.statusAccess.setCurrentState(t),t));case 4:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(a.M))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},77859:function(e,t,n){"use strict";n.d(t,{d:function(){return Tt}});var o=n(37716),r=n(88002),c=n(14833),p=n(81059),d=n(97983),g=n(66163),f=n(81483),v=n(37794),b=n(64762),x=n(36812),y=n(3679),w=n(38583),Z=n(44956),C=n(29790),M=["dddInput"],k=["phoneInput"],A=["extensionInput"],P=["dddInputNgModel"],O=["phoneInputNgModel"],q=["extensionInputNgModel"];function T(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",4,5),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().DDDModel=e}),o.ALo(3,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.Tol(i.DDDClass),o.s9C("p-label",o.lcZ(3,7,"l-phone-area-code")),o.Q6J("name",i.DDDName)("p-required",i.DDDIsRequired())("p-disabled",i.DDDDisabled)("ngModel",i.DDDModel)}}function _(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",6,7),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().phoneModel=e}),o.qZA()}if(2&e){var i=o.oxw();o.Tol(i.phoneClass),o.Q6J("name",i.phoneName)("p-label",i.phoneLabel)("p-required",i.phoneIsRequired())("p-disabled",i.phoneDisabled)("ngModel",i.phoneModel)}}function S(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",8,9),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().extensionModel=e}),o.ALo(3,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.Tol(i.extensionClass),o.s9C("p-label",o.lcZ(3,7,"l-phone-ext")),o.Q6J("name",i.extensionName)("p-required",i.extensionRequired)("p-disabled",i.extensionDisabled)("ngModel",i.extensionModel)}}var I,D=((I=function(){function e(){h(this,e),this.DDDModelChange=new o.vpe,this.phoneModelChange=new o.vpe,this.extensionModelChange=new o.vpe,this.onValidationChange=function(){}}return m(e,[{key:"DDDModel",get:function(){return this._dddModel},set:function(e){this._dddModel=e,this.DDDModelChange.emit(e),this.validationChange()}},{key:"phoneModel",get:function(){return this._phoneModel},set:function(e){this._phoneModel=e,this.phoneModelChange.emit(e),this.validationChange()}},{key:"extensionModel",get:function(){return this._extensionModel},set:function(e){this._extensionModel=e,this.extensionModelChange.emit(e),this.validationChange()}},{key:"DDDIsRequired",value:function(){return this.DDDRequired||this.showPhone&&null!=this.phoneModel&&""!==this.phoneModel}},{key:"phoneIsRequired",value:function(){return this.phoneRequired||this.showDDD&&null!=this.DDDModel&&""!==this.DDDModel.toString()}},{key:"validate",value:function(){var e=this.dddInput?this.dddInput.validate(this.dddInputNgModel.control):null,t=this.phoneInput?this.phoneInput.validate(this.phoneInputNgModel.control):null,n=this.extensionInput?this.extensionInput.validate(this.extensionInputNgModel.control):null;return e||t||n||null}},{key:"registerOnValidatorChange",value:function(e){this.onValidationChange=e}},{key:"registerOnChange",value:function(){}},{key:"registerOnTouched",value:function(){}},{key:"writeValue",value:function(){}},{key:"setDisabledState",value:function(e){this.DDDDisabled=e,this.phoneDisabled=e,this.extensionDisabled=e}},{key:"validationChange",value:function(){var e=this;setTimeout(function(){e.onValidationChange()},0)}}]),e}()).\u0275fac=function(e){return new(e||I)},I.\u0275cmp=o.Xpm({type:I,selectors:[["app-phone-edit"]],viewQuery:function(e,t){var n;1&e&&(o.Gf(M,5),o.Gf(k,5),o.Gf(A,5),o.Gf(P,5),o.Gf(O,5),o.Gf(q,5)),2&e&&(o.iGM(n=o.CRH())&&(t.dddInput=n.first),o.iGM(n=o.CRH())&&(t.phoneInput=n.first),o.iGM(n=o.CRH())&&(t.extensionInput=n.first),o.iGM(n=o.CRH())&&(t.dddInputNgModel=n.first),o.iGM(n=o.CRH())&&(t.phoneInputNgModel=n.first),o.iGM(n=o.CRH())&&(t.extensionInputNgModel=n.first))},inputs:{showDDD:"showDDD",DDDName:"DDDName",DDDRequired:"DDDRequired",DDDDisabled:"DDDDisabled",DDDClass:"DDDClass",DDDModel:"DDDModel",showPhone:"showPhone",phoneName:"phoneName",phoneLabel:"phoneLabel",phoneRequired:"phoneRequired",phoneDisabled:"phoneDisabled",phoneClass:"phoneClass",phoneModel:"phoneModel",showExtension:"showExtension",extensionName:"extensionName",extensionRequired:"extensionRequired",extensionDisabled:"extensionDisabled",extensionClass:"extensionClass",extensionModel:"extensionModel"},outputs:{DDDModelChange:"DDDModelChange",phoneModelChange:"phoneModelChange",extensionModelChange:"extensionModelChange"},features:[o._Bn([{provide:y.JU,useExisting:(0,o.Gpc)(function(){return I}),multi:!0},{provide:y.Cf,useExisting:(0,o.Gpc)(function(){return I}),multi:!0}])],decls:4,vars:3,consts:[[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["p-clean","true","p-pattern","^\\d{2}$",3,"name","p-label","p-required","p-disabled","ngModel","class","ngModelChange",4,"ngIf"],["p-clean","true","p-pattern","^\\d{4,5}-?\\d{4}$","p-mask","99999?-9999",3,"name","p-label","p-required","p-disabled","ngModel","class","ngModelChange",4,"ngIf"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","class","ngModelChange",4,"ngIf"],["p-clean","true","p-pattern","^\\d{2}$",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"],["dddInput","","dddInputNgModel","ngModel"],["p-clean","true","p-pattern","^\\d{4,5}-?\\d{4}$","p-mask","99999?-9999",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"],["phoneInput","","phoneInputNgModel","ngModel"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"],["extensionInput","","extensionInputNgModel","ngModel"]],template:function(e,t){1&e&&(o.TgZ(0,"span",0),o.YNc(1,T,4,9,"po-input",1),o.YNc(2,_,3,7,"po-input",2),o.YNc(3,S,4,9,"po-input",3),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",t.showDDD),o.xp6(1),o.Q6J("ngIf",t.showPhone),o.xp6(1),o.Q6J("ngIf",t.showExtension))},directives:[w.O5,Z.xxV,y.JJ,y.On],pipes:[C.X$],styles:[""]}),I);function L(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-email",10),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().email.email=e}),o.ALo(1,"translate"),o.ALo(2,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,5,"l-email")),o.s9C("p-error-pattern",o.lcZ(2,7,"m-email-invalid")),o.Q6J("p-required",i.email&&i.email.props&&i.email.props.required)("p-disabled",!(i.email&&i.email.props&&i.email.props.editable))("ngModel",i.email.email)}}var R=function(){var e=function(){function e(t,n){h(this,e),this.profileHelper=t,this.profileService=n,this.close=new o.vpe}return m(e,[{key:"ngOnInit",value:function(){this.createObjectEmpty(),this.processPhoneAndEmail()}},{key:"createObjectEmpty",value:function(){this.phone||(this.phone={id:void 0,number:void 0,_default:void 0}),this.extension||(this.extension={id:void 0,number:void 0,_default:void 0})}},{key:"processPhoneAndEmail",value:function(){this.profile&&this.profile.contacts&&(this.email=this.profileHelper.getDefaultEmail(this.profile.contacts.emails),this.phone=this.profileHelper.geDefaultPhoneAndExtension(this.profile.contacts.phones,!0),this.extension=this.profileHelper.geDefaultPhoneAndExtension(this.profile.contacts.phones,!1))}},{key:"getPhoneProps",value:function(e,t){if(e&&e.props){var n=e.props.find(function(e){return e.field===t});return n||(n=this.getDefaultProps(t)),n}return this.getDefaultProps(t)}},{key:"getDefaultProps",value:function(e){return{field:e,visible:!0,editable:!1,required:!1}}},{key:"saveGeneral",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileHelper.getTeamEmployeeId();case 2:t=e.sent,this.organizePhone(this.phone),this.organizePhone(this.extension),this.organizeEmail(),this.profileService.saveContacts(t,this.profile.contacts).then(function(){n.profileHelper.showMessageSuccess("l-msg-save-success"),n.closeDialog(n.profile)}).catch(function(e){n.profileHelper.showMessageError(e.message)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"organizePhone",value:function(e){if(e){var t=[];this.profile.contacts.phones.forEach(function(n){t.push(n.id===e.id?e:n)}),this.profile.contacts.phones=t}}},{key:"organizeEmail",value:function(){var e=this;if(this.email){var t=[];this.profile.contacts.emails.forEach(function(n){t.push(n.id===e.email.id?e.email:n)}),this.profile.contacts.emails=t}}},{key:"closeDialog",value:function(e){this.close.emit(e)}},{key:"phoneOrganize",value:function(e){return"(".concat(e.ddd,") ").concat(e.number)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.e),o.Y36(d.H))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-general-information-edit"]],inputs:{profile:"profile"},outputs:{close:"close"},decls:14,vars:24,consts:[["backIsVisible","true","pageTitle","l-general-information",3,"backFunction"],["generalEditForm","ngForm"],[1,"po-row"],[1,"panel-item-group"],["name","email","p-icon","","p-clean","true","class","po-sm-12 po-md-7 po-lg-7 po-xl-7",3,"p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["name","phone-edit","DDDClass","po-sm-5 po-md-3 po-lg-3 po-xl-3","DDDName","ddd","phoneClass","po-sm-7 po-md-6 po-lg-6 po-xl-6","phoneName","number","extensionClass","po-sm-12 po-md-3 po-lg-3 po-xl-3","extensionName","extension",3,"ngModel","showDDD","DDDRequired","DDDDisabled","DDDModel","showPhone","phoneRequired","phoneDisabled","phoneLabel","phoneModel","showExtension","extensionRequired","extensionDisabled","extensionModel","ngModelChange","DDDModelChange","phoneModelChange","extensionModelChange"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true",3,"p-label","p-disabled","p-click"],["name","email","p-icon","","p-clean","true",1,"po-sm-12","po-md-7","po-lg-7","po-xl-7",3,"p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.closeDialog()}),o.qZA(),o.TgZ(1,"form",null,1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.YNc(5,L,3,9,"po-email",4),o.TgZ(6,"span",5),o.TgZ(7,"app-phone-edit",6),o.NdJ("ngModelChange",function(e){return t.phone.number=e})("DDDModelChange",function(e){return t.phone&&(t.phone.ddd=e)})("phoneModelChange",function(e){return t.phone&&(t.phone.number=e)})("extensionModelChange",function(e){return t.extension&&(t.extension.number=e)}),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",7),o.TgZ(10,"po-button",8),o.NdJ("p-click",function(){return t.closeDialog()}),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"po-button",9),o.NdJ("p-click",function(){return t.saveGeneral()}),o.ALo(13,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.MAs(2);o.xp6(5),o.Q6J("ngIf",t.email&&t.email.props&&t.email.props.visible),o.xp6(2),o.s9C("phoneLabel",o.lcZ(8,18,"l-phone-work")),o.Q6J("ngModel",t.phone.number)("showDDD",t.getPhoneProps(t.phone,"ddd").visible)("DDDRequired",t.getPhoneProps(t.phone,"ddd").required)("DDDDisabled",!t.getPhoneProps(t.phone,"ddd").editable)("DDDModel",null==t.phone?null:t.phone.ddd)("showPhone",t.getPhoneProps(t.phone,"number").visible)("phoneRequired",t.getPhoneProps(t.phone,"number").required)("phoneDisabled",!t.getPhoneProps(t.phone,"number").editable)("phoneModel",null==t.phone?null:t.phone.number)("showExtension",t.getPhoneProps(t.extension,"number").visible)("extensionRequired",t.getPhoneProps(t.extension,"number").required)("extensionDisabled",!t.getPhoneProps(t.extension,"number").editable)("extensionModel",null==t.extension?null:t.extension.number),o.xp6(3),o.s9C("p-label",o.lcZ(11,20,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(13,22,"l-confirm")),o.Q6J("p-disabled",!n.form.valid)}},directives:[x.q,y._Y,y.JL,y.F,w.O5,D,y.JJ,y.On,Z.bOz,Z.Tji],pipes:[C.X$],styles:[".label-edit[_ngcontent-%COMP%]{color:#4a5c60;margin-bottom:2px;margin-top:2px}.cancel-button[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]     po-field-container-bottom .po-field-container-bottom{height:auto!important}"]}),e}(),N=n(92340),E=n(9789),U=n(64383),F=n(95987),J=n(57706);function V(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",12),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().profileView.personalData.nickname=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-nickname")),o.Q6J("p-required",i.getPersonalDataProps(i.profile,"personalData.nickname").required)("p-disabled",!i.getPersonalDataProps(i.profile,"personalData.nickname").editable)("ngModel",i.profileView.personalData.nickname)}}function Y(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",13),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().profileView.personalData.gender=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-gender")),o.Q6J("p-required",i.getPersonalDataProps(i.profile,"personalData.gender").required)("p-disabled",!i.getPersonalDataProps(i.profile,"personalData.gender").editable)("ngModel",i.profileView.personalData.gender)}}function z(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-datepicker",14),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().bornDate=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-born-date")),o.Q6J("p-required",i.getPersonalDataProps(i.profile,"personalData.bornDate").required)("p-disabled",!i.getPersonalDataProps(i.profile,"personalData.bornDate").editable)("ngModel",i.bornDate)}}function Q(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",15),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().country=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-nacionality")),o.Q6J("p-required",i.getPersonalDataProps(i.profile,"personalData.nacionality").required)("p-disabled",!i.getPersonalDataProps(i.profile,"personalData.nacionality").editable)("ngModel",i.country)}}function G(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",16),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().profileView.personalData.bornCity.name=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-born-city")),o.Q6J("p-required",i.getPersonalDataProps(i.profile,"personalData.bornCity").required)("p-disabled",!i.getPersonalDataProps(i.profile,"personalData.bornCity").editable)("ngModel",i.profileView.personalData.bornCity.name)}}var H=function(){var e=function(){function e(t,n,i){h(this,e),this.profileHelper=t,this.profileService=n,this.momentService=i,this.personalDataEditable=!1,this.viewDialogIsVisible=!1,this.close=new o.vpe}return m(e,[{key:"ngOnInit",value:function(){this.profileView=this.profileHelper.clone(this.profile),this.profile.personalData.bornDate&&(this.bornDate=f.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.profile.personalData.bornDate))),this.country=this.getCountryName()}},{key:"getCountryName",value:function(){return this.profileHelper.getCountryName(this.profileView.personalData.bornCity)}},{key:"getFormatedDate",value:function(e){return this.momentService.getInstance(e).utc().format("L")}},{key:"getPersonalDataProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"savePersonalData",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileHelper.getTeamEmployeeId();case 2:t=e.sent,this.profileView.personalData.bornDate=this.bornDate,this.profileService.savePersonalData(t,this.profileView.personalData).then(function(e){n.profileView.personalData.bornDate=n.bornDate,n.profileHelper.showMessageSuccess("l-msg-save-success"),n.closeDialog(n.profileView)}).catch(function(e){n.profileHelper.showMessageError(e.message)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"closeDialog",value:function(e){this.close.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.e),o.Y36(d.H),o.Y36(U.z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-personal-edit"]],inputs:{profile:"profile"},outputs:{close:"close"},decls:15,vars:12,consts:[["backIsVisible","true","pageTitle","l-personal-data",3,"backFunction"],["personalDataEditForm","ngForm"],[1,"po-row"],[1,"panel-item-group"],["name","nickname","p-clean","true","class","po-sm-12 po-md-4 po-lg-4 po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","gender","p-clean","true","class","po-sm-12 po-md-4 po-lg-4 po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","bornDate","class","po-sm-12 po-md-4 po-lg-4 po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","nacionality","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","city","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true",3,"p-label","p-disabled","p-click"],["name","nickname","p-clean","true",1,"po-sm-12","po-md-4","po-lg-4","po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","gender","p-clean","true",1,"po-sm-12","po-md-4","po-lg-4","po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","bornDate",1,"po-sm-12","po-md-4","po-lg-4","po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","nacionality",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","city",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.closeDialog()}),o.qZA(),o.TgZ(1,"form",null,1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.YNc(5,V,2,6,"po-input",4),o.YNc(6,Y,2,6,"po-input",5),o.YNc(7,z,2,6,"po-datepicker",6),o.YNc(8,Q,2,6,"po-input",7),o.YNc(9,G,2,6,"po-input",8),o.qZA(),o.qZA(),o.TgZ(10,"div",9),o.TgZ(11,"po-button",10),o.NdJ("p-click",function(){return t.closeDialog()}),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"po-button",11),o.NdJ("p-click",function(){return t.savePersonalData()}),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.MAs(2);o.xp6(5),o.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.nickname").visible),o.xp6(1),o.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.gender").visible),o.xp6(1),o.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.bornDate").visible),o.xp6(1),o.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.nacionality").visible),o.xp6(1),o.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.bornCity").visible),o.xp6(2),o.s9C("p-label",o.lcZ(12,8,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(14,10,"l-confirm")),o.Q6J("p-disabled",!n.form.valid)}},directives:[x.q,y._Y,y.JL,y.F,w.O5,Z.bOz,Z.xxV,y.JJ,y.On,Z.GWy],pipes:[C.X$],styles:[".cancel-button[_ngcontent-%COMP%]{margin-right:16px}"]}),e}(),B=["personalDataEdit"];function j(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",11),o.TgZ(1,"div",12),o.NdJ("click",function(){return o.CHM(n),o.oxw().openPersonalDataEdit()}),o._UZ(2,"span",13),o._uU(3,"\xa0 "),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"l-edit-information")))}var W=function(){var e=function(){function e(t,n){h(this,e),this.profileHelper=t,this.momentService=n,this.personalDataEditable=!1,this.viewDialogIsVisible=!1}return m(e,[{key:"ngOnInit",value:function(){this.processFieldProperties(),this.profile.personalData.bornDate&&(this.bornDate=this.getFormatedDate(this.profile.personalData.bornDate))}},{key:"getCountryName",value:function(e){return e?this.profileHelper.getCountryName(e):null}},{key:"getFormatedDate",value:function(e){return this.momentService.getInstance(e).utc().format("L")}},{key:"processFieldProperties",value:function(){var e=this;this.profile&&this.profile.props&&this.profile.props.forEach(function(t){e.personalDataEditable||t.editable&&(e.personalDataEditable=!0)})}},{key:"getPersonalDataProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"openPersonalDataEdit",value:function(){this.viewDialogIsVisible=!0,this.personalDataEdit.ngOnInit()}},{key:"closeDialog",value:function(e){this.viewDialogIsVisible=!1,e&&(this.profile=e)}},{key:"editEnabled",value:function(e){return e&&this.profileHelper.editEnabled(e,["personalData.nickname","personalData.gender","personalData.bornDate","personalData.nacionality","personalData.bornCity"])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.e),o.Y36(U.z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-personal"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(B,5),2&e)&&(o.iGM(n=o.CRH())&&(t.personalDataEdit=n.first))},inputs:{profile:"profile"},decls:44,vars:32,consts:[[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation"],[1,"panel-heading"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"panel-body"],[1,"po-sm-6","po-md-3","po-lg-3","po-xl-3","panel-item-group",3,"hidden"],["class","panel-footer",4,"ngIf"],["id","personalData-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"profile","close"],["personalDataEdit",""],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"span",3),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",0),o.TgZ(8,"span",5),o.TgZ(9,"div"),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"div"),o._uU(13),o.qZA(),o.qZA(),o.TgZ(14,"span",5),o.TgZ(15,"div"),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"div"),o._uU(19),o.qZA(),o.qZA(),o.TgZ(20,"span",5),o.TgZ(21,"div"),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.TgZ(24,"span"),o._uU(25),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"div",0),o.TgZ(27,"span",5),o.TgZ(28,"div"),o._uU(29),o.ALo(30,"translate"),o.qZA(),o.TgZ(31,"div"),o._uU(32),o.qZA(),o.qZA(),o.TgZ(33,"span",5),o.TgZ(34,"div"),o._uU(35),o.ALo(36,"translate"),o.qZA(),o.TgZ(37,"div"),o._uU(38),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(39,j,7,3,"div",6),o.qZA(),o.qZA(),o.TgZ(40,"app-dialog",7),o.NdJ("closeDialogEvent",function(){return t.closeDialog()}),o.TgZ(41,"div",8),o.TgZ(42,"app-personal-edit",9,10),o.NdJ("close",function(e){return t.closeDialog(e)}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Oqu(o.lcZ(5,20,"l-personal-data")),o.xp6(4),o.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.nickname").visible),o.xp6(2),o.Oqu(o.lcZ(11,22,"l-nickname")),o.xp6(3),o.Oqu(t.profile.personalData.nickname?t.profile.personalData.nickname:"-"),o.xp6(1),o.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.gender").visible),o.xp6(2),o.Oqu(o.lcZ(17,24,"l-gender")),o.xp6(3),o.Oqu(t.profile.personalData.gender?t.profile.personalData.gender:"-"),o.xp6(1),o.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.bornDate").visible),o.xp6(2),o.Oqu(o.lcZ(23,26,"l-born-date")),o.xp6(3),o.Oqu(t.profile.personalData.bornDate?t.getFormatedDate(t.profile.personalData.bornDate):"-"),o.xp6(2),o.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.nacionality").visible),o.xp6(2),o.Oqu(o.lcZ(30,28,"l-nacionality")),o.xp6(3),o.Oqu(t.profile.personalData.bornCity?t.getCountryName(t.profile.personalData.bornCity):"-"),o.xp6(1),o.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.bornCity").visible),o.xp6(2),o.Oqu(o.lcZ(36,30,"l-born-city")),o.xp6(3),o.Oqu(t.profile.personalData.bornCity.name?t.profile.personalData.bornCity.name:"-"),o.xp6(1),o.Q6J("ngIf",t.editEnabled(t.profile)),o.xp6(1),o.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),o.xp6(2),o.Q6J("profile",t.profile))},directives:[w.O5,J.a,H],pipes:[C.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e}(),K=n(65241),X=n(49344),ee=n(84479);function te(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"app-phone-edit",10),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.number=e})("DDDModelChange",function(e){return o.CHM(n),o.oxw().$implicit.ddd=e})("phoneModelChange",function(e){return o.CHM(n),o.oxw().$implicit.number=e}),o.qZA()}if(2&e){var i,a,r=o.oxw(),s=r.index,c=r.$implicit,l=o.oxw(2);o.MGl("name","phone-edit-",s,""),o.MGl("DDDName","ddd-",s,""),o.MGl("phoneName","number-",s,""),o.Q6J("ngModel",c.number)("showDDD",null==(i=l.getPhoneProps(c,"ddd"))?null:i.visible)("DDDRequired",l.getPhoneProps(c,"ddd").required)("DDDDisabled",!l.getPhoneProps(c,"ddd").editable)("DDDModel",c.ddd)("showPhone",null==(a=l.getPhoneProps(c,"number"))?null:a.visible)("phoneRequired",l.getPhoneProps(c,"number").required)("phoneDisabled",!l.getPhoneProps(c,"number").editable)("phoneLabel",c.label)("phoneModel",c.number)}}function ne(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"span",8),o.YNc(2,te,1,13,"app-phone-edit",9),o.qZA(),o.BQk()),2&e){var n=t.$implicit;o.xp6(2),o.Q6J("ngIf","ext"!=n.type&&0==n.default)}}function ie(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-email",12),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.email=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(),a=i.$implicit;o.MGl("name","email-",i.index,""),o.s9C("p-error-pattern",o.lcZ(1,6,"m-email-invalid")),o.Q6J("p-label",a.label)("p-required",a.props.required)("p-disabled",!a.props.editable)("ngModel",a.email)}}function oe(e,t){if(1&e&&(o.ynx(0),o.YNc(1,ie,2,8,"po-email",11),o.BQk()),2&e){var n=t.$implicit;o.xp6(1),o.Q6J("ngIf",(null==n.props?null:n.props.visible)&&!n.default)}}function ae(e,t){if(1&e&&(o.ynx(0),o.YNc(1,ne,3,1,"ng-container",7),o.YNc(2,oe,2,1,"ng-container",7),o.BQk()),2&e){var n=o.oxw();o.xp6(1),o.Q6J("ngForOf",n.contactsView.phones),o.xp6(1),o.Q6J("ngForOf",null==n.contactsView?null:n.contactsView.emails)}}var re=function(){var e=function(){function e(t,n,i,a,r){h(this,e),this.profileHelper=t,this.profileService=n,this.appTranslateService=i,this.toastr=a,this.windowUtilService=r,this.close=new o.vpe}return m(e,[{key:"ngOnInit",value:function(){this.contactsView=this.profileHelper.clone(this.contacts)}},{key:"getPhoneProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"saveContacts",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileHelper.getTeamEmployeeId();case 2:t=e.sent,this.profileService.saveContacts(t,this.contactsView).then(function(e){n.profileHelper.showMessageSuccess("l-msg-save-success"),n.closeDialog(n.contactsView),n.windowUtilService.reloadPage()}).catch(function(e){n.profileHelper.showMessageError(e.message)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"closeDialog",value:function(e){this.close.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.e),o.Y36(d.H),o.Y36(K.g),o.Y36(X._W),o.Y36(ee.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-contacts-edit"]],inputs:{contacts:"contacts"},outputs:{close:"close"},decls:10,vars:8,consts:[["backIsVisible","true","pageTitle","l-contacts",3,"backFunction"],["contactsEditForm","ngForm"],[1,"po-row"],[4,"ngIf"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true","p-type","primary",3,"p-label","p-disabled","p-click"],[4,"ngFor","ngForOf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["DDDClass","po-sm-5 po-md-3 po-lg-3 po-xl-3","phoneClass","po-sm-7 po-md-6 po-lg-6 po-xl-6 label-overflow",3,"ngModel","name","showDDD","DDDName","DDDRequired","DDDDisabled","DDDModel","showPhone","phoneName","phoneRequired","phoneDisabled","phoneLabel","phoneModel","ngModelChange","DDDModelChange","phoneModelChange",4,"ngIf"],["DDDClass","po-sm-5 po-md-3 po-lg-3 po-xl-3","phoneClass","po-sm-7 po-md-6 po-lg-6 po-xl-6 label-overflow",3,"ngModel","name","showDDD","DDDName","DDDRequired","DDDDisabled","DDDModel","showPhone","phoneName","phoneRequired","phoneDisabled","phoneLabel","phoneModel","ngModelChange","DDDModelChange","phoneModelChange"],["p-icon","","p-clean","true","class","po-sm-12 po-md-7 po-lg-7 po-xl-7",3,"name","p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["p-icon","","p-clean","true",1,"po-sm-12","po-md-7","po-lg-7","po-xl-7",3,"name","p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.closeDialog()}),o.qZA(),o.TgZ(1,"form",null,1),o.TgZ(3,"div",2),o.YNc(4,ae,3,2,"ng-container",3),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"po-button",5),o.NdJ("p-click",function(){return t.closeDialog()}),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"po-button",6),o.NdJ("p-click",function(){return t.saveContacts()}),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.MAs(2);o.xp6(4),o.Q6J("ngIf",t.contactsView&&(null==t.contactsView?null:t.contactsView.phones)),o.xp6(2),o.s9C("p-label",o.lcZ(7,4,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(9,6,"l-confirm")),o.Q6J("p-disabled",!n.form.valid)}},directives:[x.q,y._Y,y.JL,y.F,w.O5,Z.bOz,w.sg,D,y.JJ,y.On,Z.Tji],pipes:[C.X$],styles:[".ddd[_ngcontent-%COMP%]{padding-right:8px!important}.label-edit[_ngcontent-%COMP%]{padding-left:8px}.cancel-button[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]     po-field-container-bottom .po-field-container-bottom{height:auto!important}"]}),e}(),se=["contactsEdit"];function ce(e,t){if(1&e&&(o.TgZ(0,"span",13),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.TgZ(3,"a",14),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit,i=o.oxw(2);o.xp6(2),o.Oqu(n.label),o.xp6(1),o.MGl("href","tel: ",i.formatPhone(n)," ? ''",o.LSH),o.xp6(2),o.Oqu(n.number?i.formatPhone(n):"-")}}function le(e,t){if(1&e&&(o.ynx(0),o.YNc(1,ce,6,3,"span",12),o.BQk()),2&e){var n,i=t.$implicit,a=o.oxw(2);o.xp6(1),o.Q6J("ngIf","ext"!=i.type&&0==i.default&&(null==(n=a.getPhoneProps(i,"number"))?null:n.visible))}}function ue(e,t){if(1&e&&(o.TgZ(0,"span",13),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.TgZ(3,"a",14),o.TgZ(4,"div",15),o._uU(5),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(n.label),o.xp6(1),o.MGl("href","mailto: ",n.email,"",o.LSH),o.xp6(2),o.Oqu(n.email?n.email:"-")}}function pe(e,t){if(1&e&&(o.ynx(0),o.YNc(1,ue,6,3,"span",12),o.BQk()),2&e){var n=t.$implicit;o.xp6(1),o.Q6J("ngIf",(null==n.props?null:n.props.visible)&&!n.default)}}function de(e,t){if(1&e&&(o.TgZ(0,"div",10),o.YNc(1,le,2,1,"ng-container",11),o.YNc(2,pe,2,1,"ng-container",11),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Q6J("ngForOf",n.contacts.phones),o.xp6(1),o.Q6J("ngForOf",n.contacts.emails)}}function ge(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",16),o.TgZ(1,"div",17),o.NdJ("click",function(){return o.CHM(n),o.oxw().openContactEdit()}),o._UZ(2,"span",18),o._uU(3,"\xa0 "),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"l-edit-information")))}var he=function(){var e=function(){function e(t){h(this,e),this.profileHelper=t,this.viewDialogIsVisible=!1}return m(e,[{key:"ngOnInit",value:function(){this.parsePhoneLabel(),this.parseEmailLabel()}},{key:"parseEmailLabel",value:function(){var e=this;this.contacts&&this.contacts.emails&&this.contacts.emails.forEach(function(t){e.profileHelper.getDefaultTypeLabel("email-"+t.type,t.label).then(function(e){return t.label=e})})}},{key:"parsePhoneLabel",value:function(){var e=this;this.contacts&&this.contacts.phones&&this.contacts.phones.forEach(function(t){e.profileHelper.getDefaultTypeLabel("phone-"+t.type,t.label).then(function(e){return t.label=e})})}},{key:"formatPhone",value:function(e){return this.profileHelper.formatPhone(e)}},{key:"openContactEdit",value:function(){this.viewDialogIsVisible=!0,this.contactsEdit.ngOnInit()}},{key:"closeDialog",value:function(e){this.viewDialogIsVisible=!1,e&&(this.contacts=e)}},{key:"getPhoneProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"editEnabled",value:function(e){var t=this;if(!e)return!1;var n=e.phones&&e.phones.filter(function(e){return!e.default}).some(function(e){return t.profileHelper.editEnabled(e,["number","ddd"])}),i=e.emails&&e.emails.filter(function(e){return!e.default}).some(function(e){return e.props&&e.props.editable});return n||i}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-contacts"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(se,5),2&e)&&(o.iGM(n=o.CRH())&&(t.contactsEdit=n.first))},inputs:{contacts:"contacts"},decls:12,vars:8,consts:[[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation"],[1,"panel-heading"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["class","panel-body po-row",4,"ngIf"],["class","panel-footer",4,"ngIf"],["id","contacts-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"contacts","close"],["contactsEdit",""],[1,"panel-body","po-row"],[4,"ngFor","ngForOf"],["class","po-sm-6 po-md-4 po-lg-3 po-xl-3 panel-item-group",4,"ngIf"],[1,"po-sm-6","po-md-4","po-lg-3","po-xl-3","panel-item-group"],[3,"href"],[1,"fit-text"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"span",3),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.YNc(6,de,3,2,"div",4),o.YNc(7,ge,7,3,"div",5),o.qZA(),o.qZA(),o.TgZ(8,"app-dialog",6),o.NdJ("closeDialogEvent",function(){return t.closeDialog()}),o.TgZ(9,"div",7),o.TgZ(10,"app-contacts-edit",8,9),o.NdJ("close",function(e){return t.closeDialog(e)}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Oqu(o.lcZ(5,6,"l-contacts")),o.xp6(2),o.Q6J("ngIf",t.contacts&&t.contacts.phones),o.xp6(1),o.Q6J("ngIf",t.editEnabled(t.contacts)),o.xp6(1),o.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),o.xp6(2),o.Q6J("contacts",t.contacts))},directives:[w.O5,J.a,re,w.sg],pipes:[C.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e}(),fe=n(98348),me=n(2187),ve=n(92060),be=n(69030);function xe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",19),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.addressType.name=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-address-type")),o.Q6J("p-required",i.getAddressProps(i.addressView,"addressType").required)("p-disabled",!i.getAddressProps(i.addressView,"addressType").editable)("ngModel",i.addressView.addressType.name)}}function ye(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",20),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.name=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-address")),o.Q6J("p-required",i.getAddressProps(i.addressView,"name").required)("p-disabled",!i.getAddressProps(i.addressView,"name").editable)("ngModel",i.addressView.name)}}function we(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",21),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.number=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-number")),o.Q6J("p-required",i.getAddressProps(i.addressView,"number").required)("p-disabled",!i.getAddressProps(i.addressView,"number").editable)("ngModel",i.addressView.number)}}function Ze(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",22),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.complement=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-complement")),o.Q6J("p-required",i.getAddressProps(i.addressView,"complement").required)("p-disabled",!i.getAddressProps(i.addressView,"complement").editable)("ngModel",i.addressView.complement)}}function Ce(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",23),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.neighborhood=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-neighborhood")),o.Q6J("p-required",i.getAddressProps(i.addressView,"neighborhood").required)("p-disabled",!i.getAddressProps(i.addressView,"neighborhood").editable)("ngModel",i.addressView.neighborhood)}}function Me(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",24),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.zipcode=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-zip-code")),o.Q6J("p-required",i.getAddressProps(i.addressView,"zipCode").required)("p-disabled",!i.getAddressProps(i.addressView,"zipCode").editable)("ngModel",i.addressView.zipcode)}}function ke(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-combo",25),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).country=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,5,"l-country")),o.Q6J("p-required",i.getAddressProps(i.addressView,"city.state.country").required)("p-disabled",!i.getAddressProps(i.addressView,"city.state.country").editable)("ngModel",i.country)("p-filter-service",i.countryComboService)}}function Ae(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-combo",26),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.city.state.id=e})("p-change",function(){return o.CHM(n),o.oxw(2).changeState()}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,6,"l-state")),o.Q6J("p-required",i.getAddressProps(i.addressView,"city.state").required)("p-disabled",!i.getAddressProps(i.addressView,"city.state").editable)("ngModel",i.addressView.city.state.id)("p-filter-service",i.stateComboService)("p-filter-params",i.country)}}function Pe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-combo",27),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.city.id=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,5,"l-city")),o.Q6J("p-required",i.getAddressProps(i.addressView,"city").required)("p-disabled",!i.getAddressProps(i.addressView,"city").editable)("ngModel",i.addressView.city.id)("p-options",i.cityOptions)}}function Oe(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",28),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw(2).addressView.city.name=e}),o.ALo(1,"translate"),o.qZA()}if(2&e){var i=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-city")),o.Q6J("p-required",i.getAddressProps(i.addressView,"city").required)("p-disabled",!i.getAddressProps(i.addressView,"city").editable)("ngModel",i.addressView.city.name)}}function qe(e,t){if(1&e&&(o.TgZ(0,"div",7),o.TgZ(1,"div",8),o.YNc(2,xe,2,6,"po-input",9),o.YNc(3,ye,2,6,"po-input",10),o.YNc(4,we,2,6,"po-input",11),o.YNc(5,Ze,2,6,"po-input",12),o.YNc(6,Ce,2,6,"po-input",13),o.YNc(7,Me,2,6,"po-input",14),o.YNc(8,ke,2,7,"po-combo",15),o.YNc(9,Ae,2,8,"po-combo",16),o.YNc(10,Pe,2,7,"po-combo",17),o.YNc(11,Oe,2,6,"po-input",18),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Q6J("ngIf",n.getAddressProps(n.addressView,"addressType").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"name").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"number").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"complement").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"neighborhood").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"zipCode").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"city.state.country").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"city.state").visible),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"city").visible&&n.isDatasul()),o.xp6(1),o.Q6J("ngIf",n.getAddressProps(n.addressView,"city").visible&&!n.isDatasul())}}var Te=function(){var e=function(){function e(t,n,i,a,r){h(this,e),this.countryComboService=t,this.stateComboService=n,this.localeService=i,this.profileService=a,this.profileHelper=r,this.close=new o.vpe,this.employeeCard=new g.J,this.cityOptions=[],this.countryOptions=[],this.stateOptions=[]}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.addressView=this.profileHelper.clone(this.address),this.createObjectEmpty(),this.country=void 0,this.address&&this.address.city&&(this.country=this.getCountry(this.address.city)),this.countryComboService.getFilteredData({value:""}).subscribe(function(t){e.countryOptions=t}),this.stateComboService.getFilteredData({value:""},this.country).subscribe(function(t){e.stateOptions=t}),this.isDatasul()&&this.changeState()}},{key:"isDatasul",value:function(){return fe.ZP.isErpDatasul()}},{key:"viewIsDefined",value:function(){return void 0!==this.addressView}},{key:"getAddressProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"getCountry",value:function(e){return this.profileHelper.getCountryId(e)}},{key:"closeDialog",value:function(e,t){t||(this.country="",this.addressView.city.state.id="",this.addressView.city.id=""),this.close.emit(e)}},{key:"changeCountry",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.country||(this.addressView.city.state.id="",this.addressView.city.name="");case 1:case"end":return e.stop()}},e,this)}))}},{key:"changeState",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.localeService.getCities(void 0,void 0,void 0,this.addressView.city.state.id).then(function(e){var n,i;if(e.items){var o=null===(i=null===(n=t.addressView)||void 0===n?void 0:n.city)||void 0===i?void 0:i.id;t.cityOptions=e.items.map(function(e){return{value:e.id,label:e.name}}),t.addressView.city.id=null,setTimeout(function(){t.addressView.city.id=o},0)}});case 1:case"end":return e.stop()}},e,this)}))}},{key:"saveAddress",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileHelper.getTeamEmployeeId();case 2:t=e.sent,this.validateAddress()&&(this.checkAddressType(),this.profileHelper.processState(this.addressView.city).then(function(e){return n.addressView.city=e}).then(function(){return n.profileHelper.processCountry(n.addressView.city,n.country)}).then(function(e){return n.addressView.city=e}).then(function(){n.isDatasul()&&n.profileHelper.processCity(n.addressView.city)}).then(function(){n.isDatasul()&&n.addressView.city&&(n.addressView.city.name=n.cityOptions.filter(function(e){return e.value===n.addressView.city.id})[0].label),n.profileService.saveAddress(t,n.addressView).then(function(){n.profileHelper.showMessageSuccess("l-msg-save-success"),n.closeDialog(n.addressView,!0)}).catch(function(e){n.profileHelper.showMessageError(e.message)})}));case 4:case"end":return e.stop()}},e,this)}))}},{key:"checkAddressType",value:function(){this.addressView&&this.addressView.addressType&&void 0===this.addressView.addressType.id&&(this.addressView.addressType=void 0)}},{key:"createObjectEmpty",value:function(){this.addressView.addressType||(this.addressView.addressType={name:void 0,id:void 0}),this.addressView.city||(this.addressView.city={id:void 0,name:void 0,state:{id:void 0,abbr:void 0,name:void 0}})}},{key:"validateAddress",value:function(){var e,t,n;return null==this.addressView?(this.profileHelper.showMessageError("l-address-required"),!1):this.country?null!=(null===(e=this.addressView.city)||void 0===e?void 0:e.state)&&(null===(t=this.addressView.city)||void 0===t?void 0:t.state.id)&&(null===(n=this.addressView.city)||void 0===n?void 0:n.state.id.trim())?(!this.isDatasul()||null!=this.addressView.city&&this.addressView.city.id)&&!!(this.isDatasul()||null!=this.addressView.city&&this.addressView.city.name&&this.addressView.city.name.trim())||(this.profileHelper.showMessageError("l-city-required"),!1):(this.profileHelper.showMessageError("l-state-required"),!1):(this.profileHelper.showMessageError("l-country-required"),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(me.p),o.Y36(be.H),o.Y36(ve.O),o.Y36(d.H),o.Y36(v.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-address-edit"]],inputs:{address:"address"},outputs:{close:"close"},decls:10,vars:8,consts:[["backIsVisible","true","pageTitle","l-address",3,"backFunction"],["addressEditForm","ngForm"],["class","po-row",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"pull-right"],[1,"cancel-button",3,"p-label","p-click"],["p-primary","true","p-type","primary",3,"p-disabled","p-label","p-click"],[1,"po-row"],[1,"panel-item-group"],["name","address-type","p-clean","true","class","po-sm-12 po-md-3 po-lg-3 po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","address","p-clean","true","class","po-sm-12 po-md-9 po-lg-9 po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","number","p-clean","true","class","po-sm-12 po-md-3 po-lg-3 po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","complement","p-clean","true","class","po-sm-12 po-md-9 po-lg-9 po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","neighborhood","p-clean","true","class","po-sm-12 po-md-9 po-lg-9 po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","zipcode","p-clean","true","class","po-sm-12 po-md-6 po-lg-3 po-xl-3","p-pattern","^\\d{8}$",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","combo-country","p-field-label","name","p-field-value","id","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","ngModelChange",4,"ngIf"],["name","combo-state","p-field-label","name","p-field-value","id","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","p-filter-params","ngModelChange","p-change",4,"ngIf"],["name","combo-city","p-filter-minlength","3","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-options","ngModelChange",4,"ngIf"],["name","city","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","address-type","p-clean","true",1,"po-sm-12","po-md-3","po-lg-3","po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","address","p-clean","true",1,"po-sm-12","po-md-9","po-lg-9","po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","number","p-clean","true",1,"po-sm-12","po-md-3","po-lg-3","po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","complement","p-clean","true",1,"po-sm-12","po-md-9","po-lg-9","po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","neighborhood","p-clean","true",1,"po-sm-12","po-md-9","po-lg-9","po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","zipcode","p-clean","true","p-pattern","^\\d{8}$",1,"po-sm-12","po-md-6","po-lg-3","po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","combo-country","p-field-label","name","p-field-value","id",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","ngModelChange"],["name","combo-state","p-field-label","name","p-field-value","id",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","p-filter-params","ngModelChange","p-change"],["name","combo-city","p-filter-minlength","3",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-options","ngModelChange"],["name","city",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.closeDialog()}),o.qZA(),o.TgZ(1,"form",null,1),o.YNc(3,qe,12,10,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"po-button",5),o.NdJ("p-click",function(){return t.closeDialog()}),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"po-button",6),o.NdJ("p-click",function(){return t.saveAddress()}),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.MAs(2);o.xp6(3),o.Q6J("ngIf",t.viewIsDefined()),o.xp6(3),o.s9C("p-label",o.lcZ(7,4,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(9,6,"l-confirm")),o.Q6J("p-disabled",!n.form.valid)}},directives:[x.q,y._Y,y.JL,y.F,w.O5,Z.bOz,Z.xxV,y.JJ,y.On,Z.ZZR],pipes:[C.X$],styles:[".cancel-button[_ngcontent-%COMP%]{margin-right:16px}"]}),e}(),_e=["addressEdit"];function Se(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-zip-code")),o.xp6(3),o.Oqu(n.zipcode?n.zipcode:"-")}}function Ie(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-address-type")),o.xp6(3),o.Oqu(n.addressType&&n.addressType.name?n.addressType.name:"-")}}function De(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-address")),o.xp6(3),o.Oqu(n.name?n.name:"-")}}function Le(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-number")),o.xp6(3),o.Oqu(n.number?n.number:"-")}}function Re(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-complement")),o.xp6(3),o.Oqu(n.complement?n.complement:"-")}}function Ne(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-neighborhood")),o.xp6(3),o.Oqu(n.neighborhood?n.neighborhood:"-")}}function Ee(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-city")),o.xp6(3),o.Oqu(n.city.name?n.city.name:"-")}}function Ue(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-state")),o.xp6(3),o.hij(" ",n.city&&n.city.state&&n.city.state.name?n.city.state.name:"-"," ")}}function Fe(e,t){if(1&e&&(o.TgZ(0,"span",12),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit,i=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-country")),o.xp6(3),o.Oqu(i.getCountry(n.city)?i.getCountry(n.city):"-")}}function Je(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14),o.NdJ("click",function(){o.CHM(n);var e=o.oxw().$implicit;return o.oxw().openAddressEdit(e)}),o._UZ(2,"span",15),o._uU(3,"\xa0 "),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"l-edit-information")))}function Ve(e,t){if(1&e&&(o.TgZ(0,"div",6),o.TgZ(1,"div",7),o.TgZ(2,"span",8),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",9),o.YNc(6,Se,6,4,"span",10),o.YNc(7,Ie,6,4,"span",10),o.YNc(8,De,6,4,"span",10),o.YNc(9,Le,6,4,"span",10),o.YNc(10,Re,6,4,"span",10),o.YNc(11,Ne,6,4,"span",10),o.YNc(12,Ee,6,4,"span",10),o.YNc(13,Ue,6,4,"span",10),o.YNc(14,Fe,6,4,"span",10),o.qZA(),o.YNc(15,Je,7,3,"div",11),o.qZA()),2&e){var n=t.$implicit,i=o.oxw();o.xp6(3),o.Oqu(o.lcZ(4,11,"l-address")),o.xp6(3),o.Q6J("ngIf",i.getAddressProps(n,"zipcode").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"addressType").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"name").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"number").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"complement").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"neighborhood").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"city").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"city.state").visible),o.xp6(1),o.Q6J("ngIf",i.getAddressProps(n,"city.state.country").visible),o.xp6(1),o.Q6J("ngIf",i.editEnabled(n))}}var Ye=function(){var e=function(){function e(t){h(this,e),this.profileHelper=t,this.viewDialogIsVisible=!1}return m(e,[{key:"getCountry",value:function(e){if(e)return this.profileHelper.getCountryName(e)}},{key:"openAddressEdit",value:function(e){this.viewDialogIsVisible=!0,this.addressEdit.address=e,this.addressEdit.ngOnInit()}},{key:"getAddressProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"closeDialog",value:function(e){if(e){var t=[];this.addresses.forEach(function(n){t.push(n.id===e.id?e:n)}),this.addresses=t}this.viewDialogIsVisible=!1}},{key:"editEnabled",value:function(e){return this.profileHelper.editEnabled(e,["addressType","name","number","complement","neighborhood","zipcode","city.state.country","city.state","city"])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(v.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-address"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(_e,5),2&e)&&(o.iGM(n=o.CRH())&&(t.addressEdit=n.first))},inputs:{addresses:"addresses"},decls:6,vars:3,consts:[[1,"po-row"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 panel panel-default-box-shadow fadein-animation",4,"ngFor","ngForOf"],["id","address-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"close"],["addressEdit",""],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation"],[1,"panel-heading"],[1,"po-sm-12"],[1,"panel-body","po-row"],["class","po-sm-6 po-md-4 po-lg-3 po-xl-3 panel-item-group",4,"ngIf"],["class","panel-footer",4,"ngIf"],[1,"po-sm-6","po-md-4","po-lg-3","po-xl-3","panel-item-group"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Ve,16,13,"div",1),o.qZA(),o.TgZ(2,"app-dialog",2),o.NdJ("closeDialogEvent",function(){return t.closeDialog()}),o.TgZ(3,"div",3),o.TgZ(4,"app-address-edit",4,5),o.NdJ("close",function(e){return t.closeDialog(e)}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",t.addresses),o.xp6(1),o.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1))},directives:[w.sg,J.a,Te,w.O5],pipes:[C.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e}(),ze=["generalEdit"];function Qe(e,t){if(1&e&&(o.TgZ(0,"span",23),o.TgZ(1,"div",24),o._uU(2),o.qZA(),o.TgZ(3,"div"),o._uU(4),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(n.profile.summary.name),o.xp6(2),o.Oqu(n.checkingScreenInformation(n.profile.summary.roleDescription))}}function Ge(e,t){if(1&e&&(o.TgZ(0,"span",25),o.TgZ(1,"div",24),o._uU(2),o.qZA(),o.TgZ(3,"div"),o._uU(4),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(n.profile.summary.name),o.xp6(2),o.Oqu(n.checkingScreenInformation(n.profile.summary.roleDescription))}}function He(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-level")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.profile.positionLevel))}}function Be(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-registry")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.profile.registry))}}function je(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-age")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.age))}}function $e(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-department")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.profile.department))}}function We(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"l-team")))}function Ke(e,t){if(1&e&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&e){var n=t.$implicit,i=o.oxw(2);o.xp6(1),o.Oqu(i.checkingScreenInformation(n.name))}}function Xe(e,t){if(1&e&&(o.TgZ(0,"span",26),o.YNc(1,We,3,3,"div",27),o.YNc(2,Ke,2,1,"div",27),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Q6J("ngForOf",n.profile.teams),o.xp6(1),o.Q6J("ngForOf",n.profile.teams)}}function et(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-boss")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.profile.coordinator.name))}}function tt(e,t){if(1&e&&(o.TgZ(0,"span",28),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"a",29),o.TgZ(5,"div",30),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,3,"l-email")),o.xp6(2),o.MGl("href","mailto: ",n.email.email,"",o.LSH),o.xp6(2),o.Oqu(n.checkingScreenInformation(n.email.email))}}function nt(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"a",29),o.TgZ(5,"div"),o._uU(6),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,3,"l-phone-work")),o.xp6(2),o.MGl("href","tel: ",n.phoneOrganize(n.phone)," ? ''",o.LSH),o.xp6(2),o.Oqu(n.phoneOrganize(n.checkingScreenInformation(n.phone)))}}function it(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-phone-ext")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.extension.number))}}function ot(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-admission-date")),o.xp6(3),o.Oqu(n.checkingScreenInformation(n.getFormatedDate(n.profile.admissionDate)))}}function at(e,t){1&e&&o._UZ(0,"img",35)}function rt(e,t){1&e&&o._UZ(0,"img",36)}function st(e,t){if(1&e&&(o.TgZ(0,"a",29),o._uU(1),o.qZA()),2&e){var n=o.oxw().$implicit;o.s9C("href",n.url,o.LSH),o.xp6(1),o.Oqu(n.type)}}function ct(e,t){if(1&e&&(o.TgZ(0,"span",26),o.TgZ(1,"div"),o.YNc(2,at,1,0,"img",32),o.YNc(3,rt,1,0,"img",33),o.YNc(4,st,2,2,"a",34),o.qZA(),o.qZA()),2&e){var n=t.$implicit;o.xp6(2),o.Q6J("ngIf",n.type&&"fluig"===n.type),o.xp6(1),o.Q6J("ngIf",n.type&&"linkedin"===n.type),o.xp6(1),o.Q6J("ngIf",n.type)}}function lt(e,t){if(1&e&&(o.TgZ(0,"span",0),o.YNc(1,ct,5,3,"span",31),o.qZA()),2&e){var n=o.oxw();o.xp6(1),o.Q6J("ngForOf",n.profile.webReferences)}}function ut(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",37),o.TgZ(1,"div",38),o.NdJ("click",function(){return o.CHM(n),o.oxw().openGeneralEdit()}),o._UZ(2,"span",39),o._uU(3,"\xa0 "),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"l-edit-information")))}function pt(e,t){if(1&e&&o._UZ(0,"app-personal",40),2&e){var n=o.oxw();o.Q6J("profile",n.profile)}}function dt(e,t){if(1&e&&o._UZ(0,"app-contacts",41),2&e){var n=o.oxw();o.Q6J("contacts",n.profile.contacts)}}function gt(e,t){if(1&e&&o._UZ(0,"app-address",42),2&e){var n=o.oxw();o.Q6J("addresses",n.profile.addresses)}}var ht=function(e){return{"background-image":e}},ft=function(){var e=function(){function e(t,n,i,o,a){h(this,e),this.profileService=t,this.profileHelper=n,this.teamManagementService=i,this.momentService=o,this.router=a,this.viewDialogIsVisible=!1,this.employeeId=N.N.loggedUser,this.employeeCard=new g.J}return m(e,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"initializeComponent",value:function(){this.getEmployee(),this.getProfile(),this.getImage()}},{key:"getEmployee",value:function(){this.employeeCard=this.teamManagementService.getEmployeeCard(),this.employeeCard&&this.employeeCard.employee&&(this.employeeId=this.employeeCard.employee.id)}},{key:"getImage",value:function(){var e=this;this.avatarImage="./assets/img/empty_user.png",this.profileService.getImageBase64(this.employeeId).then(function(t){t&&t.content&&(e.avatarImage="data:image/"+(t.type||"png")+";base64,"+t.content)})}},{key:"getProfile",value:function(){var e=this;this.profileService.getProfile(this.employeeId).then(function(t){t&&(e.profile=t,e.age=f.Em.diffInYears(new Date(t.personalData.bornDate)),e.email=e.profileHelper.getDefaultEmail(t.contacts.emails),e.phone=e.profileHelper.geDefaultPhoneAndExtension(t.contacts.phones,!0),e.extension=e.profileHelper.geDefaultPhoneAndExtension(t.contacts.phones,!1))}).catch(function(){e.router.navigateByUrl("/home")})}},{key:"phoneOrganize",value:function(e){return this.profileHelper.formatPhone(e)}},{key:"openGeneral",value:function(){this.initializeComponent()}},{key:"openGeneralEdit",value:function(){this.viewDialogIsVisible=!0,this.generalEdit.ngOnInit()}},{key:"checkingScreenInformation",value:function(e){return e||"-"}},{key:"closeDialog",value:function(e){this.viewDialogIsVisible=!1,e&&(this.profile=e)}},{key:"getPhoneProps",value:function(e,t){return this.profileHelper.getProps(e,t)}},{key:"getTeamProps",value:function(e,t){return this.profileHelper.getProps(e,t).visible}},{key:"editEnabled",value:function(e){if(!e)return!1;var t=e.contacts&&e.contacts.emails&&this.profileHelper.getDefaultEmail(e.contacts.emails),n=e.contacts&&e.contacts.phones&&this.profileHelper.geDefaultPhoneAndExtension(e.contacts.phones,!0),i=e.contacts&&e.contacts.phones&&this.profileHelper.geDefaultPhoneAndExtension(e.contacts.phones,!1),o=t&&t.props&&t.props.editable,a=n&&n.props&&this.profileHelper.editEnabled(n,["number","ddd"]),r=i&&i.props&&this.profileHelper.editEnabled(i,["number"]);return o||a||r}},{key:"getFormatedDate",value:function(e){return this.momentService.getInstance(e).utc().format("L")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(d.H),o.Y36(v.e),o.Y36(E.C),o.Y36(U.z),o.Y36(F.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-general-information"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(ze,5),2&e)&&(o.iGM(n=o.CRH())&&(t.generalEdit=n.first))},decls:33,vars:29,consts:[[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","profile-box","fadein-animation"],[1,"panel-body","information-panel"],[1,"po-sm-12","po-md-3","panel-item-group","po-text-center","po-visible-sm","po-hidden-md"],[1,"avatar-big",3,"ngStyle"],[1,"po-sm-12","po-md-3","panel-item-group","po-hidden-md","po-visible-lg","po-visible-xl"],[1,"po-sm-12","po-md-3","panel-item-group","po-hidden-sm","po-visible-md","po-hidden-lg"],[1,"avatar-medium",3,"ngStyle"],[1,"po-sm-12","po-md-9","po-lg-9","po-xl-9"],["class","po-sm-12 panel-item-group po-text-center po-visible-sm po-hidden-md po-hidden-xl po-hidden-lg",4,"ngIf"],["class","po-md-12 po-xl-12 po-lg-12 panel-item-group po-visible-md po-visible-lg po-visible-xl po-hidden-sm",4,"ngIf"],[1,"space"],["class","po-sm-6 po-md-6 po-lg-4 po-xl-4 panel-item-group",4,"ngIf"],["class","po-sm-12 po-md-4 po-lg-4 po-xl-4 panel-item-group",4,"ngIf"],["class","po-row",4,"ngIf"],["class","panel-footer",4,"ngIf"],["id","genetal-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"profile","close"],["generalEdit",""],[3,"profile",4,"ngIf"],[3,"contacts",4,"ngIf"],[3,"addresses",4,"ngIf"],[1,"po-sm-12","panel-item-group","po-text-center","po-visible-sm","po-hidden-md","po-hidden-xl","po-hidden-lg"],[1,"title-profile"],[1,"po-md-12","po-xl-12","po-lg-12","panel-item-group","po-visible-md","po-visible-lg","po-visible-xl","po-hidden-sm"],[1,"po-sm-6","po-md-6","po-lg-4","po-xl-4","panel-item-group"],[4,"ngFor","ngForOf"],[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4","panel-item-group"],[3,"href"],[1,"fit-text"],["class","po-sm-6 po-md-6 po-lg-4 po-xl-4 panel-item-group",4,"ngFor","ngForOf"],["src","../../assets/img/fluig.jpg","alt","no-photo","width","50",4,"ngIf"],["src","../../assets/img/linkedin.png","alt","no-photo","width","50",4,"ngIf"],[3,"href",4,"ngIf"],["src","../../assets/img/fluig.jpg","alt","no-photo","width","50"],["src","../../assets/img/linkedin.png","alt","no-photo","width","50"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"],[3,"profile"],[3,"contacts"],[3,"addresses"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",0),o.TgZ(4,"div",3),o._UZ(5,"div",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",4),o.qZA(),o.TgZ(8,"div",6),o._UZ(9,"div",7),o.qZA(),o.TgZ(10,"div",8),o.YNc(11,Qe,5,2,"span",9),o.YNc(12,Ge,5,2,"span",10),o._UZ(13,"div",11),o.YNc(14,He,6,4,"span",12),o.YNc(15,Be,6,4,"span",12),o.YNc(16,je,6,4,"span",12),o.YNc(17,$e,6,4,"span",12),o.YNc(18,Xe,3,2,"span",12),o.YNc(19,et,6,4,"span",12),o.YNc(20,tt,7,5,"span",13),o.YNc(21,nt,7,5,"span",12),o.YNc(22,it,6,4,"span",12),o.YNc(23,ot,6,4,"span",12),o.YNc(24,lt,2,1,"span",14),o.qZA(),o.qZA(),o.qZA(),o.YNc(25,ut,7,3,"div",15),o.qZA(),o.qZA(),o.TgZ(26,"app-dialog",16),o.NdJ("closeDialogEvent",function(){return t.closeDialog()}),o.TgZ(27,"div",17),o.TgZ(28,"app-general-information-edit",18,19),o.NdJ("close",function(e){return t.closeDialog(e)}),o.qZA(),o.qZA(),o.qZA(),o.YNc(30,pt,1,1,"app-personal",20),o.YNc(31,dt,1,1,"app-contacts",21),o.YNc(32,gt,1,1,"app-address",22)),2&e&&(o.xp6(5),o.Q6J("ngStyle",o.VKq(23,ht,"url("+t.avatarImage+")")),o.xp6(2),o.Q6J("ngStyle",o.VKq(25,ht,"url("+t.avatarImage+")")),o.xp6(2),o.Q6J("ngStyle",o.VKq(27,ht,"url("+t.avatarImage+")")),o.xp6(2),o.Q6J("ngIf",t.profile&&t.profile.summary),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.summary),o.xp6(2),o.Q6J("ngIf",t.profile&&t.profile.positionLevel),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.registry),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.registry),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.admissionDate),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.teams&&t.getTeamProps(t.profile,"teams.name")),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.coordinator&&t.profile.coordinator.name),o.xp6(1),o.Q6J("ngIf",t.email&&t.email.email&&t.email.props&&t.email.props.visible),o.xp6(1),o.Q6J("ngIf",t.phone&&t.phone.number&&t.getPhoneProps(t.phone,"number").visible),o.xp6(1),o.Q6J("ngIf",t.extension&&t.extension.number&&t.getPhoneProps(t.extension,"number").visible),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.admissionDate),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.webReferences),o.xp6(1),o.Q6J("ngIf",t.editEnabled(t.profile)),o.xp6(1),o.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),o.xp6(2),o.Q6J("profile",t.profile),o.xp6(2),o.Q6J("ngIf",t.profile),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.contacts),o.xp6(1),o.Q6J("ngIf",t.profile&&t.profile.addresses))},directives:[w.PC,w.O5,J.a,R,w.sg,W,he,Ye],pipes:[C.X$],styles:[".general-header[_ngcontent-%COMP%]{margin-top:70px}.avatar-big[_ngcontent-%COMP%]{width:180px;height:180px;-webkit-border-radius:90px;-webkit-background-clip:padding-box;-moz-border-radius:90px;-moz-background-clip:padding;border-radius:90px;background-clip:padding-box;background-size:cover;background-position:center center;border:2px solid rgba(100,100,160,.1);margin-bottom:10px;margin-right:8px;margin-top:6px;display:inline-block}.avatar-medium[_ngcontent-%COMP%]{width:96px;height:96px;-webkit-border-radius:48px;-webkit-background-clip:padding-box;-moz-border-radius:48px;-moz-background-clip:padding;border-radius:48px;background-clip:padding-box;background-size:cover;background-position:center center;border:2px solid rgba(100,100,160,.1);margin-bottom:10px;margin-right:8px;margin-top:6px;display:inline-block}.general-label[_ngcontent-%COMP%]{font-weight:bold;color:#9b9b9b}.general-value[_ngcontent-%COMP%]{font-weight:bold}#div-profile-summary[_ngcontent-%COMP%]{font-size:17px}.name[_ngcontent-%COMP%]{font-weight:bold;color:#302462}.margin-top[_ngcontent-%COMP%]{margin-top:12px}.title-profile[_ngcontent-%COMP%]{font-family:NunitoSans-bold;font-size:18px;color:#2b3639}.space[_ngcontent-%COMP%]{display:block;height:16px;padding:0 8px;float:left;width:100%}.information-panel[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}"]}),e}(),mt=n(37503),vt=n(64634),bt=n(96054);function xt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-input",9),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().$implicit.value=e}),o.qZA()}if(2&e){var i=o.oxw(),a=i.$implicit;o.MGl("name","document-",i.index,""),o.Q6J("p-label",a.label)("p-required",a.props.required)("p-disabled",!a.props.editable)("ngModel",a.value)}}function yt(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"po-datepicker",9),o.NdJ("ngModelChange",function(e){o.CHM(n);var t=o.oxw().index;return o.oxw().fieldsDateModel[t]=e}),o.qZA()}if(2&e){var i=o.oxw(),a=i.index,r=i.$implicit,s=o.oxw();o.MGl("name","document-",a,"-date"),o.Q6J("p-label",r.label)("p-required",r.props.required)("p-disabled",!r.props.editable)("ngModel",s.fieldsDateModel[a])}}function wt(e,t){if(1&e&&(o.TgZ(0,"div",7),o.YNc(1,xt,1,5,"po-input",8),o.YNc(2,yt,1,5,"po-datepicker",8),o.qZA()),2&e){var n=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",n&&n.props&&n.props.visible&&!i.isDateField(n)),o.xp6(1),o.Q6J("ngIf",n&&n.props&&n.props.visible&&i.isDateField(n))}}var Zt=function(){var e=function(){function e(t,n,i,a){h(this,e),this.profileService=t,this.profileHelper=n,this.appTranslateService=i,this.notificationService=a,this.employeeCard=new g.J,this.close=new o.vpe,this.fieldsDateModel=new Array}return m(e,[{key:"document",get:function(){return this._document},set:function(e){var t=$.extend(!0,{},e);this.fieldsDateModel=this.extractModelList(t),this._document=t}},{key:"ngOnInit",value:function(){}},{key:"saveDocument",value:function(){return(0,b.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileHelper.getTeamEmployeeId();case 2:t=e.sent,this._document=this.proccessModelList(this.document,this.fieldsDateModel),this.profileService.saveDocument(t,this._document).then(function(e){n.showMessageSuccess("l-msg-save-success"),n.closeDialog(n.document)}).catch(function(e){n.showMessageError(e.message)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"showMessageError",value:function(e){var t=this;this.appTranslateService.getI18n(e).then(function(e){t.notificationService.showNotification(e,Z.ik9.Error)})}},{key:"showMessageSuccess",value:function(e){var t=this;this.appTranslateService.getI18n(e).then(function(e){t.notificationService.showNotification(e,Z.ik9.Success)})}},{key:"closeDialog",value:function(e){e?this.close.emit(e):this.close.emit()}},{key:"isDateField",value:function(e){return this.isDateType(e)||this.isDateMask(e)}},{key:"isDateType",value:function(e){return e&&e.type&&-1!==e.type.toString().toLocaleLowerCase().lastIndexOf("date")}},{key:"isDateMask",value:function(e){return e&&e.mask&&0===e.mask.indexOf("date:")}},{key:"extractModelList",value:function(e){var t,n=this;return e&&e.fields?(t=new Array(e.fields.length),e.fields.forEach(function(e,i){n.isDateField(e)&&e.value&&(t[i]=f.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.value)))})):t=new Array,t}},{key:"proccessModelList",value:function(e,t){if(e&&t){if(e.fields.length!==t.length)throw new TypeError("Mensagem Desenvolvedor: Lista de campos de edi\xe7\xe3o e lista espelho edi\xe7\xe3o com tamanho diferente");t.forEach(function(t,n){t&&(e.fields[n].value="string"==typeof t?new Date(t.toString()).toISOString():t.toISOString())})}return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(d.H),o.Y36(v.e),o.Y36(K.g),o.Y36(bt.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-document-edit"]],inputs:{document:"document"},outputs:{close:"close"},decls:10,vars:8,consts:[["backIsVisible","true","pageTitle","l-documents",3,"backFunction"],["documentEditForm","ngForm"],[1,"po-row"],["class","po-sm-12 po-md-6 po-lg-6 po-xl-6 panel-item-group",4,"ngFor","ngForOf"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true",3,"p-label","p-disabled","p-click"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","panel-item-group"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.closeDialog()}),o.qZA(),o.TgZ(1,"form",null,1),o.TgZ(3,"div",2),o.YNc(4,wt,3,2,"div",3),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"po-button",5),o.NdJ("p-click",function(){return t.closeDialog(null)}),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"po-button",6),o.NdJ("p-click",function(){return t.saveDocument()}),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.MAs(2);o.xp6(4),o.Q6J("ngForOf",null==t.document?null:t.document.fields),o.xp6(2),o.s9C("p-label",o.lcZ(7,4,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(9,6,"l-confirm")),o.Q6J("p-disabled",!n.form.valid)}},directives:[x.q,y._Y,y.JL,y.F,w.sg,Z.bOz,w.O5,Z.xxV,y.JJ,y.On,Z.GWy],pipes:[C.X$],styles:[""]}),e}(),Ct=["documentEditView"];function Mt(e,t){if(1&e&&(o.TgZ(0,"span",13),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o._uU(5),o.qZA(),o.qZA()),2&e){var n=o.oxw().$implicit,i=o.oxw(2);o.xp6(2),o.Oqu(o.lcZ(3,2,n.label)),o.xp6(3),o.Oqu(i.formatField(n))}}function kt(e,t){if(1&e&&(o.ynx(0),o.YNc(1,Mt,6,4,"span",12),o.BQk()),2&e){var n=t.$implicit;o.xp6(1),o.Q6J("ngIf",n&&n.props&&n.props.visible)}}function At(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"div",14),o.TgZ(1,"div",15),o.NdJ("click",function(){o.CHM(n);var e=o.oxw(),t=e.$implicit,i=e.index;return o.oxw().editDocument(t,i)}),o._UZ(2,"span",16),o._uU(3,"\xa0 "),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"l-edit-information")))}function Pt(e,t){if(1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o.TgZ(2,"div",7),o.TgZ(3,"span",8),o._uU(4),o.qZA(),o.qZA(),o.TgZ(5,"div",9),o.YNc(6,kt,2,1,"ng-container",10),o.qZA(),o.YNc(7,At,7,3,"div",11),o.qZA(),o.qZA()),2&e){var n=t.$implicit,i=o.oxw();o.xp6(1),o.s9C("id",i.formatId(n.label)),o.xp6(3),o.Oqu(n.label),o.xp6(2),o.Q6J("ngForOf",n.fields),o.xp6(1),o.Q6J("ngIf",i.getDocumentEditable(n))}}var Ot=function(){var e=function(){function e(t,n){h(this,e),this.momentJsService=t,this.profileHelper=n,this._viewDialogIsVisible=!1,this._selectedDocumentEditing=void 0,this._selectedIndexDocumentEditing=0,this._documentsView=new Array}return m(e,[{key:"documentsView",get:function(){return this._documentsView},set:function(e){this._documentsView=e}},{key:"viewDialogIsVisible",get:function(){return this._viewDialogIsVisible}},{key:"selectedDocumentEditing",get:function(){return this._selectedDocumentEditing}},{key:"selectedIndexDocumentEditing",get:function(){return this._selectedIndexDocumentEditing}},{key:"ngOnInit",value:function(){this.processDocuments()}},{key:"processDocuments",value:function(){var e=this;this.dataProfile&&this.dataProfile.documents&&(this.dataProfile.documents.forEach(function(t){var n=$.extend(!0,{},t);n.fields=[],e.profileHelper.getDefaultTypeLabel(t.type,t.label).then(function(e){return n.label=e}),t.fields&&(t.fields.forEach(function(t){var i=$.extend(!0,{},t);e.profileHelper.getDefaultTypeLabel(t.type,t.label).then(function(e){return i.label=e}),i.props=t.props?t.props:{field:i.type.toLocaleLowerCase(),visible:!0,editable:!1,required:!1},n.fields.push(i)}),n.fields.sort()),e.documentsView.push(n)}),this.documentsView.sort())}},{key:"formatField",value:function(e){if(e&&-1!==e.type.toString().toLocaleLowerCase().lastIndexOf("date")&&e.value){var t=f.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.value));return this.momentJsService.getInstance(t).format("L")}if(e&&e.mask&&0===e.mask.indexOf("date:")&&e.value){var n=f.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.value));return this.momentJsService.getInstance(n).format(e.mask.split(":")[1].toUpperCase())}return e&&e.mask?vt.m.mask(e.value,e.mask):e&&e.value?e.value:"-"}},{key:"getDocumentEditable",value:function(e){var t=!1;return e&&e.fields&&e.fields.forEach(function(e){e&&e.props&&e.props.editable&&!t&&(t=!0)}),t}},{key:"editDocument",value:function(e,t){this._selectedDocumentEditing=e,this._selectedIndexDocumentEditing=t,this._viewDialogIsVisible=!0}},{key:"closeDialog",value:function(e){e&&(this.documentsView[this._selectedIndexDocumentEditing]=e),this._viewDialogIsVisible=!1}},{key:"formatId",value:function(e){return e.replace(/\s/g,"-").toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(U.z),o.Y36(v.e))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-document"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(Ct,5),2&e)&&(o.iGM(n=o.CRH())&&(t.documentEditView=n.first))},inputs:{dataProfile:"dataProfile"},decls:5,vars:4,consts:[["class","po-row",4,"ngFor","ngForOf"],["id","document-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable"],["dialog-content",""],[3,"document","close"],["documentEditView",""],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation",3,"id"],[1,"panel-heading"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-row","panel-body"],[4,"ngFor","ngForOf"],["class","panel-footer",4,"ngIf"],["class","po-sm-6 po-md-4 po-lg-3 po-xl-3 panel-item-group",4,"ngIf"],[1,"po-sm-6","po-md-4","po-lg-3","po-xl-3","panel-item-group"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(o.YNc(0,Pt,8,4,"div",0),o.TgZ(1,"app-dialog",1),o.TgZ(2,"div",2),o.TgZ(3,"app-document-edit",3,4),o.NdJ("close",function(e){return t.closeDialog(e)}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngForOf",t.documentsView),o.xp6(1),o.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),o.xp6(2),o.Q6J("document",t.selectedDocumentEditing))},directives:[w.sg,J.a,Zt,w.O5],pipes:[C.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e}();function qt(e,t){if(1&e&&o._UZ(0,"app-document",4),2&e){var n=o.oxw();o.Q6J("dataProfile",n.dataProfile)}}var Tt=function(){var e=function(e){a(n,e);var t=s(n);function n(e,a,r,s,c,p){var d,g;return h(this,n),(g=t.call(this)).profileService=e,g.lastAccess=a,g.teamManagementService=r,g.globals=s,g.activatedRoute=c,g.router=p,g.initialized=!1,g.viewIsTeamManagement=!1,g.employeeId=N.N.loggedUser,g.close=new o.vpe,i((d=l(g),u(n.prototype)),"ngOnInit",d).call(d),g}return m(n,[{key:"ngOnInit",value:function(){this.subscribeToActivatedRoute()}},{key:"ngOnDestroy",value:function(){this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}},{key:"init",value:function(){this.loadProfileData(),this.setCountLastAccess()}},{key:"getTabLabel",value:function(e){return this.viewIsMobile?e?"l-informations":"l-documents":e?"l-general-information":"l-my-documents"}},{key:"teamManagementProfile",value:function(){var e=this.teamManagementService.getEmployeeCard().employee;this.cleanProfileInfo(),this.employeeId=e.id}},{key:"subscribeToActivatedRoute",value:function(){var e=this;this.routeDataSubscription=this.activatedRoute.data.pipe((0,r.U)(function(e){return e.management})).subscribe(function(t){if(e.viewIsTeamManagement=t,t){if(null==e.teamManagementService.getEmployeeCard().employee)return void e.router.navigateByUrl("teamManagement");e.teamManagementProfile()}e.init()})}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess(c.dG,t.id)})}},{key:"loadProfileData",value:function(){var e=this;this.profileService.getProfile(this.employeeId).then(function(t){e.dataProfile=t,e.initialized=!0})}},{key:"cleanProfileInfo",value:function(){this.dataProfile=void 0,this.generalInformation&&(this.generalInformation.age=void 0,this.generalInformation.avatarImage=void 0,this.generalInformation.email=void 0,this.generalInformation.employeeCard=void 0,this.generalInformation.employeeId=void 0,this.generalInformation.phone=void 0,this.generalInformation.profile=void 0)}}]),n}(p.R);return e.\u0275fac=function(t){return new(t||e)(o.Y36(d.H),o.Y36(c.Lx),o.Y36(E.C),o.Y36(mt.O),o.Y36(F.gz),o.Y36(F.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-profile"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(ft,5),2&e)&&(o.iGM(n=o.CRH())&&(t.generalInformation=n.first))},outputs:{close:"close"},features:[o.qOj],decls:9,vars:11,consts:[[3,"backIsVisible","pageTitle"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-active","true",3,"p-label"],[3,"dataProfile",4,"ngIf"],[3,"dataProfile"]],template:function(e,t){1&e&&(o._UZ(0,"app-page-header",0),o.ALo(1,"translate"),o.TgZ(2,"po-tabs",1),o.TgZ(3,"po-tab",2),o.ALo(4,"translate"),o._UZ(5,"app-general-information"),o.qZA(),o.TgZ(6,"po-tab",2),o.ALo(7,"translate"),o.YNc(8,qt,1,1,"app-document",3),o.qZA(),o.qZA()),2&e&&(o.s9C("pageTitle",o.lcZ(1,5,"l-perfil")),o.Q6J("backIsVisible",t.viewIsTeamManagement),o.xp6(3),o.s9C("p-label",o.lcZ(4,7,t.getTabLabel(!0))),o.xp6(3),o.s9C("p-label",o.lcZ(7,9,t.getTabLabel(!1))),o.xp6(2),o.Q6J("ngIf",t.initialized))},directives:[x.q,Z.Gv4,Z.w8F,ft,w.O5,Ot],pipes:[C.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e}()},37794:function(e,t,n){"use strict";n.d(t,{e:function(){return v}});var i,o=n(64762),a=n(44956),r=((r||(r={})).TypeEnum={Home:"home",Work:"work",Mobile:"mobile",Fax:"fax",Ext:"ext",Other:"other"},r),s=n(66163),c=n(64634),l=n(9789),u=n(92060),p=n(37716),d=n(65241),g=n(96054),f=n(37503),v=((i=function(){function e(t,n,i,o,a){h(this,e),this.translateService=t,this.teamManagementService=n,this.localeService=i,this.notificationService=o,this.globals=a}return m(e,[{key:"getDefaultTypeLabel",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||-1!==e.indexOf("other")){n.next=6;break}return n.next=3,this.translateService.getI18n("l-"+c.m.camelToHyphen(e));case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=t;case 7:return n.abrupt("return",n.t0);case 8:case"end":return n.stop()}},n,this)}))}},{key:"getCountry",value:function(e){return e&&e.state&&e.state.country?e.state.country:e&&e.country?e.country:void 0}},{key:"getCountryName",value:function(e){var t=this.getCountry(e);if(t)return t.name}},{key:"getCountryId",value:function(e){var t=this.getCountry(e);if(t)return t.id}},{key:"getDefaultEmail",value:function(e){var t;return e.forEach(function(e){e.default&&!t&&(t=e)}),t}},{key:"processCountry",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,this.localeService.localeGet("country",t);case 3:i=n.sent,e&&e.country&&(e.country=i),e&&e.state&&e.state.country&&(e.state.country=i),e&&!e.country&&e&&e.state&&!e.state.country&&(e.country=i,e.state.country=i),n.next=8;break;case 7:e&&(e.country=void 0,e.state&&(e.state.country=void 0));case 8:return n.abrupt("return",e);case 9:case"end":return n.stop()}},n,this)}))}},{key:"processState",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.state){t.next=5;break}return t.next=3,this.localeService.localeGet("state",e.state.id);case 3:return n=t.sent,t.abrupt("return",(e.state=n,e));case 5:case"end":return t.stop()}},t,this)}))}},{key:"processCity",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e&&e.id,!t.t0){t.next=5;break}return t.next=4,this.localeService.localeGet("city",e.id);case 4:e=t.sent;case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}},t,this)}))}},{key:"geDefaultPhoneAndExtension",value:function(e,t){var n,i;return e.forEach(function(e){e.default&&!n&&t&&(n=e),e.type===r.TypeEnum.Ext&&!i&&!t&&(i=e)}),t?n:i}},{key:"getProps",value:function(e,t){if(e&&e.props){var n=e.props.find(function(e){return e.field===t});return n||(n=this.getDefaultProps(t)),n}return this.getDefaultProps(t)}},{key:"getDefaultProps",value:function(e){return{field:e,visible:!0,editable:!1,required:!1}}},{key:"formatPhone",value:function(e){var t="";return e.region&&(t="+".concat(e.region)),e.ddd&&(t.length>0&&(t+=" "),t+="(".concat(e.ddd,")")),e.number&&(t.length>0&&(t+=" "),t+="".concat(e.number)),t}},{key:"clone",value:function(e){var t=this,n={},i=function(i){e[i]instanceof Array?(n[i]=[],e[i].forEach(function(e){n[i].push(t.clone(e))})):n[i]=e[i]instanceof Date?new Date(e[i].getTime()):"object"==typeof e[i]?t.clone(e[i]):e[i]};for(var o in e)i(o);return n}},{key:"showMessageError",value:function(e){var t=this;this.translateService.getI18n(e).then(function(e){t.notificationService.showNotification(e,a.ik9.Error)})}},{key:"showMessageSuccess",value:function(e){var t=this;this.translateService.getI18n(e).then(function(e){t.notificationService.showNotification(e,a.ik9.Success)})}},{key:"editEnabled",value:function(e,t){var n=this;return!e||t.map(function(t){return n.getProps(e,t)}).some(function(e){return e.editable})}},{key:"getTeamEmployeeId",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:return t=e.sent,new s.J,e.abrupt("return",("profile"===(n=this.teamManagementService.getEmployeeCard()).originComponent&&n.employee&&(t=n.employee),t.id));case 5:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(p.LFG(d.g),p.LFG(l.C),p.LFG(u.O),p.LFG(g.g),p.LFG(f.O))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i)},2187:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var i,o=n(69412),a=n(92060),r=n(37716),s=((i=function(){function e(t){h(this,e),this.localeService=t}return m(e,[{key:"getFilteredData",value:function(e){return(0,o.D)(this.localeService.localeGetArrays("country",void 0,e.value).then(function(e){return e.map(function(e){return{value:e.id,label:e.name}})}))}},{key:"getObjectByValue",value:function(e){var t="number"!=typeof e?parseInt(e.toString()):e;return t=isNaN(t)?-1:t,(0,o.D)(this.localeService.localeGet("country",t.toString()).then(function(e){if("object"==typeof e)return{value:e.id,label:e.name}}))}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.O))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},92060:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var i,o=n(59708),a=n(37716),r=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"localeGetArrays",value:function(e,t,n,i,o,a,r,s){var c="data/locale/".concat(e),l=[];return l=this.addParam(l,"init",r),l=this.addParam(l,"id",t),l=this.addParam(l,"name",n),l=this.addParam(l,"abbr",i),l=this.addParam(l,"contryId",o),l=this.addParam(l,"max",a),l=this.addParam(l,"stateId",s),this.serviceGeneric.search(c,l)}},{key:"getCities",value:function(e,t,n,i){return this.localeGetArrays("city",void 0,void 0,void 0,e,t,n,i)}},{key:"localeGet",value:function(e,t){return this.serviceGeneric.get("data/locale/".concat(e,"/").concat(t)).then(function(e){return e})}},{key:"addParam",value:function(e,t,n){return n&&(e[t]=n),e}}]),e}()).\u0275fac=function(e){return new(e||i)(a.LFG(o.M))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i)},97983:function(e,t,n){"use strict";n.d(t,{H:function(){return u}});var i,o=n(64762),a=n(89019),r=n(59708),s=n(37716),c=n(39075),l="data/profile",u=((i=function(){function e(t,n){h(this,e),this.serviceGeneric=t,this.sanitizationService=n}return m(e,[{key:"getEmployeeSummary",value:function(e,t){var n="".concat(l,"/summary/").concat(e,"/"),i=[];return t&&(i.encodeEmployeeId=!0),this.serviceGeneric.search(n,i)}},{key:"getImageBase64",value:function(e){return this.serviceGeneric.get("".concat(l,"/image/").concat(e,"/"))}},{key:"getProfile",value:function(e){return this.serviceGeneric.get("".concat(l,"/").concat(e,"/"))}},{key:"savePersonalData",value:function(e,t){return this.serviceGeneric.put("".concat(l,"/personalData/").concat(e,"/"),t)}},{key:"saveAddress",value:function(e,t){return this.serviceGeneric.put("".concat(l,"/address/").concat(e,"/"),t)}},{key:"saveContacts",value:function(e,t){return this.serviceGeneric.put("".concat(l,"/contacts/").concat(e,"/"),t)}},{key:"saveDocument",value:function(e,t){return this.serviceGeneric.put("".concat(l,"/document/").concat(e,"/"),t)}},{key:"isCoordinator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser;return this.serviceGeneric.get("".concat(l,"/isCoordinator/").concat(e,"/"))}},{key:"getDefaultImageStyle",value:function(){return this.sanitizationService.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)")}},{key:"getImageBase64Style",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser;return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getImageBase64(e);case 3:if(!(n=t.sent)||!n.content){t.next=6;break}return t.abrupt("return",this.sanitizationService.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.abrupt("return",this.getDefaultImageStyle());case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(r.M),s.LFG(c.H7))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i)},69030:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var i,o=n(69412),a=n(92060),r=n(37716),s=((i=function(){function e(t){h(this,e),this.localeService=t}return m(e,[{key:"getFilteredData",value:function(e,t){return(0,o.D)(this.localeService.localeGetArrays("state",void 0,e.value,void 0,t).then(function(e){return e.map(function(e){return{value:e.id,label:e.name}})}))}},{key:"getObjectByValue",value:function(e){return(0,o.D)(this.localeService.localeGet("state",e.toString()).then(function(e){if("object"==typeof e)return{value:e.id,label:e.name}}))}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.O))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},98348:function(e,t,n){"use strict";n.d(t,{Ld:function(){return a},ZP:function(){return r}});var i,o=m(function e(){h(this,e)}),a=((i=a||(a={}))[i.DTS=1]="DTS",i[i.RM=2]="RM",i[i.PROTHEUS=3]="PROTHEUS",i[i.NODE=4]="NODE",i[i.CORE=5]="CORE",i[i.EMPTY=6]="EMPTY",a),r=function(){function e(){h(this,e)}return m(e,null,[{key:"getProps",value:function(t){if(e.ERP||(e.ERP=this.getErpByUrl(t)),!e.PROPS)switch(e.PROPS=new o,e.ERP){case a.DTS:this.isTomcatAppServer()?(e.PROPS.baseUrl="/api/rh/meurh/v1",e.PROPS.rootContext=""):(e.PROPS.baseUrl="/dts/portal-hcm/rest",e.PROPS.rootContext="/dts/portal-hcm/PortalRHUnificado/");break;case a.RM:var n="/",i=document.location.pathname.toLocaleLowerCase().indexOf("web/app/rh/portalmeurh");i>1&&(n=document.location.pathname.substring(0,i)),e.PROPS.baseUrl=n+"rm/api/rest",(null!==localStorage.getItem("newApiModelRM")||null!==localStorage.getItem("ionic5"))&&(e.PROPS.baseUrl+="/new"),e.PROPS.rootContext=t.toLowerCase().match("portalmeurh")?n+"web/app/RH/PortalMeuRH/":n+"web/app/RH/PortalRHUnificado/";break;case a.NODE:var r=t.substr(0,t.lastIndexOf(":")+1)+"5050/api";e.PROPS.baseUrl=r,e.PROPS.rootContext="";break;case a.PROTHEUS:if(localStorage&&null!==localStorage.getItem("baseUrl"))e.PROPS.baseUrl=localStorage.getItem("baseUrl"),e.PROPS.rootContext=localStorage.getItem("rootContext").replace("PortalMeuRH","PortalRHUnificado");else{var s=/http(s)*\:\/\/(.*):(\d*)\/(.*)\/*\?restPort=(\d*)/,c=t.replace(s,"http$1://$2:$5/rest$4").replace("/PortalMeuRH/index.html","");e.PROPS.baseUrl="/"!==c.substr(-1)?c:c.substr(0,c.length-1),e.PROPS.rootContext=t.replace(s,"/$4/").replace("/index.html","").replace("//","/")}break;default:e.PROPS.baseUrl="",e.PROPS.rootContext=""}return e.PROPS}},{key:"getBaseUrl",value:function(e){return this.getProps(e).baseUrl}},{key:"getRootContext",value:function(e){return this.getProps(e).rootContext}},{key:"setErp",value:function(t){e.ERP=t,e.PROPS=null}},{key:"setProps",value:function(t){e.PROPS=t}},{key:"getErp",value:function(){return e.ERP}},{key:"isErpProtheus",value:function(){return e.getErp()===a.PROTHEUS}},{key:"isErpDatasul",value:function(){return e.getErp()===a.DTS}},{key:"isErpRM",value:function(){return e.getErp()===a.RM}},{key:"isErpNode",value:function(){return e.getErp()===a.NODE}},{key:"isTomcatAppServer",value:function(){return window.location.pathname.indexOf("html-hcm")>=0}},{key:"shouldSendCompanyId",value:function(){return this.isErpDatasul()&&!this.isTomcatAppServer()}},{key:"getErpByUrl",value:function(e){return e.toLowerCase().indexOf("dts")>-1||e.toLowerCase().indexOf("html-hcm")>-1?a.DTS:e.toLowerCase().indexOf("web/app/rh")>-1?a.RM:e.indexOf("505")>-1?a.NODE:e.indexOf("5000")>-1?a.CORE:a.PROTHEUS}},{key:"checkIfEncode",value:function(e){return this.isErpRM()&&e&&"{current}"!==e?"".concat(e.split("|")[0]+"|"+btoa(e.split("|")[1])):e}},{key:"checkIfDecode",value:function(t){return e.isErpRM()&&t&&"{current}"!==t?"".concat(t.split("|")[0]+"|"+atob(t.split("|")[1])):t}}]),e}()},54683:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var i=n(12194),o=n(81483),a=m(function e(t){var n=this;h(this,e),t.forEach(function(e){switch(e.type){case i.R.TypeEnum.Direction:n.direction=e;break;case i.R.TypeEnum.InitDate:n.initDate=e;break;case i.R.TypeEnum.EndDate:n.endDate=e;break;case i.R.TypeEnum.InitHour:n.initHour=e,null!=n.initHour.value&&(n.hourInit=o.Em.getHoursByMilliseconds(n.initHour.value));break;case i.R.TypeEnum.EndHour:n.endHour=e,null!=n.endHour.value&&(n.hourEnd=o.Em.getHoursByMilliseconds(n.endHour.value));break;case i.R.TypeEnum.Justify:n.justify=e;break;case i.R.TypeEnum.Other:n.other=e;break;case i.R.TypeEnum.Reason:n.reason=e;break;case i.R.TypeEnum.Status:n.status=e;break;case i.R.TypeEnum.TotalDays:n.totalDays=e;break;case i.R.TypeEnum.TotalHours:n.totalHours=e;break;case i.R.TypeEnum.VacationBonus:n.vacationBonus=e;break;case i.R.TypeEnum.InitVacationLimit:n.initVacationLimit=e;break;case i.R.TypeEnum.EndVacationLimit:n.endVacationLimit=e;break;case i.R.TypeEnum.HasAttachment:n.hasAttachment=e;break;case i.R.TypeEnum.RequestId:n.requestId=e}})}),r=m(function e(t,n){h(this,e),this.approved=t.approved,this.canApprove=t.canApprove,this.employeeSummary=t.employeeSummary,this.fields=t.fields,this.id=t.id,this.type=t.type,n&&(this.image=n),this.fieldsView=new a(this.fields)})},12994:function(e,t,n){"use strict";n.d(t,{T:function(){return v}});var i,o=n(64762),a=n(44956),r=n(92340),s=n(42628),c=n(59708),l=n(68014),u=n(37716),p=n(65241),d=n(49344),g=n(96054),f="request/notifications",v=((i=function(){function e(t,n,i,o,a){h(this,e),this.serviceGeneric=t,this.appTranslateService=n,this.toastrService=i,this.notificationService=o,this.notificationsCountDispatchers=a}return m(e,[{key:"getNotificationsCount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.serviceGeneric.get("".concat(f,"/count/").concat(e),void 0,t).then(function(e){return e})}},{key:"getNotificationsQP",value:function(e,t,n,i,o,a,r){var s="".concat(f,"/").concat(e);n=n||1,i=i||20;var c=[];return this.serviceGeneric.parseParams(c,"type",t),this.serviceGeneric.parseParams(c,"page",n),this.serviceGeneric.parseParams(c,"pageSize",i),this.serviceGeneric.parseParams(c,"employeeName",o),this.serviceGeneric.parseParams(c,"date",a),this.serviceGeneric.parseParams(c,"tab",r),this.serviceGeneric.search(s,c)}},{key:"saveNotifications",value:function(e,t){return this.serviceGeneric.put("".concat(f,"/").concat(e),t,!1)}},{key:"createRequisitionsResponse",value:function(e,t,n,i){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,r,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=[],e.forEach(function(e){r={id:e.id,status:t?s.z.StatusEnum.Approved:s.z.StatusEnum.Rejected,type:e.object.type,reason:i},a.push(r)}),c={date:new Date,justify:i,approved:t,requisitions:a},o.next=5,this.sendPut(c,n);case 5:case"end":return o.stop()}},o,this)}))}},{key:"sendPut",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.saveNotifications(r.N.loggedUser,e);case 3:return n.next=5,this.appTranslateService.getI18n(t);case 5:i=n.sent,this.notificationService.showNotification(i,a.ik9.Success),this.notificationsCountDispatchers.getNotificationsCount(),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}},n,this,[[0,9]])}))}}]),e}()).\u0275fac=function(e){return new(e||i)(u.LFG(c.M),u.LFG(p.g),u.LFG(d._W),u.LFG(g.g),u.LFG(l.CV))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac}),i)},21360:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var i,o=n(59708),a=n(89019),r=n(37716),s="request",c=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getCountedRequisitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n="".concat(s,"/count/").concat(e),i=[];return t&&this.serviceGeneric.parseParams(i,"types",t),this.serviceGeneric.search(n,i)}},{key:"getAllRequisitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u="".concat(s,"/requisitions/").concat(e);n=n||10;var p=[];return this.serviceGeneric.parseParams(p,"page",t=t||1),this.serviceGeneric.parseParams(p,"pageSize",n),this.serviceGeneric.parseParams(p,"name",i),this.serviceGeneric.parseParams(p,"requestId",o),this.serviceGeneric.parseParams(p,"startDate",r),this.serviceGeneric.parseParams(p,"status",c),this.serviceGeneric.parseParams(p,"types",l),this.serviceGeneric.search(u,p)}},{key:"updateRequisitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i="".concat(s,"/requisitions/").concat(e),o=[];return null!=n?(this.serviceGeneric.parseParams(o,"stepCode",n),this.serviceGeneric.putWithQP(i,t,o)):this.serviceGeneric.put(i,t)}},{key:"getNextStepRequisitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0;return this.serviceGeneric.post("".concat(s,"/requisitions/steps/").concat(e),t)}},{key:"getDemissionDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0;return this.serviceGeneric.get("team/demission/".concat(e,"/").concat(t))}},{key:"getSubstitutionDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0;return this.serviceGeneric.get("team/substitution/".concat(e,"/").concat(t))}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(o.M))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},64275:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var i,o=n(64762),a=n(48681),r=n(98348),s=n(37716),c=((i=function(){function e(t){h(this,e),this.configurationService=t,this.URL_FRAME="/totvs-login/",this.URL_JAVA="/dts/portal-hcm/rest/",this.URL_DTSREST="/dts/datasul-rest/resources/prg/rh/meurh/v1/",this.URL_DTSREST_TOMCAT="/api/rh/meurh/v1/"}return m(e,[{key:"getBaseUrlDts",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,a,r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.configurationService.getRestMigrationControl();case 2:return i=n.sent,n.next=5,this.configurationService.getRestDTSFrameworkLogin();case 5:return n.t0=this.parseActionToMethodName(e),(o=n.sent[n.t0])&&(a=o.reduce(function(e,n){return e||RegExp(n).test(t)},!1)),s=i[this.parseActionToMethodName(e)],n.abrupt("return",(s&&(r=s.reduce(function(e,n){return e||RegExp(n).test(t)},!1)),a?this.URL_FRAME:r?this.URL_JAVA:this.getURLDts()));case 10:case"end":return n.stop()}},n,this)}))}},{key:"getURLDts",value:function(){return r.ZP.isTomcatAppServer()?this.URL_DTSREST_TOMCAT:this.URL_DTSREST}},{key:"parseActionToMethodName",value:function(e){switch(e){case 0:return"GET";case 1:return"POST";case 2:return"PUT";case 3:return"DELETE"}}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(a.e))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac}),i)},36227:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var i,o=n(64762),a=n(59708),r=n(37716),s=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getFieldProperties",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.serviceGeneric.get("setting/fieldProperties/".concat(e));case 2:return t.abrupt("return",t.sent.items);case 3:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.M))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},76857:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var i,o=n(79765),a=n(59708),r=n(37716),s=n(37503),c=((i=function(){function e(t,n){h(this,e),this.serviceGeneric=t,this.globals=n,this.permissionSource=new o.xQ,this.permissionObservable=this.permissionSource.asObservable()}return m(e,[{key:"getPermissions",value:function(e){var t=this;return this.serviceGeneric.get("setting/permissions/".concat(e)).then(function(e){return t.permissionSource.next(e),e})}},{key:"getPluginsPermissions",value:function(e,t){return this.serviceGeneric.get("".concat(e,"/").concat(t)).then(function(e){return e})}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.M),r.LFG(s.O))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},32170:function(e,t,n){"use strict";n.d(t,{YB:function(){return o},kr:function(){return l},Eq:function(){return s},gn:function(){return i},Cv:function(){return c},I3:function(){return a},Yg:function(){return r},QG:function(){return q},yk:function(){return _},rB:function(){return T}});var i={};n.r(i),n.d(i,{checkIfIsLogged:function(){return p},checkIfIsLoggedError:function(){return g},checkIfIsLoggedSuccess:function(){return d}});var o={};n.r(o),n.d(o,{setCompanyId:function(){return h}});var a={};n.r(a),n.d(a,{getNotificationsCount:function(){return f},getNotificationsCountError:function(){return v},getNotificationsCountSuccess:function(){return m}});var r={};n.r(r),n.d(r,{loadProperties:function(){return b},loadPropertiesError:function(){return y},loadPropertiesSuccess:function(){return x}});var s={};n.r(s),n.d(s,{loadIsCoordinator:function(){return w},loadIsCoordinatorError:function(){return C},loadIsCoordinatorSuccess:function(){return Z}});var c={};n.r(c),n.d(c,{setMobileVersion:function(){return M},setUnknowMobileVersion:function(){return k}});var l={};n.r(l),n.d(l,{getCompanySettings:function(){return A},getCompanySettingsError:function(){return O},getCompanySettingsSuccess:function(){return P}});var u=n(23065),p=(0,u.PH)("[Logged] CHECK_IF_IS_LOGGED"),d=(0,u.PH)("[Logged] CHECK_IF_IS_LOGGED_SUCCESS",(0,u.Ky)()),g=(0,u.PH)("[Logged] CHECK_IF_IS_LOGGED_ERROR",(0,u.Ky)()),h=(0,u.PH)("[CompanyId] SET_COMPANY_ID",(0,u.Ky)()),f=(0,u.PH)("[NotificationsCount] GET_NOTIFICATIONS_COUNT",(0,u.Ky)()),m=(0,u.PH)("[NotificationsCount] GET_NOTIFICATIONS_COUNT_SUCCESS",(0,u.Ky)()),v=(0,u.PH)("[NotificationsCount] GET_NOTIFICATIONS_COUNT_ERROR"),b=(0,u.PH)("[Properties] LOAD_PROPERTIES"),x=(0,u.PH)("[Properties] LOAD_PROPERTIES_SUCCESS",(0,u.Ky)()),y=(0,u.PH)("[Properties] LOAD_PROPERTIES_ERROR",(0,u.Ky)()),w=(0,u.PH)("[IsCoordinator] LOAD_IS_COORDINATOR",(0,u.Ky)()),Z=(0,u.PH)("[IsCoordinator] LOAD_IS_COORDINATOR_SUCCESS",(0,u.Ky)()),C=(0,u.PH)("[IsCoordinator] LOAD_IS_COORDINATOR_ERROR",(0,u.Ky)()),M=(0,u.PH)("[MobileVersion] SET_MOBILE_VERSION",(0,u.Ky)()),k=(0,u.PH)("[MobileVersion] SET_UNKNOW_MOBILE_VERSION"),A=(0,u.PH)("[CompanySettings] GET_COMPANY_SETTINGS"),P=(0,u.PH)("[CompanySettings] GET_COMPANY_SETTINGS_SUCCESS",(0,u.Ky)()),O=(0,u.PH)("[CompanySettings] GET_COMPANY_SETTINGS_ERROR",(0,u.Ky)()),q=(0,u.PH)("[Permission] LOAD_PERMISSIONS",(0,u.Ky)()),T=(0,u.PH)("[Permission] LOAD_PERMISSIONS_SUCCESS",(0,u.Ky)()),_=(0,u.PH)("[Permission] LOAD_PERMISSIONS_ERROR",(0,u.Ky)())},68014:function(e,t,n){"use strict";n.d(t,{ab:function(){return K},P7:function(){return A},nF:function(){return oe},m9:function(){return Q},TM:function(){return ne},V9:function(){return N},pG:function(){return W},ek:function(){return C},ZR:function(){return ie},QM:function(){return V},CV:function(){return ee},S2:function(){return q},n3:function(){return s},eL:function(){return b},ZM:function(){return te},Ub:function(){return S}});var i,o=n(32170),a=n(37716),r=n(23065),s=((i=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"loadPermissions",value:function(e){this.store.dispatch(o.QG({employeeId:e}))}}]),e}()).\u0275fac=function(e){return new(e||i)(a.LFG(r.yh))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i),c=n(64762),l=n(9112),u=n(45435),p=n(15257),d=(0,r.ZF)("permissions"),g=(0,r.P1)(d,function(e){return e.permissions}),f=(0,r.P1)(d,function(e){return e.loading}),v=(0,r.P1)(d,function(e){return e.error}),b=function(){var e=function(){function e(t){h(this,e),this.store=t,this.permissions$=this.store.select(g),this.loading$=this.store.select(f),this.error$=this.store.select(v)}return m(e,[{key:"nextPermissionsNotNull",value:function(){var e=this;return new Promise(function(t,n){(0,l.aj)([e.permissions$,e.error$]).pipe((0,u.h)(function(e){return null!=e[0]||e[1]})).pipe((0,p.q)(1)).subscribe(function(e){var i=e[0];e[1]?n():t(i)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),x=(0,r.ZF)("logged"),y=(0,r.P1)(x,function(e){return e.isLogged}),w=(0,r.P1)(x,function(e){return e.loading}),Z=(0,r.P1)(x,function(e){return e}),C=function(){var e=function(){function e(t){h(this,e),this.store=t,this.isLogged$=this.store.select(y),this.loading$=this.store.select(w),this.state$=this.store.select(Z)}return m(e,[{key:"nextIsLoggedNotNull",value:function(){var e=this;return new Promise(function(t){e.state$.pipe((0,u.h)(function(e){return null!=e.isLogged})).pipe((0,p.q)(1)).subscribe(function(e){t(e.isLogged)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),M=(0,r.ZF)("companyId"),k=(0,r.P1)(M,function(e){return e}),A=function(){var e=function(){function e(t){h(this,e),this.store=t,this.state$=this.store.select(k)}return m(e,[{key:"nextIsCompanyIdDone",value:function(){var e=this;return Promise.race([new Promise(function(t){e.state$.pipe((0,u.h)(function(e){return null==e?void 0:e.done})).pipe((0,p.q)(1)).subscribe(function(e){t(e.companyId)})}),new Promise(function(e){setTimeout(function(){e(null)},1e4)})])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}();n(2673),n(12194),n(42628),new Date("01/10/2017"),new Date("01/10/2017"),new Date("01/10/2017");var P=(0,r.ZF)("notificationsCount"),O=(0,r.P1)(P,function(e){return e}),q=function(){var e=m(function e(t){h(this,e),this.store=t,this.state$=this.store.select(O)});return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),T=(0,r.ZF)("properties"),_=(0,r.P1)(T,function(e){return e});(0,r.P1)(T,function(e){return e.properties}),(0,r.P1)(T,function(e){return e.error});var S=function(){var e=function(){function e(t){h(this,e),this.store=t,this.state$=this.store.select(_)}return m(e,[{key:"nextPropertiesNotNull",value:function(){var e=this;return new Promise(function(t,n){e.state$.pipe((0,u.h)(function(e){return null!=e.properties||e.error})).pipe((0,p.q)(1)).subscribe(function(e){e.error?n():t(e.properties)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),I=(0,r.ZF)("isCoordinator"),D=(0,r.P1)(I,function(e){return e.isCoordinator}),L=(0,r.P1)(I,function(e){return e.loading}),R=(0,r.P1)(I,function(e){return e.error}),N=function(){var e=m(function e(t){h(this,e),this.store=t,this.isCoordinator$=this.store.select(D),this.loading$=this.store.select(L),this.error$=this.store.select(R)});return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),E=n(88002),U=(0,r.ZF)("mobileVersion"),F=(0,r.P1)(U,function(e){return e}),J=(0,r.P1)(U,function(e){return e.done}),V=function(){var e=function(){function e(t){h(this,e),this.store=t,this.state$=this.store.select(F),this.done$=this.store.select(J)}return m(e,[{key:"nextMobileVersion",value:function(){return this.state$.pipe((0,u.h)(function(e){return e.done}),(0,p.q)(1),(0,E.U)(function(e){return e.version})).toPromise()}},{key:"shouldUseMessageReceiverForLogin",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nextMobileVersion();case 2:return e.t0=e.sent,e.abrupt("return",null!=e.t0);case 4:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),Y=(0,r.ZF)("companySettings"),z=(0,r.P1)(Y,function(e){return e}),Q=function(){var e=function(){function e(t){h(this,e),this.store=t,this.state$=this.store.select(z)}return m(e,[{key:"nextCompanySettingsNotNull",value:function(){var e=this;return new Promise(function(t){e.state$.pipe((0,u.h)(function(e){return null!=e.companySettings})).pipe((0,p.q)(1)).subscribe(function(e){t(e.companySettings)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),G=n(98348),H=n(13353),B=n(34902),j=n(37503),$=function(){var e=function(){function e(t,n){h(this,e),this.messageReceiverService=t,this.globals=n}return m(e,[{key:"loginWithMessage",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.messageReceiverService.messages$.pipe((0,u.h)(function(e){return[H.E.LOGIN_WITH_TOKEN,H.E.LOGIN_WITH_CREDENTIALS].includes(null==e?void 0:e.type)}),(0,p.q)(1)).toPromise();case 2:return t=e.sent,e.abrupt("return",t.type===H.E.LOGIN_WITH_TOKEN?this.loginTokenMessage(t):t.type===H.E.LOGIN_WITH_CREDENTIALS?this.loginCredentialsMessage(t):void 0);case 4:case"end":return e.stop()}},e,this)}))}},{key:"loginTokenMessage",value:function(e){G.ZP.isErpRM()&&this.globals.enableNewApiModelRM(),this.globals.setToken(e.token)}},{key:"loginCredentialsMessage",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(B.r),a.LFG(j.O))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),W=function(){var e=function(){function e(t,n,i){h(this,e),this.store=t,this.mobileVersionSelectors=n,this.messageReceiverLoginService=i}return m(e,[{key:"checkIfIsLogged",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mobileVersionSelectors.shouldUseMessageReceiverForLogin();case 2:if(e.t0=e.sent,!e.t0){e.next=6;break}return e.next=6,this.messageReceiverLoginService.loginWithMessage();case 6:this.store.dispatch(o.gn.checkIfIsLogged());case 7:case"end":return e.stop()}},e,this)}))}},{key:"setIsLogged",value:function(e){this.store.dispatch(o.gn.checkIfIsLoggedSuccess({isLogged:e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh),a.LFG(V),a.LFG($))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),K=function(){var e=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"setCompanyId",value:function(e){this.store.dispatch(o.YB.setCompanyId({companyId:e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),X=n(92340),ee=function(){var e=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"getNotificationsCount",value:function(){this.store.dispatch(o.I3.getNotificationsCount({employeeId:X.N.loggedUser}))}},{key:"getNotificationsCountRespectingMinimumTime",value:function(){this.fiveMnutesPassed()&&this.store.dispatch(o.I3.getNotificationsCount({employeeId:X.N.loggedUser}))}},{key:"fiveMnutesPassed",value:function(){var t=e.lastTimeDataWasObtained,n=new Date,i=null==t||n.getTime()-t.getTime()>=3e5;return i&&(e.lastTimeDataWasObtained=n),i}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),te=function(){var e=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"loadProperties",value:function(){this.store.dispatch(o.Yg.loadProperties())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),ne=function(){var e=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"loadIsCoordinator",value:function(e){this.store.dispatch(o.Eq.loadIsCoordinator({employeeId:e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),ie=function(){var e=function(){function e(t,n){h(this,e),this.store=t,this.mobileVersionSelectors=n}return m(e,[{key:"setVersionIfNotDone",value:function(e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mobileVersionSelectors.done$.pipe((0,p.q)(1)).toPromise();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}this.store.dispatch(null!=e?o.Cv.setMobileVersion({version:e}):o.Cv.setUnknowMobileVersion());case 5:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh),a.LFG(V))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}(),oe=function(){var e=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"getCompanySettings",value:function(){this.store.dispatch(o.kr.getCompanySettings())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.yh))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e}()},97427:function(e,t,n){"use strict";n.d(t,{F:function(){return b}});var i,o=n(38583),a=n(3679),r=n(39075),s=n(29790),c=n(44956),l=n(32114),u=n(43743),p=n(56365),d=n(71904),g=n(93444),f=n(84259),v=n(37716),b=((i=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[g.w,f.v,{provide:r.ok,useClass:d.f}],imports:[[o.ez,s.aw,p.q,c.JBz,a.u5,l.Pu,u.Y]]}),i)},93444:function(e,t,n){"use strict";n.d(t,{w:function(){return g}});var i,o=n(64762),a=n(59708),r=n(64383),s=n(44956),c=n(37716),l=n(65241),u=n(96054),p=n(84479),d="team/onCall",g=((i=function(){function e(t,n,i,o,a){h(this,e),this.serviceGeneric=t,this.momentService=n,this.appTranslateService=i,this.notificationService=o,this.windowUtilService=a}return m(e,[{key:"getAll",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="".concat(d,"/").concat(e),o=[];if(t)for(var a=0,r=Object.keys(t);a<r.length;a++){var s=r[a];o[s]=["initDate","endDate"].includes(s)?this.momentService.getInstance(t[s]).toISOString():t[s]}return null==o.page&&(o.page=1),null==o.pageSize&&(o.pageSize=10),n&&(o.encodeEmployeeId=n),this.serviceGeneric.search(i,o)}},{key:"updateOnCalls",value:function(e,t){return this.serviceGeneric.put("".concat(d,"/").concat(e),t,!0)}},{key:"createRequisitionsResponse",value:function(e,t,n,i,o,a){var r,s,c=[];t.forEach(function(e){s=e.idName.split("|")[0],r="".concat(s,"|").concat(e.id),c.push(r)});var l={date:new Date,justify:o,approved:n,requisitions:c};return this.sendPut(e,l,i,a)}},{key:"sendPut",value:function(e,t,n,i){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,this.updateOnCalls(e,t);case 3:return o.next=5,this.appTranslateService.getI18n(n);case 5:a=o.sent,this.notificationService.showNotification(a,s.ik9.Success),i&&this.windowUtilService.reloadPage(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),this.notificationService.showNotification(o.t0.message,s.ik9.Error);case 12:case"end":return o.stop()}},o,this,[[0,9]])}))}},{key:"deleteOnCall",value:function(e,t){return this.serviceGeneric.delete("".concat(d,"/").concat(e,"?id=").concat(t),!0)}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(a.M),c.LFG(r.z),c.LFG(l.g),c.LFG(u.g),c.LFG(p.g))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},84259:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var i,o=n(64383),a=n(59708),r=n(37716),s=((i=function(){function e(t,n){h(this,e),this.serviceGeneric=t,this.momentService=n}return m(e,[{key:"getAll",value:function(e,t){var n="team/oncallTotalizer/".concat(e),i=[];if(t)for(var o=0,a=Object.keys(t);o<a.length;o++){var r=a[o];i[r]=["initDate","endDate"].includes(r)?this.momentService.getInstance(t[r]).toISOString():t[r]}return null==i.page&&(i.page=1),null==i.pageSize&&(i.pageSize=10),this.serviceGeneric.search(n,i)}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.M),r.LFG(o.z))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},42779:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var i=n(38583),o=n(3679),a=n(29790),r=n(44956),s=n(56365),c=n(82236),l=n(37716),u=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[c.s],imports:[[i.ez,r.JBz,a.aw,s.q,o.u5]]}),e}()},82236:function(e,t,n){"use strict";n.d(t,{s:function(){return s}});var i,o=n(59708),a=n(37716),r="team/demission/",s=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getEmployees",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o="team/employees/".concat(e),a=[];return a.page=t.page,a.pageSize=t.pageSize,a.hierarchicalLevel=t.hierarchicalLevel,a.isGetResignedEmployees=n||!1,i&&(a.encodeEmployeeId=!0),t.name&&(a.name=t.name),this.serviceGeneric.search(o,a)}},{key:"getTeams",value:function(e,t,n){var i="team/teams/".concat(e),o=[];return o.id=t,o.name=n,this.serviceGeneric.search(i,o)}},{key:"getRoles",value:function(e,t,n){var i="team/roles/".concat(e),o=[];return o.id=t,o.name=n,this.serviceGeneric.search(i,o)}},{key:"getEmployeesByCoordinator",value:function(e){return this.serviceGeneric.search("team/birthdates/".concat(e),[])}},{key:"getDemissionIniciatives",value:function(){return this.serviceGeneric.search("".concat(r,"iniciatives"))}},{key:"getDemissionTypes",value:function(){return this.serviceGeneric.search("".concat(r,"types"))}},{key:"getDemissionNoticeTypes",value:function(){return this.serviceGeneric.search("".concat(r,"noticetypes"))}},{key:"getDemissionReasonTypes",value:function(){return this.serviceGeneric.search("".concat(r,"reasons"))}},{key:"setCollaboratorDemission",value:function(e,t){return this.serviceGeneric.post("".concat(r).concat(e),t)}}]),e}()).\u0275fac=function(e){return new(e||i)(a.LFG(o.M))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i)},14323:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var i=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s,c){var l;return h(this,n),(l=t.call(this,e,i)).hierarchicalLevel=o||0,l.name=a,l.registry=r,l.branch=s,l.employeeIds=c,l}return m(n)}(function(){return m(function e(t,n){h(this,e),this.page=t||1,this.pageSize=n||20})}())},9789:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var i=n(59708),o=n(66163),a=n(37716),r=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getEmployeeCard",value:function(){return e.employeeCard}},{key:"setEmployeeCard",value:function(t,n,i){e.employeeCard={employee:t,image:n,originComponent:i}}},{key:"cleanEmployeeCard",value:function(){e.employeeCard={employee:void 0,image:void 0,originComponent:""}}},{key:"getEmployees",value:function(e,t){var n="team/employees/".concat(e),i=[];return i.page=t.page,i.pageSize=t.pageSize,i.hierarchicalLevel=t.hierarchicalLevel,i.encodeEmployeeId=!0,t.name&&(i.name=t.name),this.serviceGeneric.parseParams(i,"employeeIds",t.employeeIds),t.registry&&(i.registry=t.registry),t.branch&&(i.branch=t.branch),this.serviceGeneric.search(n,i)}}]),e}();r.employeeCard=new o.J,r.\u0275fac=function(e){return new(e||r)(a.LFG(i.M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})},24999:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var i=n(38583),o=n(3679),a=n(29790),r=n(44956),s=n(56365),c=n(49512),l=n(37716),u=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[c.n],imports:[[i.ez,o.u5,a.aw,r.JBz,s.q]]}),e}()},49512:function(e,t,n){"use strict";n.d(t,{n:function(){return u}});var i,o=n(64762),a=n(92340),r=n(33490),s=n(59708),c=n(37716),l="timesheet",u=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getAllowancesTypes",value:function(){return this.serviceGeneric.get("".concat(l,"/allowancesTypes")).then(function(e){return e.items})}},{key:"saveAllowances",value:function(e,t){return this.serviceGeneric.post("".concat(l,"/allowances/").concat(e),t,!1)}},{key:"getAllowanceRequestsHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=new r.i([],i),s="".concat(l,"/allowances/").concat(e),c=[],this.serviceGeneric.parseParams(c,"page",n),this.serviceGeneric.parseParams(c,"pageSize",i),this.serviceGeneric.parseParams(c,"status",t),a.actualPage=n,a.hasMoreRecords=!1,o.next=4,this.serviceGeneric.search(s,c);case 4:return u=o.sent,o.abrupt("return",(u&&(a.records=u.items,a.hasMoreRecords=u.hasNext),a));case 6:case"end":return o.stop()}},o,this)}))}},{key:"deleteAllowance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.N.loggedUser;return this.serviceGeneric.delete("".concat(l,"/allowances/").concat(t,"/").concat(e))}},{key:"updateAllowance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.serviceGeneric.put("".concat(l,"/allowances/").concat(e,"/").concat(t),n,!1)}},{key:"getAttachedFile",value:function(e){return this.serviceGeneric.get("".concat(l,"/allowances/file/info/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(s.M))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)},90889:function(e,t,n){"use strict";n.d(t,{X:function(){return g}});var i,o=n(64762),a=n(92340),r=n(48681),s=n(94405),c=n(59708),l=n(64634),u=n(98348),p=n(37716),d="timesheet",g=((i=function(){function e(t,n,i){h(this,e),this.serviceGeneric=t,this.fileManipulationService=n,this.configurationService=i,this.employeeName=""}return m(e,[{key:"getClockings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o="".concat(d,"/clockings/").concat(e,"/"),r=[];return this.serviceGeneric.parseParams(r,"initPeriod",t),this.serviceGeneric.parseParams(r,"endPeriod",n),this.serviceGeneric.parseParams(r,"isDivergent",i),this.serviceGeneric.search(o,r)}},{key:"getPeriods",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o="".concat(d,"/periods/").concat(t,"/");return n&&i&&((e=[]).countPeriodsBefore=n,e.countPeriodsAfter=i),this.serviceGeneric.search(o,e)}},{key:"getBalanceSummaries",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o="".concat(d,"/balanceSummary/").concat(t,"/");return n&&i&&((e=[]).initPeriod=n,e.endPeriod=i),this.serviceGeneric.search(o,e)}},{key:"getReportDownloadUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o,a,r,s=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!u.ZP.isErpDatasul()){i.next=7;break}return i.next=3,this.serviceGeneric.resolveUrl(0,"$".concat(d,"/clockings/report/"));case 3:return o=i.sent,a="".concat(document.location.origin).concat(o).concat(d,"/clockings/report/").concat(encodeURIComponent(e)),t&&n&&((r=[]).initPeriod=t,r.endPeriod=n,a=l.m.concatQueryParam(a,r)),i.abrupt("return",a);case 7:return i.abrupt("return",new Promise(function(i){var o;t&&n&&((o=[]).initPeriod=t,o.endPeriod=n,i(s.configurationService.getServerApiUrl().then(function(t){var n="".concat(t).concat(d,"/clockings/report/").concat(encodeURIComponent(e));return n=l.m.concatQueryParam(n,o),u.ZP.isErpNode()||u.ZP.isErpProtheus()?n:"".concat(document.location.origin).concat(n)})))}));case 8:case"end":return i.stop()}},i,this)}))}},{key:"openClockingReport",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return n&&i&&((e=[]).initPeriod=n,e.endPeriod=i),this.fileManipulationService.openFile("".concat(d,"/clockings/report/").concat(encodeURIComponent(t),"/"),o,"application/pdf",e)}},{key:"getBlobReport",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;n&&i&&((e=[]).initPeriod=n,e.endPeriod=i);var o="".concat(d,"/clockings/report/").concat(encodeURIComponent(t),"/");return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.search(o,e,!1)}},{key:"setDefaulResponseType",value:function(){this.serviceGeneric.setResponseType("json")}},{key:"getTeamBalanceSummaries",value:function(e,t,n){var i,o="team/".concat(d,"/balanceSummary/").concat(e,"/");return t&&n&&((i=[]).initPeriod=t,i.endPeriod=n),this.serviceGeneric.search(o,i,void 0,!1)}}]),e}()).\u0275fac=function(e){return new(e||i)(p.LFG(c.M),p.LFG(s.e),p.LFG(r.e))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac}),i)},74570:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var i=n(32268),o=function(){function e(t){h(this,e),this.period=t}return m(e,[{key:"getLabel",value:function(){return i.$.getDateUTCFormat(new Date(this.period.initDate)).toLocaleDateString()+" - "+i.$.getDateUTCFormat(new Date(this.period.endDate)).toLocaleDateString()}},{key:"getValue",value:function(){return JSON.stringify(this.period)}}],[{key:"getPeriodsForSelectList",value:function(e){var t=new Array;return e&&e.forEach(function(e,n){t.push({value:e.getValue(),label:e.getLabel()})}),t}},{key:"getPeriod",value:function(e){return JSON.parse(e)}}]),e}()},97185:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});var i,o=n(92340),a=n(59708),r=n(37716),s=((i=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getOccurrencesOfDay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n="timesheet/occurrences/".concat(e),i=[];return i.referenceDate=t.toISOString(),this.serviceGeneric.search(n,i)}}]),e}()).\u0275fac=function(e){return new(e||i)(r.LFG(a.M))},i.\u0275prov=r.Yz7({token:i,factory:i.\u0275fac}),i)},70636:function(e,t,n){"use strict";n.d(t,{W:function(){return f}});var i=n(64762),o=n(37716),a=n(44956),r=n(26847),s=n(92340),c=n(65241),l=n(38583),u=n(29790),p=n(32268);function d(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",2),o.TgZ(2,"span",3),o.TgZ(3,"div",4),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",5),o._uU(7),o.ALo(8,"lowercase"),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"span",3),o.TgZ(12,"div",4),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.TgZ(15,"div",5),o._uU(16),o.ALo(17,"utcDate"),o.qZA(),o.qZA(),o.TgZ(18,"span",3),o.TgZ(19,"div",4),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"div",5),o._uU(23),o.ALo(24,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){var n=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,7,"l-days-vacation")),o.xp6(3),o.AsE("",n.vacation.days," ",o.lcZ(8,9,o.lcZ(9,11,"l-days")),""),o.xp6(6),o.Oqu(o.lcZ(14,13,"l-begin-vacation")),o.xp6(3),o.Oqu(o.xi3(17,15,n.vacation.initVacation,"shortDate")),o.xp6(4),o.Oqu(o.lcZ(21,18,"l-end-vacation")),o.xp6(3),o.Oqu(o.xi3(24,20,n.vacation.endVacation,"shortDate"))}}var g,f=((g=function(){function e(t,n){var i=this;h(this,e),this.appTranslateService=t,this.vacationService=n,this.isVisible=!1,this.deleted=new o.vpe,this.confirmAction={label:"l-delete",action:function(){return i.excludeVacation()}},this.cancelAction={label:"l-cancel",action:function(){return i.excludeDialog.close()}}}return m(e,[{key:"ngOnInit",value:function(){this.translateLabelConfirm()}},{key:"translateLabelConfirm",value:function(){for(var e=this,t=function(){var t=i[n];e.appTranslateService.getI18n(t.label).then(function(e){t.label=e})},n=0,i=[this.confirmAction,this.cancelAction];n<i.length;n++)t()}},{key:"openDialog",value:function(){this.excludeDialog.open()}},{key:"excludeVacation",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.employeeId||(this.employeeId=s.N.loggedUser),!this.vacation.canAlter){e.next=8;break}return e.prev=1,e.next=4,this.vacationService.deleteVacation(this.vacation.id,this.employeeId);case 4:this.deleted.emit();case 5:return e.prev=5,this.excludeDialog.close(),e.finish(5);case 8:case"end":return e.stop()}},e,this,[[1,,5,8]])}))}}]),e}()).\u0275fac=function(e){return new(e||g)(o.Y36(c.g),o.Y36(r.P))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-vacation-exclude"]],viewQuery:function(e,t){var n;1&e&&o.Gf(a.hmF,5),2&e&&o.iGM(n=o.CRH())&&(t.excludeDialog=n.first)},inputs:{vacation:"vacation",employeeId:"employeeId"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row","second-row"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.ALo(1,"translate"),o.YNc(2,d,25,23,"div",1),o.qZA()),2&e&&(o.s9C("p-title",o.lcZ(1,4,"l-want-delete-request")),o.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),o.xp6(2),o.Q6J("ngIf",void 0!==t.vacation))},directives:[a.hmF,l.O5],pipes:[u.X$,l.i8,p.$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),g)},11491:function(e,t,n){"use strict";n.d(t,{g:function(){return q}});var i=n(64762),o=n(98348),a=n(94405),r=n(88044),s=n(30343),c=n(97983),l=n(68014),u=n(26847),p=n(92340),d=n(44852),g=n(37716),f=n(29790),v=n(84479),b=n(62393),x=n(36812),y=n(38583),w=n(90171),Z=n(32268);function C(e,t){1&e&&(g.TgZ(0,"span",28),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"l-download")," "))}function M(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",25),g.NdJ("click",function(){return g.CHM(n),g.oxw().getDownloadReceipt()}),g._UZ(1,"span",26),g.YNc(2,C,3,3,"span",27),g.qZA()}if(2&e){var i=g.oxw();g.xp6(2),g.Q6J("ngIf",!i.isWebView())}}function k(e,t){if(1&e&&(g.TgZ(0,"div",29),g.TgZ(1,"div",17),g.TgZ(2,"div",8),g._uU(3),g.qZA(),g.TgZ(4,"div",30),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA(),g.qZA()),2&e){var n=t.$implicit;g.xp6(3),g.hij(" ",null==n?null:n.description," "),g.xp6(2),g.Oqu(g.xi3(6,2,(null==n?null:n.value)||0,"1.2-2"))}}function A(e,t){if(1&e&&(g.TgZ(0,"div",29),g.TgZ(1,"div",17),g.TgZ(2,"div",8),g._uU(3),g.qZA(),g.TgZ(4,"div",31),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA(),g.qZA()),2&e){var n=t.$implicit;g.xp6(3),g.hij(" ",null==n?null:n.description," "),g.xp6(2),g.Oqu(g.xi3(6,2,(null==n?null:n.value)||0,"1.2-2"))}}function P(e,t){if(1&e&&(g.TgZ(0,"div",29),g.TgZ(1,"div",17),g.TgZ(2,"div",8),g._uU(3),g.qZA(),g.TgZ(4,"div",32),g._uU(5),g.ALo(6,"number"),g.qZA(),g.qZA(),g.qZA()),2&e){var n=t.$implicit;g.xp6(3),g.hij(" ",null==n?null:n.description," "),g.xp6(2),g.Oqu(g.xi3(6,2,(null==n?null:n.value)||0,"1.2-2"))}}var O,q=((O=function(){function e(t,n,i,o,a,r,s,c,l,u){h(this,e),this.vacationService=t,this.translateService=n,this.navigationUtilService=i,this.windowUtilService=o,this.fileManipulationService=a,this.profileService=r,this.ionicUtilService=s,this.spinnerService=c,this.permissionSelectors=l,this.fileTransferService=u,this.vacationId="0",this.loggedUser=p.N.loggedUser,this.proceeds=[],this.deductions=[],this.taxBase=[],this.totalProceedValue=0,this.totalTaxBaseValue=0,this.totalDeductionValue=0,this.isCurrentVacation=!1,this.employeeName="",this.employeeId="",this.showDownloadButton=!1,this.transferFile=""}return m(e,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"ngOnDestroy",value:function(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}},{key:"initializeComponent",value:function(){this.getVariablesParam(),this.getVacationInfo(),this.getVacationReceipt(),this.getEmployeeName(),this.getDeviceInfo(),this.getPermission()}},{key:"getEmployeeName",value:function(){var e=this;this.employeeName||this.profileService.getEmployeeSummary(this.employeeId).then(function(t){e.employeeName=t.name})}},{key:"getVariablesParam",value:function(){var e=JSON.parse(window.localStorage.getItem("vacationDetails"));this.vacationId=e.vacationId,this.isCurrentVacation=e.isCurrentVacation,this.employeeId=e.employeeId}},{key:"getVacationInfo",value:function(){var e=this;this.isCurrentVacation?o.ZP.isErpRM()?this.vacationService.getVacationInfo(this.employeeId).then(function(t){e.vacationInfo=t.filter(function(t){return t.id.toString()===e.vacationId.toString()})[0]}):this.vacationService.getVacationProcess(this.employeeId).then(function(t){e.vacationInfo=t.filter(function(t){return t.id.toString()===e.vacationId.toString()})[0]}):this.vacationService.getVacationHistory(this.employeeId,0,5,!0).then(function(t){t&&(e.vacationInfo=t.records.filter(function(t){return t.id===e.vacationId.toString()})[0])})}},{key:"getStatus",value:function(e){return e.statusLabel?e.statusLabel:(this.translateService.get("l-unsolicited").subscribe(function(e){t=e}),t);var t}},{key:"getVacationReceipt",value:function(){var e=this;this.vacationService.getVacationReceipt(this.employeeId,this.vacationId).then(function(t){e.detailedResponse=t.data?t.data:t,e.deductions=e.detailedResponse.events.filter(function(t){if(-1!==t.type.toLowerCase().indexOf("deduction"))return e.totalDeductionValue+=t.value,!0}),e.taxBase=e.detailedResponse.events.filter(function(t){if(-1!==t.type.toLowerCase().indexOf("tax"))return e.totalTaxBaseValue+=t.value,!0}),e.proceeds=e.detailedResponse.events.filter(function(t){if(-1!==t.type.toLowerCase().indexOf("proceeds"))return e.totalProceedValue+=t.value,!0})})}},{key:"isWebView",value:function(){return this.windowUtilService.isWebView()}},{key:"getDeviceInfo",value:function(){this.isMobileDevice=this.windowUtilService.isMobileDevice()}},{key:"getDownloadReceipt",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.fileManipulationService.formatFilenameReport([this.employeeName]),!this.isWebView()||o.ZP.isTomcatAppServer()){e.next=5;break}this.spinnerService.show(),this.vacationService.getReportDownloadUrl(this.employeeId,this.vacationId).then(function(e){a.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:t,fileMIMEtype:"application/pdf"},type:r.g.DownloadAndOpenFile})}).catch(function(e){a.spinnerService.hide()}),e.next=26;break;case 5:if(!this.isWebView()||!o.ZP.isTomcatAppServer()){e.next=25;break}return this.spinnerService.show(),e.next=9,this.getAndSetBase64String(this.employeeId,this.vacationId);case 9:return e.next=11,this.fileTransferService.bufferFileonStorage(this.transferFile);case 11:return n=e.sent,e.next=14,this.fileTransferService.saveBase64onStorage(n);case 14:return e.next=16,this.fileTransferService.nameListBas64onStorage(n);case 16:e.t0=e.sent,e.t1=t,e.t2=!1,e.t3={keyStorage:e.t0,filename:e.t1,fileMIMEtype:"application/pdf",isShare:e.t2},e.t4=r.g.TransferFile,i={args:e.t3,type:e.t4},this.ionicUtilService.emit(i),e.next=26;break;case 25:this.vacationService.openVacationReport(this.employeeId,this.vacationId,t);case 26:case"end":return e.stop()}},e,this)}))}},{key:"getAndSetBase64String",value:function(e,t){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.transferFile="",n.next=3,this.vacationService.getBlobReportReceipt(e,t).then(function(e){return(0,i.mG)(o,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fileManipulationService.blobToBase64(e).then(function(e){return n.transferFile=e});case 2:this.vacationService.setDefaulResponseType();case 3:case"end":return t.stop()}},t,this)}))});case 3:case"end":return n.stop()}},n,this)}))}},{key:"back",value:function(){this.navigationUtilService.doNavigation(this.employeeId!==this.loggedUser?"teamManagement":"vacation")}},{key:"isIOS",value:function(){return this.windowUtilService.isIOS()}},{key:"getPermission",value:function(){var e=this;this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(t){e.showDownloadButton=t.downloadVacationReceipt})}},{key:"callbackIonicExternalEvent",value:function(e){(e.detail.event.type===r.g.DownloadAndOpenFile||e.detail.event.type===r.g.TransferFile)&&this.spinnerService.hide()}}]),e}()).\u0275fac=function(e){return new(e||O)(g.Y36(u.P),g.Y36(f.sK),g.Y36(d._),g.Y36(v.g),g.Y36(a.e),g.Y36(c.H),g.Y36(r.l),g.Y36(s.V),g.Y36(l.eL),g.Y36(b.c))},O.\u0275cmp=g.Xpm({type:O,selectors:[["app-vacation-receipt"]],hostBindings:function(e,t){1&e&&g.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,g.evT)},decls:129,vars:112,consts:[["backIsVisible","true","pageTitle","l-vacation-receipt",3,"backFunction"],["class","download-container",3,"click",4,"ngIf"],[1,"vacation-main","vacation-component","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"hideToggle"],["expanded","true","hideToggle","true",1,"custom-border",3,"disabled"],[1,"vacation-history-header"],[1,"vacation-main-content"],[1,"line"],[1,"historic-content","a"],[1,"historic-label"],[1,"historic-value"],[1,"historic-content","b"],[1,"historic-content","c"],[1,"historic-content","d"],[1,"historic-content","e"],[1,"historic-content","f"],[1,"historic-content","g"],[1,"vacation-component","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],[1,"historic-content"],[1,"historic-value","green"],[1,"historic-title"],["class","content-holder",4,"ngFor","ngForOf"],[1,"historic-value","red"],[1,"historic-content","paddingTop15px"],[1,"historic-label","bold","font16px"],[1,"historic-value","bold","green"],[1,"download-container",3,"click"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base","icon-size"],["class","button-download",4,"ngIf"],[1,"button-download"],[1,"content-holder"],[1,"historic-value","green","bold"],[1,"historic-value","bold","red"],[1,"historic-value","bold"]],template:function(e,t){1&e&&(g.TgZ(0,"app-page-header",0),g.NdJ("backFunction",function(){return t.back()}),g.qZA(),g.YNc(1,M,3,1,"div",1),g.TgZ(2,"mat-accordion",2),g.TgZ(3,"mat-expansion-panel",3),g.TgZ(4,"mat-expansion-panel-header",4),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.TgZ(7,"div",5),g._UZ(8,"hr",6),g.TgZ(9,"div",7),g.TgZ(10,"div",8),g._uU(11),g.ALo(12,"translate"),g.qZA(),g.TgZ(13,"div",9),g._uU(14),g.qZA(),g.qZA(),g._UZ(15,"hr",6),g.TgZ(16,"div",10),g.TgZ(17,"div",8),g._uU(18),g.ALo(19,"translate"),g.qZA(),g.TgZ(20,"div",9),g._uU(21),g.ALo(22,"utcDate"),g.qZA(),g.qZA(),g._UZ(23,"hr",6),g.TgZ(24,"div",11),g.TgZ(25,"div",8),g._uU(26),g.ALo(27,"translate"),g.qZA(),g.TgZ(28,"div",9),g._uU(29),g.ALo(30,"utcDate"),g.qZA(),g.qZA(),g._UZ(31,"hr",6),g.TgZ(32,"div",12),g.TgZ(33,"div",8),g._uU(34),g.ALo(35,"translate"),g.qZA(),g.TgZ(36,"div",9),g._uU(37),g.qZA(),g.qZA(),g._UZ(38,"hr",6),g.TgZ(39,"div",13),g.TgZ(40,"div",8),g._uU(41),g.ALo(42,"translate"),g.qZA(),g.TgZ(43,"div",9),g._uU(44),g.ALo(45,"lowercase"),g.ALo(46,"translate"),g.qZA(),g.qZA(),g._UZ(47,"hr",6),g.TgZ(48,"div",14),g.TgZ(49,"div",8),g._uU(50),g.ALo(51,"translate"),g.qZA(),g.TgZ(52,"div",9),g._uU(53),g.ALo(54,"utcDate"),g.qZA(),g.qZA(),g._UZ(55,"hr",6),g.TgZ(56,"div",15),g.TgZ(57,"div",8),g._uU(58),g.ALo(59,"translate"),g.qZA(),g.TgZ(60,"div",9),g._uU(61),g.ALo(62,"utcDate"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(63,"mat-accordion",16),g.TgZ(64,"mat-expansion-panel",3),g.TgZ(65,"mat-expansion-panel-header",4),g._uU(66),g.ALo(67,"translate"),g.qZA(),g.TgZ(68,"div",17),g.TgZ(69,"div",8),g._uU(70),g.ALo(71,"translate"),g.qZA(),g.TgZ(72,"div",9),g._uU(73),g.ALo(74,"utcDate"),g.qZA(),g.qZA(),g.TgZ(75,"div",17),g.TgZ(76,"div",8),g._uU(77),g.ALo(78,"translate"),g.qZA(),g.TgZ(79,"div",9),g._uU(80),g.ALo(81,"utcDate"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(82,"mat-accordion",16),g.TgZ(83,"mat-expansion-panel",3),g.TgZ(84,"mat-expansion-panel-header",4),g._uU(85),g.ALo(86,"translate"),g.qZA(),g.TgZ(87,"div",17),g.TgZ(88,"div",8),g._uU(89),g.ALo(90,"translate"),g.qZA(),g.TgZ(91,"div",18),g._uU(92),g.ALo(93,"number"),g.qZA(),g.qZA(),g.TgZ(94,"h2",19),g._uU(95),g.ALo(96,"translate"),g.qZA(),g.YNc(97,k,7,5,"div",20),g.qZA(),g.qZA(),g.TgZ(98,"mat-accordion",16),g.TgZ(99,"mat-expansion-panel",3),g.TgZ(100,"mat-expansion-panel-header",4),g._uU(101),g.ALo(102,"translate"),g.qZA(),g.TgZ(103,"div",17),g.TgZ(104,"div",8),g._uU(105),g.ALo(106,"translate"),g.qZA(),g.TgZ(107,"div",21),g._uU(108),g.ALo(109,"number"),g.qZA(),g.qZA(),g.TgZ(110,"h2",19),g._uU(111),g.ALo(112,"translate"),g.qZA(),g.YNc(113,A,7,5,"div",20),g.qZA(),g.qZA(),g.TgZ(114,"mat-accordion",16),g.TgZ(115,"mat-expansion-panel",3),g.TgZ(116,"mat-expansion-panel-header",4),g._uU(117),g.ALo(118,"translate"),g.qZA(),g.YNc(119,P,7,5,"div",20),g.qZA(),g.TgZ(120,"mat-accordion",16),g.TgZ(121,"mat-expansion-panel",3),g.TgZ(122,"div",22),g.TgZ(123,"div",23),g._uU(124),g.ALo(125,"translate"),g.qZA(),g.TgZ(126,"div",24),g._uU(127),g.ALo(128,"number"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngIf",t.showDownloadButton),g.xp6(1),g.Q6J("hideToggle",!0),g.xp6(1),g.Q6J("disabled",!0),g.xp6(2),g.hij(" ",g.lcZ(6,43,"l-requested-vacation")," "),g.xp6(6),g.hij(" ",g.lcZ(12,45,"l-vacation-numofdays")," "),g.xp6(3),g.Oqu((null==t.vacationInfo?null:t.vacationInfo.days)||0),g.xp6(4),g.Oqu(g.lcZ(19,47,"l-vacation-init-period")),g.xp6(3),g.Oqu(g.xi3(22,49,null==t.vacationInfo?null:t.vacationInfo.initVacation,"shortDate")),g.xp6(5),g.Oqu(g.lcZ(27,52,"l-vacation-end-period")),g.xp6(3),g.Oqu(g.xi3(30,54,null==t.vacationInfo?null:t.vacationInfo.endVacation,"shortDate")),g.xp6(5),g.Oqu(g.lcZ(35,57,"l-vacation-status")),g.xp6(3),g.Oqu(null==t.vacationInfo?null:t.getStatus(t.vacationInfo)),g.xp6(4),g.Oqu(g.lcZ(42,59,"l-vacation-expired-days")),g.xp6(3),g.AsE("",null==t.vacationInfo?null:t.vacationInfo.balance," ",g.lcZ(45,61,g.lcZ(46,63,"l-days")),""),g.xp6(6),g.Oqu(g.lcZ(51,65,"l-vacation-init-acquisition")),g.xp6(3),g.Oqu(g.xi3(54,67,null==t.vacationInfo?null:t.vacationInfo.initPeriod,"shortDate")),g.xp6(5),g.Oqu(g.lcZ(59,70,"l-vacation-end-acquisition")),g.xp6(3),g.Oqu(g.xi3(62,72,null==t.vacationInfo?null:t.vacationInfo.endPeriod,"shortDate")),g.xp6(3),g.Q6J("disabled",!0),g.xp6(2),g.hij(" ",g.lcZ(67,75,"l-vacation-receipt")," "),g.xp6(4),g.hij(" ",g.lcZ(71,77,"l-vacation-receipt-payment")," "),g.xp6(3),g.Oqu(g.xi3(74,79,null==t.detailedResponse?null:t.detailedResponse.payDate,"shortDate")),g.xp6(4),g.Oqu(g.lcZ(78,82,"l-vacation-receipt-notice")),g.xp6(3),g.Oqu(g.xi3(81,84,null==t.detailedResponse?null:t.detailedResponse.noticeDate,"shortDate")),g.xp6(3),g.Q6J("disabled",!0),g.xp6(2),g.hij(" ",g.lcZ(86,87,"l-vacation-earnings")," "),g.xp6(4),g.hij(" ",g.lcZ(90,89,"l-vacation-earnings-total")," "),g.xp6(3),g.Oqu(g.xi3(93,91,t.totalProceedValue||0,"1.2-2")),g.xp6(3),g.hij(" ",g.lcZ(96,94,"l-vacation-description")," "),g.xp6(2),g.Q6J("ngForOf",t.proceeds),g.xp6(2),g.Q6J("disabled",!0),g.xp6(2),g.hij(" ",g.lcZ(102,96,"l-vacation-deduction")," "),g.xp6(4),g.hij(" ",g.lcZ(106,98,"l-vacation-deduction-total")," "),g.xp6(3),g.Oqu(g.xi3(109,100,t.totalDeductionValue||0,"1.2-2")),g.xp6(3),g.hij(" ",g.lcZ(112,103,"l-vacation-description")," "),g.xp6(2),g.Q6J("ngForOf",t.deductions),g.xp6(2),g.Q6J("disabled",!0),g.xp6(2),g.hij(" ",g.lcZ(118,105,"l-vacation-taxbase")," "),g.xp6(2),g.Q6J("ngForOf",t.taxBase),g.xp6(2),g.Q6J("disabled",!0),g.xp6(3),g.hij(" ",g.lcZ(125,107,"l-vacation-total")," "),g.xp6(3),g.hij(" ",g.xi3(128,109,t.totalProceedValue-t.totalDeductionValue||0,"1.2-2")," "))},directives:[x.q,y.O5,w.pp,w.ib,w.yz,y.sg],pipes:[f.X$,Z.$,y.i8,y.JJ],styles:['.vacation-label[_ngcontent-%COMP%]{margin-top:0}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block}.vacation-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639;cursor:default}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.downloader-holder[_ngcontent-%COMP%]{float:right;margin:10px 0;font-weight:bold}.historic-label[_ngcontent-%COMP%]{display:inline-block;font-weight:bold;color:#4a5c60}.historic-title[_ngcontent-%COMP%]{margin:0 24px;padding:15px 0 5px;border-bottom:1px solid #cacaca;font-size:14px;font-weight:bold}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}@media (max-width: 767px){.historic-content[_ngcontent-%COMP%]{padding:0 24px;display:flow-root}}@media (min-width: 767px){.historic-content[_ngcontent-%COMP%]{padding:5px 24px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.vacation-label[_ngcontent-%COMP%]{padding-left:8px}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;right:5px;min-width:90px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .thf-button-link{border-color:#fff;color:#fff}@media screen and (max-width: 425px){[_nghost-%COMP%]     .thf-button-link{width:100%}}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.vacation[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 992px) and (max-width: 1199px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}.vacation-link[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 425px){.vacation-actions[_ngcontent-%COMP%]{text-align:right}}@media (max-width: 425px){.vacation-notes[_ngcontent-%COMP%]{width:40%;margin-left:-5px}}@media screen and (min-width: 425px){.vacation-notes[_ngcontent-%COMP%]{margin-right:10px}}@media (max-width: 425px){.vacation-download[_ngcontent-%COMP%]{width:55%;float:right;margin-right:20px}}.vacation-warning[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:3px 8px;background-color:#ea9b3e;border-radius:5px;color:#fff}.vacation-main[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{grid-area:a}.vacation-main[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{grid-area:b}.vacation-main[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{grid-area:c}.vacation-main[_ngcontent-%COMP%]   .d[_ngcontent-%COMP%]{grid-area:d}.vacation-main[_ngcontent-%COMP%]   .e[_ngcontent-%COMP%]{grid-area:e}.vacation-main[_ngcontent-%COMP%]   .f[_ngcontent-%COMP%]{grid-area:f}.vacation-main[_ngcontent-%COMP%]   .g[_ngcontent-%COMP%]{grid-area:g}@media (min-width: 767px){.vacation-main[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:none}}@media (min-width: 767px){.vacation-main-content[_ngcontent-%COMP%]{display:grid}}@media (min-width: 767px){.vacation-main-content[_ngcontent-%COMP%]{grid-template-areas:"a b c d" "e f g ."}}@media (min-width: 991px){.vacation-main-content[_ngcontent-%COMP%]{grid-template-areas:"a b c d" "e f g ."}}@media (min-width: 1199px){.vacation-main-content[_ngcontent-%COMP%]{grid-template-areas:"a b c d e f g";grid-template-columns:4fr 4fr 5fr 4fr 4fr 6fr 6fr}}@media (min-width: 767px){.vacation-main-content[_ngcontent-%COMP%]   .historic-label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:bold}}.vacation-main-content[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{float:none;float:initial;text-align:left}.vacation-component[_ngcontent-%COMP%]{margin-bottom:20px}.vacation-button[_ngcontent-%COMP%]{font-family:NunitoSans-Bold,sans-serif;font-size:16px;line-height:24px;background-color:transparent;border:1px solid #0c9abe;border-radius:3px;color:#0c9abe;display:inline-block;height:44px;padding:0 16px;text-align:center}.vacation[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{font-weight:bold}@media (min-width: 767px){.vacation[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{float:none;float:initial;text-align:left}}.text-total[_ngcontent-%COMP%]{float:right}.content-holder[_ngcontent-%COMP%]:last-child   .line[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .vacation-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .vacation-history-header .mat-content{font-size:14px}}.green[_ngcontent-%COMP%]{color:#00b28e}.red[_ngcontent-%COMP%]{color:rgba(190,39,12,.973)}.bold[_ngcontent-%COMP%]{font-weight:bold}.paddingTop15px[_ngcontent-%COMP%]{padding-top:15px}.font16px[_ngcontent-%COMP%]{font-size:16px}.download-holder[_ngcontent-%COMP%]{margin:15px 8px}.text-download-item[_ngcontent-%COMP%]{color:#0c9abe}.download-container[_ngcontent-%COMP%]{display:inline-flex;float:right;font-size:24px;cursor:pointer;margin-bottom:20px!important}.download-icone[_ngcontent-%COMP%]{padding-right:3px}.download-texto[_ngcontent-%COMP%]{color:#0c9abe}.button-download[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 720px){.button-download[_ngcontent-%COMP%]{color:#0c9abe;font-family:NunitoSans-Bold;cursor:pointer;font-size:16px;display:inline-block;padding-left:8px!important;margin-top:-4px}}.icon-size[_ngcontent-%COMP%]{font-size:18px;font-weight:bold}']}),O)},81621:function(e,t,n){"use strict";n.d(t,{U:function(){return x}});var i=n(64762),o=n(89019),a=n(81483),r=n(83614),s=n(7633),c=n(37716),l=n(95987),u=n(38583),p=n(44956),d=n(29790),g=n(32268);function f(e,t){1&e&&(c.TgZ(0,"div",9),c.TgZ(1,"span",10),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,1,"l-warn-request-go-to-approvation")))}function v(e,t){1&e&&(c.TgZ(0,"div",11),c.TgZ(1,"span"),c._UZ(2,"span",12),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Oqu(c.lcZ(4,1,"l-warning-message-vacation")))}var b,x=((b=function(){function e(t,n,i,a){h(this,e),this.router=t,this.route=n,this.vacationRequestService=i,this.vacation=a,this.employeeId=o.N.loggedUser,this.employeeCard={employee:void 0,image:void 0,originComponent:""}}return m(e,[{key:"ngOnInit",value:function(){var e,t;this.getEmployee(),this.checkPreviewInfosToInit(),this.vacationMessageWarningIsVisible=null===(t=null===(e=this.vacation)||void 0===e?void 0:e.vacationInfo)||void 0===t?void 0:t.vacationProportional}},{key:"save",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.vacation.vacationInfo.initPeriod=a.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initPeriod)),this.vacation.vacationInfo.endPeriod=a.Em.formatUTCDate(new Date(this.vacation.vacationInfo.endPeriod)),this.vacation.vacationInfo.initVacation=a.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initVacation)),this.vacation.vacationInfo.endVacation=a.Em.formatUTCDate(new Date(this.vacation.vacationInfo.endVacation)),!this.vacation.isEdit){e.next=9;break}return e.next=7,this.vacationRequestService.putVacationRequest(this.employeeId,this.vacation.vacationInfo);case 7:e.next=11;break;case 9:return e.next=11,this.vacationRequestService.insertVacationRequest(this.employeeId,this.vacation.vacationInfo);case 11:this.nextStep();case 12:case"end":return e.stop()}},e,this)}))}},{key:"getLabelSellVacationOption",value:function(e){return e>0?"l-yes-sell-vacation":"l-no"}},{key:"getLabelAdvanceOption",value:function(e){return e?"l-yes":"l-no"}},{key:"nextStep",value:function(){this.router.navigate(["../requestDone"],{relativeTo:this.route})}},{key:"checkPreviewInfosToInit",value:function(){this.vacation.vacationInfo||this.router.navigate(["vacation"])}},{key:"getEmployee",value:function(){this.vacation.employeeCard&&this.vacation.employeeCard.employee&&(this.employeeId=this.vacation.employeeCard.employee.id)}}]),e}()).\u0275fac=function(e){return new(e||b)(c.Y36(l.F0),c.Y36(l.gz),c.Y36(s.D),c.Y36(r.w))},b.\u0275cmp=c.Xpm({type:b,selectors:[["app-confirm-request"]],decls:45,vars:44,consts:[[1,"container-title"],[1,"title"],[1,"container-content-list"],[1,"content-list","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],[1,"ask-content-list","pull-left"],[1,"awsner-content-list","pull-right"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 bottom-message",4,"ngIf"],["class","po-row bottom-message-warning",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","bottom-message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-row","bottom-message-warning"],[1,"po-icon","po-icon-warning","warning-message"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"div",3),c.TgZ(6,"span",4),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"span",5),c._uU(10),c.ALo(11,"lowercase"),c.ALo(12,"translate"),c.qZA(),c.qZA(),c.TgZ(13,"div",3),c.TgZ(14,"span",4),c._uU(15),c.ALo(16,"translate"),c.qZA(),c.TgZ(17,"span",5),c._uU(18),c.ALo(19,"utcDate"),c.qZA(),c.qZA(),c.TgZ(20,"div",3),c.TgZ(21,"span",4),c._uU(22),c.ALo(23,"translate"),c.qZA(),c.TgZ(24,"span",5),c._uU(25),c.ALo(26,"utcDate"),c.qZA(),c.qZA(),c.TgZ(27,"div",3),c.TgZ(28,"span",4),c._uU(29),c.ALo(30,"translate"),c.qZA(),c.TgZ(31,"span",5),c._uU(32),c.ALo(33,"translate"),c.qZA(),c.qZA(),c.TgZ(34,"div",3),c.TgZ(35,"span",4),c._uU(36),c.ALo(37,"translate"),c.qZA(),c.TgZ(38,"span",5),c._uU(39),c.ALo(40,"translate"),c.qZA(),c.qZA(),c.qZA(),c.YNc(41,f,4,3,"div",6),c.YNc(42,v,5,3,"div",7),c.TgZ(43,"po-button",8),c.NdJ("p-click",function(){return t.save()}),c.ALo(44,"translate"),c.qZA()),2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,15,"l-check-out-your-vacation-request")),c.xp6(5),c.Oqu(c.lcZ(8,17,"l-vacations-day")),c.xp6(3),c.AsE("",null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.days," ",c.lcZ(11,19,c.lcZ(12,21,"l-days")),""),c.xp6(5),c.Oqu(c.lcZ(16,23,"l-start")),c.xp6(3),c.Oqu(c.xi3(19,25,null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.initVacation,"dd/MM/yyyy")),c.xp6(4),c.Oqu(c.lcZ(23,28,"l-end")),c.xp6(3),c.Oqu(c.xi3(26,30,null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.endVacation,"dd/MM/yyyy")),c.xp6(4),c.Oqu(c.lcZ(30,33,"l-sell-one-third-vacation")),c.xp6(3),c.Oqu(c.xi3(33,35,t.getLabelSellVacationOption(null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.vacationBonus),t.vacation.vacationInfo)),c.xp6(4),c.Oqu(c.lcZ(37,38,"l-advance")),c.xp6(3),c.hij("",c.lcZ(40,40,t.getLabelAdvanceOption(null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.hasAdvance))," "),c.xp6(2),c.Q6J("ngIf",!t.vacationMessageWarningIsVisible),c.xp6(1),c.Q6J("ngIf",t.vacationMessageWarningIsVisible),c.xp6(1),c.s9C("p-label",c.lcZ(44,42,"l-finalize-requisition")))},directives:[u.O5,p.bOz],pipes:[d.X$,u.i8,g.$],styles:[".container-title[_ngcontent-%COMP%]{padding:15px 30px 0}.container-content-list[_ngcontent-%COMP%]{padding:0 15px}.title[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal;margin-bottom:20%}.sub-content[_ngcontent-%COMP%]{text-align:center;color:#9da7a9;font-weight:bold}.content-list[_ngcontent-%COMP%]{margin-top:12px}.ask-content-list[_ngcontent-%COMP%]{font-weight:bold;font-size:16px}.awsner-content-list[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}.warning-message[_ngcontent-%COMP%]{font-size:37px;position:absolute;top:-8px;margin-left:-30px}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.bottom-message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:83%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}.bottom-message-warning[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:83%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#ffc107}@media only screen and (max-width: 320px){.bottom-message[_ngcontent-%COMP%]{top:75%;padding:0 7%}.bottom-message-warning[_ngcontent-%COMP%]{top:75%;padding:0 7%}[_nghost-%COMP%]     .po-button{height:60px}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}.title[_ngcontent-%COMP%]{margin-bottom:12%}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),b)},48655:function(e,t,n){"use strict";n.d(t,{d:function(){return T}});var i=n(64762),o=n(92340),a=n(3247),r=n(81483),s=n(64383),c=n(98348),l=n(68014),u=n(26847),p=n(83614),d=n(37716),g=n(95987),f=n(49344),v=n(65241),b=n(38583),x=n(44956),y=n(3679),w=n(29790),Z=n(32268),C=["daysField"];function M(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"translate"),d.ALo(3,"utcDate"),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.AsE("",d.lcZ(2,2,"l-ends-in")," ",d.xi3(3,4,n.vacation.vacationInfo.endVacation,"dd/MM/yyyy"),"")}}var k=function(e){return{balance:e}};function A(e,t){if(1&e&&(d.TgZ(0,"span",10),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Oqu(d.xi3(2,1,"l-you-have-until-days-to-vacation-request",d.VKq(4,k,n.balanceIgnoringCurrent)))}}function P(e,t){if(1&e&&(d.TgZ(0,"span",10),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Oqu(d.xi3(2,1,"l-you-can-request-up-to-days-vacation",d.VKq(4,k,n.balanceIgnoringCurrent)))}}function O(e,t){if(1&e&&(d.TgZ(0,"span",11),d._uU(1),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Oqu(n.messageProtheus)}}var q,T=((q=function(){function e(t,n,i,a,r,s,c,l){h(this,e),this.vacation=t,this.router=n,this.route=i,this.moment=a,this.toastr=r,this.appTranslateService=s,this.vacationService=c,this.permissionSelectors=l,this.loggedUser=o.N.loggedUser,this.employeeId=o.N.loggedUser,this.vacationBonusViewAllowed=!0,this.teamManagementVacationBonusViewAllowed=!0}return m(e,[{key:"ngOnInit",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.balanceIsAready=!1,this.vacation.checkPreviewInfosToInit(this.vacation),this.validateVacationDays(this.vacation.vacationInfo.vacationProportional),this.balanceIgnoringCurrent=this.calculateBalanceIgnoringCurrent(this.vacation.vacationInfo),this.getEmployee(),this.getPermissions(),e.next=8,this.validateBalanceAux(this.vacation.vacationInfo.vacationProportional);case 8:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}},{key:"isErpProtheus",value:function(){return c.ZP.isErpProtheus()}},{key:"isErpDatasul",value:function(){return c.ZP.isErpDatasul()}},{key:"hasEndVacation",value:function(){return this.isErpDatasul()?this.validateAcceptBelowFiveDaysDts():!!(this.vacation.vacationInfo&&this.vacation.vacationInfo.endVacation&&Number(this.vacationDays)>=5)}},{key:"calcEndDateVacation",value:function(){if(!this.vacation.vacationInfo.vacationProportional||this.balanceIsAready)if(this.vacationDays>=0&&this.hasEnoughBalance()&&this.validateBalance()){var e=new Date(this.vacation.vacationInfo.initVacation);e.setDate(e.getDate()+Number(this.vacationDays)-1),this.vacation.vacationInfo.endVacation=e,this.endVacation=this.moment.getInstance(e).format("YYYY-MM-DD"),this.vacation.vacationInfo.days=Number(this.vacationDays)}else this.vacation.vacationInfo.endVacation=void 0,this.vacation.vacationInfo.days=0,this.vacationDays=void 0}},{key:"hasEnoughBalance",value:function(){var e=this;return!(this.vacationDays>this.balanceIgnoringCurrent&&(this.appTranslateService.getI18n("l-do-not-enough-balance").then(function(t){e.toastr.warning(t)}),1))}},{key:"nextStep",value:function(){this.employeeId===this.loggedUser?Number(this.vacation.vacationInfo.days)!==this.balanceIgnoringCurrent&&this.vacationBonusViewAllowed&&this.validateBonusDate()?this.router.navigate(["../sellDays"],{relativeTo:this.route}):(this.vacation.vacationInfo.vacationBonus=0,this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route})):Number(this.vacation.vacationInfo.days)!==this.balanceIgnoringCurrent&&this.teamManagementVacationBonusViewAllowed&&this.validateBonusDate()?this.router.navigate(["../sellDays"],{relativeTo:this.route}):(this.vacation.vacationInfo.vacationBonus=0,this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route}))}},{key:"validateBalance",value:function(){var e,t=this;return e=this.vacation.vacationInfo.vacationProportional&&this.isErpProtheus()?30-this.vacationDays:this.balanceIgnoringCurrent-this.vacationDays,!(!this.isErpDatasul()&&e>0&&e<5&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(function(e){t.toastr.warning(e)}),1))}},{key:"validateBalanceAux",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,!t.t0){t.next=11;break}return t.next=4,this.getBalanceAux();case 4:if(t.t1=this.isErpProtheus(),!t.t1){t.next=10;break}return this.balanceProtheus={aux:this.vacation.vacationInfo.balanceAux-this.vacation.vacationInfo.balance,value:this.balanceIgnoringCurrent},t.next=9,this.appTranslateService.getI18n("l-according-to-the-chosen-date-you-have-more-days",this.balanceProtheus);case 9:this.messageProtheus=t.sent;case 10:this.vacationDays=this.vacation.vacationInfo.days;case 11:case"end":return t.stop()}},t,this)}))}},{key:"validateVacationDays",value:function(e){this.vacationDays=e?0:this.vacation.vacationInfo.days}},{key:"getBalanceAux",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isErpProtheus()){e.next=10;break}return t=r.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initVacation)).toISOString(),n=r.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initPeriod)).toISOString(),e.next=4,this.vacationService.getBalanceAux(this.employeeId,t,n);case 4:this.balanceAux=e.sent,this.vacation.vacationInfo.balanceAux=this.balanceAux.balanceAux,this.balanceIsAready=!0,this.setBalanceAux(),e.next=11;break;case 10:this.balanceAux={balanceAux:this.vacation.vacationInfo.balanceAux},this.balanceIsAready=!0,this.setBalanceAux();case 11:case"end":return e.stop()}},e,this)}))}},{key:"setBalanceAux",value:function(){this.vacation.vacationInfo.balanceAux&&(this.balanceIgnoringCurrent=this.vacation.vacationInfo.balanceAux)}},{key:"calculateBalanceIgnoringCurrent",value:function(e){var t=e.balance;return e.status!==a.W.StatusEnum.Empty&&e.vacationBonus&&(t+=e.vacationBonus),t}},{key:"getPermissions",value:function(){var e=this;this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(t){e.vacationBonusViewAllowed=e.validatePermissionUndefined(t.vacationBonusView),e.teamManagementVacationBonusViewAllowed=e.validatePermissionUndefined(t.teamManagementVacationBonusView)})}},{key:"getEmployee",value:function(){this.employeeId=this.vacation.employeeCard&&this.vacation.employeeCard.employee?this.vacation.employeeCard.employee.id:"{current}"}},{key:"validatePermissionUndefined",value:function(e){return void 0===e||e}},{key:"validateBonusDate",value:function(){if(this.vacation.vacationInfo.limitVacationBonusDate){var e=new Date(this.vacation.vacationInfo.endPeriod),t=new Date;return r.Em.diffInDays(new Date(t.getFullYear(),t.getMonth(),t.getDate()),new Date(e.valueOf()+6e4*e.getTimezoneOffset()),!1)>=15}return!0}},{key:"validateAcceptBelowFiveDaysDts",value:function(){return this.vacation.vacationInfo&&this.vacation.vacationInfo.endVacation&&Number(this.vacationDays)>0}}]),e}()).\u0275fac=function(e){return new(e||q)(d.Y36(p.w),d.Y36(g.F0),d.Y36(g.gz),d.Y36(s.z),d.Y36(f._W),d.Y36(v.g),d.Y36(u.P),d.Y36(l.eL))},q.\u0275cmp=d.Xpm({type:q,selectors:[["app-days-vacation"]],viewQuery:function(e,t){var n;1&e&&d.Gf(C,5),2&e&&d.iGM(n=d.CRH())&&(t.daysField=n.first)},decls:18,vars:20,consts:[[1,"container-content"],[1,"title"],[1,"sub-content","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[4,"ngIf"],[1,"input-days","po-sm-2","po-md-1","po-lg-1","po-xl-1"],["p-maxlength","2","p-minlength","1","p-auto-focus","true","p-required","true","p-placeholder","0",3,"ngModel","ngModelChange","p-change-model"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","bottom-message"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 message-protheus",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message-protheus"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"div",2),d._uU(5),d.ALo(6,"translate"),d.ALo(7,"utcDate"),d._UZ(8,"br"),d.YNc(9,M,4,7,"span",3),d.qZA(),d.TgZ(10,"div",4),d.TgZ(11,"po-number",5),d.NdJ("ngModelChange",function(e){return t.vacationDays=e})("p-change-model",function(){return t.calcEndDateVacation()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"div",6),d.YNc(13,A,3,6,"span",7),d.YNc(14,P,3,6,"span",7),d.YNc(15,O,2,1,"span",8),d.qZA(),d.TgZ(16,"po-button",9),d.NdJ("p-click",function(){return t.nextStep()}),d.ALo(17,"translate"),d.qZA()),2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,10,"l-how-many-days-vacation")),d.xp6(3),d.AsE(" ",d.xi3(6,12,"l-init-in",t.vacation.vacationInfo)," ",d.xi3(7,15,t.vacation.vacationInfo.initVacation,"dd/MM/yyyy"),""),d.xp6(4),d.Q6J("ngIf",t.hasEndVacation()),d.xp6(2),d.Q6J("ngModel",t.vacationDays),d.xp6(2),d.Q6J("ngIf",!t.vacation.vacationInfo.vacationProportional),d.xp6(1),d.Q6J("ngIf",t.vacation.vacationInfo.vacationProportional&&!t.isErpProtheus()),d.xp6(1),d.Q6J("ngIf",t.vacation.vacationInfo.vacationProportional&&t.isErpProtheus()),d.xp6(1),d.s9C("p-label",d.lcZ(17,18,"l-confirm")),d.Q6J("p-disabled",!t.hasEndVacation()))},directives:[b.O5,x.S5$,y.JJ,y.On,x.bOz],pipes:[w.X$,Z.$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 30px 0}.title[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.sub-content[_ngcontent-%COMP%]{text-align:center;color:#9da7a9;font-weight:bold}.input-days[_ngcontent-%COMP%]{position:absolute;left:42%;top:50%}[_nghost-%COMP%]     .ng-valid .po-input:focus{border:none!important}[_nghost-%COMP%]     po-input.ng-invalid.ng-dirty .po-input{border:none!important;color:#000}[_nghost-%COMP%]     .po-input{font-size:25px;font-family:NunitoSans;width:80px;outline:none;border:none!important;box-shadow:none;margin-left:-7px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}.message-protheus[_ngcontent-%COMP%]{margin-top:-25px}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.bottom-message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 20%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}@media only screen and (max-width: 320px){.bottom-message[_ngcontent-%COMP%]{top:75%}[_nghost-%COMP%]     .po-button{height:60px}}@media only screen and (min-width: 480px){.input-days[_ngcontent-%COMP%]{left:45%}[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){.input-days[_ngcontent-%COMP%]{left:45%;top:45%}[_nghost-%COMP%]     .po-button{height:80px}}"]}),q)},18399:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var i=n(83614),o=n(37716),a=n(95987),r=n(38583),s=n(44956),c=n(29790),l=function(e){return{"button-selected":e}},u=function(){var e=function(){function e(t,n,i){h(this,e),this.router=t,this.route=n,this.vacation=i,this.hasAdvance=void 0}return m(e,[{key:"ngOnInit",value:function(){this.vacation.checkPreviewInfosToInit(this.vacation),this.initHasAdvance(),this.validateHasAdvanced()}},{key:"validateHasAdvanced",value:function(){this.vacation.hasAdvancedReceived.required||(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route}))}},{key:"setAdvanceOption",value:function(e){this.hasAdvance=e}},{key:"nextStep",value:function(){this.vacation.vacationInfo.hasAdvance=this.hasAdvance,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})}},{key:"initHasAdvance",value:function(){this.vacation.isEdit&&(this.hasAdvance=this.vacation.vacationInfo.hasAdvance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.F0),o.Y36(a.gz),o.Y36(i.w))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-has-advance"]],decls:16,vars:22,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-group"],[1,"buttons","mouse-pointer",3,"ngClass","click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2",1),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"span",3),o.NdJ("click",function(){return t.setAdvanceOption(!0)}),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"span",3),o.NdJ("click",function(){return t.setAdvanceOption(!1)}),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.qZA(),o.TgZ(11,"span",4),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"po-button",5),o.NdJ("p-click",function(){return t.nextStep()}),o.ALo(15,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,8,"l-receive-advance")),o.xp6(3),o.Q6J("ngClass",o.VKq(18,l,t.hasAdvance)),o.xp6(1),o.Oqu(o.lcZ(7,10,"l-yes")),o.xp6(2),o.Q6J("ngClass",o.VKq(20,l,!1===t.hasAdvance)),o.xp6(1),o.Oqu(o.lcZ(10,12,"l-no")),o.xp6(3),o.Oqu(o.lcZ(13,14,"l-you-can-anticipate-the-first-installment-of-the-advance")),o.xp6(2),o.s9C("p-label",o.lcZ(15,16,"l-confirm")),o.Q6J("p-disabled",void 0===t.hasAdvance))},directives:[r.mk,s.bOz],pipes:[c.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 15% 0}.question[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.button-group[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;margin-top:-25px;text-align:center;font-size:20px;color:#0c9abe}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}.button-selected[_ngcontent-%COMP%]{border:2px #0c9abe solid;border-radius:6px}.buttons[_ngcontent-%COMP%]{padding:10px;font-weight:bold}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.message[_ngcontent-%COMP%]{top:75%;padding:0 7%}.container-content[_ngcontent-%COMP%]{padding:0 10%}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),e}()},38050:function(e,t,n){"use strict";n.d(t,{j:function(){return b}});var i=n(44956),o=n(81483),a=n(64383),r=n(64634),s=n(83614),c=n(37716),l=n(95987),u=n(96054),p=n(29790),d=n(3679),g=n(38583);function f(e,t){if(1&e&&(c.TgZ(0,"span",5),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Oqu(c.xi3(2,1,"l-you-can-request-between-the-days",n.translate))}}var v,b=((v=function(){function e(t,n,i,o,a,r){h(this,e),this.router=t,this.route=n,this.notificationService=i,this.translateService=o,this.moment=a,this.vacation=r,this.translate={},this.canValidPeriod=!1}return m(e,[{key:"ngOnInit",value:function(){this.vacation.checkPreviewInfosToInit(this.vacation),this.formatInitVacation(),this.translate={init:this.getMomentCalendar(new Date(this.vacation.vacationInfo.initPeriod)),end:this.vacation.vacationInfo.limitDate?this.getMomentCalendar(new Date(this.vacation.vacationInfo.limitDate)):""},this.canAbovePeriod()}},{key:"nextStep",value:function(){new Date(this.initVacation)>=new Date&&(this.initVacation<=this.vacation.vacationInfo.limitDate||!this.vacation.vacationInfo.limitDate||this.canValidPeriod)?(this.vacation.vacationInfo.initVacation=this.initVacation,this.router.navigate(["../days"],{relativeTo:this.route})):this.toasterError(this.vacation.vacationInfo.limitDate&&this.initVacation>this.vacation.vacationInfo.limitDate?"l-selected-date-greater-than-limit-date":"l-selected-date-smaller-than-current-date")}},{key:"canAbovePeriod",value:function(){this.vacation.vacationInfo.canValidPeriodGrant&&(this.canValidPeriod=this.vacation.vacationInfo.canValidPeriodGrant)}},{key:"toasterError",value:function(e){var t=this;this.translateService.get(e).subscribe(function(e){t.notificationService.showNotification(e,i.ik9.Error)})}},{key:"getMomentCalendar",value:function(e){return e.setDate(e.getDate()+1),this.moment.getInstance(e).calendar()}},{key:"formatInitVacation",value:function(){this.initVacation=this.vacation.vacationInfo.initVacation&&r.m.isString(this.vacation.vacationInfo.initVacation)?o.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.vacation.vacationInfo.initVacation)):this.vacation.vacationInfo.initVacation}}]),e}()).\u0275fac=function(e){return new(e||v)(c.Y36(l.F0),c.Y36(l.gz),c.Y36(u.g),c.Y36(p.sK),c.Y36(a.z),c.Y36(s.w))},v.\u0275cmp=c.Xpm({type:v,selectors:[["app-init-vacation"]],decls:9,vars:12,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],["p-clean","true","p-required","true","id","date","name","date",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","datepicker",3,"ngModel","p-label","ngModelChange"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 period",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","period"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"po-datepicker",2),c.NdJ("ngModelChange",function(e){return t.initVacation=e}),c.ALo(5,"translate"),c.qZA(),c.YNc(6,f,3,4,"span",3),c.TgZ(7,"po-button",4),c.NdJ("p-click",function(){return t.nextStep()}),c.ALo(8,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.hij(" ",c.lcZ(3,6,"l-which-day-would-you-like-to-start-your-vacation")," "),c.xp6(2),c.s9C("p-label",c.lcZ(5,8,"l-select-one-date")),c.Q6J("ngModel",t.initVacation),c.xp6(2),c.Q6J("ngIf",t.vacation.vacationInfo.limitDate&&!t.canValidPeriod),c.xp6(1),c.s9C("p-label",c.lcZ(8,10,"l-confirm")),c.Q6J("p-disabled",!t.initVacation))},directives:[i.GWy,d.JJ,d.On,g.O5,i.bOz],pipes:[p.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 30px 0}.question[_ngcontent-%COMP%]{text-align:center;margin-top:15px;white-space:normal}.datepicker[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;margin-top:-25px;font-size:28px}.button[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.period[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.period[_ngcontent-%COMP%]{position:absolute;left:0;top:75%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 767px){.datepicker[_ngcontent-%COMP%]{position:absolute;top:50%;left:25%;margin-top:-25px}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}.datepicker[_ngcontent-%COMP%]{position:absolute;top:50%;left:25%;margin-top:-25px}}"]}),v)},25651:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var i,o=n(37716),a=n(83614),r=n(7633),s=n(44956),c=n(29790),l=((i=function(){function e(t,n){h(this,e),this.vacation=t,this.vacationRequestService=n,this.reloadVacationInfo=new o.vpe}return m(e,[{key:"ngOnInit",value:function(){this.vacation.backIsVisible=!1}},{key:"backToVacationPage",value:function(){this.closeDialog()}},{key:"closeDialog",value:function(){this.vacationRequestService.emitReloadVacationInfo()}}]),e}()).\u0275fac=function(e){return new(e||i)(o.Y36(a.w),o.Y36(r.D))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-request-done"]],outputs:{reloadVacationInfo:"reloadVacationInfo"},decls:11,vars:9,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","background-container"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-confirm",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2",1),o._uU(2),o.ALo(3,"translate"),o.qZA(),o._UZ(4,"span",2),o.TgZ(5,"div",3),o.TgZ(6,"span",4),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"po-button",5),o.NdJ("p-click",function(){return t.backToVacationPage()}),o.ALo(10,"translate"),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,3,"l-your-vacation-request-is-done")),o.xp6(5),o.Oqu(o.lcZ(8,5,"l-organize-yourself-to-enjoy-your-vacations")),o.xp6(2),o.s9C("p-label",o.lcZ(10,7,"l-close")))},directives:[s.bOz],pipes:[c.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 10% 0}.question[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.background-container[_ngcontent-%COMP%]{position:absolute;top:37%;left:0;margin-top:-25px;background:url(flipflops.0206ba2864ef92a10393.svg);min-height:35%;background-repeat:no-repeat;background-position:center center}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.message[_ngcontent-%COMP%]{top:75%;padding:0 7%}.container-content[_ngcontent-%COMP%]{padding:0 10%}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),i)},53307:function(e,t,n){"use strict";n.d(t,{$:function(){return v}});var i,o=n(98348),a=n(26847),r=n(83614),s=n(37716),c=n(95987),l=n(49344),u=n(65241),p=n(38583),d=n(44956),g=n(29790),f=function(e){return{"button-selected":e}},v=((i=function(){function e(t,n,i,o,a,r){h(this,e),this.router=t,this.route=n,this.toastr=i,this.appTranslateService=o,this.vacation=a,this.vacationService=r,this.vacationBonus=void 0}return m(e,[{key:"ngOnInit",value:function(){this.vacation.checkPreviewInfosToInit(this.vacation),this.initVacationBonus()}},{key:"initVacationBonus",value:function(){this.vacation.isEdit&&(this.vacationBonus=this.vacation.vacationInfo.vacationBonus>0)}},{key:"haveVacationBonus",value:function(e){var t=this,n=this.vacation.vacationInfo.balance-this.vacation.vacationInfo.days;o.ZP.isErpDatasul()&&n<5&&!this.vacation.acceptBelowFiveDay.visible&&!1===e?this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(function(e){t.toastr.warning(e)}):this.vacationBonus=e}},{key:"nextStep",value:function(){(!this.vacation.vacationInfo.vacationBonus||!this.vacationBonus)&&(this.vacation.vacationInfo.vacationBonus=0),this.vacationBonus?this.router.navigate(["../vacationBonus"],{relativeTo:this.route}):(void 0===this.vacation.vacationInfo.vacationBonus&&(this.vacation.vacationInfo.vacationBonus=0),this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.Y36(c.F0),s.Y36(c.gz),s.Y36(l._W),s.Y36(u.g),s.Y36(r.w),s.Y36(a.P))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-sell-days"]],decls:16,vars:22,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-group"],[1,"buttons","mouse-pointer",3,"ngClass","click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h2",1),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"span",3),s.NdJ("click",function(){return t.haveVacationBonus(!0)}),s._uU(6),s.ALo(7,"translate"),s.qZA(),s.TgZ(8,"span",3),s.NdJ("click",function(){return t.haveVacationBonus(!1)}),s._uU(9),s.ALo(10,"translate"),s.qZA(),s.qZA(),s.TgZ(11,"span",4),s._uU(12),s.ALo(13,"translate"),s.qZA(),s.TgZ(14,"po-button",5),s.NdJ("p-click",function(){return t.nextStep()}),s.ALo(15,"translate"),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.hij(" ",s.lcZ(3,8,"l-would-like-to-sell-up-to-ten-days-of-you-vacation")," "),s.xp6(3),s.Q6J("ngClass",s.VKq(18,f,t.vacationBonus)),s.xp6(1),s.Oqu(s.lcZ(7,10,"l-yes")),s.xp6(2),s.Q6J("ngClass",s.VKq(20,f,!1===t.vacationBonus)),s.xp6(1),s.Oqu(s.lcZ(10,12,"l-no")),s.xp6(3),s.hij("",s.lcZ(13,14,"l-you-can-sell-one-third-of-your-vacation")," "),s.xp6(2),s.s9C("p-label",s.lcZ(15,16,"l-confirm")),s.Q6J("p-disabled",void 0===t.vacationBonus))},directives:[p.mk,d.bOz],pipes:[g.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 30px 0}.question[_ngcontent-%COMP%]{text-align:center;margin-top:15px;white-space:normal}.button-group[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;margin-top:-25px;text-align:center;font-size:20px;color:#0c9abe}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 20%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}.button-selected[_ngcontent-%COMP%]{border:2px #0c9abe solid;border-radius:6px}.buttons[_ngcontent-%COMP%]{padding:10px;font-weight:bold}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.message[_ngcontent-%COMP%]{top:75%;padding:0 7%}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}.message[_ngcontent-%COMP%]{padding:0}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),i)},8296:function(e,t,n){"use strict";n.d(t,{G:function(){return f}});var i,o=n(98348),a=n(26847),r=n(83614),s=n(37716),c=n(95987),l=n(49344),u=n(65241),p=n(44956),d=n(3679),g=n(29790),f=((i=function(){function e(t,n,i,a,r,s){h(this,e),this.router=t,this.route=n,this.toastr=i,this.appTranslateService=a,this.vacation=r,this.vacationService=s,this.isErpProtheus=o.ZP.isErpProtheus(),this.isErpDatasul=o.ZP.isErpDatasul(),this.isProportionalVacation=this.vacation.vacationInfo.vacationProportional}return m(e,[{key:"ngOnInit",value:function(){this.vacation.checkPreviewInfosToInit(this.vacation),this.vacationBonus=0===this.vacation.vacationInfo.vacationBonus?void 0:this.vacation.vacationInfo.vacationBonus}},{key:"validateBonus",value:function(){null!=this.vacationBonus&&(this.validEnoughBonus(),this.isErpProtheus&&this.isProportionalVacation?(this.validateBalanceWithBonusProtheus(),this.validateBalanceWithTotalProtheus()):this.isErpDatasul&&this.isProportionalVacation?(this.validateBalanceWithBonusDatasul(),this.validateBalanceWithTotalProtheus()):(this.validateBalanceWithBonus(),this.validateBalanceWithTotal()))}},{key:"nextStep",value:function(){this.vacation.vacationInfo.vacationBonus=Number(this.vacationBonus),this.vacation.vacationInfo.vacationBonus||(this.vacation.vacationInfo.vacationBonus=0),this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route})}},{key:"validEnoughBonus",value:function(){var e=this;this.vacationBonus>10&&(this.appTranslateService.getI18n("l-do-not-enough-bonus").then(function(t){e.toastr.warning(t)}),this.vacationBonus=void 0)}},{key:"validateBalanceWithBonus",value:function(){var e=this,t=this.vacation.vacationInfo.balance-(this.vacation.vacationInfo.days+this.vacationBonus);(t>0&&t<5&&!o.ZP.isErpDatasul()||t<0&&this.vacation.acceptBelowFiveDay.visible||0!=t&&!this.vacation.acceptBelowFiveDay.visible)&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(function(t){e.toastr.warning(t)}),this.vacationBonus=void 0)}},{key:"validateBalanceWithTotal",value:function(){var e=this;this.vacation.vacationInfo.days+this.vacationBonus>this.vacation.vacationInfo.balance&&(this.appTranslateService.getI18n("l-do-not-total-days-balance").then(function(t){e.toastr.warning(t)}),this.vacationBonus=void 0)}},{key:"validateBalanceWithBonusProtheus",value:function(){var e=this,t=30-(this.vacation.vacationInfo.days+this.vacationBonus);t>0&&t<5&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(function(t){e.toastr.warning(t)}),this.vacationBonus=void 0)}},{key:"validateBalanceWithTotalProtheus",value:function(){var e=this;this.vacation.vacationInfo.days+this.vacationBonus>this.vacation.vacationInfo.balanceAux&&(this.appTranslateService.getI18n("l-do-not-total-days-balance").then(function(t){e.toastr.warning(t)}),this.vacationBonus=void 0)}},{key:"validateBalanceWithBonusDatasul",value:function(){var e=this,t=this.vacation.vacationInfo.balanceAux-(this.vacation.vacationInfo.days+this.vacationBonus);t>0&&t<5&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(function(t){e.toastr.warning(t)}),this.vacationBonus=void 0)}}]),e}()).\u0275fac=function(e){return new(e||i)(s.Y36(c.F0),s.Y36(c.gz),s.Y36(l._W),s.Y36(u.g),s.Y36(r.w),s.Y36(a.P))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-vacation-bonus"]],decls:12,vars:11,consts:[[1,"container-content"],[1,"title-ask"],[1,"input-days","po-sm-2","po-md-1","po-lg-1","po-xl-1"],["p-maxlength","2","p-minlength","1","p-focus","true","p-required","true","p-placeholder","0",3,"ngModel","ngModelChange","p-change-model"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","bottom-message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h2",1),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"po-number",3),s.NdJ("ngModelChange",function(e){return t.vacationBonus=e})("p-change-model",function(){return t.validateBonus()}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"div",4),s.TgZ(7,"span",5),s._uU(8),s.ALo(9,"translate"),s.qZA(),s.qZA(),s.TgZ(10,"po-button",6),s.NdJ("p-click",function(){return t.nextStep()}),s.ALo(11,"translate"),s.qZA()),2&e&&(s.xp6(2),s.Oqu(s.lcZ(3,5,"l-how-many-days-sell")),s.xp6(3),s.Q6J("ngModel",t.vacationBonus),s.xp6(3),s.Oqu(s.lcZ(9,7,"l-have-maximum-ten-days-sold")),s.xp6(2),s.s9C("p-label",s.lcZ(11,9,"l-confirm")),s.Q6J("p-disabled",!t.vacationBonus))},directives:[p.S5$,d.JJ,d.On,p.bOz],pipes:[g.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 40px 0}.title-ask[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.sub-content[_ngcontent-%COMP%]{text-align:center;color:#9da7a9;font-weight:bold}.input-days[_ngcontent-%COMP%]{position:absolute;left:42%;top:50%}[_nghost-%COMP%]     .ng-valid .po-input:focus{border:none!important}[_nghost-%COMP%]     po-input.ng-invalid.ng-dirty .po-input{border:none!important;color:#000}[_nghost-%COMP%]     .po-input{font-size:25px;font-family:NunitoSans;width:80px;outline:none;border:none!important;box-shadow:none;margin-left:-7px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.bottom-message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 20%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}@media only screen and (max-width: 320px){.bottom-message[_ngcontent-%COMP%]{top:75%}[_nghost-%COMP%]     .po-button{height:60px}}@media only screen and (min-width: 480px){.available-days-text[_ngcontent-%COMP%]{position:absolute;text-align:center;top:82%;left:12%}.input-days[_ngcontent-%COMP%]{left:45%}[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){.available-days-text[_ngcontent-%COMP%]{position:absolute;text-align:center;top:70%;left:8%}.input-days[_ngcontent-%COMP%]{left:45%;top:45%}[_nghost-%COMP%]     .po-button{height:80px}}"]}),i)},83614:function(e,t,n){"use strict";n.d(t,{w:function(){return f}});var i,o=n(64762),a=n(37716),r=n(98348),s=n(36227),c=n(57899),l=n(7633),u=n(95987),p=n(84479),d=n(57706),g=n(36812),f=((i=function(){function e(t,n,i,o,r,s){var c=this;h(this,e),this.router=t,this.route=n,this.windowUtilService=i,this.vacationRequestService=o,this.fieldPropertiesService=r,this.vacation=s,this.backIsVisible=!0,this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.hasAdvancedReceived={required:!0,field:"hasAdvancedDays",editable:!0,visible:!0},this.acceptBelowFiveDay={required:!1,field:"acceptBelowFiveDays",editable:!1,visible:!1},this.closeDialogEvent=new a.vpe,this.vacationRequestService.emitReloadVacationInfoObservable.subscribe(function(){c.closeDialogEmit()})}return m(e,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"initializeComponent",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.vacation.employeeCard&&this.vacation.employeeCard.employee&&(this.employeeCard=this.vacation.employeeCard),this.isEdit=this.vacation.isEditVacation,this.vacationInfo=this.vacation.selectedVacation,e.next=5,this.loadFieldProperties();case 5:case"end":return e.stop()}},e,this)}))}},{key:"checkPreviewInfosToInit",value:function(e){e&&!e.vacationInfo&&this.router.navigate(["vacation"])}},{key:"back",value:function(){this.fisrtChildUrlIsInit()?this.vacationRequestService.emitReloadVacationInfo():this.hasConfirmRequest()&&!this.hasAdvancedReceived.required?window.history.go(-2):this.windowUtilService.back()}},{key:"close",value:function(){this.closeDialogEmit(),this.vacationRequestService.emitReloadVacationInfo()}},{key:"loadFieldProperties",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:["hasAdvancedDays","acceptBelowFiveDays"].forEach(function(e){return(0,o.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fieldPropertiesService.getFieldProperties(e);case 2:(n=t.sent)&&n.forEach(function(e){"hasAdvancedDays"===e.field&&(i.hasAdvancedReceived=e),r.ZP.isErpDatasul()&&"acceptBelowFiveDays"===e.field&&(i.acceptBelowFiveDay=e)});case 4:case"end":return t.stop()}},t,this)}))});case 1:case"end":return e.stop()}},e)}))}},{key:"fisrtChildUrlIsInit",value:function(){return"init"===this.route.firstChild.url._value[0].path}},{key:"hasConfirmRequest",value:function(){return-1!==this.router.url.indexOf("confirmRequest")}},{key:"closeDialogEmit",value:function(){this.closeDialogEvent.emit()}}]),e}()).\u0275fac=function(e){return new(e||i)(a.Y36(u.F0),a.Y36(u.gz),a.Y36(p.g),a.Y36(l.D),a.Y36(s.c),a.Y36(c.n))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-vacation-request"]],inputs:{isEdit:"isEdit"},outputs:{closeDialogEvent:"closeDialogEvent"},decls:4,vars:2,consts:[["id","absence-filter","isVisible","true",3,"closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["pageTitle","l-request-vacation",3,"backIsVisible","backFunction"]],template:function(e,t){1&e&&(a.TgZ(0,"app-dialog",0),a.NdJ("closeDialogEvent",function(){return t.close()}),a.TgZ(1,"div",1),a.TgZ(2,"app-page-header",2),a.NdJ("backFunction",function(){return t.back()}),a.qZA(),a._UZ(3,"router-outlet"),a.qZA(),a.qZA()),2&e&&(a.Q6J("closeDialogButtonEnable",!0),a.xp6(2),a.Q6J("backIsVisible",t.backIsVisible))},directives:[d.a,g.q,u.lC],styles:["[_nghost-%COMP%]     .full-screen-dialog{min-height:600px!important}"]}),i)},7633:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var i,o=n(79765),a=n(89019),r=n(59708),s=n(37716),c="vacation",l=((i=function(){function e(t){h(this,e),this.serviceGeneric=t,this.emitReloadVacationInfoSource=new o.xQ,this.emitReloadVacationInfoObservable=this.emitReloadVacationInfoSource.asObservable()}return m(e,[{key:"insertVacationRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0;return this.serviceGeneric.post("".concat(c,"/request/").concat(e),t,!1)}},{key:"putVacationRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0;return this.serviceGeneric.put("".concat(c,"/request/").concat(e),t)}},{key:"emitReloadVacationInfo",value:function(){this.emitReloadVacationInfoSource.next()}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(r.M))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},57899:function(e,t,n){"use strict";n.d(t,{n:function(){return we}});var o=n(64762),r=n(11524),c=n(88002),l=n(92340),p=n(3247),d=n(33490),g=n(88044),f=n(14833),v=n(81059),b=n(44852),x=n(30343),y=n(64634),w=n(97983),Z=n(98348),C=n(36227),M=n(94405),k=n(76857),A=n(70636),P=n(26847),O=n(37716),q=n(29790),T=n(95987),_=n(37503),S=n(84479),I=n(65241),D=n(96054),L=n(62393),R=["divSwipeButton"];function N(e,t){if(1&e&&O._UZ(0,"app-card-employee",7),2&e){var n=O.oxw();O.Q6J("image",null==n.employeeCard?null:n.employeeCard.image)("name",null==n.employeeCard.employee?null:n.employeeCard.employee.name)("role",null==n.employeeCard.employee?null:n.employeeCard.employee.roleDescription)("status",null==n.employeeCard.employee?null:n.employeeCard.employee.employeeStatus)}}function E(e,t){1&e&&(O.TgZ(0,"h2",19),O._uU(1),O.ALo(2,"translate"),O.qZA()),2&e&&(O.xp6(1),O.hij(" ",O.lcZ(2,1,"l-request-your-next-vacation")," "))}function U(e,t){1&e&&(O.TgZ(0,"h2",20),O._uU(1),O.ALo(2,"translate"),O.qZA()),2&e&&(O.xp6(1),O.Oqu(O.lcZ(2,1,"l-requested-vacation")))}function F(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"li",17),O.NdJ("click",function(){O.CHM(n);var e=O.oxw(2).$implicit;return O.oxw().openExcludeDialog(e)}),O._uU(1),O.ALo(2,"translate"),O.qZA()}2&e&&(O.xp6(1),O.hij(" ",O.lcZ(2,1,"l-delete")," "))}function J(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"li",17),O.NdJ("click",function(){O.CHM(n);var e=O.oxw(2).$implicit;return O.oxw().openRequestVacation(e,!0)}),O._uU(1),O.ALo(2,"translate"),O.qZA()}2&e&&(O.xp6(1),O.hij(" ",O.lcZ(2,1,"l-adjust")," "))}function V(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"po-button",30),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(3).$implicit;return O.oxw().gotoDetailsPage(e.id,!0)}),O.ALo(1,"translate"),O.qZA()}if(2&e){var i=O.oxw(3).$implicit,o=O.oxw();O.s9C("p-label",O.lcZ(1,2,"l-vacation-notes-receipt")),O.Q6J("ngClass",!o.vacationNoticeVisible||"approved"!==i.status&&"calculated"!==i.status&&"closed"!==i.status?"po-sm-12 po-md-12 po-lg-12 po-xl-12":"po-sm-6 po-md-6 po-lg-6 po-xl-6")}}function Y(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"po-button",31),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(3).$implicit;return O.oxw().getVacationAvaiableNotes(e)}),O.ALo(1,"translate"),O.qZA()}if(2&e){var i=O.oxw(3).$implicit,o=O.oxw();O.s9C("p-label",O.lcZ(1,2,"l-vacation-warning-download")),O.Q6J("ngClass",!o.vacationReceiptVisible||"calculated"!==i.status&&"closed"!==i.status?"po-sm-12 po-md-12 po-lg-12 po-xl-12":"po-sm-6 po-md-6 po-lg-6 po-xl-6")}}function z(e,t){if(1&e&&(O.TgZ(0,"div",21),O.TgZ(1,"div",22),O.TgZ(2,"span",23),O.TgZ(3,"div",24),O._uU(4),O.ALo(5,"translate"),O.qZA(),O.TgZ(6,"div",25),O._uU(7),O.ALo(8,"lowercase"),O.ALo(9,"translate"),O.qZA(),O.qZA(),O.TgZ(10,"span",26),O.TgZ(11,"div",24),O._uU(12),O.ALo(13,"translate"),O.qZA(),O.TgZ(14,"div",25),O._uU(15),O.qZA(),O.qZA(),O.TgZ(16,"span",23),O.TgZ(17,"div",24),O._uU(18),O.ALo(19,"translate"),O.qZA(),O.TgZ(20,"div",25),O._uU(21),O.ALo(22,"utcDate"),O.qZA(),O.qZA(),O.TgZ(23,"span",26),O.TgZ(24,"div",24),O._uU(25),O.ALo(26,"translate"),O.qZA(),O.TgZ(27,"div",25),O._uU(28),O.ALo(29,"utcDate"),O.qZA(),O.qZA(),O.TgZ(30,"div",27),O.YNc(31,V,2,4,"po-button",28),O.YNc(32,Y,2,4,"po-button",29),O.qZA(),O.qZA(),O.qZA()),2&e){var n=O.oxw(2).$implicit,i=O.oxw();O.xp6(4),O.Oqu(O.lcZ(5,11,"l-days-vacation")),O.xp6(3),O.AsE("",n.days," ",O.lcZ(8,13,O.lcZ(9,15,"l-days")),""),O.xp6(5),O.Oqu(O.lcZ(13,17,"l-status")),O.xp6(3),O.Oqu(i.getStatus(n)),O.xp6(3),O.Oqu(O.lcZ(19,19,"l-begin-vacation")),O.xp6(3),O.Oqu(O.xi3(22,21,n.initVacation,"shortDate")),O.xp6(4),O.Oqu(O.lcZ(26,24,"l-end-vacation")),O.xp6(3),O.Oqu(O.xi3(29,26,n.endVacation,"shortDate")),O.xp6(3),O.Q6J("ngIf",i.vacationReceiptVisible&&("calculated"===n.status||"closed"===n.status)),O.xp6(1),O.Q6J("ngIf",i.vacationNoticeVisible&&("approved"===n.status||"calculated"===n.status||"closed"===n.status))}}function Q(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"app-card",9),O.TgZ(1,"div",10),O.YNc(2,E,3,3,"h2",11),O.YNc(3,U,3,3,"h2",12),O.TgZ(4,"span",13),O._UZ(5,"span",14),O.TgZ(6,"ul",15),O.YNc(7,F,3,3,"li",16),O.YNc(8,J,3,3,"li",16),O.TgZ(9,"li",17),O.NdJ("click",function(){O.CHM(n);var e=O.oxw().$implicit;return O.oxw().openDetails(e)}),O._uU(10),O.ALo(11,"translate"),O.qZA(),O.qZA(),O.qZA(),O.qZA(),O.YNc(12,z,33,29,"div",18),O.qZA()}if(2&e){var i=O.oxw().$implicit,o=O.oxw();O.Q6J("cssClass",o.getClass(i.status)),O.xp6(2),O.Q6J("ngIf",o.vacationRegisterVisible&&o.isEmpty(i.status)),O.xp6(1),O.Q6J("ngIf",!o.isEmpty(i.status)),O.xp6(4),O.Q6J("ngIf",i.canAlter&&o.vacationRegisterVisible),O.xp6(1),O.Q6J("ngIf",i.canAlter&&o.vacationRegisterVisible),O.xp6(2),O.hij(" ",O.lcZ(11,7,"l-show-details")," "),O.xp6(2),O.Q6J("ngIf",!o.isEmpty(i.status))}}function G(e,t){if(1&e&&(O.TgZ(0,"div"),O.YNc(1,Q,13,9,"app-card",8),O.qZA()),2&e){var n=t.$implicit,i=O.oxw();O.xp6(1),O.Q6J("ngIf",!i.isEmpty(n.status))}}function H(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"span",45,46),O.NdJ("click",function(){return O.CHM(n),O.oxw(),O.MAs(33).toggle()}),O.qZA()}}function B(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"po-button",47),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(2).$implicit;return O.oxw(2).openRequestVacation(e,!1)}),O.ALo(1,"translate"),O.qZA()}if(2&e){var i=O.oxw(2).$implicit,o=O.oxw(2);O.s9C("p-label",O.lcZ(1,2,"l-request-vacation")),O.Q6J("p-disabled",o.buttonIsDisabled(i))}}function j(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"po-button",48),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(2).$implicit;return O.oxw(2).openRequestVacation(e,!1)}),O.ALo(1,"translate"),O.qZA()}2&e&&O.s9C("p-label",O.lcZ(1,1,"l-request-vacation"))}var $=function(e){return{label:e}},W=function(e){return[e]};function K(e,t){if(1&e&&(O.TgZ(0,"div",22),O.TgZ(1,"span",23),O.TgZ(2,"div",37),O._uU(3),O.ALo(4,"translate"),O.qZA(),O.TgZ(5,"div",38),O._uU(6),O.ALo(7,"lowercase"),O.ALo(8,"translate"),O.qZA(),O.qZA(),O.TgZ(9,"span",23),O.TgZ(10,"div",37),O._uU(11),O.ALo(12,"translate"),O.qZA(),O.TgZ(13,"div",38),O._uU(14),O.qZA(),O.qZA(),O.TgZ(15,"span",23),O.TgZ(16,"div",37),O._uU(17),O.ALo(18,"translate"),O.qZA(),O.TgZ(19,"div",38),O._uU(20),O.ALo(21,"utcDate"),O.qZA(),O.qZA(),O.TgZ(22,"span",23),O.TgZ(23,"div",37),O._uU(24),O.ALo(25,"translate"),O.qZA(),O.TgZ(26,"div",38),O._uU(27),O.ALo(28,"utcDate"),O.qZA(),O.qZA(),O.TgZ(29,"div",39),O.ynx(30),O.YNc(31,H,2,0,"span",40),O.BQk(),O._UZ(32,"po-popup",41,42),O.ALo(34,"translate"),O.qZA(),O.YNc(35,B,2,4,"po-button",43),O.YNc(36,j,2,3,"po-button",44),O.qZA()),2&e){var n=O.oxw().$implicit,i=O.oxw(2);O.xp6(3),O.Oqu(O.lcZ(4,14,"l-balance-availabe")),O.xp6(3),O.AsE("",n.balance," ",O.lcZ(7,16,O.lcZ(8,18,"l-days")),""),O.xp6(5),O.Oqu(O.lcZ(12,20,"l-status")),O.xp6(3),O.Oqu(i.getStatus(n)),O.xp6(3),O.Oqu(O.lcZ(18,22,"l-init-period")),O.xp6(3),O.Oqu(O.xi3(21,24,n.initPeriod,"shortDate")),O.xp6(4),O.Oqu(O.lcZ(25,27,"l-end-period")),O.xp6(3),O.Oqu(O.xi3(28,29,n.endPeriod,"shortDate")),O.xp6(4),O.Q6J("ngIf",i.popupIsDisabled(n)),O.xp6(1),O.Q6J("p-actions",O.VKq(36,W,O.VKq(34,$,O.lcZ(34,32,"l-request-the-oldest-period"))))("p-target",i.target),O.xp6(3),O.Q6J("ngIf",i.buttonIsDisabled(n)),O.xp6(1),O.Q6J("ngIf",!i.buttonIsDisabled(n))}}function X(e,t){if(1&e&&(O.TgZ(0,"div"),O.YNc(1,K,37,38,"div",36),O._UZ(2,"hr"),O.qZA()),2&e){var n=t.$implicit,i=O.oxw(2);O.xp6(1),O.Q6J("ngIf",i.vacationRegisterVisible&&i.isEmpty(n.status))}}function ee(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"div",49),O.NdJ("click",function(){return O.CHM(n),O.oxw(2).showMore(!0)}),O._UZ(1,"span",50),O.qZA()}}function te(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"div",49),O.NdJ("click",function(){return O.CHM(n),O.oxw(2).showMore(!1)}),O._UZ(1,"span",51),O.qZA()}}function ne(e,t){if(1&e&&(O.TgZ(0,"div"),O.TgZ(1,"h2",19),O._uU(2),O.ALo(3,"translate"),O.qZA(),O.TgZ(4,"app-card",32),O.TgZ(5,"div",10),O.TgZ(6,"h2",33),O._uU(7),O.ALo(8,"translate"),O.qZA(),O.qZA(),O.TgZ(9,"div",34),O.YNc(10,X,3,1,"div",3),O.YNc(11,ee,2,0,"div",35),O.YNc(12,te,2,0,"div",35),O.qZA(),O.qZA(),O.qZA()),2&e){var n=O.oxw();O.xp6(2),O.hij(" ",O.lcZ(3,5,"l-request-your-next-vacation")," "),O.xp6(5),O.hij(" ",O.lcZ(8,7,"l-acquisition-period-available")," "),O.xp6(3),O.Q6J("ngForOf",n.vacationInfoRegister),O.xp6(1),O.Q6J("ngIf",n.showMoreIsVisible),O.xp6(1),O.Q6J("ngIf",n.showLessIsVisible)}}function ie(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"span",59),O.NdJ("click",function(){return O.CHM(n),O.oxw(),O.MAs(7).open()}),O.qZA()}}function oe(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"div",22),O.TgZ(1,"span",23),O.TgZ(2,"div",37),O._uU(3),O.ALo(4,"translate"),O.qZA(),O.TgZ(5,"div",38),O._uU(6),O.ALo(7,"lowercase"),O.ALo(8,"translate"),O.qZA(),O.qZA(),O.TgZ(9,"span",23),O.TgZ(10,"div",37),O._uU(11),O.ALo(12,"translate"),O.qZA(),O.TgZ(13,"div",38),O._uU(14),O.qZA(),O.qZA(),O.TgZ(15,"span",23),O.TgZ(16,"div",37),O._uU(17),O.ALo(18,"translate"),O.qZA(),O.TgZ(19,"div",38),O._uU(20),O.ALo(21,"utcDate"),O.qZA(),O.qZA(),O.TgZ(22,"span",23),O.TgZ(23,"div",37),O._uU(24),O.ALo(25,"translate"),O.qZA(),O.TgZ(26,"div",38),O._uU(27),O.ALo(28,"utcDate"),O.qZA(),O.qZA(),O.TgZ(29,"po-button",60),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(2);return e.openRequestVacation(e.vacationMobile,!1)}),O.ALo(30,"translate"),O.qZA(),O.qZA()}if(2&e){var i=O.oxw(2);O.xp6(3),O.Oqu(O.lcZ(4,11,"l-balance-availabe")),O.xp6(3),O.AsE("",null==i.vacationMobile?null:i.vacationMobile.balance," ",O.lcZ(7,13,O.lcZ(8,15,"l-days")),""),O.xp6(5),O.Oqu(O.lcZ(12,17,"l-status")),O.xp6(3),O.Oqu(i.getStatus(i.vacationMobile)),O.xp6(3),O.Oqu(O.lcZ(18,19,"l-init-period")),O.xp6(3),O.hij(" ",O.xi3(21,21,null==i.vacationMobile?null:i.vacationMobile.initPeriod,"shortDate")," "),O.xp6(4),O.Oqu(O.lcZ(25,24,"l-end-period")),O.xp6(3),O.hij(" ",O.xi3(28,26,null==i.vacationMobile?null:i.vacationMobile.endPeriod,"shortDate")," "),O.xp6(2),O.s9C("p-label",O.lcZ(30,29,"l-request-vacation")),O.Q6J("p-disabled",i.buttonIsDisabled(i.vacationMobile))}}var ae=function(e){return{activePointer:e}};function re(e,t){if(1&e&&O._UZ(0,"span",63),2&e){var n=t.index,i=O.oxw(3);O.Q6J("ngClass",O.VKq(1,ae,i.isActivePointer(n)))}}function se(e,t){if(1&e&&(O.TgZ(0,"div",61),O.YNc(1,re,1,3,"span",62),O.qZA()),2&e){var n=O.oxw(2);O.xp6(1),O.Q6J("ngForOf",n.vacationInfoRegister)}}function ce(e,t){if(1&e&&(O.TgZ(0,"div"),O.TgZ(1,"app-card",32),O.TgZ(2,"div",10),O.TgZ(3,"h2",52),O._uU(4),O.ALo(5,"translate"),O.qZA(),O.TgZ(6,"po-modal",null,53),O._UZ(8,"span",54),O.TgZ(9,"h2",55),O._uU(10),O.ALo(11,"translate"),O.qZA(),O.TgZ(12,"strong",56),O._uU(13),O.ALo(14,"translate"),O.qZA(),O.qZA(),O.YNc(15,ie,1,0,"span",57),O.qZA(),O.TgZ(16,"div",34),O.TgZ(17,"div"),O.YNc(18,oe,31,31,"div",36),O.qZA(),O.YNc(19,se,2,1,"div",58),O.qZA(),O.qZA(),O.qZA()),2&e){var n=O.oxw();O.xp6(4),O.hij(" ",O.lcZ(5,6,"l-request-your-next-vacation")," "),O.xp6(6),O.Oqu(O.lcZ(11,8,"l-warning")),O.xp6(3),O.Oqu(O.lcZ(14,10,"l-request-the-oldest-period")),O.xp6(2),O.Q6J("ngIf",n.buttonIsDisabled(n.vacationMobile)),O.xp6(3),O.Q6J("ngIf",n.vacationRegisterVisible&&n.isEmpty(null==n.vacationMobile?null:n.vacationMobile.status)),O.xp6(1),O.Q6J("ngIf",n.vacationInfoRegister.length>1)}}function le(e,t){if(1&e&&(O.ynx(0),O._UZ(1,"hr",71),O.TgZ(2,"div",72),O.TgZ(3,"span",73),O._uU(4),O.ALo(5,"translate"),O.qZA(),O.TgZ(6,"span",74,76),O._uU(8),O.qZA(),O.TgZ(9,"a",77),O.TgZ(10,"span",78),O._uU(11),O.ALo(12,"translate"),O.qZA(),O.TgZ(13,"span",79),O._uU(14),O.ALo(15,"translate"),O.qZA(),O.qZA(),O.qZA(),O.BQk()),2&e){var n=O.MAs(7),i=O.oxw().$implicit,o=O.oxw(2);O.xp6(4),O.Oqu(O.lcZ(5,6,"l-reason")),O.xp6(4),O.Oqu(i.rejectionReason),O.xp6(1),O.Q6J("appReadMore-length",o.isMobileDevice()?75:50)("appReadMore-element",n),O.xp6(2),O.Oqu(O.lcZ(12,8,"l-read-less")),O.xp6(3),O.Oqu(O.lcZ(15,10,"l-read-more"))}}function ue(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"po-button",82),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(3).$implicit;return O.oxw(2).getVacationAvaiableNotes(e)}),O.ALo(1,"translate"),O.qZA()}2&e&&O.s9C("p-label",O.lcZ(1,1,"l-vacation-warning-download"))}function pe(e,t){if(1&e&&(O.TgZ(0,"div"),O.YNc(1,ue,2,3,"po-button",81),O.qZA()),2&e){var n=O.oxw(4);O.xp6(1),O.Q6J("ngIf",n.vacationNotificationHistoric.visible)}}function de(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"div"),O.TgZ(1,"po-button",83),O.NdJ("p-click",function(){O.CHM(n);var e=O.oxw(2).$implicit;return O.oxw(2).gotoDetailsPage(e.id,!1)}),O.ALo(2,"translate"),O.qZA(),O.qZA()}2&e&&(O.xp6(1),O.s9C("p-label",O.lcZ(2,1,"l-vacation-notes-receipt")))}function ge(e,t){if(1&e&&(O.TgZ(0,"div",80),O.YNc(1,pe,2,1,"div",4),O.YNc(2,de,3,3,"div",4),O.qZA()),2&e){var n=O.oxw().$implicit,i=O.oxw(2);O.xp6(1),O.Q6J("ngIf",i.vacationNoticeVisible&&i.isVisibleNotice(n)&&("calculated"===n.status||"closed"===n.status||"approved"===n.status)),O.xp6(1),O.Q6J("ngIf",i.vacationReceiptVisible&&i.isVisibleReceipt(n)&&("calculated"===n.status||"closed"===n.status))}}var he=function(e,t){return{"circle-base":!0,type1:e,type2:t}};function fe(e,t){if(1&e&&(O.TgZ(0,"mat-expansion-panel",68),O.TgZ(1,"mat-expansion-panel-header",69),O.TgZ(2,"div"),O._UZ(3,"div",0),O.TgZ(4,"span",70),O._uU(5),O.ALo(6,"utcDate"),O.qZA(),O.qZA(),O.qZA(),O._UZ(7,"hr",71),O.TgZ(8,"div",72),O.TgZ(9,"span",73),O._uU(10),O.ALo(11,"translate"),O.qZA(),O.TgZ(12,"span",74),O._uU(13),O.qZA(),O.qZA(),O._UZ(14,"hr",71),O.TgZ(15,"div",72),O.TgZ(16,"span",73),O._uU(17),O.ALo(18,"translate"),O.qZA(),O.TgZ(19,"span",74),O._uU(20),O.ALo(21,"utcDate"),O.qZA(),O.qZA(),O._UZ(22,"hr",71),O.TgZ(23,"div",72),O.TgZ(24,"span",73),O._uU(25),O.ALo(26,"translate"),O.qZA(),O.TgZ(27,"span",74),O._uU(28),O.ALo(29,"utcDate"),O.qZA(),O.qZA(),O._UZ(30,"hr",71),O.TgZ(31,"div",72),O.TgZ(32,"span",73),O._uU(33),O.ALo(34,"translate"),O.qZA(),O.TgZ(35,"span",74),O._uU(36),O.ALo(37,"utcDate"),O.qZA(),O.qZA(),O._UZ(38,"hr",71),O.TgZ(39,"div",72),O.TgZ(40,"span",73),O._uU(41),O.ALo(42,"translate"),O.qZA(),O.TgZ(43,"span",74),O._uU(44),O.ALo(45,"utcDate"),O.qZA(),O.qZA(),O._UZ(46,"hr",71),O.TgZ(47,"div",72),O.TgZ(48,"span",73),O._uU(49),O.ALo(50,"translate"),O.qZA(),O.TgZ(51,"span",74),O._uU(52),O.ALo(53,"lowercase"),O.ALo(54,"translate"),O.qZA(),O.qZA(),O._UZ(55,"hr",71),O.TgZ(56,"div",72),O.TgZ(57,"span",73),O._uU(58),O.ALo(59,"translate"),O.qZA(),O.TgZ(60,"span",74),O._uU(61),O.ALo(62,"lowercase"),O.ALo(63,"translate"),O.qZA(),O.qZA(),O.YNc(64,le,16,12,"ng-container",4),O.YNc(65,ge,3,2,"div",75),O.qZA()),2&e){var n=t.$implicit,i=O.oxw(2);O.Q6J("ngClass",i.custom-i.border),O.xp6(3),O.Q6J("ngClass",O.WLB(58,he,i.isApproved(n.status),!i.isApproved(n.status))),O.xp6(2),O.hij(" ",O.xi3(6,21,n.initVacation,"dd/MM/yyyy")," "),O.xp6(5),O.Oqu(O.lcZ(11,24,"l-status")),O.xp6(3),O.Oqu(i.getStatus(n)),O.xp6(4),O.Oqu(O.lcZ(18,26,"l-init-period")),O.xp6(3),O.Oqu(O.xi3(21,28,n.initPeriod,"dd/MM/yyyy")),O.xp6(5),O.Oqu(O.lcZ(26,31,"l-end-period")),O.xp6(3),O.Oqu(O.xi3(29,33,n.endPeriod,"dd/MM/yyyy")),O.xp6(5),O.Oqu(O.lcZ(34,36,"l-initial-date-vacation")),O.xp6(3),O.Oqu(O.xi3(37,38,n.initVacation,"dd/MM/yyyy")),O.xp6(5),O.Oqu(O.lcZ(42,41,"l-end-vacation")),O.xp6(3),O.Oqu(O.xi3(45,43,n.endVacation,"dd/MM/yyyy")),O.xp6(5),O.Oqu(O.lcZ(50,46,"l-days-vacation")),O.xp6(3),O.AsE("",n.days," ",O.lcZ(53,48,O.lcZ(54,50,"l-days")),""),O.xp6(6),O.Oqu(O.lcZ(59,52,"l-sold-days")),O.xp6(3),O.AsE("",n.vacationBonus," ",O.lcZ(62,54,O.lcZ(63,56,"l-days")),""),O.xp6(3),O.Q6J("ngIf",!i.isApproved(n.status)&&null!=n.rejectionReason),O.xp6(1),O.Q6J("ngIf",(i.vacationReceiptVisible||i.vacationNoticeVisible)&&("calculated"===n.status||"closed"===n.status)||i.vacationReceiptVisible&&"approved"===n.status)}}function me(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"div",84),O.NdJ("click",function(){return O.CHM(n),O.oxw(2).viewMoreHistory()}),O.TgZ(1,"a",85),O._uU(2),O.ALo(3,"translate"),O.qZA(),O.qZA()}2&e&&(O.xp6(2),O.hij("",O.lcZ(3,1,"l-load-more")," "))}function ve(e,t){if(1&e&&(O.TgZ(0,"div"),O.TgZ(1,"h2",64),O._uU(2),O.ALo(3,"translate"),O.qZA(),O.TgZ(4,"mat-accordion",65),O.YNc(5,fe,66,61,"mat-expansion-panel",66),O.qZA(),O.YNc(6,me,4,3,"div",67),O.qZA()),2&e){var n=O.oxw();O.xp6(2),O.Oqu(O.lcZ(3,3,"l-latest-requests")),O.xp6(3),O.Q6J("ngForOf",n.vacationHistoryView.records),O.xp6(1),O.Q6J("ngIf",n.vacationHistoryView.hasMoreRecords)}}function be(e,t){if(1&e){var n=O.EpF();O.TgZ(0,"div"),O.TgZ(1,"app-vacation-request",86),O.NdJ("closeDialogEvent",function(){return O.CHM(n),O.oxw().reloadVacationInfo()}),O.qZA(),O.qZA()}}var xe,ye="vacation",we=((xe=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s,c,u,p,d,g,f,m,v,b,x,y){var w;return h(this,n),(w=t.call(this)).vacationService=e,w.translateService=i,w.router=o,w.fileManipulationService=a,w.route=r,w.lastAccess=s,w.globals=c,w.navigationUtilService=u,w.windowUtilService=p,w.appTranslateService=d,w.ionicUtilService=g,w.notificationService=f,w.permissionService=m,w.spinnerService=v,w.fieldPropertiesService=b,w.profileService=x,w.fileTransferService=y,w.vacationInfo=[],w.vacationInfoRegister=[],w.hasVacationHistory=!1,w.loggedUser=l.N.loggedUser,w.employeeId=l.N.loggedUser,w.viewIsTeamManagement=!1,w.selectedVacationPosition=0,w.employeeName="",w.employeeCard={employee:void 0,image:void 0,originComponent:""},w.shouldDeleteEmployeeCard=!0,w.vacationNotificationHistoric={required:!0,field:"vacationNotificationHistoric",editable:!0,visible:!0},w.transferFile="",w}return m(n,[{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.initializeComponent()}},{key:"ngOnDestroy",value:function(){i(u(n.prototype),"ngOnDestroy",this).call(this),this.shouldDeleteEmployeeCard&&this.globals.cleanEmployeeCard(),null!=this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}},{key:"callbackIonicExternalEvent",value:function(e){(e.detail.event.type===g.g.DownloadAndOpenFile||e.detail.event.type===g.g.TransferFile)&&this.spinnerService.hide()}},{key:"isActivePointer",value:function(e){return e===this.selectedVacationPosition}},{key:"getPermissions",value:function(){return this.globals.getEmployeePermission()?Promise.resolve(this.globals.getEmployeePermission()):this.permissionService.getPermissions(this.employeeId)}},{key:"popupIsDisabled",value:function(e){return(!Z.ZP.isErpRM()||0!==this.vacationInfoRegister.filter(function(e){return 1==e.canRequest}).length)&&this.buttonIsDisabled(e)}},{key:"buttonIsDisabled",value:function(e){return!!e.hasOwnProperty("canRequest")&&!e.canRequest}},{key:"setPermissions",value:function(){this.vacationReceiptVisible=this.permissions.vacationReceipt,this.vacationNoticeVisible=this.permissions.vacationNotice,this.vacationRegisterVisible=!this.permissions.hasOwnProperty("vacationRegister")||this.permissions.vacationRegister,Z.ZP.isErpRM()&&this.checkRouter()&&(this.vacationRegisterVisible=this.permissions.teamManagementVacation)}},{key:"checkRouter",value:function(){return this.router.isActive("teamManagement/absenceManager/vacation",!0)||this.router.isActive("teamManagement/vacation",!0)}},{key:"openDetails",value:function(e){this.selectedVacation=e,localStorage.setItem("vacationDetails",JSON.stringify(e));var t=this.globals.urlHistory[this.globals.urlHistory.length-1];t.includes("/teamManagement/absenceManager/vacation")?(this.shouldDeleteEmployeeCard=!1,this.router.navigate(["/teamManagement/absenceManager/vacation/details/".concat(e.id,"/").concat(this.employeeId)])):t.includes("/teamManagement/vacation")?(this.shouldDeleteEmployeeCard=!1,this.router.navigate(["/teamManagement/vacation/details/".concat(e.id,"/").concat(this.employeeId)])):this.router.navigate(["/vacation/details/".concat(e.id,"/").concat(this.employeeId)])}},{key:"isVisibleNotice",value:function(e){return this.validateParamUndefined(e.visibleNotice)}},{key:"isVisibleReceipt",value:function(e){return this.validateParamUndefined(e.visibleReceipt)}},{key:"isApproved",value:function(e){return e!==p.W.StatusEnum.Rejected}},{key:"viewMoreHistory",value:function(){this.getVacationHistory(this.vacationHistoryView.getNextPage(),this.vacationHistoryView.pageSize)}},{key:"getStatus",value:function(e){return e.statusLabel?e.statusLabel:(this.translateService.get("l-unsolicited").subscribe(function(e){t=e}),t);var t}},{key:"getClass",value:function(e){return this.isEmpty(e)?"po-lg-12 po-md-12 po-sm-12":"card-request-vacation-active po-lg-12 po-md-12 po-sm-12"}},{key:"isEmpty",value:function(e){return!!e&&e.toLocaleLowerCase()===p.W.StatusEnum.Empty}},{key:"openRequestVacation",value:function(e,t){this.selectedVacation=e,this.isEditVacation=t,this.requestVacationIsVisible=!0,this.router.navigate(["request"],{relativeTo:this.route})}},{key:"reloadVacationInfo",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.vacationInfo=[],this.vacationInfoRegister=[],this.showMoreIsVisible=!1,this.requestVacationIsVisible=!1,e.next=6,this.getVacationInfo();case 6:return e.next=8,this.getVacationProcess();case 8:this.initializeMobile();case 9:case"end":return e.stop()}},e,this)}))}},{key:"openExcludeDialog",value:function(e){this.selectedVacationToExclude=e,this.excludeDialog.openDialog()}},{key:"onDeleteVacation",value:function(){this.reloadVacationInfo()}},{key:"back",value:function(){var e=this.globals.urlHistory[this.globals.urlHistory.length-2];"/absence"===e||this.employeeId!==this.loggedUser&&e.includes("/teamManagement/absenceManager/vacation")?this.navigationUtilService.doNavigation("absence"):this.navigationUtilService.doNavigation(this.employeeId!==this.loggedUser||"/teamManagement/vacation/request/confirmRequest"===e?"teamManagement":"home")}},{key:"isMobileDevice",value:function(){return this.viewIsMobile}},{key:"isWebView",value:function(){return this.windowUtilService.isWebView()}},{key:"getEmployeeName",value:function(){var e=this;this.employeeName||this.profileService.getEmployeeSummary(this.employeeId).then(function(t){e.employeeName=t.name})}},{key:"getVacationAvaiableNotes",value:function(e){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o,a,r,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.fileManipulationService.formatFilenameReport([this.employeeName]),!this.windowUtilService.isWebView()||Z.ZP.isTomcatAppServer()){t.next=5;break}this.spinnerService.show(),this.vacationService.getReportDownloadUrl(this.employeeId,e.id,!0).then(function(e){s.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:n,fileMIMEtype:"application/pdf"},type:g.g.DownloadAndOpenFile})}).catch(function(e){s.spinnerService.hide()}),t.next=28;break;case 5:if(this.windowUtilService.isWebView()&&Z.ZP.isTomcatAppServer()){t.next=11;break}if(!Z.ZP.isErpRM()){t.next=10;break}return(i=[]).employeeId=this.employeeId,i.vacationId=e.id,o=y.m.concatQueryParam("".concat(ye,"/notice/report"),i),t.abrupt("return",this.fileManipulationService.openFile(o,n,"application/pdf"));case 10:return t.abrupt("return",this.fileManipulationService.openFile("".concat(ye,"/notice/report/").concat(this.employeeId,"/").concat(e.id),n,"application/pdf"));case 11:return this.spinnerService.show(),t.next=14,this.getAndSetBase64String(l.N.loggedUser,e.id);case 14:return t.next=16,this.fileTransferService.bufferFileonStorage(this.transferFile);case 16:return a=t.sent,t.next=19,this.fileTransferService.saveBase64onStorage(a);case 19:return t.next=21,this.fileTransferService.nameListBas64onStorage(a);case 21:t.t0=t.sent,t.t1=n,t.t2=!1,t.t3={keyStorage:t.t0,filename:t.t1,fileMIMEtype:"application/pdf",isShare:t.t2},t.t4=g.g.TransferFile,r={args:t.t3,type:t.t4},this.ionicUtilService.emit(r);case 28:case"end":return t.stop()}},t,this)}))}},{key:"getAndSetBase64String",value:function(e,t){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.transferFile="",n.next=3,this.vacationService.getBlobReport(e,t).then(function(e){return(0,o.mG)(i,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fileManipulationService.blobToBase64(e).then(function(e){return n.transferFile=e});case 2:this.vacationService.setDefaulResponseType();case 3:case"end":return t.stop()}},t,this)}))});case 3:case"end":return n.stop()}},n,this)}))}},{key:"gotoDetailsPage",value:function(e,t,n){window.localStorage.setItem("vacationDetails",JSON.stringify({isCurrentVacation:t,vacationId:e,employeeId:this.employeeId})),Z.ZP.isErpRM()&&"{current}"!==this.employeeId?this.navigationUtilService.doNavigation("/teamManagement/vacation/receipt"):this.navigationUtilService.doNavigation("/vacation/receipt")}},{key:"loadFieldProperties",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldPropertiesService.getFieldProperties("vacation");case 2:(t=e.sent)&&t.forEach(function(e){"vacationNotificationHistoric"===e.field&&(n.vacationNotificationHistoric=e)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"showMore",value:function(e){var t=this;e?(this.showMoreIsVisible=!1,this.showLessIsVisible=!0,this.vacationInfo.map(function(e){var n;t.isEmpty(e.status)&&(t.vacationInfoRegister.map(function(t){e.id===t.id&&(n=!0)}),n||t.vacationInfoRegister.push(e))})):(this.showMoreIsVisible=!0,this.showLessIsVisible=!1,this.vacationInfoRegister=[],this.organizeVacationObject())}},{key:"loadVacationServices",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.getEmployee(),this.vacationHistoryView=new d.i([]),this.getVacationHistory(this.vacationHistoryView.getNextPage(),this.vacationHistoryView.pageSize),this.vacationInfo=[],this.vacationInfoRegister=[],this.showMoreIsVisible=!1,e.next=8,this.getVacationInfo();case 8:return e.next=10,this.getVacationProcess();case 10:return this.setCountLastAccess(),e.next=13,this.getPermissions();case 13:this.permissions=e.sent,this.setPermissions(),this.initializeMobile(),this.getEmployeeName();case 17:case"end":return e.stop()}},e,this)}))}},{key:"initializeMobile",value:function(){this.vacationMobile=this.vacationInfoRegister[0]}},{key:"getEmployee",value:function(){this.employeeCard&&this.employeeCard.employee&&(this.employeeId=this.employeeCard.employee.id)}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess(f.R1,t.id)})}},{key:"getVacationHistory",value:function(e,t){var n=this;this.vacationService.getVacationHistory(this.employeeId,e,t,!0).then(function(e){n.updateVacationHistoryView(e),e.records.length>0&&(n.hasVacationHistory=!0)})}},{key:"updateVacationHistoryView",value:function(e){this.vacationHistoryView.records||(this.vacationHistoryView.records=[]),this.vacationHistoryView.records=this.vacationHistoryView.records.concat(e.records),this.vacationHistoryView.hasMoreRecords=e.hasMoreRecords}},{key:"getVacationInfo",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vacationService.getVacationInfo(this.employeeId);case 2:(t=e.sent)&&t.map(function(e){return n.vacationInfo.push(e)}),this.organizeVacationObject();case 4:case"end":return e.stop()}},e,this)}))}},{key:"organizeVacationObject",value:function(){var e=this;this.vacationInfo.map(function(t){e.isEmpty(t.status)&&(e.vacationInfoRegister.length<2&&!e.viewIsMobile||e.viewIsMobile?e.vacationInfoRegister.push(t):(e.showMoreIsVisible=!0,e.showLessIsVisible=!1))})}},{key:"initSwipe",value:function(){var e=this;if(this.swipeButton&&this.swipeButton.nativeElement){var t=new r(this.swipeButton.nativeElement);t.get("swipe").set({direction:r.DIRECTION_ALL}),t.on("swipe",function(t){return e.onSwipe(t)})}}},{key:"onSwipe",value:function(e){var t=Math.abs(e.deltaX)>40?e.deltaX>0?"right":"left":"";"right"===t?this.selectedVacationPosition>0&&(this.selectedVacationPosition--,this.vacationMobile=this.vacationInfoRegister[this.selectedVacationPosition]):"left"===t&&this.selectedVacationPosition<this.vacationInfoRegister.length-1&&(this.selectedVacationPosition++,this.vacationMobile=this.vacationInfoRegister[this.selectedVacationPosition])}},{key:"getVacationProcess",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Z.ZP.isErpDatasul(),!e.t0){e.next=5;break}return e.next=4,this.vacationService.getVacationProcess(this.employeeId);case 4:e.sent.map(function(e){return t.vacationInfo.push(e)});case 5:case"end":return e.stop()}},e,this)}))}},{key:"validateParamUndefined",value:function(e){return void 0===e||e}},{key:"initializeComponent",value:function(){var e=this;this.routeDataSubscription=this.route.data.pipe((0,c.U)(function(e){return e.management})).subscribe(function(t){e.viewIsMobile=e.windowUtilService.isMobileDevice(),e.employeeCard=e.globals.getEmployeeCard(),!t||e.employeeCard.employee?(e.loadVacationServices(),e.initSwipe()):e.router.isActive("teamManagement/absenceManager/vacation",!0)?e.router.navigateByUrl("absence"):e.router.navigateByUrl("teamManagement")})}}]),n}(v.R)).\u0275fac=function(e){return new(e||xe)(O.Y36(P.P),O.Y36(q.sK),O.Y36(T.F0),O.Y36(M.e),O.Y36(T.gz),O.Y36(f.Lx),O.Y36(_.O),O.Y36(b._),O.Y36(S.g),O.Y36(I.g),O.Y36(g.l),O.Y36(D.g),O.Y36(k.$),O.Y36(x.V),O.Y36(C.c),O.Y36(w.H),O.Y36(L.c))},xe.\u0275cmp=O.Xpm({type:xe,selectors:[["app-vacation"]],viewQuery:function(e,t){var n;1&e&&(O.Gf(A.W,5),O.Gf(R,7)),2&e&&(O.iGM(n=O.CRH())&&(t.excludeDialog=n.first),O.iGM(n=O.CRH())&&(t.swipeButton=n.first))},hostBindings:function(e,t){1&e&&O.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,O.evT)},features:[O.qOj],decls:11,vars:10,consts:[[3,"ngClass"],["pageTitle","l-vacation",3,"backIsVisible","backFunction"],[3,"image","name","role","status",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["divSwipeButton",""],[3,"vacation","employeeId","deleted"],[3,"image","name","role","status"],["class","vacation",3,"cssClass",4,"ngIf"],[1,"vacation",3,"cssClass"],["card-header","",1,"mr-card-header"],["class","vacation-label",4,"ngIf"],["class","requested-title",4,"ngIf"],[1,"dropdown","mouse-pointer","definition-space"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],[1,"dropdown-menu-itens",3,"click"],["card-body","","class","flipflop",4,"ngIf"],[1,"vacation-label"],[1,"requested-title"],["card-body","",1,"flipflop"],[1,"po-row"],[1,"po-sm-6","po-md-2","po-lg-2","po-xl-2","panel-item-group"],[1,"requested-label"],[1,"requested-value"],[1,"po-sm-6","po-md-2","po-lg-2","po-xl-2","panel-item-group","definition-space"],[1,"vacation-holder"],["id","btn-available-receipt","p-primary","true","p-type","secondary","p-small","true","p-icon","po-icon po-icon-eye",3,"ngClass","p-label","p-click",4,"ngIf"],["id","btn-avaiable-notes","p-primary","true","p-type","primary","p-small","true","p-icon","ico-download",3,"ngClass","p-label","p-click",4,"ngIf"],["id","btn-available-receipt","p-primary","true","p-type","secondary","p-small","true","p-icon","po-icon po-icon-eye",3,"ngClass","p-label","p-click"],["id","btn-avaiable-notes","p-primary","true","p-type","primary","p-small","true","p-icon","ico-download",3,"ngClass","p-label","p-click"],[1,"vacation","po-lg-12","po-md-12","po-sm-12"],[1,"period-label"],["card-body",""],["class","po-row",3,"click",4,"ngIf"],["class","po-row",4,"ngIf"],[1,"to-request-label"],[1,"to-request-value"],[1,"po-sm-1","po-md-1","po-lg-2","po-xl-2",2,"margin-top","auto","margin-bottom","auto"],["class","po-icon po-icon-info po-mr-1 info-icon po-offset-xl-2 po-offset-lg-2 po-offset-md-1 request-button",3,"click",4,"ngIf"],[1,"info-popup",3,"p-actions","p-target"],["popup",""],["class","request-button po-sm-12 po-md-3 po-lg-2 po-xl-2","p-primary","true","p-type","primary",3,"p-label","p-disabled","p-click",4,"ngIf"],["class","request-button po-sm-12 po-md-3 po-lg-2 po-xl-2","p-primary","true","p-type","primary",3,"p-label","p-click",4,"ngIf"],[1,"po-icon","po-icon-info","po-mr-1","info-icon","po-offset-xl-2","po-offset-lg-2","po-offset-md-1","request-button",3,"click"],["target",""],["p-primary","true","p-type","primary",1,"request-button","po-sm-12","po-md-3","po-lg-2","po-xl-2",3,"p-label","p-disabled","p-click"],["p-primary","true","p-type","primary",1,"request-button","po-sm-12","po-md-3","po-lg-2","po-xl-2",3,"p-label","p-click"],[1,"po-row",3,"click"],[1,"po-icon","po-icon-arrow-down","load-more-arrow","center"],[1,"po-icon","po-icon-arrow-up","load-more-arrow","center"],[1,"vacation-label-mobile"],["modal",""],[1,"po-icon","po-icon-info","info-icon-modal","center-mobile-modal"],[1,"center-mobile-modal","warning-title"],[1,"center-mobile-modal"],["class","po-icon po-icon-info info-icon-mobile",3,"click",4,"ngIf"],["class","po-row mobile-pointer",4,"ngIf"],[1,"po-icon","po-icon-info","info-icon-mobile",3,"click"],["p-primary","true","p-type","primary",1,"request-button","po-sm-12","po-md-3","po-lg-2","po-xl-2","po-offset-xl-2","po-offset-lg-2","po-offset-md-1",3,"p-label","p-disabled","p-click"],[1,"po-row","mobile-pointer"],["class","pointer",3,"ngClass",4,"ngFor","ngForOf"],[1,"pointer",3,"ngClass"],[1,"latest-requests","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","false",3,"ngClass",4,"ngFor","ngForOf"],["class","next-records po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"click",4,"ngIf"],["hideToggle","false",3,"ngClass"],[1,"vacation-history-header"],[1,"historic-label","historic-label-title"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],["class","po-row historic-actions",4,"ngIf"],["rejectionReason",""],["appReadMore","",1,"read-more-link",3,"appReadMore-length","appReadMore-element"],[1,"less","po-mt-1"],[1,"more"],[1,"po-row","historic-actions"],["id","btn-avaiable-notes","class","po-sm-6 po-md-3 po-lg-2 po-xl-2 historic-button","p-primary","true","p-type","primary","p-icon","ico-download",3,"p-label","p-click",4,"ngIf"],["id","btn-avaiable-notes","p-primary","true","p-type","primary","p-icon","ico-download",1,"po-sm-6","po-md-3","po-lg-2","po-xl-2","historic-button",3,"p-label","p-click"],["id","btn-avaiable-notes","p-primary","true","p-type","secondary","p-icon","po-icon po-icon-eye",1,"po-sm-6","po-md-3","po-lg-2","po-xl-2","historic-button",3,"p-label","p-click"],[1,"next-records","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"click"],["id","link-more-records"],[3,"closeDialogEvent"]],template:function(e,t){1&e&&(O.TgZ(0,"div",0),O.TgZ(1,"app-page-header",1),O.NdJ("backFunction",function(){return t.back()}),O.qZA(),O.YNc(2,N,1,4,"app-card-employee",2),O.YNc(3,G,2,1,"div",3),O.YNc(4,ne,13,9,"div",4),O.TgZ(5,"div",null,5),O.YNc(7,ce,20,12,"div",4),O.qZA(),O.YNc(8,ve,7,5,"div",4),O.qZA(),O.YNc(9,be,2,0,"div",4),O.TgZ(10,"app-vacation-exclude",6),O.NdJ("deleted",function(){return t.onDeleteVacation()}),O.qZA()),2&e&&(O.Q6J("ngClass",t.isMobileDevice()?"":"page-margin"),O.xp6(1),O.Q6J("backIsVisible",!0),O.xp6(1),O.Q6J("ngIf",t.employeeCard.employee),O.xp6(1),O.Q6J("ngForOf",t.vacationInfo),O.xp6(1),O.Q6J("ngIf",t.vacationInfoRegister.length>0&&t.vacationRegisterVisible&&!t.viewIsMobile),O.xp6(3),O.Q6J("ngIf",t.vacationInfoRegister.length>0&&t.vacationRegisterVisible&&t.viewIsMobile),O.xp6(1),O.Q6J("ngIf",t.hasVacationHistory),O.xp6(1),O.Q6J("ngIf",t.requestVacationIsVisible),O.xp6(1),O.Q6J("vacation",t.selectedVacationToExclude)("employeeId",t.employeeId))},styles:['.vacation-label[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px}.vacation-label-mobile[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px;float:left;font-size:18px}.period-label[_ngcontent-%COMP%]{padding-left:8px}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block;padding-top:15px}.vacation-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60;text-align:left}@media screen and (min-width: 480px){.historic-content[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.historic-content[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{display:block;text-align:right;margin-left:auto;width:calc(100% - 250px - 100px)}.historic-content[_ngcontent-%COMP%]   .historic-label[_ngcontent-%COMP%]{float:left;width:250px;display:block}}.historic-content[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{margin-right:2px;padding:0 24px}@media (max-width: 425px){.historic-content[_ngcontent-%COMP%]{padding:0 16px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:120px;left:-55px!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.card-employee[_ngcontent-%COMP%]{padding-left:0}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .vacation-holder{width:100%}}[_nghost-%COMP%]     .vacation-holder .po-button{border-color:#fff;color:#fff;background-color:transparent}@media screen and (max-width: 480px){[_nghost-%COMP%]     .vacation-holder .po-button{float:right}}.historic-actions[_ngcontent-%COMP%]{display:inline-block;padding-top:24px;padding-right:16px}@media screen and (max-width: 480px){.historic-actions[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}}.historic-button[_ngcontent-%COMP%]{float:right}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.vacation[_ngcontent-%COMP%]{position:relative;padding:0}@media screen and (min-width: 992px) and (max-width: 1199px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}.vacation-link[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 425px){.vacation-actions[_ngcontent-%COMP%]{text-align:right}}@media (max-width: 425px){.vacation-notes[_ngcontent-%COMP%]{width:40%;margin-left:-5px}}@media screen and (min-width: 425px){.vacation-notes[_ngcontent-%COMP%]{margin-right:10px}}@media (max-width: 425px){.vacation-download[_ngcontent-%COMP%]{width:52%;float:right;margin-right:20px}}.vacation-warning[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:3px 8px;background-color:#ea9b3e;border-radius:5px;color:#fff}.thf-button[_ngcontent-%COMP%]{height:auto;margin-right:0;padding:10px 16px}[_nghost-%COMP%]     .vacation-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .vacation-history-header .mat-content{font-size:14px}}@media screen and (max-width: 1366px){.thf-button[_ngcontent-%COMP%]{line-height:16px;padding:7px 16px}}.type1[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#c64840}.circle-base[_ngcontent-%COMP%]{border-radius:50%}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px;vertical-align:text-bottom}.page-margin[_ngcontent-%COMP%]{margin:0 40px 40px}.center[_ngcontent-%COMP%]{margin:0 auto}.load-more-arrow[_ngcontent-%COMP%]{color:#0c9abe;font-size:23px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.request-button[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.info-icon[_ngcontent-%COMP%]{color:#0c9abe;margin:0;float:right;right:18%;font-size:20px;top:calc(100% - 31%)}[_nghost-%COMP%]     .po-popup{position:absolute;top:auto!important;left:auto!important;margin-top:3%;margin-left:5%}[_nghost-%COMP%]     .po-arrow-top-right{right:calc(100% - 39%);left:unset!important}@media only screen and (min-width: 961px) and (max-width: 1366px){.info-icon[_ngcontent-%COMP%]{top:calc(100% - 28%)}}@media only screen and (min-width: 1550px) and (max-width: 1680px){.info-icon[_ngcontent-%COMP%]{top:calc(100% - 29%)}}.info-icon-modal[_ngcontent-%COMP%]{color:#ea9b3e;font-size:44px}.info-icon-mobile[_ngcontent-%COMP%]{color:#0c9abe;padding-top:14px;position:absolute;right:24px;font-size:25px}.center-mobile-modal[_ngcontent-%COMP%]{float:left;width:100%;text-align:center;margin-bottom:16px}.warning-title[_ngcontent-%COMP%]{font-size:24px;font-family:"Nunito Sans"}[_nghost-%COMP%]     .po-popup-item-default{color:#4a5c60}@media (max-width: 870px){.vacation-label[_ngcontent-%COMP%]{padding-left:8px}.vacation-label-mobile[_ngcontent-%COMP%]{padding-left:8px}}.historic-value.read-more-expanded[_ngcontent-%COMP%]{width:100%!important;margin-top:.5rem}@media screen and (min-width: 480px){.historic-value.read-more-expanded[_ngcontent-%COMP%]{text-align:justify!important}}[_nghost-%COMP%]     #btn-available-receipt .po-button{display:inline-block!important}@media only screen and (min-width: 481px){[_nghost-%COMP%]     #btn-available-receipt .po-button{margin-right:15px!important}}[_nghost-%COMP%]     #btn-available-receipt .po-button .po-icon{margin-right:5px!important}[_nghost-%COMP%]     #btn-avaiable-notes .po-button{display:inline-block!important}[_nghost-%COMP%]     #btn-avaiable-notes .po-button .po-icon{margin-right:5px!important}.definition-space[_ngcontent-%COMP%]{padding-right:4px}']}),xe)},26847:function(e,t,n){"use strict";n.d(t,{P:function(){return v}});var i,o=n(64762),a=n(89019),r=n(48681),s=n(81483),c=n(94405),l=n(33490),u=n(59708),p=n(64634),d=n(98348),g=n(37716),f="vacation",v=((i=function(){function e(t,n,i){h(this,e),this.serviceGeneric=t,this.fileManipulationService=n,this.configurationService=i}return m(e,[{key:"parseParams",value:function(e,t,n){n&&(e[t]=n)}},{key:"getVacationInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t="".concat(f,"/info/").concat(e,"/"),n=[];return n.encodeEmployeeId=!0,this.serviceGeneric.search(t,n,!1).then(function(e){return e.items})}},{key:"getBalanceAux",value:function(e,t,n){return this.serviceGeneric.get("vacation/balanceAux/".concat(e,"/").concat(t,"/").concat(n))}},{key:"getVacationProcess",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser;return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(f,"/process/").concat(e,"/"),t.next=3,this.serviceGeneric.get(n,!1);case 3:return t.abrupt("return",t.sent.items);case 4:case"end":return t.stop()}},t,this)}))}},{key:"getVacationHistory",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return new Promise(function(a){var r="".concat(f,"/history/").concat(t,"/"),s=[];e.parseParams(s,"page",n),e.parseParams(s,"pageSize",i),o&&e.parseParams(s,"encodeEmployeeId",o),e.serviceGeneric.search(r,s,!1).then(function(e){var t=new l.i(e.items);t.actualPage=n,t.hasMoreRecords=e.hasNext,a(t)})})}},{key:"deleteVacation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.N.loggedUser;return this.serviceGeneric.delete("".concat(f,"/request/").concat(t,"/").concat(e))}},{key:"getReportDownloadUrl",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(o){if(e&&t){var a,r=i?"/notice/report/":"/detail/report/";d.ZP.isErpRM()?((a=[]).employeeId=encodeURIComponent(e),a.vacationId=encodeURIComponent(t),r=p.m.concatQueryParam(r,a)):r+="".concat(encodeURIComponent(e),"/").concat(encodeURIComponent(t)),d.ZP.isErpDatasul()?(r="".concat(f).concat(r),n.serviceGeneric.resolveUrl(0,r).then(function(e){o("".concat(document.location.origin).concat(e).concat(r))})):o(n.configurationService.getServerApiUrl().then(function(e){var t="".concat(e).concat(f);return t+=r,d.ZP.isErpNode()||d.ZP.isErpProtheus()?t:"".concat(document.location.origin).concat(t)}))}})}},{key:"openVacationReport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(d.ZP.isErpRM()){var i;(i=[]).employeeId=e,i.vacationId=t;var o=p.m.concatQueryParam("".concat(f,"/detail/report"),i);return this.fileManipulationService.openFile(o,n,"application/pdf")}return this.fileManipulationService.openFile("".concat(f,"/detail/report/").concat(encodeURIComponent(e),"/").concat(t),n,"application/pdf")}},{key:"getBlobReport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n="".concat(f,"/notice/report/").concat(e,"/").concat(t);return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.search(n,!1)}},{key:"getBlobReportReceipt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n="".concat(f,"/detail/report/").concat(e,"/").concat(t);return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.search(n,!1)}},{key:"setDefaulResponseType",value:function(){this.serviceGeneric.setResponseType("json")}},{key:"getVacationReceipt",value:function(e,t){if(d.ZP.isErpRM()){var n;(n=[]).employeeId=e,n.vacationId=t;var i=p.m.concatQueryParam("".concat(f,"/detail"),n);return this.serviceGeneric.get(i)}return this.serviceGeneric.get("".concat(f,"/detail/").concat(e,"/").concat(t))}},{key:"vacationStartsOnDecember",value:function(e){var t=e.initVacation;return t instanceof Date||(t=s.Em.formatUTCDate(new Date(e.initVacation))),t.getMonth()+1===12}}]),e}()).\u0275fac=function(e){return new(e||i)(g.LFG(u.M),g.LFG(c.e),g.LFG(r.e))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},89019:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var i={production:!0,menuPath:"../menu.json",logoutByTimeout:!0,timeout:20,idleTime:300,loggedUser:"{current}",version:"20220121."}},92340:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var i={production:!0,menuPath:"../menu.json",logoutByTimeout:!0,timeout:20,idleTime:300,loggedUser:"{current}",version:"20220121."}},48079:function(e,t,n){"use strict";var o,r=n(39075),c=n(37716),d=(n(11524),n(38583)),g=n(91841),f=n(90441),v=n.n(f),b=n(42482),x=n.n(b),y=n(3679),w=n(1914),Z=n(46237),C=n(29790),M=n(32472),k=n(44956),A=n(92430),P=n(49344),O=n(20945),q=n(70409),T=n(34902),_=[T.r],S=((o=m(function e(){h(this,e)})).\u0275fac=function(e){return new(e||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({providers:[].concat(_),imports:[[d.ez]]}),o),I=n(76660),D=n(95987),L=n(51110),R=n(40469),N=n(44852),E=n(36812),U=n(82832);function F(e,t){if(1&e&&c._UZ(0,"span",11),2&e){var n=c.oxw().$implicit;c.Q6J("ngClass",n.imagePath)}}function J(e,t){1&e&&(c.TgZ(0,"span",12),c._UZ(1,"img",13),c.qZA())}function V(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"span"),c.TgZ(2,"app-card",5),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(2).doNavigation(e)}),c.TgZ(3,"div",6),c.TgZ(4,"div",7),c.YNc(5,F,1,1,"span",8),c.YNc(6,J,2,0,"span",9),c.TgZ(7,"p",10),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit;c.xp6(5),c.Q6J("ngIf",!i.iconIsImage),c.xp6(1),c.Q6J("ngIf","externalClockIn"===i.id),c.xp6(2),c.hij(" ",c.lcZ(9,3,i.labelKeyLong)," ")}}function Y(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-button",14),c.NdJ("click",function(){c.CHM(n);var e=c.oxw(2);return e.doNavigation(e.featured)}),c.ALo(1,"translate"),c.qZA()}if(2&e){var i=c.oxw(2);c.s9C("p-label",c.lcZ(1,1,i.featured.labelKeyLong))}}function z(e,t){if(1&e&&(c.ynx(0),c._UZ(1,"app-page-header",1),c.TgZ(2,"div",2),c.YNc(3,V,10,5,"div",3),c.YNc(4,Y,2,3,"po-button",4),c.qZA(),c.BQk()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("pageTitle",n.subMenuPageTitle),c.xp6(2),c.Q6J("ngForOf",n.subMenus),c.xp6(1),c.Q6J("ngIf",n.featured)}}var Q=function(){var e=function(){function e(t,n,i,o){var a=this;h(this,e),this.route=t,this.router=n,this.menuApplicationService=i,this.navigationUtilService=o,this.url=[],this.route.params.subscribe(function(e){a.hasMiddlePage=a.router.url.split("/").length>4;var t=e.screen;a.subMenuPageTitle=e.title,a.setSubMenu(t)})}return m(e,[{key:"setSubMenu",value:function(e){var t=this;this.subMenus=void 0,this.featured=void 0,this.menuApplicationService.getMenus().then(function(n){n.forEach(function(n){n.id===e&&(t.subMenus=n.children,t.featured=n.featured)}),t.subMenus||n.forEach(function(n){n.children&&t.getChildren(n.children,e)}),t.subMenus&&t.getUrl(t.subMenus)})}},{key:"doNavigation",value:function(e){this.navigationUtilService.doNavigation(e)}},{key:"callbackIonicExternalEvent",value:function(e){console.log(e.detail)}},{key:"getChildren",value:function(e,t){var n=this;e.forEach(function(e){e.id===t&&(n.subMenus=e.children,n.featured=e.featured)}),this.subMenus||e.forEach(function(e){!n.subMenus&&e.children&&n.getChildren(e.children,t)})}},{key:"getUrl",value:function(e){var t=this,n=0;e.forEach(function(e){if(!e.externalApp){var i=e.url.split("/");t.url[n]=i[1],n++}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(D.gz),c.Y36(D.F0),c.Y36(R.Kv),c.Y36(N._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-menu"]],hostBindings:function(e,t){1&e&&c.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,c.evT)},decls:2,vars:1,consts:[[4,"ngIf"],[3,"pageTitle"],[1,"scroll"],[4,"ngFor","ngForOf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 po-mt-5 po-mb-5 block","p-primary","true","p-type","primary",3,"p-label","click",4,"ngIf"],[3,"click"],["card-body",""],[1,"general"],["class","nav-ico icon po-sm-1 po-md-1 po-lg-1 po-xl-1",3,"ngClass",4,"ngIf"],["class","clockin-icon po-sm-1 po-md-1 po-lg-1 po-xl-1",4,"ngIf"],[1,"label-menu","mouse-pointer","po-sm-11","po-md-11","po-lg-11","po-xl-11"],[1,"nav-ico","icon","po-sm-1","po-md-1","po-lg-1","po-xl-1",3,"ngClass"],[1,"clockin-icon","po-sm-1","po-md-1","po-lg-1","po-xl-1"],["src","assets/img/face_recog.svg"],["p-primary","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","po-mb-5","block",3,"p-label","click"]],template:function(e,t){1&e&&(c.YNc(0,z,5,3,"ng-container",0),c._UZ(1,"router-outlet")),2&e&&c.Q6J("ngIf",!t.hasMiddlePage)},directives:[d.O5,D.lC,E.q,d.sg,U.A,d.mk,k.bOz],pipes:[C.X$],styles:[".label-menu[_ngcontent-%COMP%]{font-size:16px;width:0 auto;padding-left:40px;color:#425357}.general[_ngcontent-%COMP%]{padding:10px 0;color:#0d9abe}.icon[_ngcontent-%COMP%]{display:block;position:absolute;top:50%;margin-top:-13px}.clockin-icon[_ngcontent-%COMP%]{margin-right:-26px}"]}),e}(),G=n(91195),H=n(64762),B=n(92340),j=n(66163),$=n(81483),W=n(72212),K=n(18494),X=n(53871),ee=n(97983),te=n(36227),ne=n(9789),ie=n(87451),oe=n(79765),ae=n(69412),re=function(){var e=function(){function e(t){h(this,e),this.healthService=t,this.lookupOpen=new oe.xQ,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new oe.xQ,this.emitModelObservable=this.emitModel.asObservable()}return m(e,[{key:"getFilteredItems",value:function(e){return this.lookupOpen.next(),(0,ae.D)(this.healthService.getCids(e.page,e.pageSize,e.filter))}},{key:"getObjectByValue",value:function(e){var t,n=this;return(0,ae.D)(this.healthService.getCids(void 0,void 0,e).then(function(i){return i.items.forEach(function(n){n.id.toString()===e&&(t=n)}),n.emitModel.next(t),t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(ie.z))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),se=function(){var e=function(){function e(t){h(this,e),this.healthService=t,this.lookupOpen=new oe.xQ,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new oe.xQ,this.emitModelObservable=this.emitModel.asObservable()}return m(e,[{key:"getFilteredItems",value:function(e){return this.lookupOpen.next(),(0,ae.D)(this.healthService.getReasons(e.page,e.pageSize,e.filter))}},{key:"getObjectByValue",value:function(e){var t,n=this;return(0,ae.D)(this.healthService.getReasons(void 0,void 0,e).then(function(i){return i.items.forEach(function(n){n.id.toString()===e&&(t=n)}),n.emitModel.next(t),t}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(ie.z))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ce=n(96054),le=n(65241),ue=n(84479),pe=n(47106),de=n(24165),ge=n(13235);function he(e,t){if(1&e&&(c.TgZ(0,"app-card",18),c.TgZ(1,"div",19),c.TgZ(2,"div",20),c._UZ(3,"div",21),c.qZA(),c.TgZ(4,"div",22),c.TgZ(5,"div",23),c.TgZ(6,"strong"),c._uU(7),c.ALo(8,"titleCase"),c.qZA(),c.qZA(),c.TgZ(9,"div",24),c._uU(10),c.ALo(11,"titleCase"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(3),c.Udp("background-image",n.employeeData.image),c.xp6(4),c.Oqu(c.lcZ(8,4,null==n.employeeData||null==n.employeeData.employee?null:n.employeeData.employee.name)),c.xp6(3),c.Oqu(c.lcZ(11,6,null==n.employeeData||null==n.employeeData.employee?null:n.employeeData.employee.roleDescription))}}function fe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"po-select",25),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().type=e})("p-change",function(){c.CHM(n);var e=c.oxw();return e.validateFields(e.type)}),c.ALo(2,"translate"),c.ALo(3,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,4,"l-medical-certificate-type")),c.s9C("p-placeholder",c.lcZ(3,6,"l-select-option")),c.Q6J("ngModel",i.type)("p-options",i.types)}}function me(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-select",28),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(2).reason=e}),c.ALo(1,"translate"),c.ALo(2,"translate"),c.qZA()}if(2&e){var i=c.oxw(2);c.s9C("p-label",c.lcZ(1,4,"l-medical-certificate-reason")),c.s9C("p-placeholder",c.lcZ(2,6,"l-select-option")),c.Q6J("ngModel",i.reason)("p-options",i.reasons)}}function ve(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-lookup",29),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(2).reason=e})("p-selected",function(){return c.CHM(n),c.oxw(2).showMenu()}),c.ALo(1,"translate"),c.qZA()}if(2&e){var i=c.oxw(2);c.s9C("p-label",c.lcZ(1,4,"l-medical-certificate-reason")),c.Q6J("ngModel",i.reason)("p-columns",i.reasonLookupColumns)("p-filter-service",i.reasonLookupService)}}function be(e,t){if(1&e&&(c.TgZ(0,"span"),c.YNc(1,me,3,8,"po-select",26),c.YNc(2,ve,2,6,"po-lookup",27),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",!n.showLookupReason||!n.showLookupReason.visible),c.xp6(1),c.Q6J("ngIf",n.showLookupReason&&n.showLookupReason.visible)}}function xe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span",30),c.TgZ(1,"po-input",31),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().initHour=e}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-initial-hour")),c.Q6J("ngModel",i.initHour)}}function ye(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span",30),c.TgZ(1,"po-input",32),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().endHour=e}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-final-hour")),c.Q6J("ngModel",i.endHour)}}function we(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"label",33),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",34,35),c.NdJ("click",function(){return c.CHM(n),c.MAs(7).toggle()}),c.qZA(),c._UZ(6,"po-popup",36,37),c.TgZ(8,"po-input",38),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().doctorName=e}),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(5),o=c.oxw();c.xp6(2),c.hij("",c.lcZ(3,5,"l-doctor-name")," "),c.xp6(4),c.Q6J("p-actions",o.popupActionsName)("p-target",i),c.xp6(2),c.Q6J("ngModel",o.doctorName)("p-required",o.medicalCertificateDoctorNameProperties.required)}}function Ze(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"label",39),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",34,35),c.NdJ("click",function(){return c.CHM(n),c.MAs(7).toggle()}),c.qZA(),c._UZ(6,"po-popup",36,40),c.TgZ(8,"po-input",41),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().medicalRegionalCouncil=e}),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(5),o=c.oxw();c.xp6(2),c.hij("",c.lcZ(3,5,"l-crm-medical")," "),c.xp6(4),c.Q6J("p-actions",o.popupActionsCrm)("p-target",i),c.xp6(2),c.Q6J("ngModel",o.medicalRegionalCouncil)("p-required",o.medicalCertificateCrmProperties.required)}}function Ce(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-success-dialog",42),c.NdJ("closeDialogEvent",function(){return c.CHM(n),c.oxw().back()}),c.qZA()}}var Me=function(){var e=function(){function e(t,n,i,o,a,r,s,c,l,u,p,d){h(this,e),this.healthService=t,this.notificationService=n,this.translateService=i,this.lookupService=o,this.reasonLookupService=a,this.menuApplicationService=r,this.windowUtil=s,this.route=c,this.fieldProperties=l,this.teamManagementService=u,this.profileService=p,this.imageService=d,this.id=null,this.types=[],this.reasons=[],this.cids=[],this.initDate=new Date,this.employeeData=null,this.employeeId=B.N.loggedUser,this.viewIsTeamManagement=!1,this.medicalCertificatesTypes=[],this.initHourFieldIsVisible=!1,this.endHourFieldIsVisible=!1,this.popupActionsName=[],this.popupActionsCrm=[]}return m(e,[{key:"ngOnInit",value:function(){this.employeeData=this.teamManagementService.getEmployeeCard(),this.employeeData&&this.employeeData.employee&&(this.viewIsTeamManagement=!0,this.employeeId=this.employeeData.employee.id),this.loadComponents(),this.dealWithQueryParams(),this.loadModel()}},{key:"ngOnDestroy",value:function(){!0===this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),null!=this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe()}},{key:"loadModel",value:function(){var e=this;this.lookupService.emitModelObservable.subscribe(function(t){e.cid=t})}},{key:"loadComponents",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFieldProperties();case 2:return e.next=4,this.fillLabelPopup();case 4:if(e.t0=this.medicalCertificateTypeProperties&&this.medicalCertificateTypeProperties.required,!e.t0){e.next=8;break}return e.next=8,this.getTypes();case 8:if(!this.showLookupReason||!this.showLookupReason.visible){e.next=12;break}this.initLookupReason(),e.next=14;break;case 12:return e.next=14,this.getReasons();case 14:return this.initLookup(),this.lookupService.lookupOpenObservable.subscribe(function(){t.menuApplicationService.hideMenu()}),this.reasonLookupService.lookupOpenObservable.subscribe(function(){t.menuApplicationService.hideMenu()}),e.next=19,this.loadMedicalCertificateData(this.getURLParamId());case 19:case"end":return e.stop()}},e,this)}))}},{key:"loadMedicalCertificateData",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,!t.t0){t.next=13;break}return this.id=e,t.t1=this,t.next=6,this.healthService.getMedicalCertificateRequest(this.employeeId,this.id);case 6:return t.t2=t.sent,t.t1.loadComponentFields.call(t.t1,t.t2),t.t3=this,t.next=11,this.healthService.getMedicalCertificateAttachedFile(e);case 11:t.t4=t.sent,t.t3.fillFileInfo.call(t.t3,t.t4);case 13:case"end":return t.stop()}},t,this)}))}},{key:"loadComponentFields",value:function(e){this.type=e.type,e.begin&&(this.initDate=$.Em.getDateUTCFormat(new Date(e.begin)).toISOString().substring(0,10)),e.end&&(this.endDate=$.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.end))),e.cid&&this.setCidValue(e.cid),e.reason&&(this.reason=e.reason),e.justify&&(this.justify=e.justify),e.file&&(this.attachedFile=e.file),this.initDate&&this.endDate&&this.isValidPeriod()&&this.updateDays(),e.doctorName&&(this.doctorName=e.doctorName),e.medicalRegionalCouncil&&(this.medicalRegionalCouncil=e.medicalRegionalCouncil),e.initHour&&(this.initHour=$.Em.getHoursByMilliseconds(e.initHour)),e.endHour&&(this.endHour=$.Em.getHoursByMilliseconds(e.endHour)),this.validateFields(e.type)}},{key:"validateFields",value:function(e){var t=this.medicalCertificatesTypes.find(function(t){return t.id===e});t.props?(this.initHourFieldIsVisible=W.Z.isVisible(t.props,"initHour"),this.endHourFieldIsVisible=W.Z.isVisible(t.props,"endHour")):(this.initHourFieldIsVisible=!1,this.endHourFieldIsVisible=!1,this.initHour="",this.endHour="")}},{key:"setCidValue",value:function(e){this.lookup.selectValue({id:e}),this.lookup.setViewValue(e,{}),this.cid=e}},{key:"getURLParamId",value:function(){return this.route.snapshot.paramMap.get("id")}},{key:"showMenu",value:function(){this.menuApplicationService.showMenu()}},{key:"initLookup",value:function(){var e=this;this.lookupColumns=[{property:"id",label:"l-cid",fieldLabel:!0,width:"60px"},{property:"name",label:"l-disease-description"}],this.lookupColumns.forEach(function(t){e.translateService.getI18n(t.label).then(function(e){t.label=e})})}},{key:"initLookupReason",value:function(){var e=this;this.reasonLookupColumns=[{property:"description",label:"l-description"}],this.reasonLookupColumns.forEach(function(t){e.translateService.getI18n(t.label).then(function(e){t.label=e})})}},{key:"changeInitDate",value:function(){this.days&&this.initDate&&(this.endDate||(this.endDate=$.Em.getDateUTCFormat(new Date(this.initDate))),this.changeDate())}},{key:"changeDate",value:function(){if(this.days&&this.initDate){var e=Number(this.days)-1;if(e>0){var t=$.Em.getDateUTCFormat(new Date(this.initDate));t.setDate(t.getUTCDate()+e),this.endDate=t}}}},{key:"changeDaysDate",value:function(){null!=this.days&&(this.endDate=null),this.days&&this.initDate&&(this.endDate||(this.endDate=$.Em.getDateUTCFormat(new Date(this.initDate))),this.changeDate())}},{key:"updateDays",value:function(){if(this.endDate&&this.initDate){var e=$.Em.getDateWithoutTimezone(new Date(this.endDate)),t=$.Em.getDateWithoutTimezone(new Date(this.initDate)),n=e.getTime()-t.getTime(),i=+$.Em.getHoursByMilliseconds(n,!1).split(":")[0],o=Number((.0417*i).toFixed());this.days=o+1}}},{key:"getTypes",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.healthService.getTypes().then(function(e){t.types=e.map(function(e){return{label:e.name,value:e.id}}),t.medicalCertificatesTypes=e});case 1:case"end":return e.stop()}},e,this)}))}},{key:"getReasons",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.healthService.getReasons().then(function(e){e&&(t.reasons=e.items.map(function(e){return{label:e.description,value:e.id}}))});case 1:case"end":return e.stop()}},e,this)}))}},{key:"send",value:function(){this.informationIsValid()?this.callService():this.notifyMessageError()}},{key:"informationIsValid",value:function(){return this.initDate&&(!this.endDate||this.isValidPeriod())&&null!=this.attachedFile&&this.isValidHourInitialAndFInal()}},{key:"notifyMessageError",value:function(){var e=this;null==this.attachedFile?this.translateService.getI18n("m-file-required").then(function(t){e.notificationService.showNotification(t,k.ik9.Error)}):this.isValidHourInitialAndFInal()?this.translateService.getI18n("m-initialDateBiggerThanEndDate").then(function(t){e.notificationService.showNotification(t,k.ik9.Error)}):this.translateService.getI18n("m-initialHourBiggerThanEndHour").then(function(t){e.notificationService.showNotification(t,k.ik9.Error)})}},{key:"callService",value:function(){var e=this.createSendObject();e.id?this.callUpdateService(e):this.callSaveService(e)}},{key:"callSaveService",value:function(e){var t=this;this.healthService.saveMedicalCertificate(e,this.employeeId).then(function(){t.isDialogSuccessVisible=!0})}},{key:"callUpdateService",value:function(e){var t=this;this.healthService.updateMedicalCertificate(e,this.employeeId).then(function(){t.isDialogSuccessVisible=!0})}},{key:"openSelectMedicalCertificateFileDialog",value:function(){this.isIOS()?this.selectFileDialog.openFileBrowser():this.selectFileDialog.openSelectFileDialog()}},{key:"fillFileInfo",value:function(e){this.attachedFile=e}},{key:"back",value:function(){this.viewIsTeamManagement=!1,this.windowUtil.back()}},{key:"isIOS",value:function(){return this.windowUtil.isIOS()}},{key:"loadFieldProperties",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldProperties.getFieldProperties("medicalCertificate");case 2:(t=e.sent)&&t.forEach(function(e){"type"===e.field&&(n.medicalCertificateTypeProperties=e),"reason"===e.field&&(n.medicalCertificateReasonProperties=e),"doctorName"===e.field&&(n.medicalCertificateDoctorNameProperties=e),"medicalRegionalCouncil"===e.field&&(n.medicalCertificateCrmProperties=e),"lookupReason"===e.field&&(n.showLookupReason=e)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"createSendObject",value:function(){var e={begin:$.Em.getDateUTCFormat(new Date(this.initDate)),cid:this.cid,type:this.type,reason:this.reason,justify:this.justify,doctorName:this.doctorName,medicalRegionalCouncil:this.medicalRegionalCouncil,initHour:$.Em.getTotalMilliseconds(this.initHour),endHour:$.Em.getTotalMilliseconds(this.endHour)};return this.endDate&&(e.end=this.endDate),this.attachedFile&&(e.file=this.attachedFile),this.id&&(e.id=this.id),e}},{key:"isValidPeriod",value:function(){if(!this.initDate||!this.endDate)return!1;var e=$.Em.getDateObject(this.initDate),t=$.Em.getDateObject(this.endDate);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),e.setHours(0,0,0,0),t>=e}},{key:"isValidHourInitialAndFInal",value:function(){var e=$.Em.getTotalMilliseconds(this.initHour),t=$.Em.getTotalMilliseconds(this.endHour);if(!e&&!t)return!0;if(e&&t){var n=new Date(Date.parse(this.initDate.toString())),i=new Date(Date.parse(this.endDate.toString()));if(n.toLocaleDateString()===i.toLocaleDateString()&&e<t||n.toLocaleDateString()!==i.toLocaleDateString())return!0}return!1}},{key:"fillLabelPopup",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateService.getI18n("l-insert-doctor-name");case 2:return t=e.sent,e.next=5,this.translateService.getI18n("l-insert-Medical-crm");case 5:n=e.sent,this.popupActionsName=[{label:t}],this.popupActionsCrm=[{label:n}];case 7:case"end":return e.stop()}},e,this)}))}},{key:"dealWithQueryParams",value:function(){var e=this;this.queryParamsSubscription=this.route.queryParams.subscribe(function(t){var n=t;n.date&&(e.initDate=$.Em.getDateUTCFormat(new Date(Number(n.date))),isNaN(e.initDate.getTime())&&(e.initDate=null)),n.endDate&&(e.endDate=$.Em.getDateUTCFormat(new Date(Number(n.endDate))),isNaN(e.endDate.getTime())&&(e.endDate=null)),n.employeeId&&(e.employeeId=n.employeeId,e.profileService.getEmployeeSummary(e.employeeId).then(function(t){e.employeeData=new j.J,e.employeeData.employee=t,e.imageService.getImageStyle(e.employeeId).subscribe(function(t){return e.employeeData.image=t})}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(ie.z),c.Y36(ce.g),c.Y36(le.g),c.Y36(re),c.Y36(se),c.Y36(R.Kv),c.Y36(ue.g),c.Y36(D.gz),c.Y36(te.c),c.Y36(ne.C),c.Y36(ee.H),c.Y36(K.A))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-request-medical-certificate"]],viewQuery:function(e,t){var n;(1&e&&(c.Gf(X.Q,5),c.Gf(k.za1,5)),2&e)&&(c.iGM(n=c.CRH())&&(t.selectFileDialog=n.first),c.iGM(n=c.CRH())&&(t.lookup=n.first))},decls:32,vars:43,consts:[["pageTitle","l-request-medical-certificate",3,"backIsVisible","backFunction"],["class","po-sm-12 po-md-5 po-lg-4 po-xl-3 card-employee",4,"ngIf"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"header-divider","panel-body","po-row","center-fields"],[1,"spacing"],["medicalCertificateForm","ngForm"],[4,"ngIf"],[1,"po-row"],["name","initDatePicker","p-clean","true","p-required","true",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","po-mt-2",3,"ngModel","p-max-date","p-label","ngModelChange","p-change"],["name","endDatePicker","p-clean","true",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","po-mt-2",3,"p-min-date","ngModel","p-label","p-error-pattern","ngModelChange","p-change"],["class","po-sm-6 po-md-6 po-lg-6 po-xl-6 po-mt-2",4,"ngIf"],["p-min","0","p-clean","true","name","daysInput",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-label","ngModelChange","p-change-model"],["p-field-label","id","p-field-value","id","name","cidLookup",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected"],[1,"clearfix","po-mb-2"],[3,"attachedFileChange"],["name","justifyTextArea",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-label","p-placeholder","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","send-button","po-mb-5",3,"p-disabled","p-label","p-click"],["message","l-send-medical-certificate-success",3,"closeDialogEvent",4,"ngIf"],[1,"po-sm-12","po-md-5","po-lg-4","po-xl-3","card-employee"],["card-header","",1,"mr-card-header"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],["name","typeSelect","p-required","medicalCertificateTypeProperties.required",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange","p-change"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12","name","reasonSelect","p-required","true",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 po-mt-2","name","reasonLookup","p-field-label","description","p-field-value","id",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected",4,"ngIf"],["name","reasonSelect","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange"],["name","reasonLookup","p-field-label","description","p-field-value","id",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","po-mt-2"],["id","txt-hour-initial","name","hourInitial","p-placeholder","00:00","p-mask","99:99","p-mask-format-model","true","p-pattern","^(2[0-3]|[01][0-9]):([0-5][0-9])$","p-maxlength","5",3,"ngModel","p-label","ngModelChange"],["id","txt-hour-end","name","hourEnd","p-placeholder","00:00","p-mask","99:99","p-mask-format-model","true","p-pattern","^(2[0-3]|[01][0-9]):([0-5][0-9])$","p-maxlength","5",3,"ngModel","p-label","ngModelChange"],["for","doctorName",1,"po-field-title","po-pl-1","po-mt-2"],[1,"po-clickable","po-icon","po-icon-info","po-pl-1","po-mt-2","designerHelp",3,"click"],["target",""],["p-position","right",1,"popup-atestado",3,"p-actions","p-target"],["popup",""],["id","doctorName","name","nameInput","p-clean","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-required","ngModelChange"],["for","medicalRegionalCouncil",1,"po-field-title","po-pl-1","po-mt-2"],["pop",""],["id","medicalRegionalCouncil","name","crmInput","p-clean","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-required","ngModelChange"],["message","l-send-medical-certificate-success",3,"closeDialogEvent"]],template:function(e,t){if(1&e&&(c.TgZ(0,"app-page-header",0),c.NdJ("backFunction",function(){return t.back()}),c.qZA(),c.YNc(1,he,12,8,"app-card",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"form",4,5),c.YNc(6,fe,4,8,"span",6),c.YNc(7,be,3,2,"span",6),c.TgZ(8,"div",7),c.TgZ(9,"po-datepicker",8),c.NdJ("ngModelChange",function(e){return t.initDate=e})("p-change",function(){return t.changeInitDate()}),c.ALo(10,"translate"),c.qZA(),c.TgZ(11,"po-datepicker",9),c.NdJ("ngModelChange",function(e){return t.endDate=e})("p-change",function(){return t.updateDays()}),c.ALo(12,"translate"),c.ALo(13,"translate"),c.qZA(),c.qZA(),c.TgZ(14,"div",7),c.YNc(15,xe,3,4,"span",10),c.YNc(16,ye,3,4,"span",10),c.qZA(),c.TgZ(17,"po-number",11),c.NdJ("ngModelChange",function(e){return t.days=e})("p-change-model",function(){return t.changeDaysDate()}),c.ALo(18,"translate"),c.qZA(),c.TgZ(19,"po-lookup",12),c.NdJ("ngModelChange",function(e){return t.cid=e})("p-selected",function(){return t.showMenu()}),c.ALo(20,"translate"),c.qZA(),c.YNc(21,we,9,7,"span",6),c.TgZ(22,"div"),c.YNc(23,Ze,9,7,"span",6),c.qZA(),c._UZ(24,"div",13),c.TgZ(25,"app-attach-file",14),c.NdJ("attachedFileChange",function(e){return t.fillFileInfo(e)}),c.qZA(),c.TgZ(26,"po-textarea",15),c.NdJ("ngModelChange",function(e){return t.justify=e}),c.ALo(27,"translate"),c.ALo(28,"translate"),c.qZA(),c.TgZ(29,"po-button",16),c.NdJ("p-click",function(){return t.send()}),c.ALo(30,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(31,Ce,1,0,"app-success-dialog",17)),2&e){var n=c.MAs(5);c.Q6J("backIsVisible",!0),c.xp6(1),c.Q6J("ngIf",null==t.employeeData?null:t.employeeData.employee),c.xp6(5),c.Q6J("ngIf",t.medicalCertificateTypeProperties&&t.medicalCertificateTypeProperties.visible),c.xp6(1),c.Q6J("ngIf",t.medicalCertificateReasonProperties&&t.medicalCertificateReasonProperties.visible),c.xp6(2),c.s9C("p-label",c.lcZ(10,27,"l-initial")),c.Q6J("ngModel",t.initDate)("p-max-date",t.endDate),c.xp6(2),c.s9C("p-label",c.lcZ(12,29,"l-scheduler-messages.editor.end")),c.s9C("p-error-pattern",c.lcZ(13,31,"m-initialDateBiggerThanEndDate")),c.Q6J("p-min-date",t.initDate)("ngModel",t.endDate),c.xp6(4),c.Q6J("ngIf",t.initHourFieldIsVisible),c.xp6(1),c.Q6J("ngIf",t.endHourFieldIsVisible),c.xp6(1),c.s9C("p-label",c.lcZ(18,33,"l-days")),c.Q6J("ngModel",t.days),c.xp6(2),c.s9C("p-label",c.lcZ(20,35,"l-cid")),c.Q6J("ngModel",t.cid)("p-columns",t.lookupColumns)("p-filter-service",t.lookupService),c.xp6(2),c.Q6J("ngIf",t.medicalCertificateDoctorNameProperties&&t.medicalCertificateDoctorNameProperties.visible),c.xp6(2),c.Q6J("ngIf",t.medicalCertificateCrmProperties&&t.medicalCertificateCrmProperties.visible),c.xp6(3),c.s9C("p-label",c.lcZ(27,37,"l-justification")),c.s9C("p-placeholder",c.lcZ(28,39,"l-include-justify")),c.Q6J("ngModel",t.justify),c.xp6(3),c.s9C("p-label",c.lcZ(30,41,"l-send")),c.Q6J("p-disabled",!n.form.valid),c.xp6(2),c.Q6J("ngIf",t.isDialogSuccessVisible)}},directives:[E.q,d.O5,y._Y,y.JL,y.F,k.GWy,y.JJ,y.On,k.S5$,k.za1,pe.n,k.gJm,k.bOz,U.A,k.C9q,k.xxV,k.TD5,de.V],pipes:[C.X$,ge.r],styles:[".send-button[_ngcontent-%COMP%]{margin-top:2%;padding-bottom:5px}.attach-file-button[_ngcontent-%COMP%]{margin-top:1%;margin-bottom:1%}[_nghost-%COMP%]     .po-disclaimer-group{background-color:transparent;border:0px;padding:0;margin-top:1%;margin-bottom:6%}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media only screen and (max-width: 480px){.send-button[_ngcontent-%COMP%]{margin-bottom:20px}}.div-tooltip[_ngcontent-%COMP%]{display:inline}@media (min-width: 768px){.center-fields[_ngcontent-%COMP%]{padding:0 40px}}.designerHelp[_ngcontent-%COMP%]{color:#41b0cc;font-size:14px}.spacing[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .popup-atestado .po-popup-item-default, [_nghost-%COMP%]     .popup-atestado .po-popup-arrow{background-color:#4a5c60;color:#fff;font-size:14px}"]}),e}(),ke=n(37503),Ae=n(3247),Pe=n(88044),Oe=n(98348),qe=n(68014),Te=n(89019),_e=n(25523),Se=n(26847),Ie=m(function e(){h(this,e),this.employeesBirthday=[],this.daysTillVacation=0}),De=n(59708),Le=function(){var e=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getTeamBirthdays",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te.N.loggedUser,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:99;return new Promise(function(o){var a="team/birthdates/".concat(t),r=[];e.serviceGeneric.parseParams(r,"page",n),e.serviceGeneric.parseParams(r,"pageSize",i),e.serviceGeneric.parseParams(r,"encodeEmployeeId",!0),e.serviceGeneric.search(a,r).then(function(e){o(e.items)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Re=function(){var e=function(){function e(t){h(this,e),this.ionicUtilsService=t}return m(e,[{key:"callBlastAdvertisingForApp",value:function(){this.ionicUtilsService.emit({args:{},type:Pe.g.ShowBlastAdvertising})}},{key:"mustShowCardBlastForApp",value:function(){this.ionicUtilsService.emit({args:{showAgain:!1},type:Pe.g.MustShowBlastAdvertisingCard})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(Pe.l))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ne=function(){var e=function(){function e(t){h(this,e),this.genericservice=t}return m(e,[{key:"getHierarchicalData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lead",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.N.loggedUser,o="team/hierarchicalData/".concat(i),a=[];return a.page=e,a.pageSize=t,a.level=n,this.genericservice.search(o,a)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Ee(e,t){if(1&e&&(c.TgZ(0,"div",13),c.TgZ(1,"app-card",14),c.TgZ(2,"div",15),c.TgZ(3,"div",16),c._UZ(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c.TgZ(6,"div",19),c.TgZ(7,"strong"),c._uU(8),c.ALo(9,"titleCase"),c.qZA(),c.qZA(),c.TgZ(10,"div",20),c._uU(11),c.ALo(12,"titleCase"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=c.oxw();c.xp6(4),c.Udp("background-image",i.getImageAvatar(n.id)),c.MGl("id","photo-",n.id,""),c.xp6(2),c.MGl("id","lbl-employee-name-",n.id,""),c.xp6(2),c.Oqu(c.lcZ(9,7,n.name)),c.xp6(2),c.MGl("id","lbl-role-description-",n.id,""),c.xp6(1),c.hij(" ",c.lcZ(12,9,n.roleDescription)," ")}}function Ue(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",21),c.TgZ(1,"a",22),c.NdJ("click",function(){return c.CHM(n),c.oxw().viewMore()}),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA()}2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,1,"l-view-more")))}var Fe=function(e){return{"is-active":e}},Je=function(){var e=function(){function e(t,n,i){h(this,e),this.organogramService=t,this.profileService=n,this.sanitization=i,this.closeDialogEvent=new c.vpe,this.hasNext=!1,this.page=1,this.pageSize=6,this.items=[],this.avatarImage=[],this.level="lead"}return m(e,[{key:"initialize",value:function(e){this.employeeId=e,this.getData(this.page,this.pageSize,this.level),this.items=[]}},{key:"getData",value:function(e,t,n){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.organogramService.getHierarchicalData(e,t,n,this.employeeId);case 2:(o=i.sent)&&(this.hasNext=o.hasNext,this.items=this.items.concat(o.items));case 4:case"end":return i.stop()}},i,this)}))}},{key:"getImageAvatar",value:function(e){var t=this,n=Oe.ZP.checkIfEncode(e);return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(n).then(function(n){n&&n.content&&(t.avatarImage[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.avatarImage[e]}},{key:"changeData",value:function(e,t){if(t)if("right"===t)switch(this.level){case"lead":e="pair";break;case"pair":e="subordinate";break;default:return}else if("left"===t)switch(this.level){case"subordinate":e="pair";break;case"pair":e="lead";break;default:return}this.page=1,this.items=[],this.getData(this.page,this.pageSize,e),this.level=e}},{key:"getActive",value:function(e){return this.level===e}},{key:"close",value:function(){this.items=[],this.closeDialogEvent.emit()}},{key:"trackByFunction",value:function(e,t){return t.id}},{key:"viewMore",value:function(){this.page++,this.getData(this.page,this.pageSize,this.level)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Ne),c.Y36(ee.H),c.Y36(r.H7))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-organogram"]],outputs:{closeDialogEvent:"closeDialogEvent"},decls:27,vars:25,consts:[[3,"pageTitle","backIsVisible","backFunction"],[1,"header-divider","panel-body","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"navegacao"],[1,"arrow","back","is-active",3,"click"],[1,"holder"],[1,"menu"],[1,"leadItem",3,"ngClass","click"],[1,"pair",3,"ngClass","click"],[1,"subordinate",3,"ngClass","click"],[1,"arrow","left","is-active",3,"click"],[1,"po-row","all-cards"],["class","cards",4,"ngFor","ngForOf","ngForTrackBy"],["class","next-periods",4,"ngIf"],[1,"cards"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["card-header","",1,"mr-card-header","po-sm-12","po-md-6","po-lg-6","po-xl-6"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align",3,"id"],[1,"aboutEmployee"],[1,"name",3,"id"],[1,"office",3,"id"],[1,"next-periods"],["id","linkViewMore",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"app-page-header",0),c.NdJ("backFunction",function(){return t.close()}),c.ALo(1,"translate"),c.qZA(),c.TgZ(2,"div",1),c.TgZ(3,"nav",2),c.TgZ(4,"a",3),c.NdJ("click",function(){return t.changeData("","left")}),c.TgZ(5,"span"),c._uU(6,"<"),c.qZA(),c.qZA(),c.TgZ(7,"div",4),c.TgZ(8,"ul",5),c.TgZ(9,"li",6),c.NdJ("click",function(){return t.changeData("lead")}),c.TgZ(10,"span"),c._uU(11),c.ALo(12,"translate"),c.qZA(),c.qZA(),c.TgZ(13,"li",7),c.NdJ("click",function(){return t.changeData("pair")}),c.TgZ(14,"span"),c._uU(15),c.ALo(16,"translate"),c.qZA(),c.qZA(),c.TgZ(17,"li",8),c.NdJ("click",function(){return t.changeData("subordinate")}),c.TgZ(18,"span"),c._uU(19),c.ALo(20,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"a",9),c.NdJ("click",function(){return t.changeData("","right")}),c.TgZ(22,"span"),c._uU(23,">"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",10),c.YNc(25,Ee,13,11,"div",11),c.qZA(),c.YNc(26,Ue,4,3,"div",12),c.qZA()),2&e&&(c.s9C("pageTitle",c.lcZ(1,11,"l-organogram")),c.Q6J("backIsVisible",!0),c.xp6(9),c.Q6J("ngClass",c.VKq(19,Fe,t.getActive("lead"))),c.xp6(2),c.Oqu(c.lcZ(12,13,"l-lead")),c.xp6(2),c.Q6J("ngClass",c.VKq(21,Fe,t.getActive("pair"))),c.xp6(2),c.Oqu(c.lcZ(16,15,"l-pair")),c.xp6(2),c.Q6J("ngClass",c.VKq(23,Fe,t.getActive("subordinate"))),c.xp6(2),c.Oqu(c.lcZ(20,17,"l-subordinate")),c.xp6(6),c.Q6J("ngForOf",t.items)("ngForTrackBy",t.trackByFunction),c.xp6(1),c.Q6J("ngIf",t.hasNext))},directives:[E.q,d.mk,d.sg,d.O5,U.A],pipes:[C.X$,ge.r],styles:['.header-divider[_ngcontent-%COMP%]{box-shadow:none}.holder[_ngcontent-%COMP%]{width:100%;grid-area:holder;font-family:NunitoSans-Bold,sans-serif;font-size:16px;cursor:pointer}.menu[_ngcontent-%COMP%]{display:grid;grid-template-areas:"lead pair subordinate";grid-template-columns:1fr 1fr 1fr;margin:0}.leadItem[_ngcontent-%COMP%]{grid-area:lead;margin:0}.pair[_ngcontent-%COMP%]{grid-area:pair;margin:0}.subordinate[_ngcontent-%COMP%]{grid-area:subordinate;margin:0}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:24px;display:inline-block;color:#0c9abe;padding:9px 10px;text-align:center}.menu[_ngcontent-%COMP%]   li.is-active[_ngcontent-%COMP%]{border-bottom:2px solid #0c9abe}.arrow[_ngcontent-%COMP%]{display:block;width:100%;text-align:center}.arrow[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;padding:10px}.navegacao[_ngcontent-%COMP%]{display:grid;justify-items:center;grid-template-areas:"left holder right";grid-template-columns:1fr 9fr 1fr;padding:5px 0}.cards[_ngcontent-%COMP%]{margin-bottom:10px}.cards[_ngcontent-%COMP%]:first-child{margin-top:10px}.holder[_ngcontent-%COMP%]{grid-area:holder}.next[_ngcontent-%COMP%]{grid-area:right}.back[_ngcontent-%COMP%]{grid-area:left}.panel-body[_ngcontent-%COMP%]{padding-bottom:0}.is-active[_ngcontent-%COMP%]{color:#0c9abe!important}[_nghost-%COMP%]     .card-well{margin-bottom:0!important;border-radius:0!important}.cards[_ngcontent-%COMP%]{width:100%}.all-cards[_ngcontent-%COMP%]{overflow:auto;height:350px;align-content:baseline}.all-cards[_ngcontent-%COMP%]::-webkit-scrollbar{border-radius:2px;width:2px;opacity:-5;height:4px}@media only screen and (max-width: 960px){.all-cards[_ngcontent-%COMP%]{height:100%}}.avatar-small[_ngcontent-%COMP%]{margin-top:2px;margin-right:8px}.department[_ngcontent-%COMP%]{font-size:10px}.card-header[_ngcontent-%COMP%]{padding-bottom:8px}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe}.next-periods[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}']}),e}(),Ve=function(){var e=function(){function e(t){h(this,e),this.genericService=t}return m(e,[{key:"getEmployeesFind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a="team/employees/find/".concat(e);n=n||3;var r=[];return this.genericService.parseParams(r,"page",t=t||1),this.genericService.parseParams(r,"pageSize",n),this.genericService.parseParams(r,"name",i),o&&this.genericService.parseParams(r,"encodeEmployeeId",o),this.genericService.search(a,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ye=n(57706),ze=n(10690);function Qe(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-input",6),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(2).name=e}),c.ALo(1,"translate"),c.qZA()}if(2&e){var i=c.oxw(2);c.s9C("p-placeholder",c.lcZ(1,2,"l-search-collaborator")),c.Q6J("ngModel",i.name)}}function Ge(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"app-page-header",4),c.NdJ("backFunction",function(){return c.CHM(n),c.oxw().back()}),c.qZA(),c.YNc(2,Qe,2,4,"po-input",5),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("backIsVisible",!0),c.xp6(1),c.Q6J("ngIf",i.isVisible)}}function He(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-expansion-card"),c.TgZ(1,"div",9),c.TgZ(2,"div",10),c._UZ(3,"div",11),c.qZA(),c.TgZ(4,"div",12),c.TgZ(5,"div",13),c.TgZ(6,"strong"),c._uU(7),c.ALo(8,"titleCase"),c.qZA(),c.qZA(),c.TgZ(9,"div",14),c._uU(10),c.ALo(11,"titleCase"),c.qZA(),c.qZA(),c.TgZ(12,"div",15),c._uU(13),c.ALo(14,"titleCase"),c.qZA(),c.TgZ(15,"div",15),c._uU(16),c.ALo(17,"titleCase"),c.qZA(),c.qZA(),c.TgZ(18,"div",16),c.TgZ(19,"div",17),c.TgZ(20,"p",18),c._uU(21),c.ALo(22,"translate"),c.qZA(),c.TgZ(23,"p"),c._uU(24),c.ALo(25,"titleCase"),c.qZA(),c.qZA(),c.TgZ(26,"div",19),c.TgZ(27,"span",20),c._UZ(28,"span",21),c.qZA(),c.TgZ(29,"p",22),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(2).openOrganogram(e.id)}),c._uU(30),c.ALo(31,"translate"),c.qZA(),c.qZA(),c.TgZ(32,"div",23),c.TgZ(33,"span",20),c._UZ(34,"span",24),c.qZA(),c.TgZ(35,"p"),c._uU(36),c.qZA(),c.qZA(),c.TgZ(37,"div",23),c.TgZ(38,"span",20),c._UZ(39,"span",25),c.qZA(),c.TgZ(40,"p"),c._uU(41),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw(2);c.xp6(3),c.Udp("background-image",o.imageService.getImage(i.id,o.images)),c.xp6(4),c.Oqu(c.lcZ(8,11,i.name)),c.xp6(3),c.Oqu(c.lcZ(11,13,i.roleDescription)),c.xp6(3),c.Oqu(c.lcZ(14,15,i.department)),c.xp6(3),c.Oqu(c.lcZ(17,17,i.city)),c.xp6(5),c.hij("",c.lcZ(22,19,"im-manager"),":"),c.xp6(3),c.Oqu(c.lcZ(25,21,i.leadName)),c.xp6(6),c.hij(" ",c.lcZ(31,23,"l-see-in-hierarchical-level")," "),c.xp6(6),c.Oqu(i.email),c.xp6(5),c.Oqu(i.telefone)}}function Be(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.YNc(1,He,42,25,"app-expansion-card",7),c.TgZ(2,"po-button",8),c.NdJ("p-click",function(){return c.CHM(n),c.oxw().showMore()}),c.ALo(3,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("ngForOf",i.employees)("ngForTrackBy",i.trackByFunction),c.xp6(1),c.s9C("p-label",c.lcZ(3,5,"l-view-more")),c.Q6J("hidden",!i.hasNext)("p-disabled",!i.hasNext)}}var je=function(){var e=function(){function e(t,n){h(this,e),this.searchService=t,this.imageService=n,this.organogramIsVisible=!1,this.images={},this.close=new c.vpe,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}return m(e,[{key:"ngOnChanges",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isVisible||!e.isVisible.currentValue){t.next=6;break}return this.page=1,t.next=4,this.getEmplyeesFind();case 4:n=t.sent,this.employees=n,this.initEventInputCollaborator();case 6:case"end":return t.stop()}},t,this)}))}},{key:"back",value:function(){this.close.emit()}},{key:"showMore",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.page++,e.next=3,this.getEmplyeesFind();case 3:e.sent.forEach(function(e){t.employees.push(e)});case 4:case"end":return e.stop()}},e,this)}))}},{key:"trackByFunction",value:function(e,t){return t?t.id:null}},{key:"openOrganogram",value:function(e){this.organogramIsVisible=!0,this.organogramComponent.initialize(e)}},{key:"closeOrganogram",value:function(){this.organogramIsVisible=!1}},{key:"initEventInputCollaborator",value:function(){var e=this;document.getElementById("input-collaborator").addEventListener("keyup",function(t){return(0,H.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=6;break}return this.page=1,e.next=4,this.getEmplyeesFind();case 4:n=e.sent,this.employees=n;case 6:case"end":return e.stop()}},e,this)}))})}},{key:"getEmplyeesFind",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.isMobile?3:6,e.next=3,this.searchService.getEmployeesFind(B.N.loggedUser,this.page,t,this.name.toString(),!0);case 3:return n=e.sent,e.abrupt("return",(this.hasNext=n.hasNext,n.items));case 5:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Ve),c.Y36(K.A))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-search-collaborator"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(Je,5),2&e)&&(c.iGM(n=c.CRH())&&(t.organogramComponent=n.first))},inputs:{isVisible:"isVisible",name:"name"},outputs:{close:"close"},features:[c.TTD],decls:5,vars:4,consts:[[4,"ngIf"],["menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"closeDialogEvent"],["pageTitle","l-locate-people",3,"backIsVisible","backFunction"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange",4,"ngIf"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","show-more",3,"hidden","p-disabled","p-label","p-click"],["card-header","",1,"mr-card-header","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],[1,"labels"],["card-body",""],[1,"manager"],[1,"float","font-bold","manager-name"],[1,"informations","organogram"],[1,"icon-email"],[1,"po-icon","ico-organogram","float"],[1,"open-organogram",3,"click"],[1,"informations"],[1,"po-icon","po-icon-mail","float"],[1,"po-icon","po-icon-telephone","float"]],template:function(e,t){1&e&&(c.YNc(0,Ge,3,2,"span",0),c.YNc(1,Be,4,7,"div",0),c.TgZ(2,"app-dialog",1),c.NdJ("closeDialogEvent",function(){return t.closeOrganogram()}),c.TgZ(3,"div",2),c.TgZ(4,"app-organogram",3),c.NdJ("closeDialogEvent",function(){return t.closeOrganogram()}),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("ngIf",t.isVisible),c.xp6(1),c.Q6J("ngIf",t.isVisible),c.xp6(1),c.Q6J("isVisible",t.organogramIsVisible)("closeDialogButtonEnable",!t.isMobile))},directives:[d.O5,Ye.a,Je,E.q,k.xxV,y.JJ,y.On,d.sg,k.bOz,ze.c],pipes:[C.X$,ge.r],styles:[".office[_ngcontent-%COMP%]{font-size:.8em;font-weight:bold;color:#9da7a9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.labels[_ngcontent-%COMP%]{margin-top:3px;color:#5e6364;font-size:13px}[_nghost-%COMP%]     .po-container{margin-top:10px!important}.manager[_ngcontent-%COMP%]{margin-top:7%;padding:0 8px;position:relative;top:5px}.ico-organogram[_ngcontent-%COMP%]{font-size:unset}.open-organogram[_ngcontent-%COMP%]{cursor:pointer}.manager-name[_ngcontent-%COMP%]{white-space:pre}.show-more[_ngcontent-%COMP%]{margin-top:4%;padding:0;margin-bottom:25px}[_nghost-%COMP%]     .po-button{height:40px}.informations[_ngcontent-%COMP%]{padding:0 8px;color:#0c9abe}.organogram[_ngcontent-%COMP%]{width:100%;clear:both;margin-top:8px}.float[_ngcontent-%COMP%]{float:left}.icon-email[_ngcontent-%COMP%]{margin-top:2px;margin-right:4px;float:left}"]}),e}(),$e=n(14833),We=function(e){return{featuredIcon:e}};function Ke(e,t){if(1&e&&c._UZ(0,"span",4),2&e){var n=c.oxw();c.Gre("card-featured-icon item-icon ",n.featuredIcon,""),c.Q6J("ngClass",c.VKq(4,We,n.featuredIcon))}}function Xe(e,t){1&e&&(c.TgZ(0,"span",5),c._UZ(1,"img",6),c.qZA())}var et=function(){var e=function(){function e(t){h(this,e),this.navigationUtil=t}return m(e,[{key:"doNavigation",value:function(e){e&&this.navigationUtil.doNavigation(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(N._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-card-featured"]],inputs:{featuredIcon:"featuredIcon",featuredLabel:"featuredLabel",featuredRoute:"featuredRoute",featuredNotification:"featuredNotification"},decls:4,vars:3,consts:[[1,"card-featured",3,"click"],[3,"class","ngClass",4,"ngIf"],["class","card-featured-clk item-icon",4,"ngIf"],[1,"card-featured-label","mouse-pointer",3,"innerHTML"],[3,"ngClass"],[1,"card-featured-clk","item-icon"],["src","assets/img/face_recog.svg",1,"card-img"]],template:function(e,t){1&e&&(c.TgZ(0,"a",0),c.NdJ("click",function(){return t.doNavigation(t.featuredRoute)}),c.YNc(1,Ke,1,6,"span",1),c.YNc(2,Xe,2,0,"span",2),c._UZ(3,"span",3),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf","/timesheet/externalClockIn"!=t.featuredRoute),c.xp6(1),c.Q6J("ngIf","/timesheet/externalClockIn"===t.featuredRoute),c.xp6(1),c.Q6J("innerHTML",t.featuredLabel,c.oJD))},directives:[d.O5,d.mk],styles:[".card-featured[_ngcontent-%COMP%]{position:relative}.card-featured-icon[_ngcontent-%COMP%]{color:#0c9abe;font-size:20px}.card-featured-clk[_ngcontent-%COMP%]{color:#0c9abe}.card-featured-notification[_ngcontent-%COMP%]{position:absolute;display:inline-block;right:0px;top:0px}.card-featured-label[_ngcontent-%COMP%]{display:block;margin-top:20px;color:#345;font-size:12px;font-weight:bold;line-height:1.1em}.card-img[_ngcontent-%COMP%]{vertical-align:unset;height:20px;width:20px}"]}),e}(),tt=function(e,t,n){return{"po-hidden-sm":e,"po-hidden-lg":t,"po-hidden-xl":n,"po-sm-4":!0,"po-md-2":!0,"po-lg-2":!0,"po-xl-2":!0}};function nt(e,t){if(1&e&&(c.TgZ(0,"div",5),c.TgZ(1,"div",6),c.TgZ(2,"app-card"),c.TgZ(3,"div",7),c._UZ(4,"app-card-featured",8),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=t.index;c.Q6J("ngClass",c.kEZ(4,tt,i>2,i>5,i>5)),c.xp6(4),c.Q6J("featuredIcon",n.featuredIcon)("featuredLabel",n.featuredLabel)("featuredRoute",n.featuredRoute)}}function it(e,t){if(1&e&&(c.TgZ(0,"div",1),c.TgZ(1,"h3",2),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",3),c.YNc(5,nt,5,8,"div",4),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-mostViewed-message")," "),c.xp6(3),c.Q6J("ngForOf",n.lastAccessedMenus)}}var ot=function(){var e=function(){function e(t,n,i,o,a){h(this,e),this.lastAccessService=t,this.appTranslateService=n,this.globals=i,this.windowUtilService=o,this.permissionSelectors=a}return m(e,[{key:"ngOnInit",value:function(){this.getLastAccess()}},{key:"getLastAccess",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:t=e.sent,this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(e){e&&(n.permissions=e,n.lastAccessedMenus=n.lastAccessService.getLastAccessMenuItems(t.id),n.delLastAccessMenus(t.id),n.setLastAccessedMenus())});case 4:case"end":return e.stop()}},e,this)}))}},{key:"setLastAccessedMenus",value:function(){var e=this;this.lastAccessedMenus.sort(function(e,t){return e.cont>t.cont?-1:e.cont<t.cont?1:0}),this.lastAccessedMenus.forEach(function(t){switch(t.id){case $e.R1:e.setCardInfo(t,"ico-sun","im-vacation","/vacation");break;case $e.w9:e.setCardInfo(t,"icon-wallet","l-payment-description","/payments");break;case $e.Mo:e.setCardInfo(t,"ico-bar-chart","l-payment-annual-receipts","/payment/annualReceipts");break;case $e.Ux:e.setCardInfo(t,"po-icon po-icon-clock","bt-clocking-register","/timesheet/clockingsGeo/register");break;case $e.SP:e.setCardInfo(t,"ico-timesheet-2","im-timesheetLong","/timesheet/clockings");break;case $e.ye:e.setCardInfo(t,"po-icon icon-sun-checked","im-vacationLong","/absence");break;case $e.jY:e.setCardInfo(t,"icon-medical-briefcase","l-request-medical-certificate","/health/medicalCertificate");break;case $e.dG:e.setCardInfo(t,"po-icon po-icon-user","l-perfil","/profile");break;case $e.iF:e.setCardInfo(t,"ico-user-plus","l-substitute-request","/substitutes");break;case $e.uB:e.setCardInfo(t,"ico-allowance","im-allowanceLong","/timesheet/allowances");break;case $e.jh:e.setCardInfo(t,"ico-map-pin","im-clocking-geo-view","/timesheet/clockingsGeo/view");break;case $e.uI:e.setCardInfo(t,"ico-map-pin","im-clockin","/timesheet/externalClockIn");break;case $e.HV:e.setCardInfo(t,"po-icon po-icon-list","l-totvs-payroll-loan-statements","/payrollLoan/loanStatements");break;case $e.cr:e.setCardInfo(t,"ico-benefits","l-dependents-beneficiaries","/benefits/dependentsBeneficiaries/dependents");break;case $e.to:e.setCardInfo(t,"ico-team","l-teamManagement","/teamManagement/overview");break;case $e.Ye:e.setCardInfo(t,"po-icon po-icon-user-delete","l-work-leaves","/workLeave");break;case $e.Pz:e.setCardInfo(t,"ico-demission","im-desmissal","/demission");break;case $e.im:e.setCardInfo(t,"po-icon po-icon-archive","l-requisitions","/requisitions");break;case $e.j8:e.setCardInfo(t,"ico-dollar-sign","im-salaryHistoryLong","/payment/salaryHistory");break;case $e.mw:e.setCardInfo(t,"ico-overtime","im-overtime-hours","/timesheet/overtimeHours");break;case $e.c5:e.setCardInfo(t,"ico-clock","l-reports","/reports")}})}},{key:"setCardInfo",value:function(e,t,n,i){e.featuredIcon=t,this.appTranslateService.getI18n(n).then(function(t){e.featuredLabel=t}),e.featuredRoute=i}},{key:"delLastAccessMenus",value:function(e){this.permissions.medicalCertificate||(localStorage.removeItem($e.jY+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.jY})),this.permissions.absenceManager||(localStorage.removeItem($e.ye+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.ye})),this.permissions.payment||(localStorage.removeItem($e.w9+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.w9})),this.permissions.annualReceipt||(localStorage.removeItem($e.Mo+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.Mo})),this.permissions.salaryHistory||(localStorage.removeItem("salaryHistoryKey"+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return"salaryHistoryKey"!==e.id})),this.permissions.teamManagementShifts||(localStorage.removeItem("teamManagementShiftsKey"+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return"teamManagementShiftsKey"!==e.id})),this.permissions.vacation||(localStorage.removeItem($e.R1+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.R1})),this.permissions.allowance||(localStorage.removeItem($e.uB+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.uB})),this.permissions.substituteRequest||(localStorage.removeItem($e.iF+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.iF})),this.permissions.clockingGeoView||(localStorage.removeItem($e.jh+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.jh})),this.permissions.clockingRegister||(localStorage.removeItem($e.Ux+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.Ux})),this.permissions.timesheet||(localStorage.removeItem($e.SP+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.SP})),(!this.windowUtilService.isWebView()||!this.permissions.externalClockIn)&&(localStorage.removeItem($e.uI+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.uI})),!this.permissions.dependents&&!this.permissions.beneficiaries&&(localStorage.removeItem($e.cr+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.cr})),!this.permissions.dependents&&!this.permissions.teamManagement&&(localStorage.removeItem($e.to+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.to})),!this.permissions.dependents&&!this.permissions.demission&&(localStorage.removeItem($e.Pz+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.Pz})),!this.permissions.dependents&&!this.permissions.workLeave&&(localStorage.removeItem($e.Ye+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.Ye})),this.permissions.requisitions||(localStorage.removeItem($e.im+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.im})),this.permissions.salaryHistory||(localStorage.removeItem($e.j8+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.j8})),this.permissions.overtime||(localStorage.removeItem($e.mw+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.mw})),this.permissions.reports||(localStorage.removeItem($e.c5+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.c5})),this.permissions.payrollLoan||(localStorage.removeItem($e.HV+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.HV})),this.permissions.profile||(localStorage.removeItem($e.dG+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(function(e){return e.id!==$e.dG}))}},{key:"ngOnDestroy",value:function(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36($e.Lx),c.Y36(le.g),c.Y36(ke.O),c.Y36(ue.g),c.Y36(qe.eL))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-last-menu-access"]],decls:1,vars:1,consts:[["class","po-holder",4,"ngIf"],[1,"po-holder"],[1,"po-font-subtitle","most-access-label"],[1,"po-row"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card"],["card-body","",1,"card-height"],[3,"featuredIcon","featuredLabel","featuredRoute"]],template:function(e,t){1&e&&c.YNc(0,it,6,4,"div",0),2&e&&c.Q6J("ngIf",(null==t.lastAccessedMenus?null:t.lastAccessedMenus.length)>0)},directives:[d.O5,d.sg,d.mk,U.A,et],pipes:[C.X$],styles:["@media screen and (min-width: 960px){div[class^=po-sm][_ngcontent-%COMP%]:first-child{padding-left:0}div[class^=po-sm][_ngcontent-%COMP%]:last-child{padding-right:0}}.card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1}.card-height[_ngcontent-%COMP%]{height:85px}@media screen and (min-width: 768px){.card-height[_ngcontent-%COMP%]{height:65px}}.most-access-label[_ngcontent-%COMP%]{font-size:20px;margin-left:0;font-weight:bold}.po-holder[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]     div.card-well{box-shadow:none}[_nghost-%COMP%]     a.card-featured-label{margin-top:14px!important}"]}),e}(),at=n(85647),rt=n(33490),st=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"transform",value:function(e){switch(e){case"empty":return"l-vacation-empty-status";case"approving":return"l-vacation-status-approving";case"approved":return"l-vacation-status-approved";case"rejected":return"l-rejected";case"vacation":return"l-vacation-status-vacation";case"calculated":return"l-vacation-status-calculated";case"closed":return"l-vacation-status-closed"}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Yjl({name:"absenceLabelStatus",type:e,pure:!0}),e}(),ct=n(32268);function lt(e,t){if(1&e&&(c.TgZ(0,"li",8),c.TgZ(1,"div",9),c._UZ(2,"div",10),c.TgZ(3,"span",11),c._uU(4),c.ALo(5,"titlecase"),c.qZA(),c.qZA(),c.TgZ(6,"div",12),c.TgZ(7,"span"),c._uU(8),c.ALo(9,"translate"),c.ALo(10,"absenceLabelStatus"),c.qZA(),c.qZA(),c.TgZ(11,"div",13),c.TgZ(12,"span"),c._uU(13),c.ALo(14,"utcDate"),c.ALo(15,"utcDate"),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=c.oxw(2);c.xp6(2),c.Udp("background-image",i.images[n.employeeId]),c.xp6(2),c.Oqu(c.lcZ(5,6,i.names[n.employeeId])),c.xp6(4),c.Oqu(c.lcZ(9,8,c.lcZ(10,10,n.status))),c.xp6(5),c.AsE("",c.xi3(14,12,n.initVacation,"dd/MM")," - ",c.xi3(15,15,n.endVacation,"dd/MM"),"")}}function ut(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-card",1),c.TgZ(1,"div",2),c.TgZ(2,"h3",3),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"ul"),c.YNc(7,lt,16,18,"li",5),c.qZA(),c.qZA(),c.TgZ(8,"div",6),c.TgZ(9,"a",7),c.NdJ("click",function(){return c.CHM(n),c.oxw().doNavigation("absence")}),c._uU(10),c.ALo(11,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(3),c.Oqu(c.lcZ(4,3,"l-vacation-team")),c.xp6(4),c.Q6J("ngForOf",i.absencesHomeView.records),c.xp6(3),c.Oqu(c.lcZ(11,5,"l-view-more"))}}var pt=function(){var e=function(){function e(t,n,i,o){h(this,e),this.profileService=t,this.navigationUtil=n,this.absenceService=i,this.sanitization=o,this.updateView="",this.images={},this.names={},this.absencesHomeView=new rt.i([]),this.hasVacationTeamInfo=!1,this.pageSize=3,this.page=1}return m(e,[{key:"ngOnInit",value:function(){this.getVacationTeamInfo(null,this.pageSize)}},{key:"ngOnChanges",value:function(e){e.updateView.previousValue&&this.getVacationTeamInfo(null,this.pageSize)}},{key:"getVacationTeamInfo",value:function(e,t){var n=this,i=new Date;Oe.ZP.isErpRM()||this.absenceService.getHomeAbsences(Te.N.loggedUser,i,e,t).then(function(e){n.absencesHomeView&&(n.absencesHomeView.records=e.records.sort(function(e,t){return new Date(e.initVacation).getTime()-new Date(t.initVacation).getTime()}),n.absencesHomeView.records.forEach(function(e){n.getImageAvatar(e.employeeId),n.names[e.employeeId]=n.getFirstName(e.employeeName)}))})}},{key:"doNavigation",value:function(e){e&&this.navigationUtil.doNavigation(e)}},{key:"getImageAvatar",value:function(e){var t=this;this.images[e]||(this.images[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(function(n){n&&n.content&&(t.images[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))}))}},{key:"getFirstName",value:function(e){return e?e.split(" ")[0]:""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(ee.H),c.Y36(N._),c.Y36(at.D),c.Y36(r.H7))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-team-vacation"]],inputs:{updateView:"updateView"},features:[c.TTD],decls:1,vars:1,consts:[["cssClass","view-vacation",4,"ngIf"],["cssClass","view-vacation"],["card-header","",1,"mr-card-header"],[1,"teste","po-font-subtitle"],["card-body",""],["class","vacation-table",4,"ngFor","ngForOf"],["card-footer","",1,"text-right"],[1,"mouse-pointer","view-more",3,"click"],[1,"vacation-table"],[1,"vacation-avatar"],[1,"avatar","avatar-small"],[1,"avatar-name"],[1,"vacation-status"],[1,"vacation-date"]],template:function(e,t){1&e&&c.YNc(0,ut,12,7,"app-card",0),2&e&&c.Q6J("ngIf",t.absencesHomeView.records.length>0)},directives:[d.O5,U.A,d.sg],pipes:[C.X$,d.rS,st,ct.$],styles:['.vacation-avatar[_ngcontent-%COMP%]{grid-area:vacation-avatar;display:flex;align-items:center}.vacation-avatar[_ngcontent-%COMP%]   .avatar-small[_ngcontent-%COMP%]{display:inline-block}.vacation-status[_ngcontent-%COMP%]{grid-area:vacation-status;font-size:13px;line-height:17px}@media screen and (max-width: 480px){.vacation-status[_ngcontent-%COMP%]{font-size:12px}}.vacation-date[_ngcontent-%COMP%]{grid-area:vacation-date}@media screen and (max-width: 480px){.vacation-date[_ngcontent-%COMP%]{font-size:.85rem}}.vacation-status[_ngcontent-%COMP%], .vacation-date[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.vacation-table[_ngcontent-%COMP%]{display:grid;justify-content:center;padding:8px 0;border-bottom:1px solid rgba(70,70,70,.1)}@media screen and (max-width: 480px){.vacation-table[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;grid-template-rows:auto;grid-template-areas:"vacation-avatar vacation-avatar vacation-status" "vacation-avatar vacation-avatar vacation-date"}}@media screen and (min-width: 480px){.vacation-table[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;grid-template-areas:"vacation-avatar vacation-status vacation-date"}}.vacation-table[_ngcontent-%COMP%]:first-child{padding-top:0}.avatar-name[_ngcontent-%COMP%]{display:inline-block;color:#4a5c60;font-weight:700;margin-left:8px}.view-more[_ngcontent-%COMP%]{color:#0c9abe}.po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 15px}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;font-weight:700;color:#345;font-size:20px;text-align:left}']}),e}(),dt=n(90889);function gt(e,t){1&e&&(c.TgZ(0,"div",6),c._UZ(1,"po-loading-icon",7),c.qZA())}function ht(e,t){if(1&e&&(c.TgZ(0,"strong",12),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.lcZ(2,1,(null==n.balanceSummary?null:n.balanceSummary.next)>0?"l-positive-time":0==(null==n.balanceSummary?null:n.balanceSummary.next)?"":"l-negative-time")," ")}}function ft(e,t){if(1&e&&(c.TgZ(0,"div",8),c.TgZ(1,"div",9),c.TgZ(2,"div",10),c._uU(3),c.qZA(),c.YNc(4,ht,3,3,"strong",11),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(3),c.Oqu(n.employeeCompensatoryTime),c.xp6(1),c.Q6J("ngIf",n.employeeCompensatoryTime)}}var mt=function(){var e=function(){function e(t,n){h(this,e),this.clockingService=t,this.dashboardService=n,this.updateView="",this.initPeriod=null,this.endPeriod=null,this.employeeCompensatoryTime="",this.loading=!0}return m(e,[{key:"ngOnInit",value:function(){this.getCompensatoryTime()}},{key:"ngOnChanges",value:function(e){e.updateView.previousValue&&this.getCompensatoryTime()}},{key:"getCompensatoryTime",value:function(){var e=this;this.clockingService.getBalanceSummaries(B.N.loggedUser,this.initPeriod,this.endPeriod).then(function(t){t&&(e.balanceSummary=t,e.concatPositiveSymbol(t.next)&&(e.employeeCompensatoryTime=e.concatPositiveSymbol(t.next))),e.loading=!1})}},{key:"concatPositiveSymbol",value:function(e){var t=$.Em.getHoursByMilliseconds(e,!1);return e>0?"+".concat(t):t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(dt.X),c.Y36(Le))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-compensatory-time"]],inputs:{updateView:"updateView"},features:[c.TTD],decls:8,vars:5,consts:[["cssClass","view-pending-hours"],["card-header","",1,"mr-card-header"],[1,"po-font-subtitle"],["card-body",""],["classe","card-balance-summary po-row loading-wrapper",4,"ngIf"],["class","card-balance-summary po-row",4,"ngIf"],["classe","card-balance-summary po-row loading-wrapper"],[1,"loading"],[1,"card-balance-summary","po-row"],[1,"text-center","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"hour-time"],["class","hour-balance",4,"ngIf"],[1,"hour-balance"]],template:function(e,t){1&e&&(c.TgZ(0,"app-card",0),c.TgZ(1,"div",1),c.TgZ(2,"h3",2),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA(),c.TgZ(5,"div",3),c.YNc(6,gt,2,0,"div",4),c.YNc(7,ft,5,2,"div",5),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Oqu(c.lcZ(4,3,"l-your-balance")),c.xp6(3),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",!t.loading))},directives:[U.A,d.O5,k.AR0],pipes:[C.X$],styles:[".po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 15px}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;font-weight:700;color:#345;font-size:20px;text-align:left}.hour-time[_ngcontent-%COMP%]{color:#345;font-size:34px;font-weight:700;text-align:center}.hour-balance[_ngcontent-%COMP%]{opacity:.5;color:#4a5c60;font-size:12px;font-weight:300;line-height:15px;text-align:left}.loading-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2px 4px}.loading-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{height:16px;width:16px}"]}),e}();function vt(e,t){if(1&e&&(c.TgZ(0,"a",4),c._UZ(1,"po-loading-icon",5),c.qZA()),2&e){var n=c.oxw();c.Q6J("routerLink",n.urlData)}}function bt(e,t){if(1&e&&(c.TgZ(0,"a",6),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.ekj("empty",0==n.notifyCount),c.Q6J("routerLink",n.urlData),c.xp6(1),c.hij(" ",n.formatCount()," ")}}function xt(e,t){if(1&e&&(c.TgZ(0,"a",7),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){var n=c.oxw();c.Q6J("routerLink",n.urlData),c.xp6(1),c.hij(" ",c.lcZ(2,2,n.label),"\n")}}var yt=function(){var e=function(){function e(t){h(this,e),this.navigationSerivce=t,this.notifyCount=0,this.urlData="",this.isActive=!1,this.loading=!1,this.maxNumber=99}return m(e,[{key:"onNotificationClicked",value:function(e){this.navigationSerivce.doNavigation(e)}},{key:"formatCount",value:function(){if(null==this.notifyCount)return"";var e=this.notifyCount.toString();return this.notifyCount>this.maxNumber&&(e="".concat(this.maxNumber,"+")),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(N._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-notification"]],inputs:{notifyCount:"notifyCount",urlData:"urlData",isActive:"isActive",loading:"loading",maxNumber:"maxNumber",label:"label"},decls:4,vars:3,consts:[[1,"app-notification"],["class","mouse-pointer loading-wrapper",3,"routerLink",4,"ngIf"],["class","mouse-pointer notify","id","alert-notify-button",3,"empty","routerLink",4,"ngIf"],["class","label",3,"routerLink",4,"ngIf"],[1,"mouse-pointer","loading-wrapper",3,"routerLink"],[1,"loading"],["id","alert-notify-button",1,"mouse-pointer","notify",3,"routerLink"],[1,"label",3,"routerLink"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,vt,2,1,"a",1),c.YNc(2,bt,2,4,"a",2),c.qZA(),c.YNc(3,xt,3,4,"a",3)),2&e&&(c.xp6(1),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",!t.loading),c.xp6(1),c.Q6J("ngIf",!t.loading))},directives:[d.O5,D.yS,k.AR0],pipes:[C.X$],styles:['.app-notification[_ngcontent-%COMP%]{display:block}#alert-notify-button[_ngcontent-%COMP%]{z-index:200}.notify[_ngcontent-%COMP%]{background:#c64840;color:#fff;padding:2px 6.408px;font-size:12px;font-weight:normal;line-height:12px;text-align:center;border-radius:99px}.notify[_ngcontent-%COMP%]:hover, .notify[_ngcontent-%COMP%]:focus{text-decoration:none!important}.notify.empty[_ngcontent-%COMP%]{background:#00b28e}.loading-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2px 4px}.loading-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{height:16px;width:16px}.label[_ngcontent-%COMP%]{font-size:12px;font-weight:300;line-height:15px;text-align:left;font-family:"NunitoSans-bold";font-weight:400;color:#345}.label[_ngcontent-%COMP%]:hover{text-decoration:none;cursor:pointer}']}),e}(),wt=n(81059);function Zt(e,t){1&e&&(c.TgZ(0,"div",5),c.TgZ(1,"h3",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,1,"l-team-balance")))}function Ct(e,t){1&e&&(c.TgZ(0,"div",7),c._UZ(1,"po-loading-icon",8),c.qZA())}function Mt(e,t){if(1&e&&(c.TgZ(0,"div",9),c.TgZ(1,"div",10),c.TgZ(2,"div",11),c._uU(3),c.qZA(),c.TgZ(4,"strong",12),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.qZA(),c.TgZ(7,"div",10),c.TgZ(8,"div",11),c._uU(9),c.qZA(),c.TgZ(10,"strong",12),c._uU(11),c.ALo(12,"translate"),c.qZA(),c.qZA(),c.TgZ(13,"div",10),c.TgZ(14,"div",11),c._uU(15),c.qZA(),c.TgZ(16,"strong",12),c._uU(17),c.ALo(18,"translate"),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Q6J("ngClass",n.getClassHour(n.totalExtraHoursNumber)),c.xp6(1),c.hij(" ",n.totalExtraHours," "),c.xp6(2),c.Oqu(c.lcZ(6,9,"l-positive-time")),c.xp6(3),c.Q6J("ngClass",n.getClassHour(-n.totalNegativeHoursNumber)),c.xp6(1),c.hij(" ",n.totalNegativeHours," "),c.xp6(2),c.Oqu(c.lcZ(12,11,"l-negative-time")),c.xp6(3),c.Q6J("ngClass",n.getClassHour(n.totalBalanceHoursNumber)),c.xp6(1),c.hij(" ",n.totalBalanceHours," "),c.xp6(2),c.Oqu(c.lcZ(18,13,"l-balance-time"))}}var kt=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o){var a;return h(this,n),(a=t.call(this)).dashboardService=e,a.clockingService=i,a.navigationUtil=o,a.updateView="",a.hideTitle=!1,a.loading=!0,a}return m(n,[{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.getCompensatoryTime()}},{key:"ngOnChanges",value:function(e){e.updateView&&e.updateView.previousValue&&this.getCompensatoryTime()}},{key:"getCompensatoryTime",value:function(){var e=this;this.clockingService.getTeamBalanceSummaries(B.N.loggedUser).then(function(t){t?(e.totalExtraHours=e.concatSymbol(t.totalExtraHours),e.totalNegativeHours=e.concatSymbol(t.totalNegativeHours,!1),e.totalExtraHoursNumber=t.totalExtraHours,e.totalNegativeHoursNumber=t.totalNegativeHours,e.totalBalanceHoursNumber=e.totalExtraHoursNumber-e.totalNegativeHoursNumber,e.totalBalanceHours=e.concatSymbol(e.totalBalanceHoursNumber,e.totalBalanceHoursNumber>0)):(e.totalExtraHours=void 0,e.totalNegativeHours=void 0,e.totalBalanceHours=void 0,e.totalExtraHoursNumber=void 0,e.totalNegativeHoursNumber=void 0,e.totalBalanceHoursNumber=void 0),e.loading=!1})}},{key:"doNavigation",value:function(e){this.hideTitle||this.navigationUtil.doNavigation(e)}},{key:"concatSymbol",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$.Em.getHoursByMilliseconds(e,!1);return e>0?(t?"+":"-")+n:n}},{key:"getClassHour",value:function(e){var t=this.viewIsMobile?"balance balance-mobile":"balance";return e>0&&(t=this.viewIsMobile?"balance-positive balance-mobile":"balance-positive"),e<0&&(t=this.viewIsMobile?"balance-negative balance-mobile":"balance-negative"),t}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(Le),c.Y36(dt.X),c.Y36(N._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-comp-team"]],inputs:{updateView:"updateView",hideTitle:"hideTitle"},features:[c.qOj,c.TTD],decls:5,vars:3,consts:[["cssClass","view-pending-hours",3,"click"],["class","mr-card-header","card-header","",4,"ngIf"],["card-body",""],["class","card-balance-summary po-row loading-wrapper",4,"ngIf"],["class","card-balance-summary po-row",4,"ngIf"],["card-header","",1,"mr-card-header"],[1,"po-font-subtitle"],[1,"card-balance-summary","po-row","loading-wrapper"],[1,"loading"],[1,"card-balance-summary","po-row"],[1,"text-center","po-sm-4","po-md-4","po-lg-4","po-xl-4"],[1,"hour-time",3,"ngClass"],[1,"label-balance"]],template:function(e,t){1&e&&(c.TgZ(0,"app-card",0),c.NdJ("click",function(){return t.doNavigation("teamBalance")}),c.YNc(1,Zt,4,3,"div",1),c.TgZ(2,"div",2),c.YNc(3,Ct,2,0,"div",3),c.YNc(4,Mt,19,15,"div",4),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",!t.hideTitle),c.xp6(2),c.Q6J("ngIf",t.loading),c.xp6(1),c.Q6J("ngIf",!t.loading))},directives:[U.A,d.O5,k.AR0,d.mk],pipes:[C.X$],styles:[".po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 15px}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;font-weight:700;color:#345;font-size:20px;text-align:left}.hour-time[_ngcontent-%COMP%]{color:#345;font-size:20px;font-weight:700;text-align:center}.hour-balance[_ngcontent-%COMP%]{opacity:.5;color:#4a5c60;font-size:12px;font-weight:500;line-height:15px;text-align:left}.balance-negative[_ngcontent-%COMP%]{color:#d13f43}@media screen and (min-width: 960px){.balance-negative[_ngcontent-%COMP%]{font-size:28px}}.balance-positive[_ngcontent-%COMP%]{color:#00b28e}@media screen and (min-width: 960px){.balance-positive[_ngcontent-%COMP%]{font-size:28px}}@media screen and (min-width: 960px){.balance[_ngcontent-%COMP%]{font-size:28px}}.balance-mobile[_ngcontent-%COMP%]{font-size:20px}.label-balance[_ngcontent-%COMP%]{text-align:left;font-size:12px;line-height:15px}.label-balance-team[_ngcontent-%COMP%]{text-align:left;font-size:12px;line-height:15px;font-size:14px}.view-pending-hours[_ngcontent-%COMP%]{cursor:pointer}.loading-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2px 4px}.loading-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{height:16px;width:16px}"]}),e}(),At=function(){var e=function(){function e(t){h(this,e),this.globals=t,this.closeModal=new c.vpe,this.dontShowBlastAdvertisingAgain=!1}return m(e,[{key:"openModal",value:function(){window.open("https://www.totvs.com/desenvolvimento-e-engajamento-by-blast/?utm_campaign=app-meu-rh-banner&utm_source=app-meu-rh&utm_medium=organico&utm_term=NA_rh&utm_content=trafego_NA_estatico_rh_app-meu-rh_300x50_mobile_app-meu-rh-banner","_blank")}},{key:"close",value:function(){this.dontShowBlastAdvertisingAgain&&this.globals.setFlagShowBlastAdvertising("false"),this.closeModal.emit(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(ke.O))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-modal-blast"]],outputs:{closeModal:"closeModal"},decls:36,vars:22,consts:[[1,"modal"],[1,"modal-content"],[1,"modal-body"],[1,"close",3,"click"],[1,"po-icon","po-icon-close","close-icon"],[1,"blast-description"],[1,"blast-free-trial"],[1,"blast-free-trial-pt1"],[1,"blast-free-trial-pt2"],[1,"btn-i-want",3,"click"],[1,"align-checkbox"],["type","checkbox","name","dontShow",3,"ngModel","ngModelChange"],["for","dontShow",1,"blast-dont-show-again"],[1,"modal-footer-blast"],[1,"po-row"],[1,"po-xl-8","po-lg-8","po-md-8","po-sm-12"],[1,"footer-align-text"],[1,"slogan-blast"],[1,"solution-totvs"],[1,"text-center","po-xl-4","po-lg-4","po-md-4","po-sm-12"],["src","assets/img/logo-totvs.png","id","img01",1,"logo-totvs-position"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.NdJ("click",function(){return t.close()}),c._UZ(4,"span",4),c.qZA(),c.TgZ(5,"p",5),c._uU(6),c.ALo(7,"translate"),c.qZA(),c.TgZ(8,"div",6),c.TgZ(9,"p",7),c._uU(10),c.ALo(11,"translate"),c.qZA(),c.TgZ(12,"p",8),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.TgZ(15,"button",9),c.NdJ("click",function(){return t.openModal()}),c._uU(16),c.ALo(17,"translate"),c.qZA(),c.TgZ(18,"div",10),c.TgZ(19,"input",11),c.NdJ("ngModelChange",function(e){return t.dontShowBlastAdvertisingAgain=e}),c.qZA(),c.TgZ(20,"label",12),c._uU(21),c.ALo(22,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",13),c.TgZ(24,"div",14),c.TgZ(25,"div",15),c.TgZ(26,"div",16),c.TgZ(27,"span",17),c._uU(28),c.ALo(29,"translate"),c.qZA(),c._UZ(30,"br"),c.TgZ(31,"span",18),c._uU(32),c.ALo(33,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(34,"div",19),c._UZ(35,"img",20),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(6),c.Oqu(c.lcZ(7,8,"l-blast-description")),c.xp6(4),c.Oqu(c.lcZ(11,10,"l-free-trial-blast-pt1")),c.xp6(3),c.Oqu(c.lcZ(14,12,"l-free-trial-blast-pt2")),c.xp6(3),c.Oqu(c.lcZ(17,14,"l-i-want")),c.xp6(3),c.Q6J("ngModel",t.dontShowBlastAdvertisingAgain),c.xp6(2),c.Oqu(c.lcZ(22,16,"l-dont-show-again")),c.xp6(7),c.hij(" ",c.lcZ(29,18,"l-slogan-blast"),""),c.xp6(4),c.Oqu(c.lcZ(33,20,"l-solution-totvs")))},directives:[y.Wl,y.JJ,y.On],pipes:[C.X$],styles:['.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1001;padding-top:12em;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto;padding:0;width:80%;height:70%;box-shadow:0 4px 8px rgba(0,0,0,.2),0 6px 20px rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s;max-width:700px}.modal-footer-blast[_ngcontent-%COMP%]{background-color:#363636;color:#fff;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.modal-body[_ngcontent-%COMP%]{background-image:url(blast-advertising.de1f1c2620e734dc278b.png);background-size:cover}.blast-description[_ngcontent-%COMP%]{font-family:"Lato Black";font-size:26px;color:#fff;padding-top:1em;padding-left:2em;padding-right:9.6em}.blast-free-trial[_ngcontent-%COMP%]{font-family:"Lato Black";color:#fff;line-height:.3;padding-top:1em;padding-left:4.5em;padding-bottom:1em}.blast-free-trial-pt1[_ngcontent-%COMP%]{font-size:26px}.blast-free-trial-pt2[_ngcontent-%COMP%]{font-size:22px}.blast-dont-show-again[_ngcontent-%COMP%]{font-family:"Lato Regular";font-size:14px;color:#fff;padding-left:.5em}.align-checkbox[_ngcontent-%COMP%]{padding-top:1.2em;padding-left:3.5em}.close-icon[_ngcontent-%COMP%]{font-size:29px;color:#fff;float:right;padding-top:.2em}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#fff;text-decoration:none;cursor:pointer}.btn-i-want[_ngcontent-%COMP%]{background-color:#ee9d2d;border:none;color:#fff;padding:15px 32px;text-align:center;font-size:20px;width:12em;border-radius:30px;cursor:pointer;text-transform:uppercase;font-family:"Lato Black";margin-left:2.5em}.slogan-blast[_ngcontent-%COMP%]{font-family:"Lato Black";color:#ee9d2d;padding-left:3.5em}.solution-totvs[_ngcontent-%COMP%]{font-family:"Lato Regular";color:#fff;padding-left:3.5em}.center-text-free-trial[_ngcontent-%COMP%]{text-align:center}.footer-align-text[_ngcontent-%COMP%]{padding-top:2em;padding-bottom:2em;line-height:1.2}.logo-totvs-position[_ngcontent-%COMP%]{float:right;padding-right:3em;padding-top:2.5em}@media only screen and (max-device-width: 900px){.blast-description[_ngcontent-%COMP%]{font-size:21px;padding-left:0;padding-right:0}.blast-free-trial[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-top:.5em}.blast-free-trial-pt1[_ngcontent-%COMP%]{font-size:16px}.blast-free-trial-pt2[_ngcontent-%COMP%]{font-size:12px}.modal[_ngcontent-%COMP%]{padding-top:2em}.btn-i-want[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding:10px;font-size:22px}.slogan-blast[_ngcontent-%COMP%]{padding-left:0}.solution-totvs[_ngcontent-%COMP%]{padding-left:0}.center-text-free-trial[_ngcontent-%COMP%]{text-align:center}.footer-align-text[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em;line-height:1.2;text-align:center}.logo-totvs-position[_ngcontent-%COMP%]{padding-right:0;padding-top:2em;padding-bottom:2em;text-align:center;float:none}}@media screen and (device-width: 1366px) and (device-height: 768px){.modal[_ngcontent-%COMP%]{padding-top:8em}}']}),e}();function Pt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-input",13),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().name=e})("p-change-model",function(){return c.CHM(n),c.oxw().initEventInputCollaborator()}),c.ALo(1,"translate"),c.qZA()}if(2&e){var i=c.oxw();c.s9C("p-placeholder",c.lcZ(1,2,"l-search-collaborator")),c.Q6J("ngModel",i.name)}}var Ot=function(){return{"background-image":"url(./assets/img/wallet.png)"}};function qt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",25),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).doNavigation("payrollLoan/explanatory")}),c.TgZ(1,"div",26),c._UZ(2,"span",27),c.qZA(),c.TgZ(3,"div",23),c.TgZ(4,"div"),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(1),c.Q6J("ngStyle",c.DdM(4,Ot)),c.xp6(4),c.hij(" ",c.lcZ(6,2,"l-how-to-totvs-consignado")," "))}var Tt=function(){return{"background-image":"url(./assets/img/art-blur-bright-749386@2x.png)"}};function _t(e,t){1&e&&(c.TgZ(0,"div",21),c._UZ(1,"span",31),c.qZA()),2&e&&c.Q6J("ngStyle",c.DdM(1,Tt))}function St(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"l-year")))}function It(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"l-years")))}function Dt(e,t){if(1&e&&(c.TgZ(0,"div",23),c.TgZ(1,"div"),c._uU(2),c.ALo(3,"translate"),c.YNc(4,St,3,3,"span",32),c.YNc(5,It,3,3,"span",32),c._uU(6),c.ALo(7,"translate"),c.qZA(),c.qZA()),2&e){var n=c.oxw(3);c.xp6(2),c.AsE(" ",c.lcZ(3,5,"l-birthday-available-a")," ",n.numberOfYearsWorking," "),c.xp6(2),c.Q6J("ngIf",1==n.numberOfYearsWorking),c.xp6(1),c.Q6J("ngIf",1!=n.numberOfYearsWorking),c.xp6(1),c.hij(" ",c.lcZ(7,7,"l-birthday-available-b")," ")}}function Lt(e,t){if(1&e&&(c.TgZ(0,"a",28),c.YNc(1,_t,2,2,"div",29),c.YNc(2,Dt,8,9,"div",30),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("ngIf",n.dashboardEmployeeBirthdayAllowed),c.xp6(1),c.Q6J("ngIf",n.dashboardEmployeeBirthdayAllowed)}}var Rt=function(e){return{"z-index":e}};function Nt(e,t){if(1&e&&(c.TgZ(0,"div",37),c._UZ(1,"div",38),c.qZA()),2&e){var n=t.$implicit;c.Q6J("ngStyle",c.VKq(3,Rt,2-t.index)),c.xp6(1),c.Udp("background-image",n.avatarImage)}}function Et(e,t){if(1&e&&(c.TgZ(0,"div",35),c.YNc(1,Nt,2,5,"div",36),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",n.employeesBirthday)}}function Ut(e,t){if(1&e&&(c.TgZ(0,"div",39),c.TgZ(1,"span"),c._uU(2),c.ALo(3,"translate"),c.qZA(),c._uU(4),c.ALo(5,"translate"),c.qZA()),2&e){var n=c.oxw(3);c.xp6(2),c.lnq("",n.birthdayPersonShortName," ",c.lcZ(3,4,"l-and-birthday-message")," ",n.totalBirthdaysMonth," "),c.xp6(2),c.hij(" ",c.lcZ(5,6,"l-birthday-message")," ")}}function Ft(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"span"),c._uU(2),c.qZA(),c._uU(3),c.ALo(4,"translate"),c.qZA()),2&e){var n=c.oxw(3);c.xp6(2),c.Oqu(n.birthdayPersonShortName),c.xp6(1),c.hij(" ",c.lcZ(4,2,"l-single-birthday-message")," ")}}var Jt=function(){return{"background-image":"url(./assets/img/baked-birthday-cake-blurred-background-1793037@2x.png)"}};function Vt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",25),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).doNavigation("birthdates")}),c.TgZ(1,"div",21),c._UZ(2,"span",31),c.YNc(3,Et,2,1,"div",33),c.qZA(),c.TgZ(4,"div",23),c.YNc(5,Ut,6,8,"div",34),c.YNc(6,Ft,5,4,"div",32),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(1),c.Q6J("ngStyle",c.DdM(4,Jt)),c.xp6(2),c.Q6J("ngIf",null!=i.employeesBirthday&&0!=i.employeesBirthday.length),c.xp6(2),c.Q6J("ngIf",i.totalBirthdaysMonth>0),c.xp6(1),c.Q6J("ngIf",0==i.totalBirthdaysMonth)}}var Yt=function(){return{"background-image":"url(./assets/img/aircraft-airplane-airplane-wing-2147486@2x.png)"}};function zt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",40),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).doNavigation("vacation")}),c.TgZ(1,"div",21),c._UZ(2,"span",41),c.qZA(),c.TgZ(3,"div",23),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(1),c.Q6J("ngStyle",c.DdM(4,Yt)),c.xp6(3),c.hij(" ",i.daysTillVacation+" "+c.lcZ(5,2,"l-vacation-available")," ")}}var Qt=function(){return{"background-image":"url(./assets/img/bank-notes-banknotes-brazilian-currency-459812.png)"}};function Gt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",25),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).doNavigation("payments")}),c.TgZ(1,"div",21),c._UZ(2,"span",27),c.qZA(),c.TgZ(3,"div",23),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA()}2&e&&(c.xp6(1),c.Q6J("ngStyle",c.DdM(4,Qt)),c.xp6(3),c.hij(" ",c.lcZ(5,2,"l-payment-availble")," "))}var Ht=function(){return{"background-image":"url(./assets/img/card-blast.png)"}};function Bt(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",42),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).showBlastModal()}),c._UZ(1,"div",21),c.TgZ(2,"div",43),c._uU(3),c.ALo(4,"translate"),c._UZ(5,"br"),c.TgZ(6,"span",44),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(1),c.Q6J("ngStyle",c.DdM(7,Ht)),c.xp6(2),c.hij(" ",c.lcZ(4,3,"l-card-blast-dashboard")," "),c.xp6(4),c.Oqu(c.lcZ(8,5,"l-card-blast-dashboard-free-trial")))}var jt=function(){return{"background-image":"url(./assets/img/francesco-de-tommaso-1283475-unsplash@2x.png)"}};function $t(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",5),c.TgZ(1,"h3",14),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",15),c.TgZ(5,"div",16),c.YNc(6,qt,7,5,"a",17),c.YNc(7,Lt,3,2,"a",18),c.YNc(8,Vt,7,5,"a",17),c.YNc(9,zt,6,5,"a",19),c.YNc(10,Gt,6,5,"a",17),c.TgZ(11,"a",20),c.NdJ("click",function(){return c.CHM(n),c.oxw().doNavigation("payment/annualReceipts")}),c.TgZ(12,"div",21),c._UZ(13,"i",22),c.qZA(),c.TgZ(14,"div",23),c._uU(15),c.ALo(16,"translate"),c.qZA(),c.qZA(),c.YNc(17,Bt,9,8,"a",24),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,10,"l-envents-message")," "),c.xp6(4),c.Q6J("ngIf",i.payrollLoanIsAllowed),c.xp6(1),c.Q6J("ngIf",i.isEmployeeBirthday&&i.dashboardEmployeeBirthdayAllowed),c.xp6(1),c.Q6J("ngIf",i.hasBirthdaysCard&&i.dashboardBirthdaysAllowed),c.xp6(1),c.Q6J("ngIf",i.hasVacationsCard&&i.dashboardVacationCountdownAllowed),c.xp6(1),c.Q6J("ngIf",i.isPaymentAvailable&&i.dashboardPaymentAllowed),c.xp6(1),c.Q6J("hidden",!0),c.xp6(1),c.Q6J("ngStyle",c.DdM(14,jt)),c.xp6(3),c.hij(" ",c.lcZ(16,12,"l-incoming")," "),c.xp6(2),c.Q6J("ngIf",i.showBlastCard)}}function Wt(e,t){if(1&e&&c._UZ(0,"app-team-vacation",45),2&e){var n=c.oxw();c.s9C("updateView",n.updateDashboardView)}}function Kt(e,t){if(1&e&&c._UZ(0,"app-compensatory-time",45),2&e){var n=c.oxw();c.s9C("updateView",n.updateDashboardView)}}function Xt(e,t){if(1&e&&(c.TgZ(0,"div",52),c._UZ(1,"app-notification",53),c.qZA()),2&e){var n=c.oxw().ngIf,i=c.oxw(2);c.Q6J("ngClass",i.classNotification),c.xp6(1),c.Q6J("notifyCount",i.notifications.vacation.numOfItems)("isActive",!1)("loading",n.loading)}}function en(e,t){if(1&e&&(c.TgZ(0,"div",52),c._UZ(1,"app-notification",54),c.qZA()),2&e){var n=c.oxw().ngIf,i=c.oxw(2);c.Q6J("ngClass",i.classNotification),c.xp6(1),c.Q6J("notifyCount",i.notifications.clockin.numOfItems)("isActive",!1)("loading",n.loading)}}function tn(e,t){if(1&e&&(c.TgZ(0,"div",52),c._UZ(1,"app-notification",55),c.qZA()),2&e){var n=c.oxw().ngIf,i=c.oxw(2);c.Q6J("ngClass",i.classNotification),c.xp6(1),c.Q6J("notifyCount",i.notifications.allowance.numOfItems)("isActive",!1)("loading",n.loading)}}function nn(e,t){if(1&e&&(c.TgZ(0,"div",52),c._UZ(1,"app-notification",56),c.qZA()),2&e){var n=c.oxw().ngIf,i=c.oxw(2);c.Q6J("ngClass",i.classNotification),c.xp6(1),c.Q6J("notifyCount",i.notifications.overtime.numOfItems)("isActive",!1)("loading",n.loading)}}function on(e,t){if(1&e&&(c.TgZ(0,"div",52),c._UZ(1,"app-notification",57),c.qZA()),2&e){var n=c.oxw().ngIf,i=c.oxw(2);c.Q6J("ngClass",i.classNotification),c.xp6(1),c.Q6J("notifyCount",i.notifications.onCall.numOfItems)("isActive",!1)("loading",n.loading)}}function an(e,t){if(1&e&&(c.TgZ(0,"div",50),c.YNc(1,Xt,2,4,"div",51),c.YNc(2,en,2,4,"div",51),c.YNc(3,tn,2,4,"div",51),c.YNc(4,nn,2,4,"div",51),c.YNc(5,on,2,4,"div",51),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("ngIf",n.notificationVacationIsAllowed),c.xp6(1),c.Q6J("ngIf",n.notificationClockingIsAllowed),c.xp6(1),c.Q6J("ngIf",n.notificationAllowanceIsAllowed),c.xp6(1),c.Q6J("ngIf",n.notificationOvertimeIsAllowed),c.xp6(1),c.Q6J("ngIf",n.notificationOnCallIsAllowed)}}function rn(e,t){if(1&e&&(c.TgZ(0,"app-card",46),c.TgZ(1,"div",47),c.TgZ(2,"h3",14),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA(),c.TgZ(5,"div",48),c.YNc(6,an,6,5,"div",49),c.ALo(7,"async"),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(3),c.Oqu(c.lcZ(4,2,"l-pending")),c.xp6(3),c.Q6J("ngIf",c.lcZ(7,4,n.notificationsCount$))}}function sn(e,t){if(1&e&&c._UZ(0,"app-comp-team",58),2&e){var n=c.oxw();c.s9C("updateView",n.updateDashboardView)}}function cn(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-modal-blast",59),c.NdJ("closeModal",function(){return c.CHM(n),c.oxw().closeBlastModal()}),c.qZA()}}var ln=function(){var e=function(){function e(t,n,i,o,a,r,s,c,l,u,p,d,g){h(this,e),this.dashboardService=t,this.profileService=n,this.navigationUtil=i,this.vacationService=o,this.paymentService=a,this.fieldsPropertiesService=r,this.globals=s,this.imageService=c,this.permissionSelectors=l,this.notificationsCountSelectors=u,this.windowUtilService=p,this.blastService=d,this.isCoordinatorSelectors=g,this.updateDashboardView="updateEvent",this.employeeSummary=void 0,this.userName=Te.N.loggedUser,this.daysTillVacation=0,this.imagesEvents={},this.employeeShortName="",this.employeesBirthday=[],this.totalBirthdaysMonth=0,this.numberOfYearsWorking=0,this.isEmployeeBirthday=!1,this.isPaymentAvailable=!1,this.hasBirthdaysCard=!1,this.hasVacationsCard=!1,this.isMobile=!1,this.balanceIsVisible=!1,this.teamManagementFieldProperty={visible:!0,field:"teamManagementFieldProperty",editable:!0,required:!0},this.isCoordinator=!1,this.vacationIsAllowed=!1,this.paymentIsAllowed=!1,this.teamVacationIsAllowed=!1,this.dashboardEmployeeBirthdayAllowed=!1,this.dashboardBirthdaysAllowed=!1,this.dashboardVacationCountdownAllowed=!1,this.dashboardPaymentAllowed=!1,this.notifications={allowance:{path:"",numOfItems:0},clockin:{path:"",numOfItems:0},vacation:{path:"",numOfItems:0},overtime:{path:"",numOfItems:0},onCall:{path:"",numOfItems:0},path:""},this.searchCollaboratorIsVisible=!1,this.searchEmployeeIsAllowed=!1,this.notificationClockingIsAllowed=!1,this.notificationAllowanceIsAllowed=!1,this.notificationVacationIsAllowed=!1,this.payrollLoanIsAllowed=!1,this.notificationOvertimeIsAllowed=!1,this.notificationOnCallIsAllowed=!1,this.pendingIsAllowed=!1,this.mustShowBlastAdvertising=!1,this.flagShowBlastAdvertising=!1,this.notificationCountSubscription=null,this.permissionSubscription=null,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}return m(e,[{key:"showBlastCard",get:function(){return this.isCoordinator&&this.flagShowBlastAdvertising}},{key:"ngOnInit",value:function(){this.startDashboardDefinitions(),this.updateContext()}},{key:"updateContext",value:function(){var e=this;this.navigationUtil.reloadContextSourceObservable.subscribe(function(){return(0,H.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.updateDashboardInfo(),e.t0=this.windowUtilService.isWebView,!e.t0){e.next=5;break}return e.next=5,this.startDashboardDefinitions(!0);case 5:case"end":return e.stop()}},e,this)}))})}},{key:"startDashboardDefinitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dashCache=new Ie,t.next=3,this.getEmployeeSummary();case 3:e||(this.checkDashboardPermissions(),this.checkUserIsCoordinator(),this.getNotifications(),this.showBlastCard&&this.setVisiblityBlastCard()),this.setBallanceSummaryVisibility(),this.setTeamManagementVisibility();case 6:case"end":return t.stop()}},t,this)}))}},{key:"checkDashboardPermissions",value:function(){var e=this;this.permissionSubscription=this.permissionSelectors.permissions$.subscribe(function(t){t&&e.setPermissions(t)})}},{key:"setPermissions",value:function(e){this.globals.setEmployeePermission(e),this.vacationIsAllowed=e.vacation,this.paymentIsAllowed=e.payment,this.teamVacationIsAllowed=e.absenceManager,this.searchEmployeeIsAllowed=e.searchEmployee,this.payrollLoanIsAllowed=void 0!==e.payrollLoan&&e.payrollLoan,this.dashboardEmployeeBirthdayAllowed=this.validatePermissionUndefined(e.dashboardEmployeeBirthday),this.dashboardBirthdaysAllowed=this.validatePermissionUndefined(e.dashboardBirthdays),this.dashboardVacationCountdownAllowed=this.validatePermissionUndefined(e.dashboardVacationCountdown),this.dashboardPaymentAllowed=this.validatePermissionUndefined(e.dashboardPayment),this.notificationClockingIsAllowed=this.validatePermissionUndefined(e.notificationClocking),this.notificationAllowanceIsAllowed=this.validatePermissionUndefined(e.notificationAllowance),this.notificationVacationIsAllowed=this.validatePermissionUndefined(e.notificationVacation),this.notificationOvertimeIsAllowed=e.overtime,this.notificationOnCallIsAllowed=e.notificationOnCall,(this.notificationClockingIsAllowed||this.notificationAllowanceIsAllowed||this.notificationVacationIsAllowed||this.notificationOvertimeIsAllowed||this.notificationOnCallIsAllowed)&&(this.pendingIsAllowed=!0),this.triggerDependentPermissionEvents()}},{key:"triggerDependentPermissionEvents",value:function(){this.dashboardPaymentAllowed&&this.getPaymentAvailable(),this.getEmployeesBirthdayMonthly(),this.getEmployeeBirthday(),this.vacationIsAllowed&&this.getDaysUntillVacation()}},{key:"getPaymentAvailable",value:function(){var e=this;this.paymentService.getPaymentAvailable(Te.N.loggedUser).then(function(t){t&&(e.isPaymentAvailable=t.isAvailable)})}},{key:"setBallanceSummaryVisibility",value:function(){var e=this;this.fieldsPropertiesService.getFieldProperties("clocking").then(function(t){t&&t.forEach(function(t){"balanceSummary"===t.field&&(e.balanceIsVisible=t.visible)})})}},{key:"setTeamManagementVisibility",value:function(){var e=this;this.fieldsPropertiesService.getFieldProperties("dashboard").then(function(t){t&&t.forEach(function(t){"compTeamManagement"===t.field&&(e.teamManagementFieldProperty=t)})})}},{key:"isCompTeamVisible",value:function(){return this.isCoordinator&&this.teamManagementFieldProperty.visible}},{key:"checkUserIsCoordinator",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isCoordinatorSubscription=this.isCoordinatorSelectors.isCoordinator$.subscribe(function(e){t.isCoordinator=e});case 1:case"end":return e.stop()}},e,this)}))}},{key:"getNotifications",value:function(){var e=this;this.notificationsCount$=this.notificationsCountSelectors.state$,this.notificationCountSubscription=this.notificationsCount$.subscribe(function(t){var n=t.model;n&&n.subtotals&&(e.notificationCount=n.subtotals.length,n.subtotals.forEach(function(t){switch(t.type){case"allowance":e.notifications.allowance.numOfItems=t.total;break;case"clocking":e.notifications.clockin.numOfItems=t.total;break;case"vacation":e.notifications.vacation.numOfItems=t.total;break;case"overtime":e.notifications.overtime.numOfItems=t.total;break;case"onCall":e.notifications.onCall.numOfItems=t.total}})),e.notifications.path="request/notifications",e.getClassNotification()})}},{key:"getClassNotification",value:function(){this.classNotification="text-center ",this.classNotification+=this.notificationCount>3?"po-sm-4 po-md-3 po-lg-3 po-xl-3":"po-sm-4 po-md-4 po-lg-4 po-xl-4"}},{key:"getBirthdayImages",value:function(){var e=this,t=this.employeesBirthday;t.length&&(t.forEach(function(t){e.profileService.getImageBase64(t.employeeId).then(function(n){n&&n.content&&(t.avatarImage=e.setImageInfo(n.type,n.content)),e.birthdayPersonShortName=t.employeeName.split(" ")[0]})}),t.length>1&&(t=t.length>2?t.slice(0,2):t),this.updateEmployessBirthday(t))}},{key:"setImageInfo",value:function(e,t){return"data:image/"+(e||"png")+";base64,"+t}},{key:"updateEmployessBirthday",value:function(e){this.hasBirthdaysCard=!0,this.employeesBirthday=[],this.employeesBirthday=e}},{key:"validatePermissionUndefined",value:function(e){return void 0===e||e}},{key:"defineFirstName",value:function(){this.employeeSummary&&this.employeeSummary.name&&(this.employeeShortName=this.employeeSummary.name.split(" ")[0])}},{key:"initEventInputCollaborator",value:function(){var e=this,t=document.getElementById("input-collaborator");t&&t.addEventListener("keyup",function(t){"Enter"===t.key&&(e.searchCollaboratorIsVisible=!0)})}},{key:"closeSearchCollaborator",value:function(){this.searchCollaboratorIsVisible=!1}},{key:"getEmployeesBirthdayMonthly",value:function(){var e=this,t=new Date,n=new Date;this.dashboardBirthdaysAllowed&&(n.setDate(t.getDate()+30),this.dashboardService.getTeamBirthdays(this.employeeSummary.id).then(function(t){if(t){var n=t.length>2?t.slice(0,2):t;n.forEach(function(i,o){e.imageService.getImageStyle(i.employeeId).subscribe(function(e){return i.avatarImage=e}),n.length>1&&(e.totalBirthdaysMonth=t.length-1),0===o&&i.employeeName&&(e.birthdayPersonShortName=i.employeeName.split(" ")[0]),e.hasBirthdaysCard=!0}),e.employeesBirthday=n}}))}},{key:"updateDashboardInfo",value:function(){var e=new Date,t=e.getFullYear()+""+e.getHours()+e.getSeconds();this.updateDashboardView="updateEvent"+t}},{key:"getEmployeeSummary",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:this.employeeSummary=e.sent,this.defineFirstName();case 4:case"end":return e.stop()}},e,this)}))}},{key:"getEmployeeBirthday",value:function(){if(this.employeeSummary&&this.dashboardEmployeeBirthdayAllowed){var e=$.Em.getDateUTCFormat(new Date(this.employeeSummary.admissionDate)),t=new Date(Date.now());void 0!==e&&!isNaN(e.getMonth())&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&t.getFullYear()>e.getFullYear()&&(this.numberOfYearsWorking=t.getFullYear()-e.getFullYear(),this.isEmployeeBirthday=!0)}}},{key:"getDaysUntillVacation",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dashboardVacationCountdownAllowed){e.next=7;break}return e.next=3,this.getVacationData();case 3:t=e.sent,n=new Date(864e13),i=new Date(Date.now()),t?(t.forEach(function(e){var t=new Date(e.initVacation);o.checkNextVacation(e.status,t,i,n)&&(n=t)}),this.daysTillVacation=Math.floor((n.getTime()-i.getTime())/864e5)+1,this.validateDaysTillVacation()):this.hasVacationsCard=!1;case 7:case"end":return e.stop()}},e,this)}))}},{key:"closeBlastModal",value:function(){this.mustShowBlastAdvertising=!1}},{key:"showBlastModal",value:function(){this.isCoordinator&&this.windowUtilService.isWebView()?this.blastService.callBlastAdvertisingForApp():this.mustShowBlastAdvertising=!1}},{key:"validateDaysTillVacation",value:function(){this.hasVacationsCard=this.daysTillVacation>0&&this.daysTillVacation<=30}},{key:"getVacationData",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCurrentUser();case 2:if(n=e.sent,e.t0=Oe.ZP.isErpDatasul(),!e.t0){e.next=8;break}return e.next=7,this.vacationService.getVacationProcess(n);case 7:t=e.sent;case 8:return e.next=10,this.vacationService.getVacationInfo(n);case 10:return i=e.sent,e.abrupt("return",(t?this.concatInfoAndProcess(i,t):t=i,t));case 12:case"end":return e.stop()}},e,this)}))}},{key:"concatInfoAndProcess",value:function(e,t){e.map(function(e){t.push(e)})}},{key:"getCurrentUser",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te.N.loggedUser,e.next=3,this.globals.getEmployeeSummary();case 3:return n=e.sent,e.abrupt("return",(n&&(t=n.id),t));case 5:case"end":return e.stop()}},e,this)}))}},{key:"showBlastAdvertisingForPortal",value:function(){this.isCoordinator&&!this.windowUtilService.isWebView()&&(this.globals.existsFlagShowBlastAdvertising()?(this.flagShowBlastAdvertising="true"===this.globals.getFlagShowBlastAdvertising(),this.flagShowBlastAdvertising&&this.showBlastModal()):(this.showBlastModal(),this.globals.setFlagShowBlastAdvertising("false")))}},{key:"checkNextVacation",value:function(e,t,n,i){return(e===Ae.W.StatusEnum.Approved||e===Ae.W.StatusEnum.Calculated)&&t>n&&t<i&&t.getFullYear()===n.getFullYear()}},{key:"doNavigation",value:function(e){this.navigationUtil.doNavigation(e)}},{key:"setVisiblityBlastCard",value:function(){this.blastService.mustShowCardBlastForApp()}},{key:"ngOnDestroy",value:function(){this.notificationCountSubscription&&this.notificationCountSubscription.unsubscribe(),this.permissionSubscription&&this.permissionSubscription.unsubscribe(),this.isCoordinatorSubscription&&this.isCoordinatorSubscription.unsubscribe()}},{key:"callbackIonicExternalEvent",value:function(e){if(e.detail.event.type===Pe.g.MustShowBlastAdvertisingCard){var t=e.detail.event.args.showAgain;this.globals.setFlagShowBlastAdvertising(t+""),this.flagShowBlastAdvertising=t}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Le),c.Y36(ee.H),c.Y36(N._),c.Y36(Se.P),c.Y36(_e.t),c.Y36(te.c),c.Y36(ke.O),c.Y36(K.A),c.Y36(qe.eL),c.Y36(qe.S2),c.Y36(ue.g),c.Y36(Re),c.Y36(qe.V9))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-dashboard"]],hostBindings:function(e,t){1&e&&c.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,c.evT)},decls:17,vars:14,consts:[[3,"name","isVisible","close"],[1,"container-fluid",3,"hidden"],[1,"po-font-title"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange","p-change-model",4,"ngIf"],["class","po-holder",4,"ngIf"],[1,"po-holder"],[1,"po-row"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","view-vacation"],[3,"updateView",4,"ngIf"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","view-pending"],["cssClass","view-pending-items",4,"ngIf"],["class","comp-team",3,"updateView",4,"ngIf"],[3,"closeModal",4,"ngIf"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange","p-change-model"],[1,"po-font-subtitle"],[1,"view-imagesSlider"],[1,"hs"],["class","item card-pagamento mouse-pointer",3,"click",4,"ngIf"],["class","item card-pagamento",4,"ngIf"],["class","item card-pagamento",3,"click",4,"ngIf"],[1,"item","card-pagamento",3,"hidden","click"],[1,"item-background",3,"ngStyle"],[1,"item-icon","ico-money"],[1,"item-footer"],["class","item mouse-pointer",3,"click",4,"ngIf"],[1,"item","card-pagamento","mouse-pointer",3,"click"],[1,"item-background","item-background-filter",3,"ngStyle"],[1,"item-icon","icon-wallet"],[1,"item","card-pagamento"],["class","item-background",3,"ngStyle",4,"ngIf"],["class","item-footer",4,"ngIf"],[1,"item-icon","icon-birthday-cake"],[4,"ngIf"],["class","item-avatars",4,"ngIf"],["class","extended-birthday-msg",4,"ngIf"],[1,"item-avatars"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"item-avatar","avatar","avatar-medium","mouse-pointer"],[1,"extended-birthday-msg"],[1,"item","card-pagamento",3,"click"],[1,"item-icon","ico-sun"],[1,"item","mouse-pointer",3,"click"],[1,"item-footer","item-blast"],[1,"free-trial"],[3,"updateView"],["cssClass","view-pending-items"],["card-header","",1,"mr-card-header"],["card-body",""],["class","card-balance-summary po-row",4,"ngIf"],[1,"card-balance-summary","po-row"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["urlData","/request/notifications/vacation","label","l-pending-vacation",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/timesheet","label","l-pending-clockin",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/timesheet","label","l-pending-allowance",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/overtime/pending","label","l-overtime",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/oncall","label","l-on-call",3,"notifyCount","isActive","loading"],[1,"comp-team",3,"updateView"],[3,"closeModal"]],template:function(e,t){1&e&&(c.TgZ(0,"app-search-collaborator",0),c.NdJ("close",function(){return t.closeSearchCollaborator()}),c.qZA(),c.TgZ(1,"div",1),c.TgZ(2,"h1",2),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.YNc(5,Pt,2,4,"po-input",3),c.YNc(6,$t,18,15,"div",4),c._UZ(7,"app-last-menu-access"),c.TgZ(8,"div",5),c.TgZ(9,"div",6),c.TgZ(10,"div",7),c.YNc(11,Wt,1,1,"app-team-vacation",8),c.YNc(12,Kt,1,1,"app-compensatory-time",8),c.qZA(),c.TgZ(13,"div",9),c.YNc(14,rn,8,6,"app-card",10),c.YNc(15,sn,1,1,"app-comp-team",11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(16,cn,1,0,"app-modal-blast",12)),2&e&&(c.Q6J("name",t.name)("isVisible",t.searchCollaboratorIsVisible),c.xp6(1),c.Q6J("hidden",t.searchCollaboratorIsVisible),c.xp6(2),c.AsE("",c.lcZ(4,12,"l-hello-message")," ",t.employeeShortName,""),c.xp6(2),c.Q6J("ngIf",t.searchEmployeeIsAllowed),c.xp6(1),c.Q6J("ngIf",t.isEmployeeBirthday&&t.dashboardEmployeeBirthdayAllowed||t.hasBirthdaysCard&&t.dashboardBirthdaysAllowed||t.hasVacationsCard&&t.dashboardVacationCountdownAllowed||t.isPaymentAvailable&&t.dashboardPaymentAllowed||t.payrollLoanIsAllowed||t.showBlastCard),c.xp6(5),c.Q6J("ngIf",t.isCoordinator&&t.teamVacationIsAllowed),c.xp6(1),c.Q6J("ngIf",t.balanceIsVisible),c.xp6(2),c.Q6J("ngIf",t.isCoordinator&&t.pendingIsAllowed),c.xp6(1),c.Q6J("ngIf",t.isCompTeamVisible()),c.xp6(1),c.Q6J("ngIf",t.mustShowBlastAdvertising))},directives:[je,d.O5,ot,k.xxV,y.JJ,y.On,d.PC,d.sg,pt,mt,U.A,d.mk,yt,kt,At],pipes:[C.X$,d.Ov],styles:["[_ngcontent-%COMP%]:root{--gutter: 20px}.free-trial[_ngcontent-%COMP%]{color:orange}.item-blast[_ngcontent-%COMP%]{padding-right:9em;font-size:13px!important}@media (min-width: 1024px) and (max-width: 1600px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:6.5em}}@media screen and (max-device-width: 359px){.item-blast[_ngcontent-%COMP%]{font-size:8.5px!important;padding-right:1em}}@media screen and (min-device-width: 360px) and (max-device-width: 410px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:2em}}@media screen and (min-device-width: 411px) and (max-device-width: 427px){.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:2.5em}}@media screen and (min-device-width: 428px) and (max-device-height: 767px){.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:4em}}@media screen and (min-device-width: 768px) and (max-device-width: 1023px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:2em}}@media screen and (device-width: 1024px) and (device-height: 1366px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:6.5em}}@media screen and (device-width: 428px) and (device-height: 926px){.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:4em}}@media (min-width: 1201px){.container-fluid[_ngcontent-%COMP%]{width:calc(100vw - 256px);padding:0 40px 0 20px}}.updateView[_ngcontent-%COMP%]{display:inline-block;margin:0 0 15px;color:#0c9abe;text-decoration:none;background-color:transparent;font-size:14px;cursor:pointer}.po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 0;font-weight:700}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 5px;font-weight:700;color:#345;font-size:20px;text-align:left}.view-pending-items[_ngcontent-%COMP%]{margin-bottom:15px}@media screen and (max-width: 480px){.view-mostViewed[_ngcontent-%COMP%] > div[class*=po][_ngcontent-%COMP%]{padding:0 4px}.view-mostViewed[_ngcontent-%COMP%] > div[class*=po][_ngcontent-%COMP%]:first-child{padding-left:0}.view-mostViewed[_ngcontent-%COMP%] > div[class*=po][_ngcontent-%COMP%]:nth-child(3){padding-left:4px;padding-right:0}}.view-imagesSlider[_ngcontent-%COMP%]{overflow-y:auto;margin:0 8px}.view-imagesSlider[_ngcontent-%COMP%]   .hs[_ngcontent-%COMP%]{display:grid;grid-gap:20px}@media screen and (max-width: 586px){.view-imagesSlider[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2 / -2}.view-imagesSlider[_ngcontent-%COMP%] > .full[_ngcontent-%COMP%]{grid-column:1 / -1}.view-imagesSlider[_ngcontent-%COMP%]   .hs[_ngcontent-%COMP%]{grid-template-columns:repeat(6,calc(60% - 70px));grid-template-rows:minmax(150px,1fr)}}@media screen and (min-width: 586px){.view-imagesSlider[_ngcontent-%COMP%]   .hs[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr 1fr 1fr}}.view-imagesSlider[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{scroll-snap-align:center;position:relative;border-radius:8px}.view-imagesSlider[_ngcontent-%COMP%]   .item-background[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:160px;background-size:cover;background-position:50% 50%;border-radius:6px;text-align:center}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatars[_ngcontent-%COMP%]{margin-top:-5px}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatars[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;position:relative;margin-right:-10px;margin-top:-30px}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatars[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{display:inline-block}.view-imagesSlider[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:16px;color:#fff;font-size:22px}.view-imagesSlider[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{z-index:10;bottom:16px;left:16px;right:16px;position:absolute;color:#fff;font-size:14px;font-weight:700}.hour-time[_ngcontent-%COMP%]{color:#345;font-size:34px;font-weight:700;text-align:center}@media (max-width: 480px){.no-padding-xs[_ngcontent-%COMP%]{padding:0}}.card-pagamento[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 960px){.po-font-subtitle[_ngcontent-%COMP%]{margin-left:0!important}div[class^=po-sm][_ngcontent-%COMP%]:first-child{padding-left:0}div[class^=po-sm][_ngcontent-%COMP%]:last-child{padding-right:0}}.item-background-filter[_ngcontent-%COMP%]{-webkit-filter:brightness(80%);filter:brightness(80%)}@media screen and (device-width: 1366px) and (device-height: 768px){.item-background-no-changes[_ngcontent-%COMP%]{background-position:unset!important}.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:6.5em}}.item-footer[_ngcontent-%COMP%]{text-shadow:1px 1px #000000}@media only screen and (max-width: 480px){.extended-birthday-msg[_ngcontent-%COMP%]{font-size:11px}}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.comp-team[_ngcontent-%COMP%]{cursor:pointer}.po-font-title[_ngcontent-%COMP%]{margin-top:0}app-notification[_ngcontent-%COMP%]     .app-notification{margin-top:10px}"]}),e}(),un=function(){var e=function(){function e(t){h(this,e),this.globals=t}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.employee=t,e.employee&&(e.employee.name=e.employee.name.split(" ")[0])})}}],[{key:"getRoutePage",value:function(){return e.ROUTE_PAGE}}]),e}();return e.ROUTE_PAGE="home",e.\u0275fac=function(t){return new(t||e)(c.Y36(ke.O))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(e,t){1&e&&c._UZ(0,"app-dashboard")},directives:[ln],styles:[""]}),e}(),pn=n(32114),dn=function(){var e=function(){function e(t){h(this,e),this.genericService=t,this.subChangePass=new oe.xQ,this.observableSubChangePass=this.subChangePass.asObservable()}return m(e,[{key:"emitSubChangePass",value:function(e){this.subChangePass.next(e)}},{key:"updatePassword",value:function(e){return this.genericService.setWithCredencials(!1),this.genericService.put("auth/resetPassword",e)}},{key:"updatePasswordWithLastPassword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.genericService.setWithCredencials(!1);var n=[];return this.genericService.parseParams(n,"isEncrypted",t),this.genericService.postWithQP("auth/ChangePassWithLastPass",e,n,!1)}},{key:"dtsRecoveryPassword",value:function(e){var t=[];return this.genericService.parseParams(t,"email",e.email),this.genericService.parseParams(t,"keyUrl",e.keyUrl),this.genericService.parseParams(t,"keyTemplate",e.keyTemplate),this.genericService.postWithQP("passwordReset",{},t)}},{key:"dtsResetPassword",value:function(e){return this.genericService.post("passwordReset",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),gn=function(){var e=function(){function e(t,n,i,o,a,r,s){h(this,e),this.navigationUtilService=t,this.alterPasswordService=n,this.notificationService=i,this.appTranslateService=o,this.globals=a,this.ionicUtilService=r,this.windowUtilService=s,this.isValidateForm=!1}return m(e,[{key:"ngOnInit",value:function(){this.setRequerimentsInForm()}},{key:"onSubmit",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.globals.getUser(),(Oe.ZP.isErpRM()&&!this.globals.existsIonic5Key()&&!this.globals.isNewApiModelRM()||Oe.ZP.isErpDatasul())&&(t=B.N.loggedUser),e.next=4,this.checkPasswordsLenght();case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}this.passwordInfo={user:this.globals.shuffleString(t),lastPassword:this.globals.shuffleString(this.changePassword.currentPassword),password:this.globals.shuffleString(this.changePassword.newPassword),confirmPassword:this.globals.shuffleString(this.changePassword.confirmPassword)},this.alterPassword(this.passwordInfo);case 7:case"end":return e.stop()}},e,this)}))}},{key:"checkPasswordsLenght",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,this.changePassword.currentPassword.length<3&&(n=!1,t="l-current-password-3-char"),this.changePassword.newPassword.length<3&&(n=!1,t="l-new-password-3-char"),this.changePassword.confirmPassword.length<3&&(n=!1,t="l-new-confirm-password-3-char"),e.t0=n,e.t0){e.next=12;break}return e.t1=this.notificationService,e.next=9,this.appTranslateService.getI18n(t);case 9:e.t2=e.sent,e.t3=k.ik9.Error,e.t1.showNotification.call(e.t1,e.t2,e.t3);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}))}},{key:"alterPassword",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.alterPasswordService.updatePasswordWithLastPassword(e,!0);case 3:return this.windowUtilService.isWebView()&&this.ionicUtilService.emit({args:{},type:Pe.g.ClearPassword}),t.next=6,this.appTranslateService.getI18n("l-password-changed");case 6:n=t.sent,this.notificationService.showNotification(n,k.ik9.Success),this.navigationUtilService.doNavigation("home"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),t.t0 instanceof g.UA||this.notificationService.showNotification(t.t0.message,k.ik9.Error);case 13:case"end":return t.stop()}},t,this,[[0,10]])}))}},{key:"setRequerimentsInForm",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isValidateForm){e.next=14;break}return e.next=3,this.appTranslateService.getI18n("l-newpass-diff-oldpass");case 3:return e.t1=e.sent,e.t2=this.compareNewAndOldPassword.bind(this),e.t3={requirement:e.t1,status:e.t2},e.next=8,this.appTranslateService.getI18n("l-newpass-confirmpass");case 8:e.t4=e.sent,e.t5=this.compareNewAndConfirmPassword.bind(this),e.t6={requirement:e.t4,status:e.t5},e.t0=[e.t3,e.t6],e.next=15;break;case 14:e.t0=[];case 15:this.requirements=e.t0;case 16:case"end":return e.stop()}},e,this)}))}},{key:"compareNewAndOldPassword",value:function(e){if(e)return this.changePassword.currentPassword!==e}},{key:"compareNewAndConfirmPassword",value:function(e){if(e)return this.changePassword.confirmPassword===e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(N._),c.Y36(dn),c.Y36(ce.g),c.Y36(le.g),c.Y36(ke.O),c.Y36(Pe.l),c.Y36(ue.g))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-alter-password"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(pn.Yx,7),2&e)&&(c.iGM(n=c.CRH())&&(t.changePassword=n.first))},decls:1,vars:1,consts:[["p-url-home","home",3,"p-requirements","p-submit"]],template:function(e,t){1&e&&(c.TgZ(0,"po-page-change-password",0),c.NdJ("p-submit",function(){return t.onSubmit()}),c.qZA()),2&e&&c.Q6J("p-requirements",t.requirements)},directives:[pn.Yx],styles:["[_nghost-%COMP%]     .po-page-login-panel{padding-top:0!important}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-page-login-body{padding-right:1rem}[_nghost-%COMP%]     .po-mb-sm-1{margin-bottom:4.5rem}[_nghost-%COMP%]     po-button.po-sm-6{width:46%}}"]}),e}(),hn=function(){var e=function(){function e(t,n,i,o,a){h(this,e),this.serviceGeneric=t,this.appTranslateService=n,this.notificationService=i,this.windowUtilService=o,this.http=a}return m(e,[{key:"logout",value:function(){return this.serviceGeneric.post("auth/logout",void 0)}},{key:"logoutOnTotvsLogin",value:function(){return this.serviceGeneric.get("/totvs-login/logout")}},{key:"keepAliveOnTotvsLogin",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=document.location.origin+"/totvs-login/keepalive",this.http.get(t).subscribe();case 2:case"end":return e.stop()}},e,this)}))}},{key:"login",value:function(e){var t=this;return Oe.ZP.isErpProtheus()?(e.redirectUrl=window.location.href.split("#")[0],this.prepareContentTypeUrlEncoded(e),this.serviceGeneric.setResponseType("html")):this.body=e,this.hidePoUiMessageOnError(),this.serviceGeneric.post("auth/login",this.body,!1).catch(function(e){throw t.dealWithLoginError(),e})}},{key:"loginTomcat",value:function(e){var t=this;return this.windowUtilService.isWebView()&&(this.serviceGeneric.setHeaderField("Content-Type","application/json"),this.serviceGeneric.setHeaderField("Authorization","Basic "+btoa("".concat(e.user,":").concat(e.password))),this.hidePoUiMessageOnError()),this.serviceGeneric.get("/api/rh/v1/login/auth/".concat(e.user)).catch(function(e){throw t.dealWithLoginError(),e})}},{key:"canActivate",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="auth/isLogged",!Oe.ZP.isTomcatAppServer()){e.next=9;break}return t="setting/fieldProperties/dashboard",e.next=5,this.serviceGeneric.get(t);case 5:e.t1=!e.sent.toString().includes("<html>"),e.t0={isLogged:e.t1},e.next=10;break;case 9:e.t0=this.serviceGeneric.get(t);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this)}))}},{key:"recoveryPassword",value:function(e){return Oe.ZP.isErpProtheus()?this.prepareContentTypeUrlEncoded(e):this.body=e,this.serviceGeneric.post("auth/renewPassword",this.body)}},{key:"isFirstLogin",value:function(e){var t=[];return this.serviceGeneric.parseParams(t,"employeeId",e),this.serviceGeneric.search("auth/isFirstLogin",t)}},{key:"hidePoUiMessageOnError",value:function(){Oe.ZP.isErpDatasul()&&this.serviceGeneric.setHeaderField("X-PO-No-Message","true")}},{key:"dealWithLoginError",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe.ZP.isErpDatasul()){e.next=5;break}return e.next=3,this.appTranslateService.getI18n("l-invalid-login-data");case 3:t=e.sent,this.notificationService.showNotification(t,k.ik9.Error);case 5:case"end":return e.stop()}},e,this)}))}},{key:"isFirstLoginAuthentic",value:function(e){return this.body=e,this.serviceGeneric.post("auth/isFirstLoginAuthentic",this.body)}},{key:"providersOauth",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serviceGeneric.get("auth/providerOauth"));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getTokenPrincipal",value:function(e,t){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.serviceGeneric.post("auth/login/TokenPrincipal",{acessToken:e,providerId:t}));case 1:case"end":return n.stop()}},n,this)}))}},{key:"getForceOauthLogin",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serviceGeneric.get("auth/forceoauthlogin"));case 1:case"end":return e.stop()}},e,this)}))}},{key:"prepareContentTypeUrlEncoded",value:function(e){this.serviceGeneric.setHeaderField("Content-Type","application/x-www-form-urlencoded"),this.body=this.serviceGeneric.parseObjectToUrlEncoded(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M),c.LFG(le.g),c.LFG(ce.g),c.LFG(ue.g),c.LFG(g.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),fn=function(){var e=function(){function e(t,n,i,o,a,r){h(this,e),this.resetPasswordService=t,this.navigationUtilService=n,this.notificationService=i,this.appTranslateService=o,this.authService=a,this.globals=r,this.exit=new c.vpe,this.viewDialogIsVisible=!0}return m(e,[{key:"onSubmit",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,!t.t0){t.next=13;break}if(this.newPassword!==this.confirmNewPassword){t.next=12;break}if(this.changePasswordInfo={password:this.newPassword,user:this.user,lastPassword:this.lastPassword,confirmPassword:this.confirmNewPassword},!Oe.ZP.isErpProtheus()){t.next=9;break}return t.next=7,this.authBeforeChangePassword({user:this.user,password:this.lastPassword});case 7:t.next=10;break;case 9:this.changePassword(this.changePasswordInfo);case 10:t.next=13;break;case 12:this.appTranslateService.getI18n("l-incorrect-confirm-password").then(function(e){n.notificationService.showNotification(e,k.ik9.Error)});case 13:case"end":return t.stop()}},t,this)}))}},{key:"authBeforeChangePassword",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.authService.login(e);case 3:(n=t.sent)&&this.authErrorProtheus(n)?this.changePassword(this.changePasswordInfo):this.appTranslateService.getI18n("l-old-password-incorrect").then(function(e){i.notificationService.showNotification(e,k.ik9.Error)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"authErrorProtheus",value:function(e){return Oe.ZP.getErp()!==Oe.Ld.PROTHEUS||!(e.indexOf("auth-error.html")>=0)}},{key:"changePassword",value:function(e){var t=this;this.resetPasswordService.updatePasswordWithLastPassword(e).then(function(){t.appTranslateService.getI18n("l-password-changed").then(function(e){t.notificationService.showNotification(e,k.ik9.Success),t.exit.emit(),t.globals.clearLocalStorage(),t.navigationUtilService.doNavigation("login")})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(dn),c.Y36(N._),c.Y36(ce.g),c.Y36(le.g),c.Y36(hn),c.Y36(ke.O))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-change-pass"]],inputs:{user:"user"},outputs:{exit:"exit"},decls:17,vars:23,consts:[["id","changePassword",3,"isVisible","closeDialogButtonEnable","menuIsVisible"],["dialog-content","",1,"new-pass-container"],["pageTitle","l-first-login",3,"backIsVisible"],[1,"po-holder","new-pass-form"],[3,"keyup.enter"],["changePasswordForm","ngForm"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","new-pass-info"],["name","last-password","p-icon","po-icon po-icon-lock","p-auto-focus","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-last-password",3,"ngModel","p-placeholder","ngModelChange"],["name","new-password","p-icon","po-icon po-icon-lock","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-password",3,"ngModel","p-placeholder","ngModelChange"],["name","confirm-new-password","p-icon","po-icon po-icon-lock","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-new-password",3,"ngModel","p-placeholder","ngModelChange"],["p-small","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","change-pass-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-dialog",0),c.TgZ(1,"div",1),c._UZ(2,"app-page-header",2),c.TgZ(3,"div",3),c.TgZ(4,"form",4,5),c.NdJ("keyup.enter",function(){c.CHM(n);var e=c.MAs(5);return t.onSubmit(e.form.valid)}),c.TgZ(6,"span",6),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"po-password",7),c.NdJ("ngModelChange",function(e){return t.lastPassword=e}),c.ALo(10,"translate"),c.qZA(),c.TgZ(11,"po-password",8),c.NdJ("ngModelChange",function(e){return t.newPassword=e}),c.ALo(12,"translate"),c.qZA(),c.TgZ(13,"po-password",9),c.NdJ("ngModelChange",function(e){return t.confirmNewPassword=e}),c.ALo(14,"translate"),c.qZA(),c.TgZ(15,"po-button",10),c.NdJ("p-click",function(){c.CHM(n);var e=c.MAs(5);return t.onSubmit(e.form.valid)}),c.ALo(16,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(5);c.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1)("menuIsVisible",!1),c.xp6(2),c.Q6J("backIsVisible",!1),c.xp6(5),c.Oqu(c.lcZ(8,13,"l-newpass-info")),c.xp6(2),c.s9C("p-placeholder",c.lcZ(10,15,"l-choice-last-password")),c.Q6J("ngModel",t.lastPassword),c.xp6(2),c.s9C("p-placeholder",c.lcZ(12,17,"l-choice-new-password")),c.Q6J("ngModel",t.newPassword),c.xp6(2),c.s9C("p-placeholder",c.lcZ(14,19,"l-repeat-new-password")),c.Q6J("ngModel",t.confirmNewPassword),c.xp6(2),c.s9C("p-label",c.lcZ(16,21,"l-confirm")),c.Q6J("p-disabled",!i.form.valid)}},directives:[Ye.a,E.q,y._Y,y.JL,y.F,k.Rsf,y.JJ,y.On,k.bOz],pipes:[C.X$],styles:[".new-pass-form[_ngcontent-%COMP%]{clear:both;height:auto;max-width:320px;margin:0 auto}.new-pass-info[_ngcontent-%COMP%]{font-size:20px;text-align:center;margin-top:5vh}.new-pass-info-small[_ngcontent-%COMP%]{font-size:15px;text-align:center;margin:5vh 0 2vh;color:#9c9ca0}.input-last-password[_ngcontent-%COMP%]{margin-top:5vh}.change-pass-confirm[_ngcontent-%COMP%]{margin:5vh 0}"]}),e}(),mn=n(45435),vn=n(15257),bn=n(88002),xn=n(13353),yn=n(30343),wn=function(){var e=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getCompanySettings",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceGeneric.get("setting/companySettings",!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Zn=function(){var e=function(){function e(t,n,i){h(this,e),this.resetPassword=t,this.notificationService=n,this.appTranslateService=i,this.dialogIsVisible=!1,this.isLoading=!1}return m(e,[{key:"ngOnInit",value:function(){}},{key:"openRecoveryDialog",value:function(){this.recoveryDialog.open()}},{key:"onSubmit",value:function(){this.validateRequiredFields()&&this.recoveryPassword()}},{key:"closeRecoveryDialog",value:function(){this.recoveryDialog.close()}},{key:"recoveryPassword",value:function(){var e=this;this.isLoading=!0,this.resetPassword.dtsRecoveryPassword({email:this.emailRecoveryPassword,keyUrl:"app_meurh_url",keyTemplate:"app_meurh"}).then(function(){e.closeRecoveryDialog(),e.dialogIsVisible=!0,e.isLoading=!1}).catch(function(t){e.notificationService.showNotification(t,k.ik9.Error),e.isLoading=!1})}},{key:"closeSuccessMessage",value:function(){this.dialogIsVisible=!1}},{key:"validateRequiredFields",value:function(){return!this.checkEmptyOrUndefinedField(this.emailRecoveryPassword,"m-email-required")}},{key:"checkEmptyOrUndefinedField",value:function(e,t){var n=this,i=!1;return(!e||""===e)&&(i=!0,this.appTranslateService.getI18n(t).then(function(e){n.notificationService.showNotification(e,k.ik9.Warning)})),i}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(dn),c.Y36(ce.g),c.Y36(le.g))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-dts-password-recovery"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(k.hmF,5),2&e)&&(c.iGM(n=c.CRH())&&(t.recoveryDialog=n.first))},decls:24,vars:23,consts:[["p-size","auto",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[3,"keyup.enter"],["recoveryPasswordForm","ngForm"],[1,"input-recovery"],["name","teste","p-clean","true","p-required","true",3,"ngModel","p-label","p-error-pattern","ngModelChange"],[1,"modal-footer-recovery-options"],["p-small","true",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-disabled","p-loading","p-label","p-click"],["id","recovery-password-confirm",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-recovery-content"],[1,"message-recovery","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"recovery-image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"]],template:function(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-modal",0,1),c.ALo(2,"translate"),c.TgZ(3,"form",2,3),c.NdJ("keyup.enter",function(){return t.onSubmit()}),c.TgZ(5,"div",4),c.TgZ(6,"po-email",5),c.NdJ("ngModelChange",function(e){return t.emailRecoveryPassword=e}),c.ALo(7,"translate"),c.ALo(8,"translate"),c.qZA(),c.qZA(),c.TgZ(9,"div",6),c.TgZ(10,"po-button",7),c.NdJ("p-click",function(){return c.CHM(n),c.MAs(4).form.reset(),t.closeRecoveryDialog()}),c.ALo(11,"translate"),c.qZA(),c.TgZ(12,"po-button",8),c.NdJ("p-click",function(){return t.onSubmit()}),c.ALo(13,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"app-dialog",9),c.NdJ("closeDialogEvent",function(){return t.closeSuccessMessage()}),c.TgZ(15,"div",10),c.TgZ(16,"div",11),c.NdJ("click",function(){return t.closeSuccessMessage()}),c.TgZ(17,"div",12),c.TgZ(18,"div",12),c.TgZ(19,"div",13),c.NdJ("click",function(){return t.closeSuccessMessage()}),c.qZA(),c.qZA(),c.TgZ(20,"strong"),c.TgZ(21,"h4",14),c.NdJ("click",function(){return t.closeSuccessMessage()}),c._uU(22),c.ALo(23,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(4);c.s9C("p-title",c.lcZ(2,11,"l-password-recovery")),c.xp6(6),c.s9C("p-label",c.lcZ(7,13,"l-email")),c.s9C("p-error-pattern",c.lcZ(8,15,"m-email-invalid")),c.Q6J("ngModel",t.emailRecoveryPassword),c.xp6(4),c.s9C("p-label",c.lcZ(11,17,"l-cancel")),c.xp6(2),c.s9C("p-loading",t.isLoading),c.s9C("p-label",c.lcZ(13,19,"l-recover-password")),c.Q6J("p-disabled",!i.form.valid),c.xp6(2),c.Q6J("isVisible",t.dialogIsVisible)("closeDialogButtonEnable",!0),c.xp6(8),c.Oqu(c.lcZ(23,21,"m-renew-password-message"))}},directives:[k.hmF,y._Y,y.JL,y.F,k.Tji,y.JJ,y.On,k.bOz,Ye.a],pipes:[C.X$],styles:[".modal-footer-recovery-options[_ngcontent-%COMP%]{overflow:auto;margin-top:35px;margin-bottom:25px}.dialog-substitute-content[_ngcontent-%COMP%]{height:350px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.recovery-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.recovery-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}@media (min-width: 961px){.dialog-recovery-content[_ngcontent-%COMP%]{height:300px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     .po-modal-title{font-size:20px}[_nghost-%COMP%]     .po-modal-header-close-button{padding-left:10px}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),e}(),Cn=function(){var e=function(){function e(t,n,i,o,a,r,s){h(this,e),this.navigationUtilService=t,this.loggedDispatchers=n,this.loggedSelectors=i,this.propertiesSelectors=o,this.windowUtilService=a,this.globals=r,this.mobileVersionSelectors=s}return m(e,[{key:"checkLoginStatusToActivateServices",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loggedDispatchers.checkIfIsLogged();case 2:return e.next=4,this.mobileVersionSelectors.shouldUseMessageReceiverForLogin();case 4:if(e.t0=!e.sent,!e.t0){e.next=7;break}e.t0=this.windowUtilService.isWebView();case 7:if(!e.t0){e.next=12;break}t="true"===localStorage.getItem("isLogged"),this.clearAndGoToLogin(t),e.next=13;break;case 12:this.loggedSelectors.isLogged$.subscribe(function(e){n.clearAndGoToLogin(e)});case 13:case"end":return e.stop()}},e,this)}))}},{key:"getDomainForLogin",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe.ZP.isErpDatasul()&&!Oe.ZP.isErpNode()){e.next=5;break}return e.next=3,this.propertiesSelectors.nextPropertiesNotNull();case 3:return t=e.sent,e.abrupt("return",t.DTS_DOMAIN&&""!==t.DTS_DOMAIN.trim()?t.DTS_DOMAIN:"");case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}},e,this)}))}},{key:"clearAndGoToLogin",value:function(e){this.setIsLoggedForRMOnIonic3(e),!1===e&&!this.windowUtilService.getHref().includes("resetPassword")&&(this.globals.clearLocalStorage(),this.navigationUtilService.doNavigation("/login"))}},{key:"setIsLoggedForRMOnIonic3",value:function(e){Oe.ZP.isErpRM()&&e&&this.windowUtilService.isWebView()&&!this.globals.existsIonic5Key()&&!this.globals.isNewApiModelRM()&&localStorage.setItem("isLogged","true")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(N._),c.LFG(qe.pG),c.LFG(qe.ek),c.LFG(qe.Ub),c.LFG(ue.g),c.LFG(ke.O),c.LFG(qe.QM))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Mn=function(){var e=function(){function e(t,n,i){h(this,e),this.authService=t,this.notificationService=n,this.appTranslateService=i,this.dialogIsVisible=!1,this.isLoading=!1}return m(e,[{key:"ngOnInit",value:function(){}},{key:"openRecoveryDialog",value:function(){this.recoveryDialog.open()}},{key:"onSubmit",value:function(){this.validateRequiredFields()&&this.recoveryPassword()}},{key:"closeRecoveryDialog",value:function(){this.recoveryDialog.close()}},{key:"recoveryPassword",value:function(){var e=this;this.isLoading=!0;var t={user:this.userRecoveryPassword,email:this.emailRecoveryPassword,redirectUrl:window.location.href.split("#")[0]};this.authService.recoveryPassword(t).then(function(){e.closeRecoveryDialog(),e.dialogIsVisible=!0,e.isLoading=!1}).catch(function(t){e.notificationService.showNotification(t,k.ik9.Error),e.isLoading=!1})}},{key:"closeSuccessMessage",value:function(){this.dialogIsVisible=!1}},{key:"validateRequiredFields",value:function(){return!this.checkEmptyOrUndefinedField(this.userRecoveryPassword,"m-user-required")&&!this.checkEmptyOrUndefinedField(this.emailRecoveryPassword,"m-email-required")}},{key:"checkEmptyOrUndefinedField",value:function(e,t){var n=this,i=!1;return(!e||""===e)&&(i=!0,this.appTranslateService.getI18n(t).then(function(e){n.notificationService.showNotification(e,k.ik9.Warning)})),i}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(hn),c.Y36(ce.g),c.Y36(le.g))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-password-recovery"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(k.hmF,5),2&e)&&(c.iGM(n=c.CRH())&&(t.recoveryDialog=n.first))},decls:26,vars:27,consts:[["p-size","sm",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[3,"keyup.enter"],["recoveryPasswordForm","ngForm"],[1,"input-recovery"],["p-auto-focus","true","p-icon","po-icon po-icon-user","name","username-recovery","p-clean","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","ngModelChange"],["name","email-recovery","p-clean","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","p-error-pattern","ngModelChange"],["p-small","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-recovery",3,"p-disabled","p-loading","p-label","p-click"],["p-small","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-cancel",3,"p-label","p-click"],["id","recovery-password-confirm",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-recovery-content"],[1,"message-recovery","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"recovery-image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"]],template:function(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-modal",0,1),c.ALo(2,"translate"),c.TgZ(3,"form",2,3),c.NdJ("keyup.enter",function(){return t.onSubmit()}),c.TgZ(5,"div",4),c.TgZ(6,"po-input",5),c.NdJ("ngModelChange",function(e){return t.userRecoveryPassword=e}),c.ALo(7,"translate"),c.qZA(),c.TgZ(8,"po-email",6),c.NdJ("ngModelChange",function(e){return t.emailRecoveryPassword=e}),c.ALo(9,"translate"),c.ALo(10,"translate"),c.qZA(),c.qZA(),c.TgZ(11,"div",4),c.TgZ(12,"po-button",7),c.NdJ("p-click",function(){return t.onSubmit()}),c.ALo(13,"translate"),c.qZA(),c.TgZ(14,"po-button",8),c.NdJ("p-click",function(){return c.CHM(n),c.MAs(4).form.reset(),t.closeRecoveryDialog()}),c.ALo(15,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"app-dialog",9),c.NdJ("closeDialogEvent",function(){return t.closeSuccessMessage()}),c.TgZ(17,"div",10),c.TgZ(18,"div",11),c.NdJ("click",function(){return t.closeSuccessMessage()}),c.TgZ(19,"div",12),c.TgZ(20,"div",12),c.TgZ(21,"div",13),c.NdJ("click",function(){return t.closeSuccessMessage()}),c.qZA(),c.qZA(),c.TgZ(22,"strong"),c.TgZ(23,"h4",14),c.NdJ("click",function(){return t.closeSuccessMessage()}),c._uU(24),c.ALo(25,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(4);c.s9C("p-title",c.lcZ(2,13,"l-password-recovery")),c.xp6(6),c.s9C("p-label",c.lcZ(7,15,"l-user")),c.Q6J("ngModel",t.userRecoveryPassword),c.xp6(2),c.s9C("p-label",c.lcZ(9,17,"l-email")),c.s9C("p-error-pattern",c.lcZ(10,19,"m-email-invalid")),c.Q6J("ngModel",t.emailRecoveryPassword),c.xp6(4),c.s9C("p-loading",t.isLoading),c.s9C("p-label",c.lcZ(13,21,"l-recover-password")),c.Q6J("p-disabled",!i.form.valid),c.xp6(2),c.s9C("p-label",c.lcZ(15,23,"l-cancel")),c.xp6(2),c.Q6J("isVisible",t.dialogIsVisible)("closeDialogButtonEnable",!0),c.xp6(8),c.Oqu(c.lcZ(25,25,"m-renew-password-message"))}},directives:[k.hmF,y._Y,y.JL,y.F,k.xxV,y.JJ,y.On,k.Tji,k.bOz,Ye.a],pipes:[C.X$],styles:[".modal-footer-recovery-options[_ngcontent-%COMP%]{overflow:auto;margin-top:25px;margin-bottom:25px}.button-recovery[_ngcontent-%COMP%]{margin-top:17px;margin-bottom:10px}.button-cancel[_ngcontent-%COMP%]{margin-bottom:17px}.input-recovery[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-substitute-content[_ngcontent-%COMP%]{height:350px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.recovery-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.recovery-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}@media (min-width: 961px){.dialog-recovery-content[_ngcontent-%COMP%]{height:300px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.input[_ngcontent-%COMP%]{position:relative;left:25%;margin-top:40px;padding-top:10px}[_nghost-%COMP%]     .po-modal-sm{width:30%}}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .po-modal-sm{width:85%}}@media screen and (min-width: 1367px){.input[_ngcontent-%COMP%]{margin-top:55px}[_nghost-%COMP%]     .po-modal-sm{width:25%}}[_nghost-%COMP%]     .po-modal-title{font-size:20px;padding-left:6px}[_nghost-%COMP%]     .po-modal-header-close-button{color:#1ea2c3}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),e}();function kn(e,t){1&e&&c._UZ(0,"img",3)}function An(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"po-button",1),c.NdJ("p-click",function(){var e=c.CHM(n).$implicit;return c.oxw().providerClickEvent(e)}),c.qZA(),c.YNc(2,kn,1,0,"ng-template",null,2,c.W1O),c.qZA()}if(2&e){var i=t.$implicit,o=c.MAs(3);c.xp6(1),c.s9C("p-label",i.providerName),c.Q6J("p-icon",o)}}var Pn=function(){var e=function(){function e(){h(this,e),this.providerClicked=new c.vpe}return m(e,[{key:"ngOnInit",value:function(){}},{key:"providerClickEvent",value:function(e){this.providerClicked.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-providers-buttons"]],inputs:{buttonsProvidersSaml:"buttonsProvidersSaml"},outputs:{providerClicked:"providerClicked"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-label","p-icon","p-click"],["template",""],["src","./assets/img/totvs-identity-logo.png","slot","start"]],template:function(e,t){1&e&&c.YNc(0,An,4,2,"div",0),2&e&&c.Q6J("ngForOf",t.buttonsProvidersSaml)},directives:[d.sg,k.bOz],styles:[""]}),e}();function On(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"form",17,18),c.NdJ("keyup.enter",function(){c.CHM(n);var e=c.MAs(1);return c.oxw(3).onSubmit(e.form.valid)}),c.TgZ(2,"po-input",19),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(3).user=e}),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"po-password",20),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(3).password=e}),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"div",21),c.TgZ(7,"span",22),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"po-switch",23),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw(3).rememberUser=e}),c.qZA(),c.qZA(),c.TgZ(11,"po-button",24),c.NdJ("p-click",function(){c.CHM(n);var e=c.MAs(1);return c.oxw(3).onSubmit(e.form.valid)}),c.ALo(12,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(1),o=c.oxw(3);c.xp6(2),c.s9C("p-placeholder",c.lcZ(3,8,"l-fill-in-user")),c.Q6J("ngModel",o.user),c.xp6(2),c.s9C("p-placeholder",c.lcZ(5,10,"l-fill-in-password")),c.Q6J("ngModel",o.password),c.xp6(4),c.Oqu(c.lcZ(9,12,"l-remember-user")),c.xp6(2),c.Q6J("ngModel",o.rememberUser),c.xp6(1),c.s9C("p-label",c.lcZ(12,14,"l-login")),c.Q6J("p-disabled",!i.form.valid)}}function qn(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"a",25),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).openRecoveryDialog()}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.hij("",c.lcZ(2,1,"l-forgot-password"),"? "))}function Tn(e,t){1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",28),c._UZ(2,"hr"),c.qZA(),c.TgZ(3,"div",29),c._uU(4,"ou"),c.qZA(),c.TgZ(5,"div",28),c._UZ(6,"hr"),c.qZA(),c.qZA())}function _n(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"div",30),c.TgZ(2,"span",31),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Oqu(c.lcZ(4,1,"l-make-login")))}function Sn(e,t){if(1&e&&c._UZ(0,"img",35),2&e){var n=c.oxw().$implicit;c.s9C("src","data:image/jpeg;base64,"+n.icone,c.LSH)}}function In(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",32),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(4).selectedProvider(e)}),c.TgZ(1,"button",33),c.YNc(2,Sn,1,1,"img",34),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw(4);c.xp6(1),c.Q6J("ngClass",o.getClassButton(i.providerName)),c.xp6(1),c.Q6J("ngIf",i.icone),c.xp6(2),c.Oqu(i.providerName)}}function Dn(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",26),c.YNc(2,Tn,7,0,"div",0),c.YNc(3,_n,5,3,"div",0),c.qZA(),c.YNc(4,In,5,3,"div",27),c.qZA()),2&e){var n=c.oxw(3);c.xp6(2),c.Q6J("ngIf",!n.forceOauth),c.xp6(1),c.Q6J("ngIf",n.forceOauth),c.xp6(1),c.Q6J("ngForOf",n.externalsProviders)}}function Ln(e,t){if(1&e&&(c.TgZ(0,"div",11),c._UZ(1,"div",12),c.TgZ(2,"span",13),c._uU(3,"MEU RH"),c.qZA(),c.TgZ(4,"span",14),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.YNc(7,On,13,16,"form",15),c.YNc(8,qn,3,3,"a",16),c.YNc(9,Dn,5,3,"div",0),c.qZA()),2&e){var n=c.oxw(2);c.xp6(5),c.Oqu(c.lcZ(6,4,"l-welcome")),c.xp6(2),c.Q6J("ngIf",!n.forceOauth),c.xp6(1),c.Q6J("ngIf",!n.forceOauth),c.xp6(1),c.Q6J("ngIf",n.externalsProviders.length>0)}}function Rn(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",36),c._UZ(1,"div",12),c.TgZ(2,"span",13),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"span",37),c._uU(6),c.ALo(7,"translate"),c.qZA(),c.TgZ(8,"div"),c.TgZ(9,"app-providers-buttons",38),c.NdJ("providerClicked",function(e){return c.CHM(n),c.oxw(2).selectProviderSaml(e)}),c.qZA(),c._UZ(10,"div",39),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(3),c.Oqu(c.lcZ(4,3,"l-welcome")),c.xp6(3),c.Oqu(c.lcZ(7,5,"l-make-login")),c.xp6(3),c.Q6J("buttonsProvidersSaml",null==i.companySettings?null:i.companySettings.samlProviders)}}function Nn(e,t){if(1&e){var n=c.EpF();c.ynx(0),c.TgZ(1,"div",1),c.YNc(2,Ln,10,6,"div",2),c.YNc(3,Rn,11,7,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.TgZ(7,"po-select",7),c.NdJ("p-change",function(e){return c.CHM(n),c.oxw().changeLanguage(e)})("ngModelChange",function(e){return c.CHM(n),c.oxw().language=e}),c.qZA(),c.qZA(),c.qZA(),c._UZ(8,"div",8),c.qZA(),c.qZA(),c.TgZ(9,"div",9),c.TgZ(10,"div",10),c.TgZ(11,"h2"),c.TgZ(12,"span"),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(15,"app-password-recovery"),c._UZ(16,"app-dts-password-recovery"),c.BQk()}if(2&e){var i=c.oxw();c.xp6(2),c.Q6J("ngIf",!(null!=i.samlProviderSelected&&i.samlProviderSelected.isIntegrated)),c.xp6(1),c.Q6J("ngIf",null==i.samlProviderSelected?null:i.samlProviderSelected.isIntegrated),c.xp6(4),c.Q6J("p-options",i.languageSelect)("ngModel",i.language),c.xp6(6),c.Oqu(c.lcZ(14,5,"l-welcome-message-login"))}}function En(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"po-loading-overlay"),c.qZA())}var Un=function(){var e=function(){function e(t,n,i,o,a,r,s,c,l,u,p,d,g,f,m,v){h(this,e),this.authService=t,this.globals=n,this.navigationUtilService=i,this.resetPassword=o,this.notificationService=a,this.appTranslateService=r,this.loggedSelectors=s,this.loggedDispatchers=c,this.windowUtilService=l,this.loginService=u,this.spinnerService=p,this.companySettingsService=d,this.mobileVersionSelectors=g,this.messageReceiverService=f,this.companySettingsSelectors=m,this.translateService=v,this.showLogin=!1,this.isLoading=!1,this.externalsProviders=[],this.languageSelect=[],this.forceOauth=!1,this.intervalId=null,this.loopCount=600,this.intervalLength=100}return m(e,[{key:"ngOnInit",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializeComponent();case 2:case"end":return e.stop()}},e,this)}))}},{key:"onSubmit",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.isLoading=!0,!e){t.next=22;break}return n={user:this.user,password:this.password},t.next=5,this.loginService.getDomainForLogin();case 5:if(""!==(i=t.sent)&&(n.user+="@".concat(i)),this.setUserPreferences(),!Oe.ZP.isTomcatAppServer()){t.next=12;break}this.authService.loginTomcat(n).then(function(){o.initDefaultServices()}),t.next=20;break;case 12:if(this.globals.setUser(n.user),!Oe.ZP.isErpRM()){t.next=18;break}return t.next=16,this.changePassFirstLogin(n);case 16:t.next=20;break;case 18:return t.next=20,this.login(n);case 20:t.next=23;break;case 22:this.isLoading=!1;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(0),this.isLoading=!1;case 28:case"end":return t.stop()}},t,this,[[0,25]])}))}},{key:"openRecoveryDialog",value:function(){Oe.ZP.isErpDatasul()?this.dtsRecoveryDialog.openRecoveryDialog():this.recoveryDialog.openRecoveryDialog()}},{key:"selectProviderSaml",value:function(e){this.windowUtilService.changeHref(e.urlLogin)}},{key:"getClassButton",value:function(e){var t;return e.length>=25&&(t="buttonLarge"),t}},{key:"selectedProvider",value:function(e){this.popUpOauthWindow(e.authorizeEndpoint,e.clientId,this.getRedirectUri(),e.defaultsScope,e.id)}},{key:"popUpOauthWindow",value:function(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"openid",a=arguments.length>4?arguments[4]:void 0,r=this.loopCount;this.windowHandle=this.createOauthWindow(e+"?response_type=token&client_id="+t+"&redirect_uri="+n+"&scope="+o,"Login"),this.intervalId=window.setInterval(function(){if(r--<0)window.clearInterval(i.intervalId),i.windowHandle.close();else{var e;try{e=i.windowHandle.location.href}catch(s){console.log("Error:",s)}if(null!=e&&e.includes("token")){window.clearInterval(i.intervalId);for(var t=e.split("#")[1].split("&"),n={},o=0;o<t.length;o++)n[t[o].split("=")[0]]=t[o].split("=")[1];i.oauthToken=n.access_token,i.autorizeOauth(n.access_token,a),i.windowHandle.close()}}},this.intervalLength)}},{key:"createOauthWindow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Authorization",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(screen.width-n)/2,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(screen.height-i)/2;return null==e?null:window.open(e,t,"width=".concat(n,",height=").concat(i,",left=").concat(o,",top=").concat(a))}},{key:"autorizeOauth",value:function(e,t){var n=this;this.authService.getTokenPrincipal(e,t).then(function(e){n.initializeLocalStorage({token:e.Access_token,refreshToken:e.Refresh_token}),n.initDefaultServices()})}},{key:"getRedirectUri",value:function(){var e=window.location.href,t=e.indexOf("/#");return e.slice(0,t)}},{key:"getErp",value:function(){var e="Meu RH";return Oe.ZP.isErpRM()&&(e="Linha RM"),Oe.ZP.isErpDatasul()&&(e="Linha Datasul"),Oe.ZP.isErpProtheus()&&(e="Linha Protheus"),e}},{key:"useOauth",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!Oe.ZP.isErpRM()||!this.globals.isNewApiModelRM(),e.t0){e.next=7;break}return e.next=4,this.getExternalsProviders();case 4:return e.next=6,this.getOauthForceLogin();case 6:e.t0=0;case 7:return e.abrupt("return",!e.t0);case 8:case"end":return e.stop()}},e,this)}))}},{key:"checkIfShouldUseMessageReceiverForLogin",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.mobileVersionSelectors.shouldUseMessageReceiverForLogin());case 1:case"end":return e.stop()}},e,this)}))}},{key:"externalLoginDatasul",value:function(){this.globals.existsSessionTomcat()?this.externalLoginTomcat():this.globals.existsSessionJboss()&&this.externalLoginJboss()}},{key:"externalLoginDatasulByMessage",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.messageReceiverService.messages$.pipe((0,mn.h)(function(e){return(null==e?void 0:e.type)===xn.E.LOGIN_WITH_CREDENTIALS}),(0,vn.q)(1),(0,bn.U)(function(e){return e})).toPromise();case 2:if(!(t=e.sent).jboss){e.next=8;break}return e.next=6,this.externalLoginJboss(t.credentials);case 6:e.next=10;break;case 8:return e.next=10,this.externalLoginTomcat(t.credentials);case 10:case"end":return e.stop()}},e,this)}))}},{key:"externalLoginTomcat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.globals.getSessionTomcat();return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Oe.ZP.isTomcatAppServer()){t.next=6;break}return n=JSON.parse(atob(e)),i={user:n.user,password:n.password},t.next=5,this.authService.loginTomcat(i);case 5:this.initDefaultServices();case 6:t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),this.isLoading=!1,new Error("Tomcat login error"+t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}))}},{key:"externalLoginJboss",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.globals.getSessionJboss();return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Oe.ZP.isErpDatasul()){t.next=5;break}return n=JSON.parse(atob(e)),i={user:n.user,password:n.password},t.next=5,this.login(i);case 5:t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),this.isLoading=!1,new Error("Jboss login error"+t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"loggedIsTrue",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.globals.cleanEmployeeSummary(),this.shouldUseMessageReceiverForLogin||!this.windowUtilService.isWebView()){e.next=5;break}e.t0="true"===localStorage.getItem("isLogged"),e.next=8;break;case 5:return e.next=7,this.loggedSelectors.nextIsLoggedNotNull();case 7:e.t0=e.sent;case 8:e.t0?Oe.ZP.isErpProtheus()?this.windowUtilService.isWebView()?this.doNavigation(!1):this.authService.isFirstLogin(this.user).then(function(e){t.doNavigation(e.isFirstLogin)}):this.doNavigation(!1):this.doNavigation(!0);case 10:case"end":return e.stop()}},e,this)}))}},{key:"doNavigation",value:function(e){e&&!Oe.ZP.isTomcatAppServer()?(this.isLoading=!1,this.navigationUtilService.doNavigation("/login")):this.navigationUtilService.doNavigation("/home")}},{key:"changePassFirstLogin",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Oe.ZP.isErpRM()){t.next=13;break}return t.next=3,this.authService.isFirstLoginAuthentic(e);case 3:if(t.t0=t.sent.isFirstLogin,!t.t0){t.next=6;break}t.t0=e;case 6:if(!t.t0){t.next=10;break}this.resetPassword.emitSubChangePass(e.user),t.next=11;break;case 10:this.login(e);case 11:t.next=23;break;case 13:return t.next=15,this.authService.isFirstLogin(e.user);case 15:if(t.t1=t.sent.isFirstLogin,!t.t1){t.next=18;break}t.t1=e.user;case 18:if(!t.t1){t.next=22;break}Oe.ZP.isErpProtheus()&&this.globals.clearTokenStorage(),this.resetPassword.emitSubChangePass(e.user),t.next=23;break;case 22:this.initDefaultServices();case 23:case"end":return t.stop()}},t,this)}))}},{key:"login",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.authService.login(e);case 3:(n=t.sent)&&this.authErrorProtheus(n)?Oe.ZP.isErpProtheus()?this.changePassFirstLogin(e):((Oe.ZP.isErpRM()||Oe.ZP.isErpNode())&&this.initializeLocalStorage(n),this.initDefaultServices()):this.appTranslateService.getI18n("l-invalid-login").then(function(e){i.notificationService.showNotification(e,k.ik9.Error)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.isLoading=!1,console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"authErrorProtheus",value:function(e){return!(Oe.ZP.getErp()===Oe.Ld.PROTHEUS&&e.indexOf("auth-error.html")>=0&&(this.spinnerService.resetSpinnerCount(),this.isLoading=!1,1))}},{key:"initDefaultServices",value:function(){this.loggedDispatchers.setIsLogged(!0),this.navigationUtilService.doNavigation("/home")}},{key:"getUserPreferences",value:function(){var e=JSON.parse(localStorage.getItem("userPreferences"));e&&(this.user=e.user,this.rememberUser=!0)}},{key:"setUserPreferences",value:function(){this.rememberUser&&localStorage.setItem("userPreferences",JSON.stringify({user:this.user}))}},{key:"initializeLocalStorage",value:function(e){e&&e.token&&(this.globals.setToken(e.token),this.loggedDispatchers.setIsLogged(!0))}},{key:"defineShowLogin",value:function(){this.showLogin=!(Oe.ZP.isTomcatAppServer()||this.windowUtilService.isWebView())}},{key:"checkAutoSubmitLogin",value:function(){return!this.showLogin&&Oe.ZP.isTomcatAppServer()&&!this.windowUtilService.isWebView()}},{key:"getExternalsProviders",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.companySettingsService.getCompanySettings();case 2:t=e.sent,this.companySettings=t,this.externalsProviders=t.providersOauth;case 4:case"end":return e.stop()}},e,this)}))}},{key:"getOauthForceLogin",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authService.getForceOauthLogin();case 2:this.forceOauth=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"setDefaultLanguage",value:function(){this.languageSelect=[{value:"pt",label:"Portugu\xeas"},{value:"en",label:"English"},{value:"es",label:"Espa\xf1ol"}],this.language=localStorage.getItem("usedLanguage")?localStorage.getItem("usedLanguage"):String(this.languageSelect[0].value)}},{key:"changeLanguage",value:function(e){localStorage.setItem("usedLanguage",e),this.translateService.use(e)}},{key:"shouldShowForgotPasswordOption",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.windowUtilService.isWebView()||!Oe.ZP.isErpDatasul()){e.next=11;break}return e.prev=1,e.next=4,this.companySettingsService.getCompanySettings();case 4:t=e.sent,this.companySettings=t,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.companySettings={forgotPasswordEnabled:!0};case 11:case"end":return e.stop()}},e,this,[[1,8]])}))}},{key:"getCompanySettings",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loggedSelectors.nextIsLoggedNotNull();case 2:if(t=e.sent,(Oe.ZP.isErpRM()||Oe.ZP.isErpNode())&&!t&&!this.windowUtilService.isWebView()){e.next=7;break}this.companySettings={forgotPasswordEnabled:!0,requiredSSO:!1,samlProviders:[{}],providersOauth:[{}]},e.next=11;break;case 7:return e.next=9,this.companySettingsSelectors.nextCompanySettingsNotNull();case 9:this.companySettings=e.sent,this.companySettings&&this.companySettings.samlProviders&&this.companySettings.samlProviders.length>0&&(this.samlProviderSelected=this.companySettings.samlProviders[0]);case 11:case"end":return e.stop()}},e,this)}))}},{key:"initializeComponent",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCompanySettings();case 2:return this.defineShowLogin(),e.next=5,this.checkIfShouldUseMessageReceiverForLogin();case 5:return this.shouldUseMessageReceiverForLogin=e.sent,this.shouldUseMessageReceiverForLogin?this.externalLoginDatasulByMessage():this.externalLoginDatasul(),this.loggedIsTrue(),this.getUserPreferences(),this.checkAutoSubmitLogin()&&this.onSubmit(!0),e.next=12,this.useOauth();case 12:this.setDefaultLanguage();case 13:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){this.isLoading=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(hn),c.Y36(ke.O),c.Y36(N._),c.Y36(dn),c.Y36(ce.g),c.Y36(le.g),c.Y36(qe.ek),c.Y36(qe.pG),c.Y36(ue.g),c.Y36(Cn),c.Y36(yn.V),c.Y36(wn),c.Y36(qe.QM),c.Y36(T.r),c.Y36(qe.m9),c.Y36(C.sK))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-login"]],viewQuery:function(e,t){var n;(1&e&&(c.Gf(Mn,5),c.Gf(Zn,5)),2&e)&&(c.iGM(n=c.CRH())&&(t.recoveryDialog=n.first),c.iGM(n=c.CRH())&&(t.dtsRecoveryDialog=n.first))},decls:2,vars:2,consts:[[4,"ngIf"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","login-container"],["class","input login-form",4,"ngIf"],["class","input login-form po-pb-5",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","footer"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","totvs-language"],[1,"button-language"],["name","language",1,"button-language",3,"p-options","ngModel","p-change","ngModelChange"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","totvs-logo-grey"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","login-side-image"],[1,"text-box","po-sm-6","po-md-6","po-lg-6","po-xl-5"],[1,"input","login-form"],[1,"login-corporate-logo"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","welcome"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","login-info-erp"],[3,"keyup.enter",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 forgot-password",3,"click",4,"ngIf"],[3,"keyup.enter"],["loginForm","ngForm"],["p-clean","true","p-disabled","false","p-auto-focus","true","p-icon","po-icon po-icon-user","name","user","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-user",3,"ngModel","p-placeholder","ngModelChange"],["name","password","p-icon","po-icon po-icon-lock","p-required","true","p-no-autocomplete","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-placeholder","ngModelChange"],[1,"po-sm-12","remember-user-container"],[1,"po-sm-10","po-md-10","po-lg-10","po-xl-10","remember-user"],["p-label-off","","p-label-on","","name","switch",1,"switch","po-sm-2","po-md-2","po-lg-2","po-xl-2",3,"ngModel","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","login-button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","forgot-password",3,"click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","text-center"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 external-provider-hover",3,"click",4,"ngFor","ngForOf"],[1,"po-sm-5","po-md-5","po-lg-5","po-xl-5"],[1,"po-sm-2","po-md-2","po-lg-2","po-xl-2","separator"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","forceOauth"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","external-provider-hover",3,"click"],[1,"external-provider",3,"ngClass"],["class","external-image",3,"src",4,"ngIf"],[1,"external-image",3,"src"],[1,"input","login-form","po-pb-5"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","login-info","po-mt-2","po-mb-5"],[3,"buttonsProvidersSaml","providerClicked"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","totvs-logo-grey"]],template:function(e,t){1&e&&(c.YNc(0,Nn,17,7,"ng-container",0),c.YNc(1,En,2,0,"div",0)),2&e&&(c.Q6J("ngIf",t.showLogin),c.xp6(1),c.Q6J("ngIf",t.isLoading))},directives:[d.O5,k.C9q,y.JJ,y.On,Mn,Zn,y._Y,y.JL,y.F,k.xxV,k.Rsf,k.nrg,k.bOz,d.sg,d.mk,Pn,k.$nQ],pipes:[C.X$],styles:['.input-user[_ngcontent-%COMP%]{margin-top:7%}.switch[_ngcontent-%COMP%]{text-align:right;padding:0}.link[_ngcontent-%COMP%]{cursor:pointer;font-weight:bold;text-align:center}.totvs-logo[_ngcontent-%COMP%]{text-align:center}.login-corporate-logo[_ngcontent-%COMP%]{background-image:url(logo_totvs_login_v2.1884ee99cc62689196bf.svg);height:75px!important;background-position-x:center;background-repeat:no-repeat;width:auto;text-align:center}.text-box[_ngcontent-%COMP%]{position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);padding-left:60px}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;white-space:normal;white-space:initial;font-size:50px;font-family:"NunitoSans-ExtraLight"}.welcome[_ngcontent-%COMP%]{text-align:center;font-size:34px;font-family:"NunitoSans-ExtraLight";color:#000}[_nghost-%COMP%]     .po-switch-label-right{color:transparent;width:0px;height:0px;position:absolute}[_nghost-%COMP%]     .po-switch-content{display:inline-block}[_nghost-%COMP%]     .po-switch-button-on>.po-icon-ok{color:#0c9abe;font-weight:700;left:-1px;position:relative;top:0px!important;font-size:18px!important}[_nghost-%COMP%]     .po-switch-button-off>.po-icon-close{color:#dadedf;font-weight:700;left:-1px;position:relative;top:0px!important;font-size:18px!important}  body{overflow-x:hidden}.img-landing-page[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:"NunitoSans";padding-left:20px}.text-image[_ngcontent-%COMP%]{position:absolute;top:50%;width:50%}.remember-user[_ngcontent-%COMP%]{line-height:32px;text-align:right}.remember-user-container[_ngcontent-%COMP%]{margin-bottom:16px}.footer[_ngcontent-%COMP%]{position:fixed;height:50px;bottom:0px;left:0px;right:0px;margin-bottom:5px;width:50%}.totvs-logo-grey[_ngcontent-%COMP%]{background:url(totvs-logo-grey.43c98fab6cddbde8afa1.svg) no-repeat center center;height:40px}.totvs-language[_ngcontent-%COMP%]{height:40px}.login-button[_ngcontent-%COMP%]{margin-bottom:5%}.forgot-password[_ngcontent-%COMP%]{color:#0c9abe;padding-bottom:5px;cursor:pointer;font-weight:bold;text-align:center}.login-info-erp[_ngcontent-%COMP%]{font-size:24px;line-height:32px;text-align:center;color:#0c9abe;margin-top:5%}.login-info[_ngcontent-%COMP%]{font-size:20px;text-align:center}.img-landing-page[_ngcontent-%COMP%]{max-width:50%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:15%;object-position:15%;position:absolute;-webkit-filter:contrast(50%) brightness(80%);filter:contrast(50%) brightness(80%)}.login-side-image[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(login-page-v2.67d56ac3deb987d5a4d4.jpg);background-size:cover;background-position:30%;height:100%;max-width:50%;position:absolute;translate:0,-50%;left:50%;padding:0}.layer[_ngcontent-%COMP%]{background-color:rgba(248,247,216,.7);position:absolute;top:0;left:0;width:100%;height:100%}.login-container[_ngcontent-%COMP%]{height:100vh}.login-form[_ngcontent-%COMP%]{clear:both;height:auto;max-width:320px}.external-provider[_ngcontent-%COMP%]{font-family:NunitoSans-Bold,sans-serif;font-size:16px;line-height:24px;border:1px solid #0c9abe;border-radius:3px;color:#0c9abe;display:inline-block;height:44px;padding:0 16px;cursor:pointer;text-align:center;background:white;width:100%;margin-bottom:10px}.external-image[_ngcontent-%COMP%]{margin-right:12px;width:35px}.separator[_ngcontent-%COMP%]{color:#9b9b9b!important;padding-bottom:15px}@media screen and (max-width: 1366px){[_nghost-%COMP%]     .po-switch-content{padding:0}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:34px;font-family:"NunitoSans-ExtraLight"}}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.login-side-image[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:calc(100% - 32px)}.welcome[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-family:"NunitoSans-Bold";color:#000}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]{width:100%!important}}@media screen and (min-width: 961px){.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:48%;left:25%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media screen and (min-width: 1367px){.input[_ngcontent-%COMP%]{margin-top:55px}.remember-user[_ngcontent-%COMP%]{margin-top:30px;line-height:0px}}@media screen and (min-width: 481px),(max-width: 960px){.totvs-logo[_ngcontent-%COMP%]{height:149px;width:300px}.login-corporate-logo[_ngcontent-%COMP%]{background-image:url(logo_totvs_login_v2.1884ee99cc62689196bf.svg);width:100%;height:100px}}[_nghost-%COMP%]     .po-select-button{background-color:rgba(0,0,0,0)!important;border:rgba(0,0,0,0)!important;box-shadow:none!important;padding-left:0!important;width:25%;left:45%;font-size:14px}.forceOauth[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}.buttonLarge[_ngcontent-%COMP%]{height:68px!important}']}),e}(),Fn=["resetPasswordForm"],Jn=function(){var e=function(){function e(t,n,i,o,a){h(this,e),this.resetPasswordService=t,this.appTranslateService=n,this.notificationService=i,this.route=o,this.navigationUtilService=a,this.isLoading=!1}return m(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe(function(t){e.hash=t.hash,e.guid=t.guid})}},{key:"onSubmit",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resetPasswordForm.form.valid){e.next=9;break}if(this.isLoading=!0,this.newPassword!==this.confirmNewPassword){e.next=5;break}this.resetPassword(),e.next=9;break;case 5:return e.next=7,this.appTranslateService.getI18n("l-incorrect-confirm-password");case 7:t=e.sent,this.isLoading=!1,this.notificationService.showNotification(t,k.ik9.Error);case 9:case"end":return e.stop()}},e,this)}))}},{key:"resetPassword",value:function(){Oe.ZP.isErpDatasul()?this.updatePassword({newPassword:this.newPassword,guid:this.guid,confirmNewPassword:this.confirmNewPassword},"dtsResetPassword"):this.updatePassword({password:this.newPassword,hash:this.hash},"updatePassword")}},{key:"updatePassword",value:function(e,t){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.resetPasswordService[t](e);case 3:return n.next=5,this.appTranslateService.getI18n("l-password-changed");case 5:i=n.sent,this.notificationService.showNotification(i,k.ik9.Success),this.navigationUtilService.doNavigation("login"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),this.isLoading=!1,console.error("Erro ao tentar redefinir a senha: "+n.t0.message);case 12:case"end":return n.stop()}},n,this,[[0,9]])}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(dn),c.Y36(le.g),c.Y36(ce.g),c.Y36(D.gz),c.Y36(N._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-reset-password"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(Fn,5),2&e)&&(c.iGM(n=c.CRH())&&(t.resetPasswordForm=n.first))},decls:19,vars:19,consts:[[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[3,"keyup.enter"],["resetPasswordForm","ngForm"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","input"],[1,"totvs-logo"],["src","./assets/img/logo_totvs_login.svg","alt",""],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","title"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","subtitle"],["name","newPassword","p-clean","","p-auto-focus","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-newpass",3,"ngModel","p-placeholder","ngModelChange"],["name","confirmPassword","p-clean","","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-placeholder","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","confirm-button",3,"p-disabled","p-loading","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","totvs-logo-grey"]],template:function(e,t){if(1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"form",1,2),c.NdJ("keyup.enter",function(){return t.onSubmit()}),c.TgZ(3,"div",3),c.TgZ(4,"span",4),c._UZ(5,"img",5),c.qZA(),c.TgZ(6,"span",6),c._uU(7),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"span",7),c._uU(10),c.ALo(11,"translate"),c.qZA(),c.TgZ(12,"po-password",8),c.NdJ("ngModelChange",function(e){return t.newPassword=e}),c.ALo(13,"translate"),c.qZA(),c.TgZ(14,"po-password",9),c.NdJ("ngModelChange",function(e){return t.confirmNewPassword=e}),c.ALo(15,"translate"),c.qZA(),c.TgZ(16,"po-button",10),c.NdJ("p-click",function(){return t.onSubmit()}),c.ALo(17,"translate"),c.qZA(),c._UZ(18,"div",11),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.MAs(2);c.xp6(7),c.Oqu(c.lcZ(8,9,"l-change-password")),c.xp6(3),c.Oqu(c.lcZ(11,11,"l-change-password-info")),c.xp6(2),c.s9C("p-placeholder",c.lcZ(13,13,"l-choice-new-password")),c.Q6J("ngModel",t.newPassword),c.xp6(2),c.s9C("p-placeholder",c.lcZ(15,15,"l-repeat-new-password")),c.Q6J("ngModel",t.confirmNewPassword),c.xp6(2),c.s9C("p-loading",t.isLoading),c.s9C("p-label",c.lcZ(17,17,"l-confirm")),c.Q6J("p-disabled",!n.form.valid)}},directives:[y._Y,y.JL,y.F,k.Rsf,y.JJ,y.On,k.bOz],pipes:[C.X$],styles:['.input-newpass[_ngcontent-%COMP%]{margin-top:7%}.totvs-logo[_ngcontent-%COMP%]{margin-left:-4%}.title[_ngcontent-%COMP%]{text-align:center;font-size:35px;color:#000;white-space:nowrap}.subtitle[_ngcontent-%COMP%]{font-size:20px;text-align:center}.totvs-logo-grey[_ngcontent-%COMP%]{background:url(totvs-logo-grey.43c98fab6cddbde8afa1.svg) no-repeat center center;height:40px}.confirm-button[_ngcontent-%COMP%]{margin-bottom:12%}.text-box[_ngcontent-%COMP%]{position:absolute;top:40%;padding-left:50px;height:auto}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-family:"NunitoSans";font-size:40px;white-space:normal;white-space:initial;line-height:50px}.img-landing-page[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:"NunitoSans";padding-left:20px}.img-landing-page[_ngcontent-%COMP%]{max-width:50%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:15%;object-position:15%;position:absolute;-webkit-filter:contrast(50%) brightness(80%);filter:contrast(50%) brightness(80%)}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 961px){.input[_ngcontent-%COMP%]{position:relative;left:50%;margin-left:-180px;max-width:360px;margin-top:40px;padding-top:10px}}@media screen and (min-width: 1367px){.input[_ngcontent-%COMP%]{max-width:360px;left:50%;margin-left:-180px;margin-top:55px}}']}),e}(),Vn=n(29163),Yn=n(77859),zn=n(48681),Qn=n(94405),Gn="report",Hn=function(){var e=function(){function e(t,n,i){h(this,e),this.serviceGeneric=t,this.fileManipulationService=n,this.configurationService=i}return m(e,[{key:"getReports",value:function(e){return this.serviceGeneric.get("".concat(Gn,"/GetReports/").concat(e),void 0)}},{key:"getCategories",value:function(){return this.serviceGeneric.get("".concat(Gn,"/GetCategories"),void 0)}},{key:"getReportDownloadUrl",value:function(e){var t=this;return new Promise(function(n){n(t.configurationService.getServerApiUrl().then(function(t){var n="".concat(t).concat(Gn,"/GenerateReport/").concat(encodeURIComponent(e));return Oe.ZP.isErpNode()||Oe.ZP.isErpProtheus()?n:"".concat(document.location.origin).concat(n)}))})}},{key:"openReport",value:function(e,t){return this.fileManipulationService.openFile("".concat(Gn,"/GenerateReport/").concat(e),t,"application/pdf")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M),c.LFG(Qn.e),c.LFG(zn.e))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Bn=n(93738);function jn(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"mat-card",7),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw().listReports(e.id,e.description)}),c.TgZ(1,"mat-card-header"),c.TgZ(2,"mat-card-title"),c._uU(3),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit;c.xp6(3),c.Oqu(i.description)}}var $n=function(){var e=function(){function e(t,n,i,o){h(this,e),this.navigationUtil=t,this.reportsService=n,this.globals=i,this.lastAccessService=o,this.categoryList=[]}return m(e,[{key:"ngOnInit",value:function(){this.setCountLastAccess(),this.loadCategory()}},{key:"listReports",value:function(e,t){this.navigationUtil.doNavigation("listReports/"+e+"/"+t)}},{key:"loadCategory",value:function(){var e=this;this.reportsService.getCategories().then(function(t){t&&(e.categoryList=t)})}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccessService.setLastAccess($e.c5,t.id)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(N._),c.Y36(Hn),c.Y36(ke.O),c.Y36($e.Lx))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-reports-category"]],decls:10,vars:8,consts:[[3,"backIsVisible","pageTitle"],[1,"period","report-category"],[1,"po-row"],[1,"field","Xpo-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-font-subtitle","text-subtitle","ng-star-inserted"],["id","div-annual-receipt-container",1,"panel-body","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["class","card-category",3,"click",4,"ngFor","ngForOf"],[1,"card-category",3,"click"]],template:function(e,t){1&e&&(c._UZ(0,"app-page-header",0),c.ALo(1,"translate"),c.TgZ(2,"div",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"p",4),c._uU(6),c.ALo(7,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(8,"div",5),c.YNc(9,jn,4,1,"mat-card",6),c.qZA()),2&e&&(c.s9C("pageTitle",c.lcZ(1,4,"l-generate-report")),c.Q6J("backIsVisible",!1),c.xp6(6),c.Oqu(c.lcZ(7,6,"l-reports-category-title")),c.xp6(3),c.Q6J("ngForOf",t.categoryList))},directives:[E.q,d.sg,Bn.a8,Bn.dk,Bn.n5],pipes:[C.X$],styles:["#div-annual-receipt-container[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:20px!important}.card-category[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;box-shadow:0 2px 8px #e3e6f1;cursor:pointer}.mat-card[_ngcontent-%COMP%]{padding:10px 5px 5px;font-weight:bold;color:#0c9abe}.calendar-year[_ngcontent-%COMP%]{font-size:12px}.report-category[_ngcontent-%COMP%]{margin-top:25px}"]}),e}(),Wn=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"transform",value:function(e,t){return e?t?(t=t.toLowerCase(),e.filter(function(e){if(e&&e.description)return e.description.toLowerCase().includes(t)})):e:[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Yjl({name:"reportsFilter",type:e,pure:!0}),e}();function Kn(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",15),c.TgZ(1,"po-input",16),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().searchText=e}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("ngModel",i.searchText)}}function Xn(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span",24),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw().downloadReport(e.id,e.description)}),c.qZA()}}function ei(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span",25),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw().shareReport(e.id,e.description)}),c.qZA()}}var ti=function(e){return{line:e}};function ni(e,t){if(1&e&&(c.TgZ(0,"tr",17),c.TgZ(1,"td",18),c.TgZ(2,"div",2),c.TgZ(3,"div",19),c.TgZ(4,"span",20),c._uU(5),c.qZA(),c.qZA(),c.TgZ(6,"div",21),c.YNc(7,Xn,1,0,"span",22),c.YNc(8,ei,1,0,"span",23),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=t.last,o=c.oxw();c.Q6J("ngClass",c.VKq(4,ti,!i)),c.xp6(5),c.Oqu(n.description),c.xp6(2),c.Q6J("ngIf",!o.isIOS()),c.xp6(1),c.Q6J("ngIf",o.isWebView())}}function ii(e,t){1&e&&(c.TgZ(0,"div",26),c._UZ(1,"img",27),c.TgZ(2,"div",28),c.TgZ(3,"p",29),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Oqu(c.lcZ(5,1,"l-reports-empty")))}function oi(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-button",30),c.NdJ("p-click",function(){return c.CHM(n),c.oxw().showMore()}),c.ALo(1,"translate"),c.qZA()}2&e&&c.s9C("p-label",c.lcZ(1,1,"l-load-more"))}var ai=function(){var e=function(){function e(t,n,i,o,a,r,s,c){h(this,e),this.reportsService=t,this.windowUtilService=n,this.ionicUtilService=i,this.fileManipulationService=o,this.appTranslateService=a,this.toastsManager=r,this.route=s,this.spinnerService=c}return m(e,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.getURLParamCategory(),this.getReports(),this.pageCount=10}},{key:"getReports",value:function(){var e=this;this.reportsService.getReports(this.idCategory).then(function(t){t&&(e.isLoading=!1,e.reportsInfo=t,e.showLoadMore=!0,e.pageCount>=e.reportsInfo.length&&(e.showLoadMore=!1))})}},{key:"doPagination",value:function(e){this.pageCount>=e&&(this.showLoadMore=!1)}},{key:"downloadReport",value:function(e,t){var n=this,i=this.fileManipulationService.formatFilenameReport([t]);this.isWebView()?(this.spinnerService.show(),this.reportsService.getReportDownloadUrl(e).then(function(e){n.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:i,fileMIMEtype:"application/pdf"},type:Pe.g.DownloadAndOpenFile})}).catch(function(e){n.spinnerService.hide()})):this.reportsService.openReport(e,i)}},{key:"shareReport",value:function(e,t){var n=this,i=this.fileManipulationService.formatFilenameReport([t]);this.isWebView()?(this.spinnerService.show(),this.reportsService.getReportDownloadUrl(e).then(function(e){n.appTranslateService.getI18n("m-subject-app-reports").then(function(t){n.ionicUtilService.emit({args:{url:e,filename:i,subject:t},type:Pe.g.ShareFile})})}).catch(function(e){n.spinnerService.hide()})):this.appTranslateService.getI18n("m-not-web-view-device").then(function(e){n.toastsManager.info(e)})}},{key:"showMore",value:function(){this.pageCount+=10,this.pageCount>=this.reportsInfo.length&&(this.showLoadMore=!1)}},{key:"getURLParamCategory",value:function(){this.idCategory=this.route.snapshot.paramMap.get("category"),this.descriptionCategory=this.route.snapshot.paramMap.get("description")}},{key:"reportsIsEmpty",value:function(){return!this.reportsInfo||0===this.reportsInfo.length}},{key:"isIOS",value:function(){return this.windowUtilService.isIOS()}},{key:"isWebView",value:function(){return this.windowUtilService.isWebView()}},{key:"callbackIonicExternalEvent",value:function(e){(e.detail.event.type===Pe.g.DownloadAndOpenFile||e.detail.event.type===Pe.g.ShareFile)&&this.spinnerService.hide()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Hn),c.Y36(ue.g),c.Y36(Pe.l),c.Y36(Qn.e),c.Y36(le.g),c.Y36(P._W),c.Y36(D.gz),c.Y36(yn.V))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-reports"]],hostBindings:function(e,t){1&e&&c.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,c.evT)},decls:21,vars:16,consts:[[3,"backIsVisible","pageTitle"],[1,"period","report-list"],[1,"po-row"],[1,"field","po-sm-12","po-md-6","po-lg-6","po-xl-6"],[1,"po-font-subtitle","text-subtitle","ng-star-inserted"],[1,"field","po-hidden-sm","po-hidden-md","po-sm-3","po-md-3","po-lg-3","po-xl-3"],["class","field po-sm-12 po-md-6 po-lg-3 po-xl-3",4,"ngIf"],["id","div-annual-receipt-container",1,"panel-body","header-divider","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["id","table-annual-receipt",1,"header-divider","table","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[3,"ngClass",4,"ngFor","ngForOf"],["class","empty-center",4,"ngIf"],[1,"po-xl-4","po-lg-4","po-md-3","po-sm-3"],[1,"po-xl-4","po-lg-4","po-md-4","po-sm-6","load-more"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12","p-type","default",3,"p-label","p-click",4,"ngIf"],[1,"po-xl-4","po-lg-4","po-md-4","po-sm-4"],[1,"field","po-sm-12","po-md-6","po-lg-3","po-xl-3"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false","p-placeholder","Busque por nome",3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"line-padding"],[1,"po-xl-10","po-lg-10","po-md-8","po-sm-8"],[1,"calendar-year"],[1,"po-xl-2","po-lg-2","po-md-4","po-sm-4"],["class","pull-right ico-download icon-color-totvs mouse-pointer download-icon waves-effect waves-base",3,"click",4,"ngIf"],["class","pull-right ico-share-2 icon-color-totvs mouse-pointer share-icon waves-effect waves-base",3,"click",4,"ngIf"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base",3,"click"],[1,"pull-right","ico-share-2","icon-color-totvs","mouse-pointer","share-icon","waves-effect","waves-base",3,"click"],[1,"empty-center"],["src","assets/img/empty-state.svg",1,"img-empty"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["id","empty"],["p-type","default",1,"po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"p-label","p-click"]],template:function(e,t){1&e&&(c._UZ(0,"app-page-header",0),c.ALo(1,"translate"),c.TgZ(2,"div",1),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"p",4),c._uU(6),c.qZA(),c.qZA(),c._UZ(7,"div",5),c.YNc(8,Kn,2,1,"div",6),c.qZA(),c.qZA(),c.TgZ(9,"div",7),c.TgZ(10,"table",8),c.TgZ(11,"tbody"),c.YNc(12,ni,9,6,"tr",9),c.ALo(13,"slice"),c.ALo(14,"reportsFilter"),c.qZA(),c.qZA(),c.qZA(),c.YNc(15,ii,6,3,"div",10),c.TgZ(16,"div",2),c._UZ(17,"div",11),c.TgZ(18,"div",12),c.YNc(19,oi,2,3,"po-button",13),c.qZA(),c._UZ(20,"div",14),c.qZA()),2&e&&(c.s9C("pageTitle",c.lcZ(1,7,"l-generate-report")),c.Q6J("backIsVisible",!0),c.xp6(6),c.Oqu(t.descriptionCategory),c.xp6(2),c.Q6J("ngIf",!t.reportsIsEmpty()),c.xp6(4),c.Q6J("ngForOf",c.Dn7(13,9,c.xi3(14,13,t.reportsInfo,t.searchText),0,t.pageCount)),c.xp6(3),c.Q6J("ngIf",t.reportsIsEmpty()&&!t.isLoading),c.xp6(4),c.Q6J("ngIf",t.showLoadMore))},directives:[E.q,d.O5,d.sg,k.xxV,y.JJ,y.On,d.mk,k.bOz],pipes:[C.X$,d.OU,Wn],styles:[".line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.line-padding[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:5px;margin-bottom:0}#div-annual-receipt-container[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:20px!important}table#table-annual-receipt.table[_ngcontent-%COMP%]{margin-bottom:0}.calendar-year[_ngcontent-%COMP%]{font-size:14px}.download-icon[_ngcontent-%COMP%]{padding:5px}.share-icon[_ngcontent-%COMP%]{padding:5px}.load-more[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.report-list[_ngcontent-%COMP%]{margin-top:25px}.img-empty[_ngcontent-%COMP%]{width:100%;max-width:220px;padding-bottom:10px}@media only screen and (min-width: 481px) and (max-width: 960px){.img-empty[_ngcontent-%COMP%]{width:100%;max-width:365px;padding-bottom:10px}}.empty-center[_ngcontent-%COMP%]{text-align:center}"]}),e}(),ri=n(42628),si=n(85385),ci=n(63114),li=n(49512),ui=n(12994),pi=(n(54683),n(18648));function di(e,t){1&e&&(c.TgZ(0,"div",13),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-reason")," "))}function gi(e,t){1&e&&(c.TgZ(0,"div",2),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-date-initial")," "))}function hi(e,t){1&e&&(c.TgZ(0,"div",2),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-date-end")," "))}function fi(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"titleCase"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.lcZ(2,1,n.notification.fieldsView.reason.value)," ")}}function mi(e,t){if(1&e&&(c.TgZ(0,"div",14),c.YNc(1,fi,3,3,"span",15),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.notification.fieldsView.reason)}}function vi(e,t){if(1&e&&(c.TgZ(0,"span",17),c._uU(1),c.ALo(2,"utcDate"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.xi3(2,1,n.notification.fieldsView.initDate.value,"dd/MM/yyyy")," ")}}function bi(e,t){if(1&e&&(c.TgZ(0,"div",5),c.YNc(1,vi,3,4,"span",16),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.notification.fieldsView.initDate)}}function xi(e,t){if(1&e&&(c.TgZ(0,"span",19),c._uU(1),c.ALo(2,"utcDate"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.xi3(2,1,n.notification.fieldsView.endDate.value,"dd/MM/yyyy")," ")}}function yi(e,t){if(1&e&&(c.TgZ(0,"div",5),c.YNc(1,xi,3,4,"span",18),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.notification.fieldsView.endDate)}}function wi(e,t){1&e&&(c.TgZ(0,"div",13),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-initial-hour")," "))}function Zi(e,t){1&e&&(c.TgZ(0,"div",13),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-final-hour")," "))}function Ci(e,t){1&e&&(c.TgZ(0,"div",9),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-total-hours")," "))}function Mi(e,t){if(1&e&&(c.TgZ(0,"div",11),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",n.initHourFormatted," ")}}function ki(e,t){if(1&e&&(c.TgZ(0,"div",11),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",n.endHourFormatted," ")}}function Ai(e,t){if(1&e&&(c.TgZ(0,"div",11),c._uU(1),c.ALo(2,"formatMillisecondsAsHour"),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",c.lcZ(2,1,n.notification.fieldsView.totalHours.value)," ")}}function Pi(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"titleCase"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.lcZ(2,1,n.notification.fieldsView.justify.value)," ")}}function Oi(e,t){if(1&e&&(c.TgZ(0,"div",1),c.TgZ(1,"div",20),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",21),c.YNc(5,Pi,3,3,"span",15),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-justification")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.justify)}}var qi=function(){var e=function(){function e(){h(this,e),this.initHourFormatted="",this.endHourFormatted=""}return m(e,[{key:"ngOnInit",value:function(){this.formatPeriod()}},{key:"formatPeriod",value:function(){this.notification.fieldsView.hourInit&&""!==this.notification.fieldsView.hourInit.trim()&&(this.initHourFormatted=this.notification.fieldsView.hourInit),this.notification.fieldsView.hourEnd&&""!==this.notification.fieldsView.hourEnd.trim()&&(this.endHourFormatted=this.notification.fieldsView.hourEnd)}},{key:"isVisible",value:function(e){return!e||!e.props||e.props.visible}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-card-allowance"]],inputs:{notification:"notification"},decls:30,vars:25,consts:[[1,"card-block"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"text-bold-default","po-xl-3","po-lg-3","po-md-3","po-sm-3","title"],["class","text-bold-default title po-xl-3 po-lg-3 po-md-3 po-sm-3",4,"ngIf"],["class","text-bold-default po-xl-3 po-lg-3 po-md-3 po-sm-3 title",4,"ngIf"],[1,"po-xl-3","po-lg-3","po-md-3","po-sm-3","information"],["class","information po-xl-3 po-lg-3 po-md-3 po-sm-3",4,"ngIf"],["class","po-xl-3 po-lg-3 po-md-3 po-sm-3 information",4,"ngIf"],["class","text-bold-default title po-md-3 po-sm-3 po-lg-3 po-xl-3",4,"ngIf"],[1,"text-bold-default","title","po-md-3","po-sm-3","po-lg-3","po-xl-3"],["class","information po-md-3 po-sm-3 po-lg-3 po-xl-3",4,"ngIf"],[1,"information","po-md-3","po-sm-3","po-lg-3","po-xl-3"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],[1,"text-bold-default","title","po-xl-3","po-lg-3","po-md-3","po-sm-3"],[1,"information","po-xl-3","po-lg-3","po-md-3","po-sm-3"],[4,"ngIf"],["name","allowanceInitDate",4,"ngIf"],["name","allowanceInitDate"],["name","allowanceEndDate",4,"ngIf"],["name","allowanceEndDate"],[1,"text-bold-default","title","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"information","po-xl-12","po-lg-12","po-md-12","po-sm-12"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.YNc(5,di,3,3,"div",3),c.YNc(6,gi,3,3,"div",4),c.YNc(7,hi,3,3,"div",4),c.qZA(),c.TgZ(8,"div",1),c.TgZ(9,"div",5),c._uU(10),c.ALo(11,"translate"),c.qZA(),c.YNc(12,mi,2,1,"div",6),c.YNc(13,bi,2,1,"div",7),c.YNc(14,yi,2,1,"div",7),c.qZA(),c.TgZ(15,"div",1),c.YNc(16,wi,3,3,"div",3),c.YNc(17,Zi,3,3,"div",3),c.YNc(18,Ci,3,3,"div",8),c.TgZ(19,"div",9),c._uU(20),c.ALo(21,"translate"),c.qZA(),c.qZA(),c.TgZ(22,"div",1),c.YNc(23,Mi,2,1,"div",10),c.YNc(24,ki,2,1,"div",10),c.YNc(25,Ai,3,3,"div",10),c.TgZ(26,"div",11),c._uU(27),c.ALo(28,"translate"),c.qZA(),c.qZA(),c.YNc(29,Oi,6,4,"div",12),c.qZA()),2&e&&(c.xp6(3),c.hij(" ",c.lcZ(4,17,"l-type")," "),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.reason)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endDate)),c.xp6(3),c.hij(" ",c.lcZ(11,19,"l-allowance")," "),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.reason)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endDate)),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initHour)&&t.notification.fieldsView.initHour&&""!==t.initHourFormatted),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endHour)&&t.notification.fieldsView.endHour&&""!==t.endHourFormatted),c.xp6(1),c.Q6J("ngIf",t.notification.fieldsView.totalHours&&t.isVisible(t.notification.fieldsView.totalHours)),c.xp6(2),c.hij(" ",c.lcZ(21,21,"l-status")," "),c.xp6(3),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initHour)&&t.notification.fieldsView.initHour&&""!==t.initHourFormatted),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endHour)&&t.notification.fieldsView.endHour&&""!==t.endHourFormatted),c.xp6(1),c.Q6J("ngIf",t.notification.fieldsView.totalHours&&t.isVisible(t.notification.fieldsView.totalHours)),c.xp6(2),c.hij(" ",c.lcZ(28,23,"l-pending-approval")," "),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.justify)))},directives:[d.O5],pipes:[C.X$,ge.r,ct.$,pi.P],styles:['.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}',""]}),e}();function Ti(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij("(",n.notification.fieldsView.direction.value,")")}}function _i(e,t){if(1&e&&(c.TgZ(0,"div",2),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c._uU(5),c.ALo(6,"translate"),c.YNc(7,Ti,2,1,"span",8),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,3,"l-type")," "),c.xp6(3),c.hij(" ",c.lcZ(6,5,"l-clocking-hour")," "),c.xp6(2),c.Q6J("ngIf",n.notification.fieldsView.direction.value)}}function Si(e,t){1&e&&(c.TgZ(0,"div",9),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-date")," "))}function Ii(e,t){1&e&&(c.TgZ(0,"div",9),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-hour")," "))}function Di(e,t){if(1&e&&(c.TgZ(0,"div",10),c._uU(1),c.ALo(2,"utcDate"),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",c.xi3(2,1,n.notification.fieldsView.initDate.value,"dd/MM/yyyy")," ")}}function Li(e,t){if(1&e&&(c.TgZ(0,"div",11),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.hij(" ",n.notification.fieldsView.hourInit," ")}}function Ri(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.notification.fieldsView.reason.value," ")}}function Ni(e,t){if(1&e&&(c.TgZ(0,"div",2),c.TgZ(1,"div",12),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",13),c.YNc(5,Ri,2,1,"span",8),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-reason")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.reason)}}function Ei(e,t){if(1&e&&(c.TgZ(0,"div",13),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.notification.fieldsView.justify.value," ")}}function Ui(e,t){if(1&e&&(c.TgZ(0,"div",2),c.TgZ(1,"div",12),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.YNc(4,Ei,2,1,"div",14),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-justification")," "),c.xp6(2),c.Q6J("ngIf",n.notification.fieldsView.justify)}}var Fi=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"isVisible",value:function(e){return!e||!e.props||e.props.visible}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-card-clocking"]],inputs:{notification:"notification"},decls:9,vars:7,consts:[[1,"card-block"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["class","text-bold-default title po-md-6 po-sm-6 po-lg-6 po-xl-6",4,"ngIf"],["class","information po-md-6 po-sm-6 po-lg-6 po-xl-6","name","timesheetInitDate",4,"ngIf"],["class","information po-md-6 po-sm-6 po-lg-6 po-xl-6",4,"ngIf"],[1,"text-bold-default","po-xl-12","po-lg-12","po-md-12","po-sm-12","title"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","information"],[4,"ngIf"],[1,"text-bold-default","title","po-md-6","po-sm-6","po-lg-6","po-xl-6"],["name","timesheetInitDate",1,"information","po-md-6","po-sm-6","po-lg-6","po-xl-6"],[1,"information","po-md-6","po-sm-6","po-lg-6","po-xl-6"],[1,"text-bold-default","title","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"information","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["class","information po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.YNc(1,_i,8,7,"div",1),c.TgZ(2,"div",2),c.YNc(3,Si,3,3,"div",3),c.YNc(4,Ii,3,3,"div",3),c.YNc(5,Di,3,4,"div",4),c.YNc(6,Li,2,1,"div",5),c.qZA(),c.YNc(7,Ni,6,4,"div",1),c.YNc(8,Ui,5,4,"div",1),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.direction)),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initHour)),c.xp6(1),c.Q6J("ngIf",t.notification.fieldsView.initDate),c.xp6(1),c.Q6J("ngIf",t.notification.fieldsView.hourInit),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.reason)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.justify)))},directives:[d.O5],pipes:[C.X$,ct.$],styles:['.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}',""]}),e}();function Ji(e,t){if(1&e&&(c.TgZ(0,"span",9),c._uU(1),c.ALo(2,"utcDate"),c.ALo(3,"utcDate"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.AsE(" ",c.xi3(2,2,n.notification.fieldsView.initVacationLimit.value,"dd/MM/yyyy")," - ",c.xi3(3,5,n.notification.fieldsView.endVacationLimit.value,"dd/MM/yyyy")," ")}}function Vi(e,t){if(1&e&&(c.TgZ(0,"div",5),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c.YNc(5,Ji,4,8,"span",8),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-absence-type-vacationLimit")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.initVacationLimit&&n.notification.fieldsView.endVacationLimit)}}function Yi(e,t){if(1&e&&(c.TgZ(0,"span",12),c._uU(1),c.ALo(2,"utcDate"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.xi3(2,1,n.notification.fieldsView.initDate.value,"dd/MM/yyyy")," ")}}function zi(e,t){if(1&e&&(c.TgZ(0,"div",10),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c.YNc(5,Yi,3,4,"span",11),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-begin-vacation")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.initDate)}}function Qi(e,t){if(1&e&&(c.TgZ(0,"span",14),c._uU(1),c.ALo(2,"utcDate"),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",c.xi3(2,1,n.notification.fieldsView.endDate.value,"dd/MM/yyyy")," ")}}function Gi(e,t){if(1&e&&(c.TgZ(0,"div",10),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c.YNc(5,Qi,3,4,"span",13),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-return-vacation")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.endDate)}}function Hi(e,t){if(1&e&&(c.TgZ(0,"span",16),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.notification.fieldsView.totalDays.value," ")}}function Bi(e,t){if(1&e&&(c.TgZ(0,"div",10),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c.YNc(5,Hi,2,1,"span",15),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-vacations-day")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.totalDays)}}function ji(e,t){if(1&e&&(c.TgZ(0,"span",18),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.notification.fieldsView.vacationBonus.value," ")}}function $i(e,t){if(1&e&&(c.TgZ(0,"div",10),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c.YNc(5,ji,2,1,"span",17),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-allowance-day")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.vacationBonus)}}function Wi(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.hij(" ",n.notification.fieldsView.justify.value," ")}}function Ki(e,t){if(1&e&&(c.TgZ(0,"div",5),c.TgZ(1,"div",6),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",7),c.YNc(5,Wi,2,1,"span",19),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"l-justification")," "),c.xp6(3),c.Q6J("ngIf",n.notification.fieldsView.justify)}}var Xi=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"ngOnInit",value:function(){}},{key:"isVisible",value:function(e){return!e||!e.props||e.props.visible}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-card-vacation"]],inputs:{notification:"notification"},decls:13,vars:12,consts:[[1,"card-block"],[1,"text-bold-default","po-xl-12","po-lg-12","po-md-12","po-sm-12","title"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","information"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],["class","po-xl-6 po-lg-6 po-md-6 po-sm-6",4,"ngIf"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"text-bold-default","title"],[1,"information"],["name","vacationPeriodLimit",4,"ngIf"],["name","vacationPeriodLimit"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-6"],["name","vacationInitDate",4,"ngIf"],["name","vacationInitDate"],["name","vacationEndDate",4,"ngIf"],["name","vacationEndDate"],["name","vacationTotalDays",4,"ngIf"],["name","vacationTotalDays"],["name","vacationBonus",4,"ngIf"],["name","vacationBonus"],[4,"ngIf"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",2),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.YNc(7,Vi,6,4,"div",3),c.YNc(8,zi,6,4,"div",4),c.YNc(9,Gi,6,4,"div",4),c.YNc(10,Bi,6,4,"div",4),c.YNc(11,$i,6,4,"div",4),c.YNc(12,Ki,6,4,"div",3),c.qZA()),2&e&&(c.xp6(2),c.hij(" ",c.lcZ(3,8,"l-type")," "),c.xp6(3),c.hij(" ",c.lcZ(6,10,"l-vacation")," "),c.xp6(2),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initVacationLimit)&&t.isVisible(t.notification.fieldsView.endVacationLimit)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)&&t.isVisible(t.notification.fieldsView.endDate)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endDate)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.totalDays)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.vacationBonus)),c.xp6(1),c.Q6J("ngIf",t.isVisible(t.notification.fieldsView.justify)&&t.notification.fieldsView.justify.value))},directives:[d.O5],pipes:[C.X$,ct.$],styles:['.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}',""]}),e}();function eo(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1),c.ALo(2,"translate"),c._UZ(3,"po-tag",18),c.ALo(4,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,2,"l-allowance-request")," "),c.xp6(2),c.s9C("p-value",c.lcZ(4,4,"l-pending-approval")))}function to(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1),c.ALo(2,"translate"),c._UZ(3,"po-tag",18),c.ALo(4,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,2,"l-clocking-request")," "),c.xp6(2),c.s9C("p-value",c.lcZ(4,4,"l-pending-approval")))}function no(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1),c.ALo(2,"translate"),c._UZ(3,"po-tag",18),c.ALo(4,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,2,"l-vacation-request")," "),c.xp6(2),c.s9C("p-value",c.lcZ(4,4,"l-pending-approval")))}function io(e,t){if(1&e&&(c.TgZ(0,"div",19),c._UZ(1,"app-card-allowance",20),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("notification",n.notificationsView)}}function oo(e,t){if(1&e&&(c.TgZ(0,"div",19),c._UZ(1,"app-card-clocking",20),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("notification",n.notificationsView)}}function ao(e,t){if(1&e&&(c.TgZ(0,"div",19),c._UZ(1,"app-card-vacation",20),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("notification",n.notificationsView)}}function ro(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-button",21),c.NdJ("p-click",function(){c.CHM(n);var e=c.oxw(2);return e.getAttachedFile(e.notificationsView.fieldsView.requestId.value)}),c.ALo(1,"translate"),c.qZA()}2&e&&c.s9C("p-label",c.lcZ(1,1,"l-view-medical-certificate"))}function so(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",3),c.TgZ(1,"app-card"),c.TgZ(2,"div",4),c.TgZ(3,"div",5),c.YNc(4,eo,5,6,"div",6),c.YNc(5,to,5,6,"div",6),c.YNc(6,no,5,6,"div",6),c._UZ(7,"po-divider"),c.qZA(),c.TgZ(8,"div",7),c._UZ(9,"div",8),c.qZA(),c.TgZ(10,"div",9),c.TgZ(11,"div",10),c.TgZ(12,"strong"),c._uU(13),c.qZA(),c.qZA(),c.TgZ(14,"div",11),c._uU(15),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",12),c.YNc(17,io,2,1,"div",13),c.YNc(18,oo,2,1,"div",13),c.YNc(19,ao,2,1,"div",13),c.qZA(),c.TgZ(20,"div",14),c.YNc(21,ro,2,3,"po-button",15),c.TgZ(22,"po-button",16),c.NdJ("p-click",function(){return c.CHM(n),c.oxw().approve()}),c.ALo(23,"translate"),c.qZA(),c.TgZ(24,"po-button",17),c.NdJ("p-click",function(){return c.CHM(n),c.oxw().reprove()}),c.ALo(25,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(4),c.Q6J("ngIf","allowance"===i.notificationsView.type),c.xp6(1),c.Q6J("ngIf","clocking"==i.notificationsView.type),c.xp6(1),c.Q6J("ngIf","vacation"==i.notificationsView.type),c.xp6(3),c.Udp("background-image",i.getAvatar(i.notificationsView.employeeSummary.id)),c.MGl("id","photo-",i.notificationsView.id,""),c.xp6(4),c.Oqu(i.notificationsView.employeeSummary.name),c.xp6(2),c.Oqu(i.notificationsView.employeeSummary.roleDescription),c.xp6(2),c.Q6J("ngIf","allowance"===i.notificationsView.type),c.xp6(1),c.Q6J("ngIf","clocking"==i.notificationsView.type),c.xp6(1),c.Q6J("ngIf","vacation"==i.notificationsView.type),c.xp6(2),c.Q6J("ngIf","allowance"===i.notificationsView.type&&i.allowanceHasAttachment),c.xp6(1),c.s9C("p-label",c.lcZ(23,14,"l-approve")),c.xp6(2),c.s9C("p-label",c.lcZ(25,16,"l-decline"))}}var co=function(){var e=function(){function e(t,n,i,o,a,r,s,c,l){h(this,e),this.location=t,this.router=n,this.route=i,this.profileService=o,this.sanitizationService=a,this.appTranslateService=r,this.notificationsService=s,this.allowanceService=c,this.fieldPropertiesService=l,this.avatar=[],this.allowanceHasAttachment=!1,this.reasonRequired=!1,this.isReprove=!1,this.notificationsView=this.route.snapshot.data.notificationView,this.notificationsView||this.router.navigate(["request/notifications"])}return m(e,[{key:"ngOnDestroy",value:function(){this.notificationsView=void 0}},{key:"ngOnInit",value:function(){var e,t,n;this.allowanceHasAttachment=/true/i.test(null===(n=null===(t=null===(e=this.notificationsView)||void 0===e?void 0:e.fieldsView)||void 0===t?void 0:t.hasAttachment)||void 0===n?void 0:n.value),this.verifyModal=[!1,!1,{}],this.getModalActions(),this.getFieldProps()}},{key:"approve",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.justifyNotification.isReprove=!1,this.isReprove=!1,e.next=4,this.translateString("l-approve-notification");case 4:this.modalText=e.sent.toString(),this.reasonRequired=!1,this.verifyModal=[!0,!0,this.notificationsView],this.openModal();case 8:case"end":return e.stop()}},e,this)}))}},{key:"reprove",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.justifyNotification.isReprove=!0,this.isReprove=!0,this.modalText=void 0,this.reasonRequired=!0,this.verifyModal=[!0,!1,this.notificationsView],this.openModal();case 1:case"end":return e.stop()}},e,this)}))}},{key:"reprovedReasonResponse",value:function(e){e?this.confirmModal():this.closeModal()}},{key:"back",value:function(){this.location.back()}},{key:"getAvatar",value:function(e){var t=this;return this.avatar[e]||(this.avatar[e]=this.sanitizationService.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(function(n){n&&n.content&&(t.avatar[e]=t.sanitizationService.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.avatar[e]}},{key:"translateString",value:function(e){return this.appTranslateService.getI18n(e)}},{key:"getAttachedFile",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.allowanceService.getAttachedFile(e);case 3:(n=t.sent)&&this.initializeFilePreviewDialog("timesheet/allowances/file/download",n,e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}))}},{key:"getFieldProps",value:function(){var e;return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.fieldPropertiesService)||void 0===e?void 0:e.getFieldProperties("notification");case 2:(null==(n=t.sent)?void 0:n.length)&&n.forEach(function(e){"reason"===(null==e?void 0:e.field)&&(i.reasonFieldProps=e)});case 4:case"end":return t.stop()}},t,this)}))}},{key:"getModalActions",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){t.closeModal()},e.next=3,this.translateString("l-cancel-title");case 3:return e.t1=e.sent.toString(),e.t2=!0,this.closeAction={action:e.t0,label:e.t1,danger:e.t2},e.t3=function(){t.confirmModal()},e.next=9,this.translateString("l-yes");case 9:e.t4=e.sent.toString(),this.confirmAction={action:e.t3,label:e.t4};case 11:case"end":return e.stop()}},e,this)}))}},{key:"confirmModal",value:function(){var e;return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.isReprove&&(null===(e=this.justifyNotification.reasonFieldProps)||void 0===e?void 0:e.required)&&!this.justifyNotification.justifyReprovedReason||(this.verifyModal[0]&&this.sendData(this.verifyModal[1],this.verifyModal[2]),this.closeModal());case 1:case"end":return t.stop()}},t,this)}))}},{key:"openModal",value:function(){this.justifyNotification.openModal()}},{key:"closeModal",value:function(){this.justifyNotification.closeModal(),this.verifyModal=[!1,!1,{}]}},{key:"sendData",value:function(e,t){var n,i=e?"m-approved-request":"m-reprove-request";n={id:t.id,status:e?ri.z.StatusEnum.Approved:ri.z.StatusEnum.Rejected,type:t.type,reason:this.justifyNotification.justifyReprovedReason};var o={date:new Date,approved:e,requisitions:[n],justify:this.justifyNotification.justifyReprovedReason};this.notificationsService.sendPut(o,i),this.justifyNotification.justifyReprovedReason="",this.router.navigate(["request/notifications"])}},{key:"initializeFilePreviewDialog",value:function(e,t,n){this.previewFileDialog.initializeComponent(e,t,n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(d.Ye),c.Y36(D.F0),c.Y36(D.gz),c.Y36(ee.H),c.Y36(r.H7),c.Y36(le.g),c.Y36(ui.T),c.Y36(li.n),c.Y36(te.c))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-detail-nofitication"]],viewQuery:function(e,t){var n;(1&e&&(c.Gf(ci.K,5),c.Gf(si.j,5)),2&e)&&(c.iGM(n=c.CRH())&&(t.previewFileDialog=n.first),c.iGM(n=c.CRH())&&(t.justifyNotification=n.first))},decls:6,vars:12,consts:[["backIsVisible","true",3,"pageTitle","backFunction"],["class","po-ml-5 po-mr-5",4,"ngIf"],[3,"title","primaryAction","modalText","secondaryAction","reasonRequired","reasonFieldProps","reprovedReason"],[1,"po-ml-5","po-mr-5"],["card-header","",1,"mr-card-header"],[1,"card-header-title","po-lg-12","po-md-12","po-sm-12","po-xs-12"],[4,"ngIf"],[1,"avatar-card","pull-left",2,"display","inline"],[1,"avatar-small","avatar-align",3,"id"],[1,"aboutEmployee"],[1,"text-bold-default","name"],[1,"office"],["card-body",""],["class","content",4,"ngIf"],["card-footer","",1,"content-footer","po-mt-1","po-lg-12","po-md-12","po-sm-12","po-xs-12"],["id","btn-attachment","class","pull-left po-lg-2 po-md-2 po-sm-6 po-xl-2","p-icon","po-icon-attach",3,"p-label","p-click",4,"ngIf"],["id","btn-approve","p-type","primary",1,"pull-right","po-lg-2","po-md-2","po-sm-6","po-xl-2",3,"p-label","p-click"],["id","btn-reprove","p-type","danger",1,"pull-right","po-lg-2","po-md-2","po-sm-6","po-xl-2",3,"p-label","p-click"],["p-color","color-08",1,"po-ml-2",3,"p-value"],[1,"content"],[3,"notification"],["id","btn-attachment","p-icon","po-icon-attach",1,"pull-left","po-lg-2","po-md-2","po-sm-6","po-xl-2",3,"p-label","p-click"]],template:function(e,t){1&e&&(c.TgZ(0,"app-page-header",0),c.NdJ("backFunction",function(){return t.back()}),c.ALo(1,"translate"),c.qZA(),c.YNc(2,so,26,18,"div",1),c.TgZ(3,"app-justify-notification",2),c.NdJ("reprovedReason",function(e){return t.reprovedReasonResponse(e)}),c.ALo(4,"translate"),c.qZA(),c._UZ(5,"app-preview-file")),2&e&&(c.s9C("pageTitle",c.lcZ(1,8,"l-approvals")),c.xp6(2),c.Q6J("ngIf",t.notificationsView),c.xp6(1),c.Q6J("title",c.lcZ(4,10,"l-confirmation"))("primaryAction",t.confirmAction)("modalText",t.modalText)("secondaryAction",t.closeAction)("reasonRequired",t.reasonRequired)("reasonFieldProps",t.reasonFieldProps))},directives:[E.q,d.O5,si.j,ci.K,U.A,k.Gk3,k.bOz,k.lzV,qi,Fi,Xi],pipes:[C.X$],styles:["[_nghost-%COMP%]     .po-wrapper .po-page{display:inline-block;height:100%!important}",'.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}']}),e}(),lo=function(){var e=function(){function e(){h(this,e),this.notificationSubscription=null,this.notification=null}return m(e,[{key:"resolve",value:function(e){return ui.T.notification}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),uo=n(21360);function po(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"app-page-header",3),c.NdJ("backFunction",function(){return c.CHM(n),c.oxw().back()}),c.qZA(),c.TgZ(2,"div",4),c.TgZ(3,"h2",5),c._uU(4),c.ALo(5,"translate"),c.ALo(6,"translate"),c.ALo(7,"translate"),c.qZA(),c.TgZ(8,"div",6),c._uU(9),c.ALo(10,"translate"),c.qZA(),c.TgZ(11,"po-textarea",7),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demissionJustify=e}),c.qZA(),c.TgZ(12,"div",8),c.TgZ(13,"po-button",9),c.NdJ("click",function(){return c.CHM(n),c.oxw().back()}),c.ALo(14,"translate"),c.qZA(),c.TgZ(15,"po-button",10),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.updateDemission(e.demissionJustify)}),c.ALo(16,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("backIsVisible",i.viewIsMobile),c.xp6(3),c.lnq(" ",c.lcZ(5,8,"l-requisition-details-before"),"",c.lcZ(6,10,i.isApproving?"l-requisition-approve":"l-requisition-reproved"),"",c.lcZ(7,12,"l-requisition-ending")," "),c.xp6(5),c.hij(" ",c.lcZ(10,14,"l-requisition-justify-label")," "),c.xp6(2),c.Q6J("ngModel",i.demissionJustify),c.xp6(2),c.s9C("p-label",c.lcZ(14,16,"l-cancel")),c.xp6(2),c.s9C("p-label",c.lcZ(16,18,"l-save"))}}function go(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",2),c.TgZ(1,"app-page-header",11),c.NdJ("backFunction",function(){return c.CHM(n),c.oxw().back()}),c.qZA(),c.TgZ(2,"div",4),c.TgZ(3,"span"),c.TgZ(4,"po-select",12),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().type=e}),c.ALo(5,"translate"),c.ALo(6,"translate"),c.qZA(),c.qZA(),c.TgZ(7,"div",4),c.TgZ(8,"po-textarea",13),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demissionJustify=e}),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"div",8),c.TgZ(11,"po-button",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().back()}),c.ALo(12,"translate"),c.qZA(),c.TgZ(13,"po-button",15),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.updateDemission(e.demissionJustify,e.type)}),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("backIsVisible",i.viewIsMobile),c.xp6(3),c.s9C("p-label",c.lcZ(5,11,"l-define-next-step")),c.s9C("p-placeholder",c.lcZ(6,13,"l-select-option")),c.Q6J("ngModel",i.type)("p-options",i.steps),c.xp6(4),c.s9C("p-label",c.lcZ(9,15,"l-request-justification")),c.Q6J("ngModel",i.demissionJustify),c.xp6(3),c.s9C("p-label",c.lcZ(12,17,"l-cancel")),c.Q6J("ngClass",i.isMobile()?"mobile":""),c.xp6(2),c.s9C("p-label",c.lcZ(14,19,"l-confirm")),c.Q6J("ngClass",i.isMobile()?"mobile":"")}}var ho=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r){var s;return h(this,n),(s=t.call(this)).requisitionsService=e,s.translateService=i,s.globals=o,s.toastr=a,s.windowUtilService=r,s.steps=[],s.getBackEvent=new c.vpe,s.getRequisitions=new c.vpe,s.cleanFinishedRequisitions=new c.vpe,s.employee=void 0,s.demissionJustify="",s}return m(n,[{key:"back",value:function(){this.getBackEvent.emit()}},{key:"updateDemission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getEmployeeSummary();case 2:i=n.sent,this.demissionResponse={approved:this.isApproving,date:$.Em.formatUTCDate(new Date),justify:e,requisitions:[]},this.demissionRequisition={id:this.requisition.id,status:this.requisition.status},this.demissionResponse.requisitions.push(this.demissionRequisition),this.requisitionsService.updateRequisitions(i,this.demissionResponse,t).then(function(e){o.cleanFinishedRequisitions.emit(),o.showMessageSuccess("l-msg-save-success"),o.getRequisitions.emit(),o.back()});case 4:case"end":return n.stop()}},n,this)}))}},{key:"isRM",value:function(){return Oe.ZP.isErpRM()}},{key:"isMobile",value:function(){return this.windowUtilService.isMobileDevice()}},{key:"showMessageSuccess",value:function(e){var t=this;this.translateService.getI18n(e).then(function(e){t.toastr.success(e)})}},{key:"getEmployeeSummary",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te.N.loggedUser,this.globals.getEmployeeSummary().then(function(e){n.employee=e,n.employee&&(t=n.employee.id)}),e.next=4,Oe.ZP.checkIfEncode(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(uo._),c.Y36(le.g),c.Y36(ke.O),c.Y36(P._W),c.Y36(ue.g))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-demission-confirm"]],inputs:{isApproving:"isApproving",requisition:"requisition",finishedRequisitions:"finishedRequisitions",steps:"steps"},outputs:{getBackEvent:"getBackEvent",getRequisitions:"getRequisitions",cleanFinishedRequisitions:"cleanFinishedRequisitions"},features:[c.qOj],decls:3,vars:3,consts:[["id","filter","isVisible","true",1,"dialog",3,"closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",4,"ngIf"],["dialog-content",""],["pageTitle","l-demission-request-confirm",3,"backIsVisible","backFunction"],[1,"container-content"],[1,"justify-title"],[1,"justify-label"],["p-rows","5",1,"justify-area","width100percent",3,"ngModel","ngModelChange"],[1,"holder"],[1,"button",3,"p-label","click"],["p-type","primary",1,"button",3,"p-label","click"],["pageTitle","l-next-step",3,"backIsVisible","backFunction"],["name","typeSelect",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","justify-area","width100percent",3,"ngModel","p-label","p-placeholder","p-options","ngModelChange"],["p-rows","5",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","justify-area","width100percent",3,"ngModel","p-label","ngModelChange"],[1,"button","button-cancel",3,"ngClass","p-label","click"],["p-type","primary",1,"button",3,"ngClass","p-label","click"]],template:function(e,t){1&e&&(c.TgZ(0,"app-dialog",0),c.NdJ("closeDialogEvent",function(){return t.back()}),c.YNc(1,po,17,20,"div",1),c.YNc(2,go,15,21,"div",1),c.qZA()),2&e&&(c.Q6J("closeDialogButtonEnable",!0),c.xp6(1),c.Q6J("ngIf",!t.isRM()),c.xp6(1),c.Q6J("ngIf",t.isRM()))},directives:[Ye.a,d.O5,E.q,k.gJm,y.JJ,y.On,k.bOz,k.C9q,d.mk],pipes:[C.X$],styles:['@media screen and (min-width: 768px){.button[_ngcontent-%COMP%]{width:5rem}}@media screen and (min-width: 991px){.button[_ngcontent-%COMP%]{margin-left:15px}}@media screen and (min-width: 991px){.holder[_ngcontent-%COMP%]{text-align:right}}.justify-area[_ngcontent-%COMP%]{margin:10px 0;padding:0!important}.justify-label[_ngcontent-%COMP%]{margin:10px 0;font-size:14px}.holder[_ngcontent-%COMP%]{margin-top:15px}@media screen and (max-width: 475px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:15px 35px}}[_nghost-%COMP%]     .dialog .justify-title{margin:25px 0 15px;padding-left:0;font-family:"NunitoSans";font-weight:300;white-space:normal;white-space:initial}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .po-button{display:block;width:100%}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}[_nghost-%COMP%]     .dialog .container-content{margin-bottom:15px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}@media (min-width: 525px){[_nghost-%COMP%]     #dialogCloseBtn{top:43px!important}}@media (min-width: 475px) and (max-width: 525px){[_nghost-%COMP%]     #dialogCloseBtn{top:32px}}@media (max-width: 474px){[_nghost-%COMP%]     #dialogCloseBtn{top:43px}}[_nghost-%COMP%]     .button-cancel .po-button{color:#d13f43;border-color:#d13f43}[_nghost-%COMP%]     po-select .po-select-content{margin-top:7px!important}@media only screen and (max-width: 477px){.container-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.holder[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:space-between}.mobile[_ngcontent-%COMP%]{display:block!important;padding:0!important;width:48%}[_nghost-%COMP%]     .po-button{height:44px}}']}),e}(),fo=n(82236),mo=m(function e(){h(this,e),this.former=!1,this.colaborator="",this.startDate="",this.initiative={id:"",name:""},this.demissionReasonDate="",this.demissionJustification="",this.demissionNewEmployee=!1,this.demissionPriorNotice={id:"",name:""},this.demissionReason={id:"",name:""},this.priorDays="",this.demissionTypes={id:"",name:""},this.demissionDate=new Date}),vo=n(14323),bo=function(){var e=function(){function e(t){h(this,e),this.teamService=t,this.id=B.N.loggedUser,this.lookupOpen=new oe.xQ,this.isGetCurrentEmployees=!1,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new oe.xQ,this.emitModelObservable=this.emitModel.asObservable(),this.teamParams=new vo.$(0,0)}return m(e,[{key:"getFilteredItems",value:function(e){return this.isGetCurrentEmployees=JSON.parse(window.localStorage.getItem("isGetCurrentEmployees")),this.lookupOpen.next(),this.teamParams.name=e.filter?e.filter:"",this.teamParams.page=e.page,this.teamParams.pageSize=e.pageSize,(0,ae.D)(this.teamService.getEmployees(this.id,this.teamParams,this.isGetCurrentEmployees))}},{key:"getObjectByValue",value:function(e){var t,n=this;return this.teamService.getEmployees(this.id,this.teamParams).then(function(e){t={id:e.items[0].id,name:e.items[0].name},n.emitModel.next(t)}),(0,ae.D)(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(fo.s))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),xo=["demissionForm"];function yo(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",15),c.TgZ(1,"po-checkbox",16),c.NdJ("p-change",function(){return c.CHM(n),c.oxw().addDemissionFormer()})("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.former=e}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-desmissal-former")),c.Q6J("ngModel",i.demission.former)}}function wo(e,t){if(1&e&&(c.TgZ(0,"option",20),c._uU(1),c.qZA()),2&e){var n=t.$implicit;c.Q6J("ngValue",n),c.xp6(1),c.hij(" ",null==n?null:n.name," ")}}function Zo(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"label",17),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"select",18),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.initiative=e}),c.YNc(5,wo,2,2,"option",19),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,4,"l-desmissal-initiative")," "),c.xp6(2),c.Q6J("required",null==i.demissionIniciative?null:i.demissionIniciative.required)("ngModel",i.demission.initiative),c.xp6(1),c.Q6J("ngForOf",i.demissionInitiatives)}}function Co(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"po-datepicker",21),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.demissionDate=e}),c.ALo(2,"translate"),c.ALo(3,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-placeholder",c.lcZ(2,4,"l-desmissal-desmissalDate-ex")),c.s9C("p-label",c.lcZ(3,6,"l-desmissal-date")),c.Q6J("required",null==i.demissionDate?null:i.demissionDate.required)("ngModel",i.demission.demissionDate)}}function Mo(e,t){if(1&e&&(c.TgZ(0,"option",20),c._uU(1),c.qZA()),2&e){var n=t.$implicit;c.Q6J("ngValue",n),c.xp6(1),c.hij(" ",null==n?null:n.name," ")}}function ko(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"label",22),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"select",23),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.demissionTypes=e}),c.YNc(5,Mo,2,2,"option",19),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,4,"l-desmissal-type")," "),c.xp6(2),c.Q6J("required",null==i.demissionType?null:i.demissionType.required)("ngModel",i.demission.demissionTypes),c.xp6(1),c.Q6J("ngForOf",i.demissionTypes)}}var Ao=function(){return{standalone:!0}};function Po(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"po-textarea",24),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.demissionJustification=e}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,4,"l-desmissal-justification")),c.Q6J("required",null==i.demissionJustify?null:i.demissionJustify.required)("ngModel",i.demission.demissionJustification)("ngModelOptions",c.DdM(6,Ao))}}function Oo(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",25),c.TgZ(1,"po-switch",26),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.demissionNewEmployee=e}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,3,"l-desmissal-desmissal-employee")),c.Q6J("required",null==i.newHire?null:i.newHire.required)("ngModel",i.demission.demissionNewEmployee)}}function qo(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"po-divider"),c.TgZ(2,"div",4),c.TgZ(3,"div",27),c.TgZ(4,"h4",28),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(5),c.hij(" ",c.lcZ(6,1,"l-desmissal-rescission")," "))}function To(e,t){if(1&e&&(c.TgZ(0,"option",20),c._uU(1),c.qZA()),2&e){var n=t.$implicit;c.Q6J("ngValue",n),c.xp6(1),c.hij(" ",null==n?null:n.name," ")}}function _o(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"label",17),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"select",29),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.demissionPriorNotice=e}),c.YNc(5,To,2,2,"option",19),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,4,"l-desmissal-prior")," "),c.xp6(2),c.Q6J("required",null==i.demissionNoticeType?null:i.demissionNoticeType.required)("ngModel",i.demission.demissionPriorNotice),c.xp6(1),c.Q6J("ngForOf",i.demissionNoticeTypes)}}function So(e,t){if(1&e&&(c.TgZ(0,"option",20),c._uU(1),c.qZA()),2&e){var n=t.$implicit;c.Q6J("ngValue",n),c.xp6(1),c.hij(" ",null==n?null:n.name," ")}}function Io(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"label",22),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"select",30),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.demissionReason=e}),c.YNc(5,So,2,2,"option",19),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,4,"l-desmissal-reason")," "),c.xp6(2),c.Q6J("required",null==i.demissionReason?null:i.demissionReason.required)("ngModel",i.demission.demissionReason),c.xp6(1),c.Q6J("ngForOf",i.demissionReasons)}}function Do(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"po-number",31),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().demission.priorDays=e}),c.ALo(2,"translate"),c.ALo(3,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,4,"l-desmissal-prior-days")),c.s9C("p-placeholder",c.lcZ(3,6,"l-priorDays-ex")),c.Q6J("required",null==i.noticeDays?null:i.noticeDays.required)("ngModel",i.demission.priorDays)}}function Lo(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-success-dialog",32),c.NdJ("closeDialogEvent",function(){return c.CHM(n),c.oxw().back()}),c.qZA()}}var Ro=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s,c,l,u){var p;return h(this,n),(p=t.call(this)).teamService=e,p.appTranslateService=i,p.windowUtil=o,p.lookupService=a,p.menuApplicationService=r,p.translateService=s,p.fieldPropertiesService=c,p.notificationService=l,p.globals=u,p.demission=new mo,p.demissionTypes=[],p.demissionReasons=[],p.demissionInitiatives=[],p.demissionNoticeTypes=[],p}return m(n,[{key:"ngOnInit",value:function(){this.initializeComponents()}},{key:"initializeComponents",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initVariables(),this.loadComponents(),e.next=4,this.loadFieldProperties();case 4:this.getDemissionIniciatives(),this.getDemissionTypes(),this.getDemissionNoticeTypes(),this.getDemissionReasonTypes(),this.loadModel();case 9:case"end":return e.stop()}},e,this)}))}},{key:"initVariables",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:this.loggedUser=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"loadModel",value:function(){var e=this;this.lookupService.emitModelObservable.subscribe(function(t){e.demission.colaborator=t})}},{key:"loadComponents",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initLookup(),this.lookupService.lookupOpenObservable.subscribe(function(e){t.menuApplicationService.hideMenu()});case 1:case"end":return e.stop()}},e,this)}))}},{key:"showMenu",value:function(){this.menuApplicationService.showMenu()}},{key:"initLookup",value:function(){var e=this;this.lookupColumns=[{property:"id",label:"l-demission-id",fieldLabel:!0},{property:"name",label:"l-name",fieldLabel:!0}],this.lookupColumns.forEach(function(t){e.translateService.getI18n(t.label).then(function(e){t.label=e})})}},{key:"restartForm",value:function(){this.demissionForm.resetForm()}},{key:"getDemissionIniciatives",value:function(){var e=this;this.demissionIniciative&&this.demissionIniciative.visible&&this.teamService.getDemissionIniciatives().then(function(t){t.items&&0!==t.items.length&&(e.demissionInitiatives=t.items)})}},{key:"getDemissionTypes",value:function(){var e=this;this.demissionType&&this.demissionType.visible&&this.teamService.getDemissionTypes().then(function(t){t.items&&0!==t.items.length&&(e.demissionTypes=t.items)})}},{key:"getDemissionNoticeTypes",value:function(){var e=this;this.demissionNoticeType&&this.demissionNoticeType.visible&&this.teamService.getDemissionNoticeTypes().then(function(t){t.items&&0!==t.items.length&&(e.demissionNoticeTypes=t.items)})}},{key:"getDemissionReasonTypes",value:function(){var e=this;this.demissionReason&&this.demissionReason.visible&&this.teamService.getDemissionReasonTypes().then(function(t){t.items&&0!==t.items.length&&(e.demissionReasons=t.items)})}},{key:"send",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.demissionForm.valid?(this.demissionInfo=this.createSendObject(),this.teamService.setCollaboratorDemission(this.loggedUser.id,this.demissionInfo).then(function(e){t.isDialogSuccessVisible=!0},function(e){console.log(e)})):this.appTranslateService.getI18n("invalid-form").then(function(e){t.notificationService.showNotification(e,k.ik9.Error)});case 1:case"end":return e.stop()}},e,this)}))}},{key:"createSendObject",value:function(){return{id:this.demission.colaborator,employeeDemit:this.demission.former,demissionDate:this.demission.demissionDate?new Date(this.demission.demissionDate):new Date,demissionIniciative:{name:this.demission.initiative.name,id:this.demission.initiative.id.toString()},demissionType:{name:this.demission.demissionTypes.name,id:this.demission.demissionTypes.id.toString()},demissionJustify:this.demission.demissionJustification,newHire:this.demission.demissionNewEmployee,demissionNoticeType:{name:this.demission.demissionPriorNotice.name,id:this.demission.demissionPriorNotice.id.toString()},demissionReason:{name:this.demission.demissionReason.name,id:this.demission.demissionReason.id.toString()},noticeDays:+this.demission.priorDays}}},{key:"loadFieldProperties",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldPropertiesService.getFieldProperties("demission");case 2:this.fieldProperties=e.sent,this.fieldProperties&&this.fieldProperties.forEach(function(e){switch(e.field){case"employeeDemit":t.employeeDemit=e;break;case"demissionDate":t.demissionDate=e;break;case"demissionIniciative":t.demissionIniciative=e;break;case"demissionType":t.demissionType=e;break;case"demissionJustify":t.demissionJustify=e;break;case"newHire":t.newHire=e;break;case"demissionNoticeType":t.demissionNoticeType=e;break;case"demissionReason":t.demissionReason=e;break;case"noticeDays":t.noticeDays=e}});case 4:case"end":return e.stop()}},e,this)}))}},{key:"addDemissionFormer",value:function(){window.localStorage.setItem("isGetCurrentEmployees",JSON.stringify(this.demission.former))}},{key:"back",value:function(){this.windowUtil.back()}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(fo.s),c.Y36(le.g),c.Y36(ue.g),c.Y36(bo),c.Y36(R.Kv),c.Y36(le.g),c.Y36(te.c),c.Y36(ce.g),c.Y36(ke.O))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-demission-request"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(xo,7),2&e)&&(c.iGM(n=c.CRH())&&(t.demissionForm=n.first))},features:[c.qOj],decls:26,vars:24,consts:[["backIsVisible","viewIsMobile","pageTitle","l-desmissal-request-title",3,"backFunction"],[1,"no-padding"],[1,"demissionForm"],["demissionForm","ngForm"],[1,"po-row"],["class","po-sm-12 desmissal-former",4,"ngIf"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-12"],["p-field-label","name","p-field-value","id","name","nameOfColaborator",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected"],["class","po-xl-6 po-lg-6 po-md-6 po-sm-12",4,"ngIf"],["class","po-xl-6 po-lg-6 po-md-6 po-sm-12 demissionNewHire",4,"ngIf"],[4,"ngIf"],[1,"po-row","marginTop25px","flex-end"],["id","restartForm","name","restartForm",1,"button-cancel","po-sm-12","po-offset-md-6","po-md-3","po-lg-3","po-xl-3",3,"p-label","click"],["p-type","primary","p-primary","true","id","desmissalButton","name","desmissalButton",1,"button-confirm","po-sm-12","po-md-3","po-lg-3","po-xl-3",3,"p-disabled","p-label","p-click"],["message","l-send-demission-success",3,"closeDialogEvent",4,"ngIf"],[1,"po-sm-12","desmissal-former"],["p-disabled","boolean","name","demissionForm",1,"desmissal-former",3,"p-label","ngModel","p-change","ngModelChange"],[1,"text-subtitle","po-field-title"],["id","demissalType","name","demissalType",1,"form-control",3,"required","ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["p-format","dd/mm/yyyy","id","desmissalEndDate","name","desmissalEndDate","p-required","",3,"required","ngModel","p-placeholder","p-label","ngModelChange"],["for","",1,"text-subtitle","po-field-title"],["id","desmissalTypes","name","desmissalTypes",1,"form-control",3,"required","ngModel","ngModelChange"],[3,"required","p-label","ngModel","ngModelOptions","ngModelChange"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-12","demissionNewHire"],["name","disabled","p-label-off"," ","p-label-on"," ",1,"",3,"required","ngModel","p-label","ngModelChange"],[1,"line","po-sm-12","po-sm-12","po-lg-12"],[1,"text-subtitle"],["id","desmissalPriorNotice","name","desmissalPriorNotice",1,"form-control",3,"required","ngModel","ngModelChange"],["id","desmissalDesmissalReason","name","desmissalDesmissalReason",1,"form-control",3,"required","ngModel","ngModelChange"],["id","priorDays","name","priorDays","pattern","[0-9]*","digitOnly","",1,"desmissal-field",3,"required","ngModel","p-label","p-placeholder","ngModelChange"],["message","l-send-demission-success",3,"closeDialogEvent"]],template:function(e,t){if(1&e&&(c.TgZ(0,"app-page-header",0),c.NdJ("backFunction",function(){return t.back()}),c.qZA(),c.TgZ(1,"div",1),c.TgZ(2,"form",2,3),c.TgZ(4,"div",4),c.YNc(5,yo,3,4,"div",5),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"div",6),c.TgZ(8,"po-lookup",7),c.NdJ("ngModelChange",function(e){return t.demission.colaborator=e})("p-selected",function(){return t.showMenu()}),c.ALo(9,"translate"),c.qZA(),c.qZA(),c.YNc(10,Zo,6,6,"div",8),c.YNc(11,Co,4,8,"div",8),c.YNc(12,ko,6,6,"div",8),c.YNc(13,Po,3,7,"div",8),c.YNc(14,Oo,3,5,"div",9),c.qZA(),c.YNc(15,qo,7,3,"div",10),c.TgZ(16,"div",4),c.YNc(17,_o,6,6,"div",8),c.YNc(18,Io,6,6,"div",8),c.YNc(19,Do,4,8,"div",8),c.qZA(),c.TgZ(20,"div",11),c.TgZ(21,"po-button",12),c.NdJ("click",function(){return t.back()}),c.ALo(22,"translate"),c.qZA(),c.TgZ(23,"po-button",13),c.NdJ("p-click",function(){return t.send()}),c.ALo(24,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(25,Lo,1,0,"app-success-dialog",14)),2&e){var n=c.MAs(3);c.xp6(5),c.Q6J("ngIf",null==t.employeeDemit?null:t.employeeDemit.visible),c.xp6(3),c.s9C("p-label",c.lcZ(9,18,"l-colaborator")),c.Q6J("ngModel",t.demission.colaborator)("p-columns",t.lookupColumns)("p-filter-service",t.lookupService),c.xp6(2),c.Q6J("ngIf",null==t.demissionIniciative?null:t.demissionIniciative.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionDate?null:t.demissionDate.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionType?null:t.demissionType.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionJustify?null:t.demissionJustify.visible),c.xp6(1),c.Q6J("ngIf",null==t.newHire?null:t.newHire.visible),c.xp6(1),c.Q6J("ngIf",(null==t.demissionNoticeType?null:t.demissionNoticeType.visible)||(null==t.demissionReason?null:t.demissionReason.visible)||(null==t.noticeDays?null:t.noticeDays.visible)),c.xp6(2),c.Q6J("ngIf",null==t.demissionNoticeType?null:t.demissionNoticeType.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionReason?null:t.demissionReason.visible),c.xp6(1),c.Q6J("ngIf",null==t.noticeDays?null:t.noticeDays.visible),c.xp6(2),c.s9C("p-label",c.lcZ(22,20,"l-cancel")),c.xp6(2),c.s9C("p-label",c.lcZ(24,22,"l-save")),c.Q6J("p-disabled",!n.form.valid),c.xp6(2),c.Q6J("ngIf",t.isDialogSuccessVisible)}},directives:[E.q,y._Y,y.JL,y.F,d.O5,k.za1,y.JJ,y.On,k.bOz,k.ejx,y.EJ,y.Q7,d.sg,y.YN,y.Kr,k.GWy,k.gJm,k.nrg,k.Gk3,k.S5$,y.c5,de.V],pipes:[C.X$],styles:["[_ngcontent-%COMP%]:root   .desmissalForm[_ngcontent-%COMP%]   .thf-switch-label[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-bottom:15px}@media screen and (max-width: 480px){.button-cancel[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 480px){.button-confirm[_ngcontent-%COMP%]{display:block;width:100%;margin:0 0 30px}}[_nghost-%COMP%]     .po-button{height:44px;width:100%}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-button{display:block;width:100%}}[_nghost-%COMP%]     .demissionNewHire .thf-field-container-content{margin-top:0}[_nghost-%COMP%]     .thf-divider{margin-bottom:10px}[_nghost-%COMP%]     .row{margin-bottom:0}.form-control[_ngcontent-%COMP%]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;background-color:#fff;border:1px solid #b6bdbf;border-radius:3px;box-shadow:inset 0 1px 8px rgba(0,0,0,.1);height:44px;margin:8px 0;padding:0 16px;width:100%}@media screen and (max-width: 1366px){.form-control[_ngcontent-%COMP%]{font-size:14px;line-height:24px;height:32px;padding:0 8px}}@media (max-width: 480px){.desmissalForm[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{margin-bottom:30px}}.marginTop25px[_ngcontent-%COMP%]{margin-top:25px}.flex-end[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]     .po-switch-content{margin-top:0}.po-sm-12[_ngcontent-%COMP%]{margin-top:10px}"]}),e}(),No=n(24764);function Eo(e,t){if(1&e&&(c.TgZ(0,"span",21),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.Q6J("ngClass",null==n.currentDemission?null:n.currentDemission.status),c.xp6(1),c.Oqu(null==n.currentDemission?null:n.currentDemission.statusLabel)}}function Uo(e,t){if(1&e&&(c.TgZ(0,"span",21),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.Q6J("ngClass",null==n.currentDemission?null:n.currentDemission.status),c.xp6(1),c.Oqu(null==n.currentDemission?null:n.currentDemission.statusLabel)}}function Fo(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-initiative")),c.xp6(3),c.Oqu(null==n.currentDemissionDetails?null:n.currentDemissionDetails.demissionIniciative.name)}}function Jo(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.ALo(6,"utcDate"),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-date")),c.xp6(3),c.Oqu(c.xi3(6,4,null==n.currentDemissionDetails?null:n.currentDemissionDetails.demissionDate,"dd/MM/yyyy"))}}function Vo(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-type")),c.xp6(3),c.Oqu(null==n.currentDemissionDetails?null:n.currentDemissionDetails.demissionType.name)}}function Yo(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-prior")),c.xp6(3),c.Oqu(null==n.currentDemissionDetails?null:n.currentDemissionDetails.demissionNoticeType.name)}}function zo(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,3,"l-desmissal-prior-days")),c.xp6(3),c.AsE("",null==n.currentDemissionDetails?null:n.currentDemissionDetails.noticeDays," ",c.lcZ(6,5,"l-days"),"")}}function Qo(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-reason")),c.xp6(3),c.Oqu(null==n.currentDemissionDetails?null:n.currentDemissionDetails.demissionReason.name)}}function Go(e,t){if(1&e&&(c.TgZ(0,"div",15),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"span",17),c._uU(5),c.ALo(6,"translate"),c.ALo(7,"translate"),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-desmissal-employee")),c.xp6(3),c.Oqu(null!=n.currentDemissionDetails&&n.currentDemissionDetails.newHire?c.lcZ(6,4,"l-yes"):c.lcZ(7,6,"l-no"))}}function Ho(e,t){if(1&e&&(c.TgZ(0,"div",6),c.TgZ(1,"h3",16),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"div",22),c._uU(5),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Oqu(c.lcZ(3,2,"l-desmissal-justify")),c.xp6(3),c.hij(" ",null==n.currentDemissionDetails?null:n.currentDemissionDetails.demissionJustify," ")}}function Bo(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",23),c.TgZ(1,"div",6),c.TgZ(2,"po-button",24),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.emitOpenRequestDemission(e.requisition,!1)}),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"po-button",25),c.NdJ("click",function(){c.CHM(n);var e=c.oxw();return e.emitOpenRequestDemission(e.requisition,!0)}),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.qZA()}2&e&&(c.xp6(2),c.s9C("p-label",c.lcZ(3,2,"l-reprove")),c.xp6(2),c.s9C("p-label",c.lcZ(5,4,"l-approve")))}var jo=function(e){return{"background-image":e}},$o=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r){var s;return h(this,n),(s=t.call(this)).profileService=e,s.fieldPropertiesService=i,s.windowUtilService=o,s.globals=a,s.requisitionsService=r,s.getBackEvent=new c.vpe,s.openRequestDemissionInVisualize=new c.vpe,s.currentDemission={employeeId:"{current}",id:"",requestId:"",requestType:No.O.RequestTypeEnum.Demission,employeeName:"",startDate:new Date,status:No.O.StatusEnum.Empty},s.currentDemissionDetails={noticeDays:null,id:"",demissionDate:new Date,demissionReason:{name:"",id:""},demissionType:{name:"",id:""},demissionJustify:""},s}return m(n,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"initializeComponent",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadFieldProperties();case 2:return e.next=4,this.globals.getEmployeeSummary();case 4:this.loggedUser=e.sent,this.isMobile=this.windowUtilService.isMobileDevice(),this.currentDemission=this.requisition,this.currentDemissionDetails=this.demissionDetails,this.getImage(this.currentDemission.employeeId);case 9:case"end":return e.stop()}},e,this)}))}},{key:"getImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te.N.loggedUser;return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.avatarImage="./assets/img/empty_user.png",t.next=3,Oe.ZP.checkIfEncode(e);case 3:e=t.sent,this.profileService.getImageBase64(e).then(function(e){e&&e.content&&(n.avatarImage="data:image/"+(e.type||"png")+";base64,"+e.content)});case 5:case"end":return t.stop()}},t,this)}))}},{key:"isActionsAvailable",value:function(){return!!this.currentDemission&&(this.currentDemission.status!==No.O.StatusEnum.Approving||""!==this.currentDemission.responsableName)&&this.currentDemission.status.toLowerCase()===No.O.StatusEnum.Approving.toLowerCase()&&this.currentDemission.responsableId===Oe.ZP.checkIfDecode(this.loggedUser.id)}},{key:"back",value:function(){this.getBackEvent.emit()}},{key:"emitOpenRequestDemission",value:function(e,t){this.openRequestDemissionInVisualize.emit({requisition:e,approve:t})}},{key:"loadFieldProperties",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldPropertiesService.getFieldProperties("demission");case 2:this.fieldProperties=e.sent,this.fieldProperties&&this.fieldProperties.forEach(function(e){switch(e.field){case"employeeDemit":t.employeeDemit=e;break;case"demissionDate":t.demissionDate=e;break;case"demissionIniciative":t.demissionIniciative=e;break;case"demissionType":t.demissionType=e;break;case"demissionJustify":t.demissionJustify=e;break;case"newHire":t.newHire=e;break;case"demissionNoticeType":t.demissionNoticeType=e;break;case"demissionReason":t.demissionReason=e;break;case"noticeDays":t.noticeDays=e}});case 4:case"end":return e.stop()}},e,this)}))}},{key:"isRM",value:function(){return Oe.ZP.isErpRM()}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(ee.H),c.Y36(te.c),c.Y36(ue.g),c.Y36(ke.O),c.Y36(uo._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-demission-visualize"]],inputs:{requisition:"requisition",demissionDetails:"demissionDetails"},outputs:{getBackEvent:"getBackEvent",openRequestDemissionInVisualize:"openRequestDemissionInVisualize"},features:[c.qOj],decls:38,vars:27,consts:[["id","filter","isVisible","true",1,"dialog",3,"closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["pageTitle","l-requisition-details-confirm"],[1,"container-visualize"],[1,"holder"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"justify-title"],["class","badge",3,"ngClass",4,"ngIf"],[1,"line"],[1,"item-avatar","avatar","avatar-medium","mouse-pointer",3,"ngStyle"],[1,"info"],[1,"justify-mainName"],[1,"justify-id"],["class","po-sm-6 po-md-4 po-xl-4 po-lg-4",4,"ngIf"],[1,"po-sm-6","po-md-4","po-xl-4","po-lg-4"],[1,"justify-subtitle"],[1,"justify-text"],[1,"po-row","marginTop15px"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","po-row marginTop15px alignRight",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"justify-text","demission-justify"],[1,"po-row","marginTop15px","alignRight"],[1,"button",3,"p-label","click"],["p-type","primary",1,"button",3,"p-label","click"]],template:function(e,t){1&e&&(c.TgZ(0,"app-dialog",0),c.NdJ("closeDialogEvent",function(){return t.back()}),c.TgZ(1,"div",1),c._UZ(2,"app-page-header",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.TgZ(7,"h2",7),c._uU(8),c.ALo(9,"translate"),c.YNc(10,Eo,2,2,"span",8),c.qZA(),c._UZ(11,"hr",9),c.qZA(),c.qZA(),c.TgZ(12,"div",4),c._UZ(13,"div",10),c.TgZ(14,"div",11),c.TgZ(15,"h3",12),c._uU(16),c.qZA(),c.TgZ(17,"div",13),c._uU(18),c.ALo(19,"translate"),c.YNc(20,Uo,2,2,"span",8),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",5),c.YNc(22,Fo,6,4,"div",14),c.YNc(23,Jo,7,7,"div",14),c.YNc(24,Vo,6,4,"div",14),c.TgZ(25,"div",15),c.TgZ(26,"h3",16),c._uU(27),c.ALo(28,"translate"),c.qZA(),c.TgZ(29,"span",17),c._uU(30),c.qZA(),c.qZA(),c.YNc(31,Yo,6,4,"div",14),c.YNc(32,zo,7,7,"div",14),c.YNc(33,Qo,6,4,"div",14),c.YNc(34,Go,8,8,"div",14),c.qZA(),c.TgZ(35,"div",18),c.YNc(36,Ho,6,4,"div",19),c.qZA(),c.YNc(37,Bo,6,6,"div",20),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("closeDialogButtonEnable",!0),c.xp6(8),c.hij(" ",c.lcZ(9,19,"l-demission-details-justify")," "),c.xp6(2),c.Q6J("ngIf",!t.isMobile),c.xp6(3),c.Q6J("ngStyle",c.VKq(25,jo,"url("+t.avatarImage+")")),c.xp6(3),c.Oqu(null==t.currentDemission?null:t.currentDemission.employeeName),c.xp6(2),c.AsE(" ",c.lcZ(19,21,"l-identification")," ",null==t.currentDemission?null:t.currentDemission.requestId," "),c.xp6(2),c.Q6J("ngIf",t.isMobile),c.xp6(2),c.Q6J("ngIf",null==t.demissionIniciative?null:t.demissionIniciative.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionDate?null:t.demissionDate.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionType?null:t.demissionType.visible),c.xp6(3),c.Oqu(c.lcZ(28,23,"l-requisition-responsible")),c.xp6(3),c.Oqu(null==t.currentDemission?null:t.currentDemission.responsableName),c.xp6(1),c.Q6J("ngIf",null==t.demissionNoticeType?null:t.demissionNoticeType.visible),c.xp6(1),c.Q6J("ngIf",null==t.noticeDays?null:t.noticeDays.visible),c.xp6(1),c.Q6J("ngIf",null==t.demissionReason?null:t.demissionReason.visible),c.xp6(1),c.Q6J("ngIf",null==t.newHire?null:t.newHire.visible),c.xp6(2),c.Q6J("ngIf",null==t.demissionJustify?null:t.demissionJustify.visible),c.xp6(1),c.Q6J("ngIf",t.isActionsAvailable()&&!t.isRM()))},directives:[Ye.a,E.q,d.O5,d.PC,d.mk,k.bOz],pipes:[C.X$,ct.$],styles:['@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:15px 35px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .thf-button{display:block;width:100%}}.justify-mainName[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:16px;font-weight:bold}.justify-title[_ngcontent-%COMP%]{margin:25px 0 15px;font-family:"NunitoSans";font-weight:300}.justify-subtitle[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:14px;font-weight:bold}.holder[_ngcontent-%COMP%]{position:relative;margin:0 0 15px}.container-visualize[_ngcontent-%COMP%]{padding:0 15px}.info[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:60px;top:8px}.marginTop15px[_ngcontent-%COMP%]{margin-top:15px}.avatar[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.pending[_ngcontent-%COMP%]{background-color:#e8850a}.badge.approved[_ngcontent-%COMP%], .badge.closed[_ngcontent-%COMP%], .badge.reproved[_ngcontent-%COMP%]{background:#00b28e}.badge.rejected[_ngcontent-%COMP%], .badge.reject[_ngcontent-%COMP%]{background:#c64840}.badge.empty[_ngcontent-%COMP%]{background:#e8850a}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}@media (min-width: 961px) and (max-height: 620px){.demission-justify[_ngcontent-%COMP%]{max-height:50px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 621px) and (max-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:70px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:90px;overflow-y:auto}}po-button[_ngcontent-%COMP%]{margin-left:15px}@media screen and (max-width: 480px){po-button[_ngcontent-%COMP%]{margin:0;width:100%}}.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:10px}@media screen and (min-width: 991px){.alignRight[_ngcontent-%COMP%]{text-align:right}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}']}),e}(),Wo=n(76857),Ko=n(78662),Xo=n(90171),ea=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"transform",value:function(e,t){return e?t?(t=t.toLowerCase(),e.filter(function(e){return e.status.toLowerCase().includes(t)||e.requestId.toLowerCase().includes(t)||e.employeeName.toLowerCase().includes(t)})):e:[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Yjl({name:"demissionFilterSearch",type:e,pure:!0}),e}();function ta(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"li",31),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(2).openRequestDemission(e,!0)}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-approve")," "))}function na(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"li",31),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(2).openRequestDemission(e,!1)}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-reprove")," "))}function ia(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"li",32),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(2).openNextStepDemission(e)}),c._uU(1),c.ALo(2,"translate"),c.qZA()}2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-next-step")," "))}function oa(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"tr",19),c.TgZ(1,"td",20),c._UZ(2,"div",21),c.qZA(),c.TgZ(3,"td",22),c._uU(4),c.ALo(5,"titlecase"),c.qZA(),c.TgZ(6,"td",23),c._uU(7),c.qZA(),c.TgZ(8,"td",23),c._uU(9),c.qZA(),c.TgZ(10,"td",23),c._uU(11),c.ALo(12,"date"),c.qZA(),c.TgZ(13,"td",23),c._uU(14),c.qZA(),c.TgZ(15,"td",23),c.TgZ(16,"span",24),c.ALo(17,"lowercase"),c._uU(18),c.qZA(),c.qZA(),c.TgZ(19,"td",25),c.TgZ(20,"div",26),c._UZ(21,"span",27),c.TgZ(22,"ul",28),c.YNc(23,ta,3,3,"li",29),c.YNc(24,na,3,3,"li",29),c.YNc(25,ia,3,3,"li",30),c.TgZ(26,"li",31),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(2).openDemission(e)}),c._uU(27),c.ALo(28,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw(2);c.xp6(2),c.Udp("background-image",o.getImageAvatar(null==i?null:i.employeeId)),c.xp6(1),c.MGl("id","profile-",i.id,""),c.xp6(1),c.hij(" ",c.lcZ(5,14,null==i?null:i.employeeName)," "),c.xp6(3),c.hij(" ",null==i?null:i.requestId," "),c.xp6(2),c.hij(" ",null==i?null:i.employeeId," "),c.xp6(2),c.hij(" ",c.xi3(12,16,null==i?null:i.startDate,"dd/MM/yyyy")," "),c.xp6(3),c.hij(" ",null==i?null:i.responsableName," "),c.xp6(2),c.Q6J("ngClass",c.lcZ(17,19,null==i?null:i.status)),c.xp6(2),c.hij(" ",null==i?null:i.statusLabel," "),c.xp6(5),c.Q6J("ngIf",!o.isRM()&&o.canApproveReprove(i)),c.xp6(1),c.Q6J("ngIf",!o.isRM()&&o.canApproveReprove(i)),c.xp6(1),c.Q6J("ngIf",o.isRM()&&o.canApproveReprove(i)),c.xp6(2),c.hij(" ",c.lcZ(28,21,"l-visualize")," ")}}function aa(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",33),c.TgZ(1,"po-button",34),c.NdJ("p-click",function(){return c.CHM(n),c.oxw(2).loadMoreEvents()}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-view-more")),c.Q6J("p-disabled",!i.hasNext)}}function ra(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"table",7),c.TgZ(2,"thead",8),c.TgZ(3,"tr",9),c._UZ(4,"th",10),c.TgZ(5,"th",10),c.TgZ(6,"span",11),c._uU(7),c.ALo(8,"titlecase"),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"div",12),c.TgZ(11,"span",13),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeName","up")}),c.qZA(),c.TgZ(12,"span",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeName","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"th",15),c.TgZ(14,"span",11),c._uU(15),c.ALo(16,"titlecase"),c.ALo(17,"translate"),c.qZA(),c.TgZ(18,"div",12),c.TgZ(19,"span",13),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("requestId","up")}),c.qZA(),c.TgZ(20,"span",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("requestId","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"th",15),c.TgZ(22,"span",11),c._uU(23),c.ALo(24,"titlecase"),c.ALo(25,"translate"),c.qZA(),c.TgZ(26,"div",12),c.TgZ(27,"span",13),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeId","up")}),c.qZA(),c.TgZ(28,"span",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeId","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"th",10),c.TgZ(30,"span",11),c._uU(31),c.ALo(32,"titlecase"),c.ALo(33,"translate"),c.qZA(),c.TgZ(34,"div",12),c.TgZ(35,"span",13),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("startDate","up")}),c.qZA(),c.TgZ(36,"span",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("startDate","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"th",15),c.TgZ(38,"span",11),c._uU(39),c.ALo(40,"titlecase"),c.ALo(41,"translate"),c.qZA(),c.TgZ(42,"div",12),c.TgZ(43,"span",13),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("responsableName","up")}),c.qZA(),c.TgZ(44,"span",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("responsableName","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"th",15),c.TgZ(46,"span",11),c._uU(47),c.ALo(48,"titlecase"),c.ALo(49,"translate"),c.qZA(),c.TgZ(50,"div",12),c.TgZ(51,"span",13),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("status","up")}),c.qZA(),c.TgZ(52,"span",14),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("status","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(53,"th",16),c._uU(54),c.ALo(55,"titlecase"),c.ALo(56,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(57,"tbody"),c.YNc(58,oa,29,23,"tr",17),c.ALo(59,"demissionFilterSearch"),c.qZA(),c.qZA(),c.YNc(60,aa,3,4,"div",18),c.qZA()}if(2&e){var i=c.oxw();c.xp6(7),c.Oqu(c.lcZ(8,9,c.lcZ(9,11,"l-name"))),c.xp6(8),c.Oqu(c.lcZ(16,13,c.lcZ(17,15,"l-requisition-id"))),c.xp6(8),c.Oqu(c.lcZ(24,17,c.lcZ(25,19,"l-requisition-matricula"))),c.xp6(8),c.Oqu(c.lcZ(32,21,c.lcZ(33,23,"l-date"))),c.xp6(8),c.Oqu(c.lcZ(40,25,c.lcZ(41,27,"l-requisition-responsible"))),c.xp6(8),c.Oqu(c.lcZ(48,29,c.lcZ(49,31,"l-status"))),c.xp6(7),c.Oqu(c.lcZ(55,33,c.lcZ(56,35,"l-actions"))),c.xp6(4),c.Q6J("ngForOf",c.xi3(59,37,i.finishedRequisitions,i.searchText)),c.xp6(2),c.Q6J("ngIf",i.hasNext)}}function sa(e,t){1&e&&(c.TgZ(0,"h2",39),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,1,"l-latest-requests")))}function ca(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-button",51),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(3).openRequestDemission(e,!1)}),c.ALo(1,"translate"),c.qZA()}2&e&&c.s9C("p-label",c.lcZ(1,1,"l-reprove"))}function la(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-button",52),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(3).openRequestDemission(e,!0)}),c.ALo(1,"translate"),c.qZA()}2&e&&c.s9C("p-label",c.lcZ(1,1,"l-approve"))}function ua(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-button",51),c.NdJ("click",function(){c.CHM(n);var e=c.oxw().$implicit;return c.oxw(3).openNextStepDemission(e)}),c.ALo(1,"translate"),c.qZA()}2&e&&c.s9C("p-label",c.lcZ(1,1,"l-next-step"))}function pa(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"mat-accordion",40),c.TgZ(1,"mat-expansion-panel",41),c.TgZ(2,"mat-expansion-panel-header",42),c._UZ(3,"span",43),c.ALo(4,"lowercase"),c._uU(5),c.qZA(),c._UZ(6,"hr",44),c.TgZ(7,"div",45),c.TgZ(8,"span",46),c._uU(9),c.ALo(10,"translate"),c.qZA(),c.TgZ(11,"span",47),c._uU(12),c.qZA(),c.qZA(),c._UZ(13,"hr",44),c.TgZ(14,"div",45),c.TgZ(15,"span",46),c._uU(16),c.ALo(17,"translate"),c.qZA(),c.TgZ(18,"span",47),c._uU(19),c.qZA(),c.qZA(),c._UZ(20,"hr",44),c.TgZ(21,"div",45),c.TgZ(22,"span",46),c._uU(23),c.ALo(24,"translate"),c.qZA(),c.TgZ(25,"span",47),c._uU(26),c.qZA(),c.qZA(),c._UZ(27,"hr",44),c.TgZ(28,"div",45),c.TgZ(29,"span",46),c._uU(30),c.ALo(31,"translate"),c.qZA(),c.TgZ(32,"span",47),c._uU(33),c.ALo(34,"date"),c.qZA(),c.qZA(),c._UZ(35,"hr",44),c.TgZ(36,"div",48),c.TgZ(37,"span",46),c._uU(38),c.ALo(39,"translate"),c.qZA(),c.TgZ(40,"span",47),c._uU(41),c.qZA(),c.qZA(),c.TgZ(42,"div",45),c.YNc(43,ca,2,3,"po-button",49),c.YNc(44,la,2,3,"po-button",50),c.YNc(45,ua,2,3,"po-button",49),c.TgZ(46,"po-button",51),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(3).openDemission(e)}),c.ALo(47,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw(3);c.xp6(1),c.Q6J("ngClass",o.custom-o.border),c.xp6(2),c.Q6J("ngClass",c.lcZ(4,17,null==i?null:i.status)),c.xp6(2),c.hij("",i.employeeName," "),c.xp6(4),c.Oqu(c.lcZ(10,19,"l-status")),c.xp6(3),c.Oqu(null==i?null:i.statusLabel),c.xp6(4),c.Oqu(c.lcZ(17,21,"l-requisition-id")),c.xp6(3),c.Oqu(null==i?null:i.requestId),c.xp6(4),c.Oqu(c.lcZ(24,23,"l-requisition-matricula")),c.xp6(3),c.Oqu(null==i?null:i.employeeId),c.xp6(4),c.Oqu(c.lcZ(31,25,"l-requisition-dataInicio")),c.xp6(3),c.Oqu(c.xi3(34,27,null==i?null:i.startDate,"dd/MM/yyyy")),c.xp6(5),c.Oqu(c.lcZ(39,30,"l-requisition-responsible")),c.xp6(3),c.Oqu(null==i?null:i.responsableName),c.xp6(2),c.Q6J("ngIf",o.canApproveReprove(i)&&!o.isRM()),c.xp6(1),c.Q6J("ngIf",o.canApproveReprove(i)&&!o.isRM()),c.xp6(1),c.Q6J("ngIf",o.canApproveReprove(i)&&o.isRM()),c.xp6(1),c.s9C("p-label",c.lcZ(47,32,"l-visualize"))}}function da(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",53),c.TgZ(1,"po-button",54),c.NdJ("p-click",function(){return c.CHM(n),c.oxw(3).loadMoreEvents()}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(3);c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-load-more")),c.Q6J("p-disabled",!i.hasNext)}}function ga(e,t){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,sa,3,3,"h2",36),c.YNc(2,pa,48,34,"mat-accordion",37),c.ALo(3,"demissionFilterSearch"),c.YNc(4,da,3,4,"div",38),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("ngIf",0!=(null==n.finishedRequisitions?null:n.finishedRequisitions.length)),c.xp6(1),c.Q6J("ngForOf",c.xi3(3,3,n.finishedRequisitions,n.searchText)),c.xp6(2),c.Q6J("ngIf",n.hasNext)}}function ha(e,t){if(1&e&&(c.TgZ(0,"div",35),c.YNc(1,ga,5,6,"div",5),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.hasDemissionHistory)}}function fa(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"app-demission-confirm",55),c.NdJ("getBackEvent",function(e){return c.CHM(n),c.oxw().getBackEvent(e)})("getRequisitions",function(){return c.CHM(n),c.oxw().getRequisitions()})("cleanFinishedRequisitions",function(){return c.CHM(n),c.oxw().cleanFinishedRequisitions()}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("requisition",i.selectedRequisition)("isApproving",i.isApproving)("finishedRequisitions",i.finishedRequisitions)("steps",i.steps)}}function ma(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"app-demission-visualize",56),c.NdJ("openRequestDemissionInVisualize",function(e){return c.CHM(n),c.oxw().openRequestDemissionInVisualize(e)})("getBackEvent",function(e){return c.CHM(n),c.oxw().getBackEvent(e)}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("requisition",i.selectedRequisition)("demissionDetails",i.demissionDetails)}}var va=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s,c,u,p){var d;return h(this,n),(d=t.call(this)).lastAccessItem=e,d.navigationUtil=i,d.requisitionsService=o,d.windowUtilService=a,d.profileService=r,d.sanitization=s,d.permissionService=c,d.globals=u,d.appTranslateService=p,d.finishedRequisitions=[],d.hasDemissionHistory=!0,d.avatarImage=[],d.buttonActionName="",d.page=1,d.pageSize=6,d.pageTitle="",d.quickSearchLabel="",d.hasDisclaimers=!1,d.employee=void 0,d.demissaoConfirm=!1,d.steps=[],d.customLiterals={disclaimerGroupTitle:"",filterTitle:"",filterCancelLabel:"",filterConfirmLabel:"",quickSearchLabel:"",searchPlaceholder:""},d.paramsFilters={employeeName:null,requestId:null,startDate:null,status:null,types:"demission"},d.searchActions=[{label:"",action:d.requestDemission.bind(l(d))}],d}return m(n,[{key:"onResize",value:function(e){this.checkIfMobile()}},{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.initializeComponents()}},{key:"initVariables",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.visualizeDemissionIsVisible=this.requestDemissionIsVisible=!1,e.next=3,this.globals.getEmployeeSummary();case 3:return this.loggedUser=e.sent,e.next=6,this.getPermissions();case 6:this.permissions=e.sent;case 7:case"end":return e.stop()}},e,this)}))}},{key:"initializePoComponent",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateLabel("im-desmissal");case 2:return this.pageTitle=e.sent,e.next=5,this.translateLabel("l-name");case 5:return e.t0=e.sent,e.t1={property:"employeeName",label:e.t0,gridColumns:6},e.next=9,this.translateLabel("l-requisition-approving");case 9:return e.t2=e.sent,e.t3={value:"approving",label:e.t2},e.next=13,this.translateLabel("l-requisition-approved");case 13:return e.t4=e.sent,e.t5={value:"approved",label:e.t4},e.next=17,this.translateLabel("l-requisition-rejected");case 17:return e.t6=e.sent,e.t7={value:"rejected",label:e.t6},e.next=21,this.translateLabel("l-requisition-empty");case 21:return e.t8=e.sent,e.t9={value:"empty",label:e.t8},e.next=25,this.translateLabel("l-requisition-closed");case 25:return e.t10=e.sent,e.t11={value:"closed",label:e.t10},e.t12=[e.t3,e.t5,e.t7,e.t9,e.t11],e.t13={property:"status",label:"status",options:e.t12,gridColumns:6},e.next=31,this.translateLabel("l-date");case 31:return e.t14=e.sent,e.t15={property:"startDate",label:e.t14,gridColumns:6,type:"date"},e.next=35,this.translateLabel("l-requisition-id");case 35:e.t16=e.sent,e.t17={property:"requestId",label:e.t16,gridColumns:6},this.filters=[e.t1,e.t13,e.t15,e.t17];case 38:case"end":return e.stop()}},e,this)}))}},{key:"initializeSearch",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateLabel("l-desmissal-request-title");case 2:return e.t0=e.sent,e.t1="+ "+e.t0,e.t2=this.requestDemission.bind(this),e.t3=!this.permissions.demissionRequest,e.t4={label:e.t1,action:e.t2,disabled:e.t3},this.searchActions=[e.t4],e.next=10,this.translateLabel("l-disclaimer-group-title");case 10:return e.t5=e.sent,e.next=13,this.translateLabel("l-filter-title");case 13:return e.t6=e.sent,e.next=16,this.translateLabel("l-cancel-title");case 16:return e.t7=e.sent,e.next=19,this.translateLabel("l-confirm");case 19:return e.t8=e.sent,e.next=22,this.translateLabel("l-quick-search");case 22:return e.t9=e.sent,e.next=25,this.translateLabel("l-search-placeholder");case 25:return e.t10=e.sent,this.customLiterals={disclaimerGroupTitle:e.t5,filterTitle:e.t6,filterCancelLabel:e.t7,filterConfirmLabel:e.t8,quickSearchLabel:e.t9,searchPlaceholder:e.t10},e.next=29,this.translateLabel("l-demission-search-name");case 29:this.quickSearchLabel=e.sent;case 30:case"end":return e.stop()}},e,this)}))}},{key:"onChangeDisclaimers",value:function(e){var t={};this.finishedRequisitions=[],0===e.length&&(this.hasDisclaimers=!1),e&&(e.forEach(function(e){t[e.property]=e.value}),this.page=1,this.getRequisitions(t))}},{key:"onQuickSearch",value:function(e){e&&this.resetFilters(),this.hasDisclaimers=!0,this.getRequisitions({employeeName:e})}},{key:"onAdvancedSearch",value:function(e){e&&this.resetFilters(),this.hasDisclaimers=!0,this.getRequisitions(e)}},{key:"resetFilters",value:function(){this.page=1,this.hasDisclaimers=!1,this.paramsFilters={employeeName:null,requestId:null,startDate:null,status:null,types:"demission"},this.finishedRequisitions=[]}},{key:"getPermissions",value:function(){return this.permissionService.getPermissions(this.loggedUser.id)}},{key:"checkIfMobile",value:function(){this.isMobile=this.windowUtilService.isMobileDevice()}},{key:"setCountLastAccess",value:function(){this.lastAccessItem.setLastAccess($e.Pz,this.loggedUser.id)}},{key:"requestDemission",value:function(){this.navigationUtil.doNavigation("demission/request")}},{key:"getDemissionDetails",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requisitionsService.getDemissionDetails(this.loggedUser.id,e);case 2:n=t.sent,this.demissionDetails=n;case 4:case"end":return t.stop()}},t,this)}))}},{key:"loadMoreEvents",value:function(){this.page++,this.getRequisitions()}},{key:"cleanFinishedRequisitions",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.finishedRequisitions=[];case 1:case"end":return e.stop()}},e,this)}))}},{key:"getImageAvatar",value:function(e){var t=this;return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(Oe.ZP.checkIfEncode(e)).then(function(n){n&&n.content&&(t.avatarImage[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.avatarImage[e]}},{key:"translateLabel",value:function(e){return this.appTranslateService.getI18n(e)}},{key:"openDemission",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.selectedRequisition=e,t.next=3,this.getDemissionDetails(e.id);case 3:this.visualizeDemissionIsVisible=!0;case 4:case"end":return t.stop()}},t,this)}))}},{key:"getBackEvent",value:function(){this.visualizeDemissionIsVisible=this.requestDemissionIsVisible=!1}},{key:"back",value:function(){this.windowUtilService.back()}},{key:"openRequestDemission",value:function(e,t){this.selectedRequisition=e,this.isApproving=t,this.requestDemissionIsVisible=!0}},{key:"openNextStepDemission",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getEmployeeSummary();case 2:n=t.sent,this.demissionResponse={approved:!1,date:$.Em.formatUTCDate(new Date),justify:"",requisitions:[]},this.demissionRequisition={id:e.id,status:e.status},this.demissionResponse.requisitions.push(this.demissionRequisition),this.requisitionsService.getNextStepRequisitions(n,this.demissionResponse).then(function(t){i.steps=t.items.map(function(e){return{label:e.description,value:e.id}}),i.selectedRequisition=e,i.requestDemissionIsVisible=!0});case 4:case"end":return t.stop()}},t,this)}))}},{key:"openRequestDemissionInVisualize",value:function(e){this.selectedRequisition=e.requisition,this.isApproving=e.approve,this.visualizeDemissionIsVisible=!1,this.requestDemissionIsVisible=!0}},{key:"canApproveReprove",value:function(e){return e.status.toLowerCase()===No.O.StatusEnum.Approving.toLowerCase()&&""!==e.responsableName&&Oe.ZP.checkIfDecode(this.loggedUser.id)===e.responsableId}},{key:"isRM",value:function(){return Oe.ZP.isErpRM()}},{key:"order",value:function(e,t){if("down"===t)switch(e){case"employeeName":this.finishedRequisitions.sort(function(e,t){return e.employeeName<t.employeeName?-1:1});break;case"requestId":this.finishedRequisitions.sort(function(e,t){return e.requestId<t.requestId?-1:1});break;case"employeeId":this.finishedRequisitions.sort(function(e,t){return e.employeeId<t.employeeId?-1:1});break;case"startDate":this.finishedRequisitions.sort(function(e,t){return e.startDate<t.startDate?-1:1});break;case"responsableName":this.finishedRequisitions.sort(function(e,t){return e.responsableName<t.responsableName?-1:1});break;case"status":this.finishedRequisitions.sort(function(e,t){return e.status<t.status?-1:1})}else switch(e){case"employeeName":this.finishedRequisitions.sort(function(e,t){return e.employeeName>t.employeeName?-1:1});break;case"requestId":this.finishedRequisitions.sort(function(e,t){return e.requestId>t.requestId?-1:1});break;case"employeeId":this.finishedRequisitions.sort(function(e,t){return e.employeeId>t.employeeId?-1:1});break;case"startDate":this.finishedRequisitions.sort(function(e,t){return e.startDate>t.startDate?-1:1});break;case"responsableName":this.finishedRequisitions.sort(function(e,t){return e.responsableName>t.responsableName?-1:1});break;case"status":this.finishedRequisitions.sort(function(e,t){return e.status>t.status?-1:1})}}},{key:"initializeComponents",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initVariables();case 2:return e.next=4,this.getRequisitions();case 4:this.initializePoComponent(),this.initializeSearch(),this.checkIfMobile(),this.setCountLastAccess();case 8:case"end":return e.stop()}},e,this)}))}},{key:"updateParams",value:function(e){this.paramsFilters.employeeName=void 0!==e.employeeName?e.employeeName:null,this.paramsFilters.status=void 0!==e.status?e.status:null,this.paramsFilters.startDate=null!=e.startDate?new Date(e.startDate):null,this.paramsFilters.requestId=void 0!==e.requestId?e.requestId:null}},{key:"getRequisitions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.paramsFilters;return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateParams(e),t.next=3,this.requisitionsService.getAllRequisitions(this.loggedUser.id,this.page,this.pageSize,this.paramsFilters.employeeName,this.paramsFilters.requestId,this.paramsFilters.startDate,this.paramsFilters.status,"demission");case 3:(n=t.sent).items&&(this.hasNext=n.hasNext,this.finishedRequisitions=this.finishedRequisitions.concat(n.items));case 5:case"end":return t.stop()}},t,this)}))}},{key:"getEmployeeSummary",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Te.N.loggedUser,this.globals.getEmployeeSummary().then(function(e){n.employee=e,n.employee&&(t=n.employee.id)}),e.next=4,Oe.ZP.checkIfEncode(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(Ko.g5),c.Y36(N._),c.Y36(uo._),c.Y36(ue.g),c.Y36(ee.H),c.Y36(r.H7),c.Y36(Wo.$),c.Y36(ke.O),c.Y36(le.g))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-demission"]],hostBindings:function(e,t){1&e&&c.NdJ("resize",function(e){return t.onResize(e)},!1,c.Jf7)},inputs:{requisition:"requisition"},features:[c.qOj],decls:7,vars:8,consts:[["backIsVisible","viewIsMobile","pageTitle","l-desmissal",3,"backFunction"],[1,"actions-holder"],["title","","name","fieldName","ngDefaultControl","",3,"ngClass","p-actions","p-filters","p-literals","p-change-disclaimers","p-quick-search","p-advanced-search"],["class","desktop",4,"ngIf"],["class","holder mobile",4,"ngIf"],[4,"ngIf"],[1,"desktop"],[1,"history-panel","table"],[1,"column-header"],[1,"custom-tr"],[1,"employee-label-column"],[1,"table-header"],[1,"sort-icons"],[1,"sort","po-icon","po-icon-arrow-up",3,"click"],[1,"sort","po-icon","po-icon-arrow-down",3,"click"],[1,"employee-label-column","column-dates"],[1,"employee-label-column","column-icons"],["class","custom-tr hover-design",4,"ngFor","ngForOf"],["class","alignCenter",4,"ngIf"],[1,"custom-tr","hover-design"],[1,"column","text-center","inline-block"],[1,"avatar-small"],[1,"column",3,"id"],[1,"column"],[1,"flag",3,"ngClass"],[1,"column","column-icons"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],["class","dropdown-menu-itens dropdown-menu-itens-next",3,"click",4,"ngIf"],[1,"dropdown-menu-itens",3,"click"],[1,"dropdown-menu-itens","dropdown-menu-itens-next",3,"click"],[1,"alignCenter"],["p-small","false","p-type","default","classq","linkViewMore next-periods",3,"p-disabled","p-label","p-click"],[1,"holder","mobile"],["class","latest-requests",4,"ngIf"],["class","no-padding",4,"ngFor","ngForOf"],["class","alignCenter load-container",4,"ngIf"],[1,"latest-requests"],[1,"no-padding"],["hideToggle","false",3,"ngClass"],[1,"vacation-history-header"],[1,"bullet",3,"ngClass"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],[1,"historic-content","po-mb-2"],["class","button",3,"p-label","click",4,"ngIf"],["class","button","p-type","primary",3,"p-label","click",4,"ngIf"],[1,"button",3,"p-label","click"],["p-type","primary",1,"button",3,"p-label","click"],[1,"alignCenter","load-container"],[1,"load-more",3,"p-disabled","p-label","p-click"],[3,"requisition","isApproving","finishedRequisitions","steps","getBackEvent","getRequisitions","cleanFinishedRequisitions"],[3,"requisition","demissionDetails","openRequestDemissionInVisualize","getBackEvent"]],template:function(e,t){1&e&&(c.TgZ(0,"app-page-header",0),c.NdJ("backFunction",function(){return t.back()}),c.qZA(),c.TgZ(1,"div",1),c.TgZ(2,"po-page-dynamic-search",2),c.NdJ("p-change-disclaimers",function(e){return t.onChangeDisclaimers(e)})("p-quick-search",function(e){return t.onQuickSearch(e)})("p-advanced-search",function(e){return t.onAdvancedSearch(e)}),c.qZA(),c.YNc(3,ra,61,40,"div",3),c.YNc(4,ha,2,1,"div",4),c.qZA(),c.YNc(5,fa,2,4,"div",5),c.YNc(6,ma,2,2,"div",5)),2&e&&(c.xp6(2),c.Q6J("ngClass",t.hasDisclaimers?"disclaimer":"")("p-actions",t.searchActions)("p-filters",t.filters)("p-literals",t.customLiterals),c.xp6(1),c.Q6J("ngIf",!t.isMobile),c.xp6(1),c.Q6J("ngIf",t.isMobile),c.xp6(1),c.Q6J("ngIf",t.requestDemissionIsVisible),c.xp6(1),c.Q6J("ngIf",t.visualizeDemissionIsVisible))},directives:[E.q,pn.O6,y.Fj,d.mk,d.O5,d.sg,k.bOz,Xo.pp,Xo.ib,Xo.yz,ho,$o],pipes:[d.rS,C.X$,ea,d.uU,d.i8],styles:[".thf-button[_ngcontent-%COMP%]{padding:0 30px}.demission-label[_ngcontent-%COMP%]{margin-top:0}.latest-requests[_ngcontent-%COMP%]{margin-top:0}.demission-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:normal;color:#2b3639}@media screen and (max-width: 375px){.historic-value[_ngcontent-%COMP%]{display:block;width:100%}}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}@media screen and (max-width: 375px){.historic-label[_ngcontent-%COMP%]{display:block;width:100%}}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{padding:0 15px}@media (max-width: 375px){.historic-content[_ngcontent-%COMP%]{min-height:48px}}@media (max-width: 480px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{display:block;width:100%}}@media (min-width: 480px) and (max-width: 1024px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{margin-right:5px}}@media (max-width: 480px){[_nghost-%COMP%]     po-button .po-button{display:block;width:100%;margin-bottom:10px}}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{display:inline-block;margin:0 0 8px;padding-left:8px;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#fff}.demission-label[_ngcontent-%COMP%]{padding-left:8px}.dropdown[_ngcontent-%COMP%]{float:none;float:initial;text-align:center}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding:0 16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens-next[_ngcontent-%COMP%]{white-space:nowrap}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;right:5px;min-width:90px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#4a5c60;font-size:20px}[_nghost-%COMP%]     .thf-button-link{border-color:#4a5c60;color:#4a5c60}@media screen and (max-width: 425px){[_nghost-%COMP%]     .thf-button-link{width:100%}}[_nghost-%COMP%]     po-advanced-filter .po-field-title{text-transform:capitalize}.demission[_ngcontent-%COMP%]{position:relative;padding:10px}@media screen and (min-width: 992px) and (max-width: 1199px){.demission-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.demission-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.demission-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}.demission-link[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 992px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 20px}.actions-holder[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{display:inline-block;max-width:450px;width:250px;float:right}}@media (max-width: 480px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]{height:44px;width:100%;margin-bottom:15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions .po-button, [_nghost-%COMP%]     .load-more .po-button{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions{margin-bottom:55px}}[_nghost-%COMP%]     .general .max-width-page-title{padding-left:0}[_nghost-%COMP%]     .thf-field-container-content{padding:0}[_nghost-%COMP%]     .po-page{width:100%;margin-left:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}[_nghost-%COMP%]     .demission .card-well{background:linear-gradient(to top right,#0c7cbe 0%,#0cb8be 100%)}[_nghost-%COMP%]     .thf-button{padding:0}@media screen and (max-width: 1366px){.thf-button[_ngcontent-%COMP%]{line-height:16px;padding:7px 16px}}.displayBlock[_ngcontent-%COMP%]{width:100%;display:block}.bullet[_ngcontent-%COMP%]{display:inline-block;height:15px;width:15px;margin-right:10px;padding:8px;border-radius:20px;background:#e8850a}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.employee-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;word-wrap:break-word;overflow:auto;max-width:200px}.column-icons[_ngcontent-%COMP%]{text-align:center}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;height:20px!important;white-space:nowrap;padding:10px}tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.sort-icons[_ngcontent-%COMP%]{display:inline-block}.desktop[_ngcontent-%COMP%]{margin:0 15px;padding-bottom:100px}.mobile[_ngcontent-%COMP%]{padding:0 10px}.text-center[_ngcontent-%COMP%]{text-align:center!important}.avatar-small[_ngcontent-%COMP%]{display:inline-block}.column-see[_ngcontent-%COMP%]{vertical-align:middle!important}.column-icons[_ngcontent-%COMP%]{overflow:visible!important;overflow:initial!important}.pending[_ngcontent-%COMP%]{background-color:#e8850a}.approved[_ngcontent-%COMP%], .aprovado[_ngcontent-%COMP%], .fechado[_ngcontent-%COMP%], .closed[_ngcontent-%COMP%]{background:#00b28e}.rejected[_ngcontent-%COMP%], .rejeitado[_ngcontent-%COMP%], .reprovado[_ngcontent-%COMP%], .reproved[_ngcontent-%COMP%]{background:#c64840}.empty[_ngcontent-%COMP%], .vazio[_ngcontent-%COMP%]{background:#cacaca}.approving[_ngcontent-%COMP%]{background:#e8850a}[_nghost-%COMP%]     .po-page-content{position:absolute;left:-100vw;top:-100vh}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-page{display:block}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-page{display:block;padding-bottom:0}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-modal-footer{padding:15px}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer{margin-bottom:15px;padding:0 15px}}[_nghost-%COMP%]     .po-modal-footer .po-button{margin:0 0 5px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-bottom:10px}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-left:12px;width:23%}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer po-button{margin-left:0}}[_nghost-%COMP%]     .po-page-list-actions .po-button{padding:0 50px}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-filter-content{width:calc(100% - 80px)}}@media (min-width: 768px){[_nghost-%COMP%]     .po-page-filter-content{width:300px}}[_nghost-%COMP%]     .po-table-subtitle-footer-container{display:none}.alignCenter[_ngcontent-%COMP%]{text-align:center}.mat-accordion[_ngcontent-%COMP%] > .mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]     .mat-content{align-items:center;overflow:auto}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 24px 0 20px}.sort[_ngcontent-%COMP%]{display:block;width:100%;cursor:pointer;font-size:9px;margin-left:15px}.load-container[_ngcontent-%COMP%]{margin-bottom:30px}.history-panel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .custom-tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}"]}),e}();function ba(e,t){1&e&&(c.TgZ(0,"h2",10),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-requisitions-available")," "))}var xa=function(e,t,n){return{"po-hidden-sm":e,"po-hidden-lg":t,"po-hidden-xl":n,"po-sm-4":!0,"po-md-2":!0,"po-lg-2":!0,"po-xl-2":!0}};function ya(e,t){if(1&e&&(c.TgZ(0,"div",12),c.TgZ(1,"div"),c.TgZ(2,"app-card"),c.TgZ(3,"div",13),c._UZ(4,"app-card-featured",14),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=t.index;c.Q6J("ngClass",c.kEZ(4,xa,i>2,i>5,i>5)),c.xp6(4),c.Q6J("featuredIcon",n.featuredIcon)("featuredLabel",n.featuredLabel)("featuredRoute",n.featuredRoute)}}function wa(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",3),c.YNc(2,ya,5,8,"div",11),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Q6J("ngForOf",n.lastAccessedItems)}}function Za(e,t){1&e&&(c.TgZ(0,"h2",10),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"l-requisitions-new")," "))}function Ca(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"app-card"),c.TgZ(2,"div",13),c._UZ(3,"app-card-featured",14),c.ALo(4,"translate"),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw().$implicit;c.xp6(3),c.Q6J("featuredIcon",n.featuredIcon)("featuredLabel",c.lcZ(4,3,n.featuredLabel))("featuredRoute",n.featuredRoute)}}function Ma(e,t){if(1&e&&(c.TgZ(0,"div",12),c.YNc(1,Ca,5,5,"div",9),c.qZA()),2&e){var n=t.$implicit,i=t.index;c.Q6J("ngClass",c.kEZ(2,xa,i>2,i>5,i>5)),c.xp6(1),c.Q6J("ngIf",null==n?null:n.permission)}}function ka(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",3),c.YNc(2,Ma,2,6,"div",11),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Q6J("ngForOf",n.baseButtons)}}var Aa=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s){var c;return h(this,n),(c=t.call(this)).lastAccessService=e,c.appTranslateService=i,c.permissionService=o,c.windowUtilService=a,c.requisitonsService=r,c.globals=s,c.lastAccessedItems=[],c.demissionIsAllowed=!1,c.baseButtons=[],c.requisitions={totalPending:0,totalRequest:0,subTotals:[]},c}return m(n,[{key:"ngOnInit",value:function(){this.initializeComponents()}},{key:"getPermissions",value:function(){return this.globals.getEmployeePermission()?Promise.resolve(this.globals.getEmployeePermission()):this.permissionService.getPermissions(this.loggedUser.id)}},{key:"setLastAccessedMenus",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lastAccessedItems.length&&(this.lastAccessedItems.sort(function(e,t){return e.cont>t.cont?-1:e.cont<t.cont?1:0}),this.lastAccessedItems.forEach(function(e){e.id===Ko.Pz&&t.permissions.demission&&t.setCardInfo(e,"ico-demission","im-desmissal","/demission"),e.id===Ko.nd&&t.permissions.substitution&&t.setCardInfo(e,"ico-substitution","l-substitution","/substitution"),e.id===Ko.Mt&&t.permissions.employeeDataChange&&t.setCardInfo(e,"po-icon po-icon-edit","l-data-change","/employeeDataChange")})),e.t0=!this.lastAccessedItems.find(function(e){return e.id===Ko.Pz})&&this.permissions.demission,!e.t0){e.next=10;break}return e.t1=this.lastAccessedItems,e.next=6,this.appTranslateService.getI18n("im-desmissal");case 6:e.t2=e.sent,e.t3=Ko.Pz,e.t4={featuredIcon:"ico-demission",featuredLabel:e.t2,featuredRoute:"/demission",id:e.t3,cont:0},e.t1.push.call(e.t1,e.t4);case 10:if(e.t5=!this.lastAccessedItems.find(function(e){return e.id===Ko.nd})&&this.permissions.substitution,!e.t5){e.next=19;break}return e.t6=this.lastAccessedItems,e.next=15,this.appTranslateService.getI18n("l-substitution");case 15:e.t7=e.sent,e.t8=Ko.nd,e.t9={featuredIcon:"ico-substitution",featuredLabel:e.t7,featuredRoute:"/substitution",id:e.t8,cont:0},e.t6.push.call(e.t6,e.t9);case 19:if(e.t10=!this.lastAccessedItems.find(function(e){return e.id===Ko.Mt})&&this.permissions.employeeDataChange,!e.t10){e.next=28;break}return e.t11=this.lastAccessedItems,e.next=24,this.appTranslateService.getI18n("l-data-change");case 24:e.t12=e.sent,e.t13=Ko.Mt,e.t14={featuredIcon:"po-icon po-icon-edit",featuredLabel:e.t12,featuredRoute:"/employeeDataChange",id:e.t13,cont:0},e.t11.push.call(e.t11,e.t14);case 28:case"end":return e.stop()}},e,this)}))}},{key:"back",value:function(){this.windowUtilService.back()}},{key:"setCardInfo",value:function(e,t,n,i){e.featuredIcon=t,this.appTranslateService.getI18n(n).then(function(t){e.featuredLabel=t}),e.featuredRoute=i}},{key:"initializeComponents",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:return this.loggedUser=e.sent,e.next=5,this.getPermissions();case 5:return this.permissions=e.sent,this.types=this.getTypes(),this.lastAccessedItems=this.lastAccessService.getLastAccessMenuItems(this.loggedUser.id),this.setCountLastAccess(),this.loadNotifications(),e.next=12,this.setLastAccessedMenus();case 12:case"end":return e.stop()}},e,this)}))}},{key:"loadNotifications",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requisitonsService.getCountedRequisitions(this.loggedUser.id,this.types);case 2:this.requisitions=e.sent;case 3:case"end":return e.stop()}},e,this)}))}},{key:"getTypes",value:function(){var e="";return this.permissions.demission&&(e+="demission"),this.permissions.substitution&&(e+=e.length>0?"|substitution":"substitution"),this.permissions.employeeDataChange&&(e+=e.length>0?"|employeeDataChange":"employeeDataChange"),e}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccessService.setLastAccess(Ko.im,t.id)})}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(Ko.g5),c.Y36(le.g),c.Y36(Wo.$),c.Y36(ue.g),c.Y36(uo._),c.Y36(ke.O))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-requisitions"]],features:[c.qOj],decls:26,vars:19,consts:[[1,"container-fluid",3,"hidden"],["pageTitle","l-requisitions",3,"backIsVisible","backFunction"],[1,"po-holder"],[1,"po-row"],[1,"po-sm-6","po-md-3","po-lg-3","po-xl-3"],[1,"card"],[1,"po-font-subtitle","text-number"],[1,"text-title"],["class","po-font-subtitle text-subtitle",4,"ngIf"],[4,"ngIf"],[1,"po-font-subtitle","text-subtitle"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["card-body",""],[3,"featuredIcon","featuredLabel","featuredRoute"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"app-page-header",1),c.NdJ("backFunction",function(){return t.back()}),c.qZA(),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div"),c.TgZ(7,"span",6),c._uU(8),c.ALo(9,"number"),c.qZA(),c.TgZ(10,"h4",7),c._uU(11),c.ALo(12,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"div",4),c.TgZ(14,"div",5),c.TgZ(15,"div"),c.TgZ(16,"span",6),c._uU(17),c.ALo(18,"number"),c.qZA(),c.TgZ(19,"h4",7),c._uU(20),c.ALo(21,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(22,ba,3,3,"h2",8),c.YNc(23,wa,3,1,"div",9),c.YNc(24,Za,3,3,"h2",8),c.YNc(25,ka,3,1,"div",9),c.qZA()),2&e&&(c.xp6(1),c.Q6J("backIsVisible",t.viewIsMobile),c.xp6(7),c.Oqu(c.xi3(9,9,(null==t.requisitions?null:t.requisitions.totalRequest)||0,"2.0")),c.xp6(3),c.Oqu(c.lcZ(12,12,"l-my-requests")),c.xp6(6),c.Oqu(c.xi3(18,14,(null==t.requisitions?null:t.requisitions.totalPending)||0,"2.0")),c.xp6(3),c.Oqu(c.lcZ(21,17,"l-my-approvals")),c.xp6(2),c.Q6J("ngIf",0!=(null==t.lastAccessedItems?null:t.lastAccessedItems.length)),c.xp6(1),c.Q6J("ngIf",0!=(null==t.lastAccessedItems?null:t.lastAccessedItems.length)),c.xp6(1),c.Q6J("ngIf",0==(null==t.lastAccessedItems?null:t.lastAccessedItems.length)&&t.permissions),c.xp6(1),c.Q6J("ngIf",(null==t.baseButtons?null:t.baseButtons.length)>0))},directives:[E.q,d.O5,d.sg,d.mk,U.A,et],pipes:[d.JJ,C.X$],styles:['.po-font-subtitle[_ngcontent-%COMP%]{margin:10px 10px 5px}.po-holder[_ngcontent-%COMP%]{margin:24px 0}.text-title[_ngcontent-%COMP%]{left:10px;top:6px;margin:5px 0 10px;color:#2b3639;font-weight:300;font-size:1rem;text-align:left}.text-subtitle[_ngcontent-%COMP%]{color:#2b3639;font-size:22px}.text-number[_ngcontent-%COMP%]{display:block;padding:20px 0;color:#2b3639;font-family:"NunitoSans";font-size:2.4rem;font-weight:100}@media screen and (max-width: 576px){.text-number[_ngcontent-%COMP%]{text-align:left;font-weight:normal}}@media screen and (max-width: 320px){.text-number[_ngcontent-%COMP%]{margin:14px 10px 1px;font-size:1.4rem}}[_nghost-%COMP%]     .card{position:relative;margin-bottom:8px;padding-top:22px;background:#ffffff;box-shadow:0 2px 8px #e3e6f1;border-radius:6px;text-align:center}[_nghost-%COMP%]     .card-footer{padding:5px 0;border-top:1px solid #f1f1f1}[_nghost-%COMP%]     .card-link{cursor:pointer;font-size:1rem;font-weight:bold}[_nghost-%COMP%]     .card .text-title{position:absolute}[_nghost-%COMP%]     .card-actions{padding:5px 0;border-top:1px solid #e3e6f1;color:#0c9abe}@media screen and (max-width: 576px){[_nghost-%COMP%]     .card-actions{position:absolute;bottom:15px;right:15px;z-index:10;border:none}}@media screen and (max-width: 320px){[_nghost-%COMP%]     .card-actions{position:absolute;bottom:15px;right:10px}}[_nghost-%COMP%]     .card-well{min-height:104px;padding:0!important}[_nghost-%COMP%]     .card-featured{display:block;padding:16px;cursor:pointer}']}),e}();function Pa(e,t){if(1&e&&(c.TgZ(0,"div",7),c._UZ(1,"br"),c._UZ(2,"hr",8),c.TgZ(3,"h2",9),c._uU(4),c.qZA(),c.qZA()),2&e){var n=c.oxw(3);c.xp6(4),c.Oqu(n.viewLabel)}}function Oa(e,t){if(1&e&&(c.TgZ(0,"span"),c.YNc(1,Pa,5,1,"div",6),c.qZA()),2&e){var n=c.oxw(2);c.xp6(1),c.Q6J("ngIf",n.birthdates&&0!==n.birthdates.length)}}function qa(e,t){if(1&e&&(c.TgZ(0,"tbody"),c.TgZ(1,"tr",10),c.TgZ(2,"td",11),c._UZ(3,"div",12),c.qZA(),c.TgZ(4,"td"),c.TgZ(5,"div",13),c.TgZ(6,"span",14),c.TgZ(7,"strong"),c._uU(8),c.ALo(9,"titleCase"),c.qZA(),c.qZA(),c.qZA(),c._UZ(10,"br"),c.TgZ(11,"div",15),c.TgZ(12,"span",14),c._uU(13),c.qZA(),c.qZA(),c.qZA(),c.TgZ(14,"td",16),c.TgZ(15,"div",13),c.TgZ(16,"span",17),c._uU(17),c.ALo(18,"utcDate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=c.oxw(2);c.xp6(3),c.Udp("background-image",i.getImageAvatar(n.employeeId)),c.xp6(5),c.Oqu(c.lcZ(9,5,n.employeeName)),c.xp6(5),c.hij(" ",n.department," "),c.xp6(4),c.hij(" ",c.xi3(18,7,n.birthDate,"EEEE, dd MMMM")," ")}}function Ta(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",18),c.TgZ(1,"a",19),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).getMore()}),c._uU(2),c.ALo(3,"translate"),c.ALo(4,"translate"),c.qZA(),c.qZA()}2&e&&(c.xp6(2),c.AsE("",c.lcZ(3,2,"l-see")," ",c.lcZ(4,4,"l-all"),""))}function _a(e,t){if(1&e&&(c.TgZ(0,"div",2),c.YNc(1,Oa,2,1,"span",1),c.TgZ(2,"table",3),c.YNc(3,qa,19,10,"tbody",4),c.qZA(),c.YNc(4,Ta,5,6,"div",5),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.birthdates&&0!==n.birthdates.length),c.xp6(2),c.Q6J("ngForOf",n.birthdatesPaginate),c.xp6(1),c.Q6J("ngIf",n.viewMore)}}function Sa(e,t){if(1&e&&(c.TgZ(0,"span",7),c.TgZ(1,"h2",33),c._uU(2),c.qZA(),c.qZA()),2&e){var n=c.oxw(3);c.xp6(2),c.Oqu(n.viewLabel)}}function Ia(e,t){if(1&e&&(c.TgZ(0,"p",34),c._uU(1),c.ALo(2,"utcDate"),c.qZA()),2&e){var n=c.oxw().$implicit;c.xp6(1),c.hij(" ",c.xi3(2,1,null==n?null:n.birthDate,"longDate")," ")}}function Da(e,t){1&e&&c._UZ(0,"hr",35)}var La=function(e){return{"first-item":e}};function Ra(e,t){if(1&e&&(c.TgZ(0,"div",24),c.YNc(1,Sa,3,1,"span",6),c.YNc(2,Ia,3,4,"p",25),c.YNc(3,Da,1,0,"hr",26),c.TgZ(4,"div",27),c.TgZ(5,"div",28),c._UZ(6,"div",29),c.qZA(),c.TgZ(7,"div",30),c.TgZ(8,"div",31),c.TgZ(9,"strong"),c._uU(10),c.ALo(11,"titleCase"),c.qZA(),c.qZA(),c.TgZ(12,"div",32),c._uU(13),c.ALo(14,"titleCase"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=t.index,o=c.oxw(2);c.xp6(1),c.Q6J("ngIf",0===i),c.xp6(1),c.Q6J("ngIf",0===i),c.xp6(1),c.Q6J("ngIf",i>0),c.xp6(1),c.Q6J("ngClass",c.VKq(12,La,0===i)),c.xp6(2),c.Udp("background-image",o.getImageAvatar(n.employeeId)),c.xp6(4),c.Oqu(c.lcZ(11,8,null==n?null:n.employeeName)),c.xp6(3),c.hij(" ",c.lcZ(14,10,null==n?null:n.department)," ")}}function Na(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",36),c.TgZ(1,"a",19),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).getMore()}),c._uU(2),c.ALo(3,"translate"),c.ALo(4,"translate"),c.qZA(),c.qZA()}2&e&&(c.xp6(2),c.AsE("",c.lcZ(3,2,"l-see")," ",c.lcZ(4,4,"l-all"),""))}function Ea(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"app-card"),c.YNc(2,Ra,15,14,"div",20),c.TgZ(3,"div",21),c._UZ(4,"hr",22),c.YNc(5,Na,5,6,"div",23),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(2),c.Q6J("ngForOf",n.birthdatesPaginate),c.xp6(3),c.Q6J("ngIf",n.viewMore)}}var Ua=function(){var e=function(){function e(t,n,i){h(this,e),this.profileService=t,this.sanitization=n,this.navigationUtil=i,this.avatarImage=[],this.viewMore=!1,this.birthdatesPaginate=[],this.pageSize=2,this.showAllRecords=new c.vpe,this.birthdates=[]}return m(e,[{key:"ngOnInit",value:function(){this.viewIsMobile=ue.g.mdDeviceOrSmaller(window.innerWidth),this.filterShowBirthdates()}},{key:"getMore",value:function(){this.viewMore=!1,this.navigationUtil.doNavigation("birthdates/details/"+this.status)}},{key:"getImageAvatar",value:function(e){var t=this;return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(function(n){n&&n.content&&(t.avatarImage[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.avatarImage[e]}},{key:"filterShowBirthdates",value:function(){this.isFiltered&&this.birthdates.length>this.pageSize?(this.viewMore=!0,this.birthdatesPaginate=this.birthdates.slice(0,2)):this.birthdatesPaginate=this.birthdates,this.convertToCurrentYear()}},{key:"convertToCurrentYear",value:function(){var e,t=JSON.parse(JSON.stringify(this.birthdatesPaginate)),n=p(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;null!=i.birthDate&&("string"==typeof i.birthDate&&(i.birthDate=new Date(i.birthDate)),i.birthDate.setFullYear((new Date).getFullYear()))}}catch(o){n.e(o)}finally{n.f()}this.birthdatesPaginate=t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(ee.H),c.Y36(r.H7),c.Y36(N._))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-team-birthdates-detail"]],inputs:{birthdates:"birthdates",viewLabel:"viewLabel",status:"status",isFiltered:"isFiltered"},outputs:{showAllRecords:"showAllRecords"},decls:2,vars:2,consts:[["class","header-divider panel-body po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],[4,"ngIf"],[1,"header-divider","panel-body","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"history-panel","table"],[4,"ngFor","ngForOf"],["class","next-periods",4,"ngIf"],["class","po-row",4,"ngIf"],[1,"po-row"],[1,"line"],["id","tit-page-header",1,"page-title"],[1,"custom-tr","hover-design"],[1,"column-icons"],[1,"avatar-small"],[1,"name-table"],[1,"left-text"],[1,"po-mt-1","office"],[1,"column-width"],[1,"right-text"],[1,"next-periods"],[3,"click"],["class","mr-card-header","card-header","",4,"ngFor","ngForOf"],["card-footer",""],[1,"finish-line"],["class","next-periods-mobile",4,"ngIf"],["card-header","",1,"mr-card-header"],["class","name-birthday-mobile",4,"ngIf"],["class","line-cards",4,"ngIf"],[3,"ngClass"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],[2,"font-size","14px"],[1,"name-birthday-mobile"],[1,"line-cards"],[1,"next-periods-mobile"]],template:function(e,t){1&e&&(c.YNc(0,_a,5,3,"div",0),c.YNc(1,Ea,6,2,"div",1)),2&e&&(c.Q6J("ngIf",!t.viewIsMobile),c.xp6(1),c.Q6J("ngIf",t.viewIsMobile))},directives:[d.O5,d.sg,U.A,d.mk],pipes:[ge.r,ct.$,C.X$],styles:[".panel-body[_ngcontent-%COMP%]{padding-bottom:0}.next-periods-mobile[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:14px;box-shadow:inset 0 0 #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;cursor:pointer;margin-bottom:-14px;margin-top:4px}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:14px;box-shadow:inset 0 0 #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;cursor:pointer}.first-item[_ngcontent-%COMP%]{margin-top:12px}.employee-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px!important;word-wrap:break-word;max-width:200px}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:16px;text-align:left;height:20px!important;white-space:nowrap;padding:10px}.name[_ngcontent-%COMP%]{font-weight:bold;color:#302462}.birthday[_ngcontent-%COMP%]{text-align:right!important}.column-width[_ngcontent-%COMP%]{padding:12px}.color-white[_ngcontent-%COMP%]{color:#fff}.name[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#302462}.name-birthday[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9}.name-birthday-mobile[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-bottom:24px;margin-top:-5px}.finish-line[_ngcontent-%COMP%]{margin:1rem -16px -4px}.line-cards[_ngcontent-%COMP%]{margin-bottom:.7rem!important}.name-table[_ngcontent-%COMP%]{font-size:14px;color:#302462}.office[_ngcontent-%COMP%]{font-size:.8em;font-weight:bold;color:#9da7a9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.column-icons[_ngcontent-%COMP%]{text-align:center!important}.line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.avatar-align[_ngcontent-%COMP%]{margin-left:5px}.avatar-small[_ngcontent-%COMP%]{width:42px;height:42px}.icons-action[_ngcontent-%COMP%]{color:#0c9abe;font-size:25px;margin:0px,5px;cursor:pointer}.icons-list[_ngcontent-%COMP%]{font-size:19px;color:#0c9abe;font-weight:600;vertical-align:middle}.right-align[_ngcontent-%COMP%]{position:relative;width:100%}.right-text[_ngcontent-%COMP%]{float:right}.left-text[_ngcontent-%COMP%]{float:left}.icon-title-list[_ngcontent-%COMP%]{padding-left:8px;vertical-align:middle!important;font-family:NunitoSans!important}.table-header[_ngcontent-%COMP%]{float:left;line-height:0px}.sort-icons[_ngcontent-%COMP%]{float:left}.sort[_ngcontent-%COMP%]{display:block;width:100%;cursor:pointer;font-size:9px;margin-left:15px}.table-header[_ngcontent-%COMP%]{float:left;line-height:1}[_nghost-%COMP%]     .po-container{margin-top:10px!important}[_nghost-%COMP%]     po-input{padding-left:0;padding-right:0}.informations[_ngcontent-%COMP%]{padding:0 8px;margin-top:5px;width:100%;font-size:14px;float:left}.icon-depto[_ngcontent-%COMP%]{margin-top:2px;margin-right:4px;float:left;color:#0c9abe}[_nghost-%COMP%]     .cardbody{margin-top:55px;padding-left:55px}[_nghost-%COMP%]     .aboutEmployee{padding-left:55px}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;color:#0c9abe;margin:15px 0;float:left}.actions-button[_ngcontent-%COMP%]{border:.8px solid #0c9abe;border-radius:5px;margin-left:10px;text-align:center;cursor:pointer;white-space:normal;width:60px;height:75px;font-size:10px;font-weight:bold}.action-icons-mobile[_ngcontent-%COMP%]{margin:6px 0;display:block;font-size:30px}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:180px;left:auto!important}.dropdown-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 0 10px}@media screen and (max-width: 320px){[_nghost-%COMP%]     .cardbody{padding-left:0}.informations[_ngcontent-%COMP%]{padding-left:63px}}"]}),e}();function Fa(e,t){if(1&e&&(c._UZ(0,"app-team-birthdates-detail",2),c.ALo(1,"translate")),2&e){var n=c.oxw();c.Q6J("birthdates",n.birthdatesToday)("viewLabel",c.lcZ(1,4,"l-birthdays-today"))("status","today")("isFiltered",n.isFiltered)}}function Ja(e,t){if(1&e&&(c._UZ(0,"app-team-birthdates-detail",2),c.ALo(1,"titlecase"),c.ALo(2,"translate")),2&e){var n=c.oxw();c.Q6J("birthdates",n.birthdatesBefore)("viewLabel",c.lcZ(1,4,c.lcZ(2,6,"l-birthdays-before")))("status","before")("isFiltered",n.isFiltered)}}function Va(e,t){if(1&e&&(c._UZ(0,"app-team-birthdates-detail",2),c.ALo(1,"titlecase"),c.ALo(2,"translate")),2&e){var n=c.oxw();c.Q6J("birthdates",n.birthdatesAfter)("viewLabel",c.lcZ(1,4,c.lcZ(2,6,"l-birthdays-after")))("status","after")("isFiltered",n.isFiltered)}}var Ya=function(){var e=function(){function e(t,n){h(this,e),this.dashboardService=t,this.route=n,this.birthdatesBefore=[],this.birthdatesToday=[],this.birthdatesAfter=[],this.isFiltered=!0}return m(e,[{key:"ngOnInit",value:function(){this.getListBirthdates()}},{key:"getListBirthdates",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.statusFilter=this.getURLParamId(),e.next=3,this.dashboardService.getTeamBirthdays(Te.N.loggedUser);case 3:t=e.sent,n=(new Date).getUTCDate(),this.separateBirthdatesTypes(t,n),this.statusFilter&&(this.isFiltered=!1,this.showAllBirthdatesByStatus());case 6:case"end":return e.stop()}},e,this)}))}},{key:"separateBirthdatesTypes",value:function(e,t){var n=this;(e=this.sortBirthdatesByDate(e)).forEach(function(e){var i=$.Em.getDateWithoutTimezone(new Date(e.birthDate));i.getUTCDate()>t?n.birthdatesAfter.push(e):i.getUTCDate()===t?n.birthdatesToday.push(e):n.birthdatesBefore.push(e)})}},{key:"getURLParamId",value:function(){return this.route.snapshot.paramMap.get("status")}},{key:"showAllBirthdatesByStatus",value:function(){"today"===this.statusFilter?(this.birthdatesAfter=[],this.birthdatesBefore=[]):"after"===this.statusFilter?(this.birthdatesToday=[],this.birthdatesBefore=[]):(this.birthdatesAfter=[],this.birthdatesToday=[])}},{key:"sortBirthdatesByDate",value:function(e){return e.sort(function(e,t){var n=new Date(e.birthDate).getUTCDate(),i=new Date(t.birthDate).getUTCDate();return n>i?1:n<i?-1:0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Le),c.Y36(D.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-team-birthdates"]],decls:6,vars:9,consts:[[3,"backIsVisible","pageTitle"],[3,"birthdates","viewLabel","status","isFiltered",4,"ngIf"],[3,"birthdates","viewLabel","status","isFiltered"]],template:function(e,t){1&e&&(c._UZ(0,"app-page-header",0),c.ALo(1,"titleCase"),c.ALo(2,"translate"),c.YNc(3,Fa,2,6,"app-team-birthdates-detail",1),c.YNc(4,Ja,3,8,"app-team-birthdates-detail",1),c.YNc(5,Va,3,8,"app-team-birthdates-detail",1)),2&e&&(c.MGl("pageTitle","",c.lcZ(1,5,c.lcZ(2,7,"l-birthdays"))," "),c.Q6J("backIsVisible",!0),c.xp6(3),c.Q6J("ngIf",null==t.birthdatesToday?null:t.birthdatesToday.length),c.xp6(1),c.Q6J("ngIf",null==t.birthdatesBefore?null:t.birthdatesBefore.length),c.xp6(1),c.Q6J("ngIf",null==t.birthdatesAfter?null:t.birthdatesAfter.length))},directives:[E.q,d.O5,Ua],pipes:[ge.r,C.X$,d.rS],styles:[""]}),e}(),za="team/substitute/",Qa=function(){var e=function(){function e(t){h(this,e),this.genericService=t}return m(e,[{key:"getSubstituteRequests",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(za).concat(Te.N.loggedUser),i=this.parseParams({},"initDate",e),t.next=3,this.genericService.search(n,i);case 3:return t.abrupt("return",t.sent.items);case 4:case"end":return t.stop()}},t,this)}))}},{key:"getSubstitutes",value:function(e,t,n,i,o){var a="".concat(za,"eligible/").concat(Te.N.loggedUser);t=t||1,n=n||10;var r={};return this.parseParams(r,"userName",e),this.parseParams(r,"page",t),this.parseParams(r,"pageSize",n),this.parseParams(r,"divisions",i),this.parseParams(r,"divisionType",o),this.genericService.search(a,r)}},{key:"parseParams",value:function(e,t,n){null!=n&&(e[t]=n)}},{key:"substituteRequest",value:function(e){return this.genericService.post(za+Te.N.loggedUser,e)}},{key:"getDivisions",value:function(){return this.genericService.get("team/organizationalSubdivision/".concat(Te.N.loggedUser)).then(function(e){return e.items})}},{key:"updateSubstituteRequest",value:function(e){return this.genericService.put("".concat(za).concat(Te.N.loggedUser),e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ga=((Ga||(Ga={})).TypeEnum={Department:"department",Team:"team",Hierarchy:"hierarchy"},Ga),Ha=((Ha||(Ha={})).DivisionsTypeEnum={Department:"department",Team:"team",Hierarchy:"hierarchy"},Ha);function Ba(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"span",5),c.TgZ(2,"span",6),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Oqu(c.lcZ(4,1,"l-only-possible-to-choose-a-type-structure")))}function ja(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-checkbox-group",7),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().departamentCheckbox=e}),c.ALo(1,"translate"),c.qZA()}if(2&e){var i=c.oxw();c.s9C("p-label",c.lcZ(1,4,"l-department")),c.Q6J("ngModel",i.departamentCheckbox)("p-disabled",i.teamCheckbox&&i.teamCheckbox.length>0)("p-options",i.department)}}function $a(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"span",5),c.TgZ(2,"span",6),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.hij("",c.lcZ(4,1,"l-only-possible-to-choose-a-type-structure")," "))}function Wa(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"po-checkbox-group",8),c.NdJ("ngModelChange",function(e){return c.CHM(n),c.oxw().teamCheckbox=e}),c.ALo(1,"translate"),c.qZA()}if(2&e){var i=c.oxw();c.s9C("p-label",c.lcZ(1,4,"l-team")),c.Q6J("ngModel",i.teamCheckbox)("p-disabled",i.departamentCheckbox&&i.departamentCheckbox.length>0)("p-options",i.team)}}var Ka=function(){var e=function(){function e(t){h(this,e),this.service=t,this.department=[],this.team=[],this.closeDivisionsNext=new c.vpe}return m(e,[{key:"ngOnInit",value:function(){this.getDivisions(),this.loadSelectedDivisions()}},{key:"getDivisions",value:function(){var e=this;this.service.getDivisions().then(function(t){t.forEach(function(t){t.type===Ga.TypeEnum.Department?e.department.push({value:t.id,label:t.name}):e.team.push({value:t.id,label:t.name})})})}},{key:"loadSelectedDivisions",value:function(){this.substituteRequest&&this.substituteRequest.divisionsType===Ha.DivisionsTypeEnum.Department?this.departamentCheckbox=this.substituteRequest.divisions:this.substituteRequest&&(this.substituteRequest.divisionsType===Ha.DivisionsTypeEnum.Team||this.substituteRequest.divisionsType===Ha.DivisionsTypeEnum.Hierarchy)&&(this.teamCheckbox=this.substituteRequest.divisions)}},{key:"nextStep",value:function(){var e=this,t=[];this.teamCheckbox&&this.teamCheckbox.length?this.team.forEach(function(n){e.teamCheckbox.includes(n.value)&&t.push({id:n.value,name:n.label,type:Ga.TypeEnum.Team})}):this.department.forEach(function(n){e.departamentCheckbox.includes(n.value)&&t.push({id:n.value,name:n.label,type:Ga.TypeEnum.Department})}),this.closeDivisionsNext.emit(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Qa))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-divisions"]],inputs:{substituteRequest:"substituteRequest"},outputs:{closeDivisionsNext:"closeDivisionsNext"},decls:9,vars:11,consts:[[1,"select-divisions-label"],[4,"ngIf"],["class","checkbox","p-columns","1","name","department",3,"ngModel","p-disabled","p-label","p-options","ngModelChange",4,"ngIf"],["class","checkbox","p-columns","1","name","team",3,"ngModel","p-disabled","p-label","p-options","ngModelChange",4,"ngIf"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-4","po-xl-2","button-confirm",3,"p-disabled","p-label","p-click"],[1,"po-icon","po-icon-exclamation","icon"],[1,"warning-label"],["p-columns","1","name","department",1,"checkbox",3,"ngModel","p-disabled","p-label","p-options","ngModelChange"],["p-columns","1","name","team",1,"checkbox",3,"ngModel","p-disabled","p-label","p-options","ngModelChange"]],template:function(e,t){1&e&&(c.TgZ(0,"span",0),c._uU(1),c.ALo(2,"translate"),c.qZA(),c.YNc(3,Ba,5,3,"div",1),c.YNc(4,ja,2,6,"po-checkbox-group",2),c.YNc(5,$a,5,3,"div",1),c.YNc(6,Wa,2,6,"po-checkbox-group",3),c.TgZ(7,"po-button",4),c.NdJ("p-click",function(){return t.nextStep()}),c.ALo(8,"translate"),c.qZA()),2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,7,"l-select-organization-structure")),c.xp6(2),c.Q6J("ngIf",t.department&&t.department.length&&t.teamCheckbox&&t.teamCheckbox.length>0),c.xp6(1),c.Q6J("ngIf",t.department&&t.department.length),c.xp6(1),c.Q6J("ngIf",t.team&&t.team.length&&t.departamentCheckbox&&t.departamentCheckbox.length>0),c.xp6(1),c.Q6J("ngIf",t.team&&t.team.length),c.xp6(1),c.s9C("p-label",c.lcZ(8,9,"l-confirm")),c.Q6J("p-disabled",!(null!=t.teamCheckbox&&t.teamCheckbox.length||null!=t.departamentCheckbox&&t.departamentCheckbox.length)))},directives:[d.O5,k.bOz,k.LzG,y.JJ,y.On],pipes:[C.X$],styles:[".select-divisions-label[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;margin-top:3%}[_nghost-%COMP%]     .po-field-optional{color:#fff!important}.checkbox[_ngcontent-%COMP%]{margin:0!important}.warning-label[_ngcontent-%COMP%]{font-size:12px;font-weight:bold}.icon[_ngcontent-%COMP%]{margin-right:1%}.button-confirm[_ngcontent-%COMP%]{margin-top:25px}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.period[_ngcontent-%COMP%]{position:absolute;left:0;top:75%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}}@media (max-width: 961px){[_nghost-%COMP%]     .po-button{height:90px}}@media only screen and (max-width: 961px){[_nghost-%COMP%]     .po-button{position:fixed;bottom:60px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;outline:none;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:93%;left:0;margin-top:-25px;padding:0}}"]}),e}();function Xa(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",5),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw().onClickItem(e)}),c.TgZ(1,"div",6),c._UZ(2,"div",7),c.qZA(),c.TgZ(3,"div",8),c.TgZ(4,"strong"),c._uU(5),c.ALo(6,"titleCase"),c.qZA(),c.TgZ(7,"p",9),c._uU(8),c.ALo(9,"titleCase"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw();c.xp6(2),c.Udp("background-image",o.getImage(i.id)),c.MGl("id","photo-",i.id,""),c.xp6(3),c.Oqu(c.lcZ(6,5,i.name)),c.xp6(3),c.Oqu(c.lcZ(9,7,i.roleDescription))}}var er=function(){var e=function(){function e(t,n,i){h(this,e),this.service=t,this.sanitization=n,this.profileService=i,this.employeeSelected=new c.vpe,this.defaultPageSize=5,this.defaultTimeout=850,this.employees=[],this.images={},this.filter="",this.currentPage=1,this.hasNext=!1}return m(e,[{key:"ngOnInit",value:function(){this.getEmployees()}},{key:"onChangeFilter",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultTimeout;return this.cancelTimer(),new Promise(function(n){e.timeoutId=setTimeout(function(){e.employees=[],e.currentPage=1,e.getEmployees(),n()},t)})}},{key:"cancelTimer",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"getEmployees",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.divisions){e.next=6;break}return e.next=3,this.service.getSubstitutes(this.filter,this.currentPage,this.defaultPageSize,this.divisions.map(function(e){return e.id}),this.divisions[0].type.toString());case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.service.getSubstitutes(this.filter,this.currentPage,this.defaultPageSize);case 8:e.t0=e.sent;case 9:(t=e.t0)&&(t.items&&(this.employees=this.employees.concat(t.items)),this.hasNext=t.hasNext);case 11:case"end":return e.stop()}},e,this)}))}},{key:"getImage",value:function(e){var t=this;return this.images[e]||(this.images[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(function(n){n&&n.content&&(t.images[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.images[e]}},{key:"getMore",value:function(){this.hasNext&&(this.currentPage++,this.getEmployees())}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&this.onChangeFilter(0)}},{key:"ngOnDestroy",value:function(){this.cancelTimer()}},{key:"onClickItem",value:function(e){this.employeeSelected.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Qa),c.Y36(r.H7),c.Y36(ee.H))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-substitute"]],inputs:{divisions:"divisions",substituteRequest:"substituteRequest"},outputs:{employeeSelected:"employeeSelected"},decls:9,vars:9,consts:[[1,"sticky"],["name","filter-input","p-clean","true","p-icon","po-icon-search",3,"ngModel","p-placeholder","ngModelChange","p-change-model","keydown"],[1,"result-label"],[3,"p-items","p-show-more-disabled","p-show-more"],["p-list-view-content-template",""],[1,"po-row","content","clickable",3,"click"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align",3,"id"],[1,"aboutEmployee"],[1,"title"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"po-input",1),c.NdJ("ngModelChange",function(e){return t.filter=e})("p-change-model",function(){return t.onChangeFilter()})("keydown",function(e){return t.onKeyDown(e)}),c.ALo(2,"translate"),c.qZA(),c.qZA(),c.TgZ(3,"div"),c.TgZ(4,"p",2),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.qZA(),c.TgZ(7,"po-list-view",3),c.NdJ("p-show-more",function(){return t.getMore()}),c.YNc(8,Xa,10,9,"ng-template",4),c.qZA()),2&e&&(c.xp6(1),c.s9C("p-placeholder",c.lcZ(2,5,"l-search-sub-placeholder")),c.Q6J("ngModel",t.filter),c.xp6(4),c.Oqu(c.lcZ(6,7,"l-results")),c.xp6(2),c.Q6J("p-items",t.employees)("p-show-more-disabled",!t.hasNext))},directives:[k.xxV,y.JJ,y.On,k.TeR,k.Jgl],pipes:[C.X$,ge.r],styles:[".content[_ngcontent-%COMP%]{margin-left:10px;line-height:17px;background-color:unset}[_nghost-%COMP%]     .po-list-view{background-color:unset}[_nghost-%COMP%]     .po-list-view :hover{background-color:#fff}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.avatar-card[_ngcontent-%COMP%]{padding-top:1px}[_nghost-%COMP%]     .po-list-view-content{margin-top:3px}[_nghost-%COMP%]     .po-field-container-content{border-style:solid;border-bottom:0;border-left:0;border-right:0;padding-top:0;border-top-width:8px;border-color:#fbfbfb}[_nghost-%COMP%]     .po-field-icon-container-right{padding-bottom:8px}[_nghost-%COMP%]     .po-field-icon-container-left{padding-bottom:8px}.aboutEmployee[_ngcontent-%COMP%]{margin-left:9px}[_nghost-%COMP%]     po-field-container input{padding-right:36px;padding-top:4px;padding-bottom:4px;height:44px}.result-label[_ngcontent-%COMP%]{margin-top:2px;font-weight:bold}.title[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}"]}),e}(),tr=function(){var e=function(){function e(t,n){h(this,e),this.notificationService=t,this.translateService=n,this.periodNextStep=new c.vpe}return m(e,[{key:"ngOnInit",value:function(){this.loadSelectedPeriods()}},{key:"loadSelectedPeriods",value:function(){this.substituteRequest&&(this.initDate=$.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.substituteRequest.initDate)),this.endDate=$.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.substituteRequest.endDate)))}},{key:"nextStep",value:function(){this.initDate>this.endDate?this.showNotificationError("m-initialDateBiggerThanEndDate"):$.Em.getDateWithoutTimezone(new Date(this.initDate))<$.Em.getDateWithoutTimezone(new Date)?this.showNotificationError("l-selected-date-smaller-than-current-date"):this.periodNextStep.emit({initDate:this.initDate,endDate:this.endDate})}},{key:"showNotificationError",value:function(e){var t=this;this.translateService.get(e).subscribe(function(e){t.notificationService.showNotification(e,k.ik9.Error)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(ce.g),c.Y36(C.sK))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-select-period"]],inputs:{substituteRequest:"substituteRequest"},outputs:{periodNextStep:"periodNextStep"},decls:9,vars:16,consts:[[1,"period-label","po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-clean","true","p-auto-focus","true","p-required","true",1,"po-sm-6","po-md-4","po-lg-2","po-xl-2","ng-untouched","ng-dirty","ng-valid",3,"ngModel","p-label","ngModelChange"],["p-clean","true","p-auto-focus","false","p-required","true",1,"po-sm-6","po-md-4","po-lg-2","po-xl-2","ng-untouched","ng-dirty","ng-valid",3,"ngModel","p-label","p-min-date","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-4","po-xl-2","button-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(c.TgZ(0,"span",0),c._uU(1),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"po-datepicker",1),c.NdJ("ngModelChange",function(e){return t.initDate=e}),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"po-datepicker",2),c.NdJ("ngModelChange",function(e){return t.endDate=e}),c.ALo(6,"translate"),c.qZA(),c.TgZ(7,"po-button",3),c.NdJ("p-click",function(){return t.nextStep()}),c.ALo(8,"translate"),c.qZA()),2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,8,"l-whats-period")),c.xp6(2),c.s9C("p-label",c.lcZ(4,10,"l-start")),c.Q6J("ngModel",t.initDate),c.xp6(2),c.s9C("p-label",c.lcZ(6,12,"l-scheduler-messages.editor.end")),c.Q6J("ngModel",t.endDate)("p-min-date",t.initDate),c.xp6(2),c.s9C("p-label",c.lcZ(8,14,"l-confirm")),c.Q6J("p-disabled",!t.initDate||!t.endDate))},directives:[k.GWy,y.JJ,y.On,k.bOz],pipes:[C.X$],styles:[".period-label[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;margin-top:3%}[_nghost-%COMP%]     .po-datepicker-popup-calendar .po-calendar{position:fixed!important}.button-confirm[_ngcontent-%COMP%]{clear:both;margin-top:25px}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}}@media (max-width: 961px){[_nghost-%COMP%]     .po-button{height:90px}}@media only screen and (max-width: 961px){[_nghost-%COMP%]     .po-button{position:fixed;bottom:60px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;outline:none;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:93%;left:0;margin-top:-25px;padding:0}}"]}),e}(),nr=function(){var e=function(){function e(){h(this,e),this.closeSubstitutePermissions=new c.vpe}return m(e,[{key:"ngOnInit",value:function(){this.setDefaultSwitchValues(),this.loadSelectedPermissions()}},{key:"setDefaultSwitchValues",value:function(){this.switchLabelPosition=k.fxz.Right,this.switchManageTeam=!0,this.switchViewSalary=!1}},{key:"loadSelectedPermissions",value:function(){this.substituteRequest&&(this.switchManageTeam=this.substituteRequest.canManageTeam,this.switchViewSalary=this.substituteRequest.canViewSalary)}},{key:"nextStep",value:function(){this.closeSubstitutePermissions.emit({canManageTeam:this.switchManageTeam,canViewSalary:this.switchViewSalary})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-substitute-permissions"]],inputs:{substituteRequest:"substituteRequest"},outputs:{closeSubstitutePermissions:"closeSubstitutePermissions"},decls:11,vars:22,consts:[[1,"select-substitute-permissions-label"],["name","po-switch","ngDefaultControl","",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-label-position","ngModel","p-label-on","p-label-off","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-4","po-xl-2","button-confirm",3,"p-label","p-click"]],template:function(e,t){1&e&&(c.TgZ(0,"span",0),c._uU(1),c.ALo(2,"translate"),c.qZA(),c.TgZ(3,"po-switch",1),c.NdJ("ngModelChange",function(e){return t.switchManageTeam=e}),c.ALo(4,"translate"),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"po-switch",1),c.NdJ("ngModelChange",function(e){return t.switchViewSalary=e}),c.ALo(7,"translate"),c.ALo(8,"translate"),c.qZA(),c.TgZ(9,"po-button",2),c.NdJ("p-click",function(){return t.nextStep()}),c.ALo(10,"translate"),c.qZA()),2&e&&(c.xp6(1),c.Oqu(c.lcZ(2,10,"l-substitute-possibilities")),c.xp6(2),c.s9C("p-label-position",t.switchLabelPosition),c.s9C("p-label-on",c.lcZ(4,12,"l-manage-team")),c.s9C("p-label-off",c.lcZ(5,14,"l-manage-team")),c.Q6J("ngModel",t.switchManageTeam),c.xp6(3),c.s9C("p-label-position",t.switchLabelPosition),c.s9C("p-label-on",c.lcZ(7,16,"l-view-salary")),c.s9C("p-label-off",c.lcZ(8,18,"l-view-salary")),c.Q6J("ngModel",t.switchViewSalary),c.xp6(3),c.s9C("p-label",c.lcZ(10,20,"l-confirm")))},directives:[k.nrg,y.Fj,y.JJ,y.On,k.bOz],pipes:[C.X$],styles:[".select-substitute-permissions-label[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;margin-top:3%}[_nghost-%COMP%]     .po-field-optional{color:#fff!important}.button-confirm[_ngcontent-%COMP%]{margin-top:25px}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}}@media (max-width: 961px){[_nghost-%COMP%]     .po-button{height:90px}}@media only screen and (max-width: 961px){[_nghost-%COMP%]     .po-button{position:fixed;bottom:60px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;outline:none;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:93%;left:0;margin-top:-25px;padding:0}}"]}),e}();function ir(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"app-divisions",2),c.NdJ("closeDivisionsNext",function(e){return c.CHM(n),c.oxw().divisionsNextStep(e)}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("substituteRequest",i.substituteRequestToUpdate)}}function or(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"app-substitute",3),c.NdJ("employeeSelected",function(e){return c.CHM(n),c.oxw().employeeSelected(e)}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("divisions",i.divisions)("substituteRequest",i.substituteRequestToUpdate)}}function ar(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"app-select-period",4),c.NdJ("periodNextStep",function(e){return c.CHM(n),c.oxw().periodNextStep(e)}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("substituteRequest",i.substituteRequestToUpdate)}}function rr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"span"),c.TgZ(1,"app-substitute-permissions",5),c.NdJ("closeSubstitutePermissions",function(e){return c.CHM(n),c.oxw().closeSubstitutePermissions(e)}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("substituteRequest",i.substituteRequestToUpdate)}}function sr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-dialog",6),c.NdJ("closeDialogEvent",function(){return c.CHM(n),c.oxw().goToSubstitutionstPage()}),c.TgZ(1,"div",7),c.TgZ(2,"div",8),c.NdJ("click",function(){return c.CHM(n),c.oxw().goToSubstitutionstPage()}),c.TgZ(3,"div",9),c.TgZ(4,"div",9),c.TgZ(5,"div",10),c.NdJ("click",function(){return c.CHM(n),c.oxw().goToSubstitutionstPage()}),c.qZA(),c.qZA(),c.TgZ(6,"strong"),c.TgZ(7,"h4",11),c.NdJ("click",function(){return c.CHM(n),c.oxw().goToSubstitutionstPage()}),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"po-button",12),c.NdJ("p-click",function(){return c.CHM(n),c.oxw().goToSubstitutionstPage()}),c.ALo(11,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.Q6J("isVisible",i.dialogIsVisible)("closeDialogButtonEnable",!0),c.xp6(8),c.hij(" ",c.lcZ(9,4,"m-substitute-request-success")," "),c.xp6(2),c.s9C("p-label",c.lcZ(11,6,"l-ok"))}}var cr=function(){var e=function(){function e(t,n,i,o){h(this,e),this.service=t,this.fieldProperties=n,this.windowUtilService=i,this.router=o,this.doneEdit=new c.vpe}return m(e,[{key:"ngOnInit",value:function(){this.loadServices()}},{key:"loadServices",value:function(){var e=this;this.fieldProperties.getFieldProperties("substituteRequest").then(function(t){e.organizeProps(t)})}},{key:"organizeProps",value:function(e){var t=this;e.forEach(function(e){switch(e.field){case"divisions":t.divisionsField=e,t.divisionsIsVisible=e.visible;break;case"canViewSalary":t.viewSalaryField=e;break;case"canManageTeam":t.manageTeamField=e}}),this.divisionsIsVisible||(this.substituteIsVisible=!0)}},{key:"divisionsNextStep",value:function(e){this.divisions=e,this.divisionsIsVisible=!1,this.substituteIsVisible=!0}},{key:"closeSubstitutePermissions",value:function(e){var t=this;this.permissions=e,this.requestSubstitute().then(function(){t.substitutePermissionsIsVisible=!1,t.dialogIsVisible=!0})}},{key:"requestSubstitute",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={initDate:$.Em.formatUTCDate(new Date(this.period.initDate)),endDate:$.Em.formatUTCDate(new Date(this.period.endDate)),employeeSummary:this.employee},this.divisions&&this.divisions.length&&(t.divisions=this.organizeDivisions(),t.divisionsType=this.divisions[0].type),this.permissions&&(this.permissions.canManageTeam||this.permissions.canViewSalary)&&(t.canManageTeam=this.permissions.canManageTeam,t.canViewSalary=this.permissions.canViewSalary),!this.substituteRequestToUpdate){e.next=10;break}return t.id=this.substituteRequestToUpdate.id,e.next=7,this.service.updateSubstituteRequest(t);case 7:this.substituteRequestToUpdate=void 0,e.next=12;break;case 10:return e.next=12,this.service.substituteRequest(t);case 12:case"end":return e.stop()}},e,this)}))}},{key:"periodNextStep",value:function(e){var t=this;this.period=e,this.manageTeamField&&this.viewSalaryField&&(this.manageTeamField.visible||this.viewSalaryField.visible)?(this.periodIsVisible=!1,this.substitutePermissionsIsVisible=!0):this.requestSubstitute().then(function(){t.periodIsVisible=!1,t.dialogIsVisible=!0})}},{key:"organizeDivisions",value:function(){var e=[];return this.divisions.forEach(function(t){e.push(t.id)}),e}},{key:"employeeSelected",value:function(e){this.employee=e,this.substituteIsVisible=!1,this.periodIsVisible=!0}},{key:"back",value:function(){this.divisionsIsVisible?this.windowUtilService.back():this.substituteIsVisible?(this.substituteIsVisible=!1,this.divisionsField&&this.divisionsField.visible?this.divisionsIsVisible=!0:this.windowUtilService.back()):this.substitutePermissionsIsVisible?(this.substitutePermissionsIsVisible=!1,this.periodIsVisible=!0):this.periodIsVisible&&(this.periodIsVisible=!1,this.substituteIsVisible=!0)}},{key:"goToSubstitutionstPage",value:function(){this.dialogIsVisible=!1,this.doneEdit.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(Qa),c.Y36(te.c),c.Y36(ue.g),c.Y36(D.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-substitute-request"]],inputs:{substituteRequestToUpdate:"substituteRequestToUpdate"},outputs:{doneEdit:"doneEdit"},decls:5,vars:5,consts:[[4,"ngIf"],[3,"isVisible","closeDialogButtonEnable","closeDialogEvent",4,"ngIf"],[3,"substituteRequest","closeDivisionsNext"],[3,"divisions","substituteRequest","employeeSelected"],[3,"substituteRequest","periodNextStep"],[3,"substituteRequest","closeSubstitutePermissions"],[3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-substitute-content"],[1,"message-substitute","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"substitute-image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-ok",3,"p-label","p-click"]],template:function(e,t){1&e&&(c.YNc(0,ir,2,1,"span",0),c.YNc(1,or,2,2,"span",0),c.YNc(2,ar,2,1,"span",0),c.YNc(3,rr,2,1,"span",0),c.YNc(4,sr,12,8,"app-dialog",1)),2&e&&(c.Q6J("ngIf",t.divisionsIsVisible),c.xp6(1),c.Q6J("ngIf",t.substituteIsVisible),c.xp6(1),c.Q6J("ngIf",t.periodIsVisible),c.xp6(1),c.Q6J("ngIf",t.substitutePermissionsIsVisible),c.xp6(1),c.Q6J("ngIf",t.dialogIsVisible))},directives:[d.O5,Ka,er,tr,nr,Ye.a,k.bOz],pipes:[C.X$],styles:[".dialog-substitute-content[_ngcontent-%COMP%]{height:350px}.message-substitute[_ngcontent-%COMP%]{position:fixed;padding:0 8%;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.substitute-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.button-ok[_ngcontent-%COMP%]{position:fixed;max-width:150px;left:calc(50% - 76px);top:65%}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.substitute-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}"]}),e}(),lr=function(){var e=function(){function e(t){h(this,e),this.genericService=t}return m(e,[{key:"deleteSubstituteRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te.N.loggedUser;return this.genericService.delete("team/substitute/".concat(t,"/").concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function ur(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"div",2),c.TgZ(2,"span",3),c.TgZ(3,"div",4),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.TgZ(6,"div",5),c._uU(7),c.qZA(),c.qZA(),c.qZA(),c.TgZ(8,"div",6),c.TgZ(9,"span",3),c.TgZ(10,"div",4),c._uU(11),c.ALo(12,"translate"),c.qZA(),c.TgZ(13,"div",5),c._uU(14),c.ALo(15,"utcDate"),c.qZA(),c.qZA(),c.TgZ(16,"span",3),c.TgZ(17,"div",4),c._uU(18),c.ALo(19,"translate"),c.qZA(),c.TgZ(20,"div",5),c._uU(21),c.ALo(22,"utcDate"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw();c.xp6(4),c.Oqu(c.lcZ(5,6,"l-substitute")),c.xp6(3),c.Oqu(n.substituteRequest.employeeSummary.name),c.xp6(4),c.Oqu(c.lcZ(12,8,"l-start")),c.xp6(3),c.Oqu(c.xi3(15,10,n.substituteRequest.initDate,"shortDate")),c.xp6(4),c.Oqu(c.lcZ(19,13,"l-end-2")),c.xp6(3),c.Oqu(c.xi3(22,15,n.substituteRequest.endDate,"shortDate"))}}var pr=function(){var e=function(){function e(t,n){var i=this;h(this,e),this.appTranslateService=t,this.substituteExcludeService=n,this.deleted=new c.vpe,this.isVisible=!1,this.confirmAction={label:"l-delete",action:function(){return i.excludeSubstituteRequest()}},this.cancelAction={label:"l-cancel",action:function(){return i.excludeDialog.close()}}}return m(e,[{key:"ngOnInit",value:function(){this.translateActionLabels()}},{key:"translateActionLabels",value:function(){for(var e=this,t=function(){var t=i[n];e.appTranslateService.getI18n(t.label).then(function(e){t.label=e})},n=0,i=[this.confirmAction,this.cancelAction];n<i.length;n++)t()}},{key:"openDialog",value:function(){this.excludeDialog.open()}},{key:"excludeSubstituteRequest",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.substituteExcludeService.deleteSubstituteRequest(this.substituteRequest.id);case 3:this.deleted.emit();case 4:return e.prev=4,this.excludeDialog.close(),e.finish(4);case 7:case"end":return e.stop()}},e,this,[[0,,4,7]])}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(le.g),c.Y36(lr))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-substitute-exclude"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(k.hmF,5),2&e)&&(c.iGM(n=c.CRH())&&(t.excludeDialog=n.first))},inputs:{substituteRequest:"substituteRequest"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row","second-row"]],template:function(e,t){1&e&&(c.TgZ(0,"po-modal",0),c.ALo(1,"translate"),c.YNc(2,ur,23,18,"div",1),c.qZA()),2&e&&(c.s9C("p-title",c.lcZ(1,4,"l-want-delete-request")),c.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),c.xp6(2),c.Q6J("ngIf",void 0!==t.substituteRequest))},directives:[k.hmF,d.O5],pipes:[C.X$,ct.$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),e}();function dr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-card",7),c.TgZ(1,"div",8),c.TgZ(2,"h2",9),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"span",10),c._UZ(6,"span",11),c.TgZ(7,"ul",12),c._UZ(8,"div",13),c.TgZ(9,"li",14),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(2).goToEditRequest(e)}),c._uU(10),c.ALo(11,"translate"),c.qZA(),c.TgZ(12,"li",14),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(2).openExcludeDialog(e)}),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",15),c.TgZ(16,"span",16),c.TgZ(17,"div",17),c._uU(18),c.ALo(19,"translate"),c.qZA(),c.TgZ(20,"div",18),c._uU(21),c.qZA(),c.qZA(),c.TgZ(22,"span",16),c.TgZ(23,"div",17),c._uU(24),c.ALo(25,"translate"),c.qZA(),c.TgZ(26,"div",18),c._uU(27),c.qZA(),c.qZA(),c.TgZ(28,"span",19),c.TgZ(29,"div",17),c._uU(30),c.ALo(31,"translate"),c.qZA(),c.TgZ(32,"div",18),c._uU(33),c.ALo(34,"utcDate"),c.qZA(),c.qZA(),c.TgZ(35,"span",19),c.TgZ(36,"div",17),c._uU(37),c.ALo(38,"translate"),c.qZA(),c.TgZ(39,"div",18),c._uU(40),c.ALo(41,"utcDate"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit;c.Q6J("cssClass","card-request-active po-xl-12 po-lg-12 po-md-12 po-sm-12"),c.xp6(3),c.Oqu(c.lcZ(4,12,"l-substitution-scheduled")),c.xp6(7),c.hij(" ",c.lcZ(11,14,"l-adjust")," "),c.xp6(3),c.hij(" ",c.lcZ(14,16,"l-delete")," "),c.xp6(5),c.Oqu(c.lcZ(19,18,"l-substitute")),c.xp6(3),c.Oqu(i.employeeSummary.name),c.xp6(3),c.Oqu(c.lcZ(25,20,"l-role")),c.xp6(3),c.Oqu(i.employeeSummary.roleDescription),c.xp6(3),c.Oqu(c.lcZ(31,22,"l-start")),c.xp6(3),c.Oqu(c.xi3(34,24,i.initDate,"shortDate")),c.xp6(4),c.Oqu(c.lcZ(38,27,"l-end")),c.xp6(3),c.Oqu(c.xi3(41,29,i.endDate,"shortDate"))}}function gr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",4),c.TgZ(1,"po-button",5),c.NdJ("p-click",function(){return c.CHM(n),c.oxw().goToSubstitutionRequestPage()}),c.ALo(2,"translate"),c.qZA(),c.YNc(3,dr,42,32,"app-card",6),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-request-for-one-more-period")),c.xp6(2),c.Q6J("ngForOf",i.substitutions)}}function hr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"app-substitute-request",20),c.NdJ("doneEdit",function(){return c.CHM(n),c.oxw().onDoneEditRequest()}),c.qZA()}if(2&e){var i=c.oxw();c.Q6J("substituteRequestToUpdate",i.selectedSubstituteRequest)}}var fr=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o){var a;return h(this,n),(a=t.call(this)).service=e,a.lastAccess=i,a.globals=o,a.initialized=!1,a.isVisibleSubstituteRequest=!1,a}return m(n,[{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.getSubstituteRequests(),this.setCountLastAccess()}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.lastAccess.setLastAccess($e.iF,t.id)})}},{key:"getSubstituteRequests",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.getSubstituteRequests();case 2:t=e.sent,this.substitutions=t,!t||t&&0===t.length?this.goToSubstitutionRequestPage():this.initialized=!0;case 4:case"end":return e.stop()}},e,this)}))}},{key:"goToSubstitutionRequestPage",value:function(){this.isVisibleSubstituteRequest=!0}},{key:"goToEditRequest",value:function(e){this.selectedSubstituteRequest=e,this.goToSubstitutionRequestPage()}},{key:"reloadRequests",value:function(){this.selectedSubstituteRequest=void 0,this.getSubstituteRequests()}},{key:"onDoneEditRequest",value:function(){this.reloadRequests(),this.isVisibleSubstituteRequest=!1}},{key:"openExcludeDialog",value:function(e){this.selectedSubstituteRequest=e,this.excludeDialog.openDialog()}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(Qa),c.Y36($e.Lx),c.Y36(ke.O))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-substitutes"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(pr,5),2&e)&&(c.iGM(n=c.CRH())&&(t.excludeDialog=n.first))},features:[c.qOj],decls:4,vars:4,consts:[["pageTitle","l-substitute-request",3,"backIsVisible"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],[3,"substituteRequestToUpdate","doneEdit",4,"ngIf"],[3,"substituteRequest","deleted"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-primary","true","p-type","primary",1,"request-substitute-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-click"],[3,"cssClass",4,"ngFor","ngForOf"],[3,"cssClass"],["card-header","",1,"mr-card-header"],[1,"po-sm-10","po-md-11","po-lg-11","po-xl-11","title-label"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],[1,"dropdown-arrow"],[1,"dropdown-menu-itens",3,"click"],["card-body",""],[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4","panel-item-group"],[1,"requested-label"],[1,"requested-value"],[1,"po-sm-6","po-md-2","po-lg-2","po-xl-2","panel-item-group"],[3,"substituteRequestToUpdate","doneEdit"]],template:function(e,t){1&e&&(c._UZ(0,"app-page-header",0),c.YNc(1,gr,4,4,"div",1),c.YNc(2,hr,1,1,"app-substitute-request",2),c.TgZ(3,"app-substitute-exclude",3),c.NdJ("deleted",function(){return t.onDoneEditRequest()}),c.qZA()),2&e&&(c.Q6J("backIsVisible",t.viewIsMobile),c.xp6(1),c.Q6J("ngIf",t.initialized&&!t.isVisibleSubstituteRequest),c.xp6(1),c.Q6J("ngIf",t.isVisibleSubstituteRequest),c.xp6(1),c.Q6J("substituteRequest",t.selectedSubstituteRequest))},directives:[E.q,d.O5,pr,k.bOz,d.sg,U.A,cr],pipes:[C.X$,ct.$],styles:[".container[_ngcontent-%COMP%]{margin-top:25px;padding:0;margin-bottom:25px}.title-label[_ngcontent-%COMP%]{color:#fff;margin-top:0;padding-left:8px}.subtitle-opacity[_ngcontent-%COMP%]{opacity:.7}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-value[_ngcontent-%COMP%]{font-weight:bold}.request-substitute-btn[_ngcontent-%COMP%]{padding:0;margin-bottom:10px}[_nghost-%COMP%]     .po-button{height:42px}[_nghost-%COMP%]     .panel-item-group{padding-bottom:0}.dropdown-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:-3px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:50%;position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;color:#0c9abe;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}.panel-item-group[_ngcontent-%COMP%]{padding-bottom:8px}"]}),e}(),mr=function(){var e=function(){function e(t){h(this,e),this.serviceGeneric=t}return m(e,[{key:"getBalanceDetails",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te.N.loggedUser,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,r="team/timesheet/balanceDetails/".concat(e),s=a?a.initDate.toString().replace("Z",""):null,c=a?a.endDate.toString().replace("Z",""):null,l=[];return this.serviceGeneric.parseParams(l,"page",t),this.serviceGeneric.parseParams(l,"pageSize",n),this.serviceGeneric.parseParams(l,"employeeName",i),this.serviceGeneric.parseParams(l,"initDate",s),this.serviceGeneric.parseParams(l,"endDate",c),this.serviceGeneric.parseParams(l,"role",o),this.serviceGeneric.parseParams(l,"encodeEmployeeId",!0),this.serviceGeneric.search(r,l)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),vr=n(74570),br=n(46526);function xr(e,t){if(1&e&&(c.TgZ(0,"tr",21),c.TgZ(1,"td",22),c._UZ(2,"div",23),c.qZA(),c.TgZ(3,"td",24),c._uU(4),c.ALo(5,"titlecase"),c.qZA(),c.TgZ(6,"td",25),c._uU(7),c.ALo(8,"titlecase"),c.qZA(),c.TgZ(9,"td",26),c._uU(10),c.qZA(),c.TgZ(11,"td",26),c._uU(12),c.qZA(),c.TgZ(13,"td",26),c._uU(14),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=c.oxw(2);c.xp6(2),c.Udp("background-image",i.getImageAvatar(null==n?null:n.employeeId)),c.xp6(1),c.MGl("id","profile-",n.employeeId,""),c.xp6(1),c.hij(" ",c.lcZ(5,11,null==n?null:n.employeeName)," "),c.xp6(3),c.hij(" ",c.lcZ(8,13,null==n?null:n.employeeRole)," "),c.xp6(2),c.Q6J("ngClass",n.previousBalance>0?"balance-positive":n.previousBalance<0?"balance-negative":""),c.xp6(1),c.hij(" ",null==n?null:n.previousBalanceStr," "),c.xp6(1),c.Q6J("ngClass",n.currentBalance>0?"balance-positive":n.currentBalance<0?"balance-negative":""),c.xp6(1),c.hij(" ",null==n?null:n.currentBalanceStr," "),c.xp6(1),c.Q6J("ngClass",n.totalBalance>0?"balance-positive":n.totalBalance<0?"balance-negative":""),c.xp6(1),c.hij(" ",null==n?null:n.totalBalanceStr," ")}}function yr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",27),c.TgZ(1,"po-button",28),c.NdJ("p-click",function(){return c.CHM(n),c.oxw(2).loadMoreEvents()}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-view-more")),c.Q6J("p-disabled",!i.hasNext)}}function wr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",9),c.TgZ(1,"table",10),c.TgZ(2,"thead",11),c.TgZ(3,"tr",12),c._UZ(4,"th",13),c.TgZ(5,"th",13),c.TgZ(6,"span",14),c._uU(7),c.ALo(8,"titlecase"),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"div",15),c.TgZ(11,"span",16),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeName","up")}),c.qZA(),c.TgZ(12,"span",17),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeName","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"th",13),c.TgZ(14,"span",14),c._uU(15),c.ALo(16,"titlecase"),c.ALo(17,"translate"),c.qZA(),c.TgZ(18,"div",15),c.TgZ(19,"span",16),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeRole","up")}),c.qZA(),c.TgZ(20,"span",17),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("employeeRole","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"th",18),c.TgZ(22,"span",14),c._uU(23),c.ALo(24,"titlecase"),c.ALo(25,"translate"),c.qZA(),c.TgZ(26,"div",15),c.TgZ(27,"span",16),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("previousBalance","up")}),c.qZA(),c.TgZ(28,"span",17),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("previousBalance","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"th",18),c.TgZ(30,"span",14),c._uU(31),c.ALo(32,"titlecase"),c.ALo(33,"translate"),c.qZA(),c.TgZ(34,"div",15),c.TgZ(35,"span",16),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("currentBalance","up")}),c.qZA(),c.TgZ(36,"span",17),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("currentBalance","down")}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"th",13),c.TgZ(38,"span",14),c._uU(39),c.ALo(40,"titlecase"),c.ALo(41,"translate"),c.qZA(),c.TgZ(42,"div",15),c.TgZ(43,"span",16),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("totalBalance","up")}),c.qZA(),c.TgZ(44,"span",17),c.NdJ("click",function(){return c.CHM(n),c.oxw().order("totalBalance","down")}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(45,"tbody"),c.YNc(46,xr,15,15,"tr",19),c.qZA(),c.qZA(),c.YNc(47,yr,3,4,"div",20),c.qZA()}if(2&e){var i=c.oxw();c.Q6J("ngClass",i.hasDisclaimers?"desktop":"desktop-no-pad"),c.xp6(7),c.Oqu(c.lcZ(8,8,c.lcZ(9,10,"l-name"))),c.xp6(8),c.Oqu(c.lcZ(16,12,c.lcZ(17,14,"l-role-function"))),c.xp6(8),c.Oqu(c.lcZ(24,16,c.lcZ(25,18,"l-previous-balance"))),c.xp6(8),c.Oqu(c.lcZ(32,20,c.lcZ(33,22,"l-current-balance"))),c.xp6(8),c.Oqu(c.lcZ(40,24,c.lcZ(41,26,"l-next-balance"))),c.xp6(7),c.Q6J("ngForOf",i.balances),c.xp6(1),c.Q6J("ngIf",i.hasNext)}}function Zr(e,t){if(1&e&&(c.TgZ(0,"mat-accordion",32),c.TgZ(1,"mat-expansion-panel",33),c.TgZ(2,"mat-expansion-panel-header",34),c.TgZ(3,"div",35),c._UZ(4,"div",36),c.qZA(),c.TgZ(5,"div",37),c.TgZ(6,"div",38),c.TgZ(7,"strong"),c._uU(8),c.ALo(9,"titleCase"),c.qZA(),c.qZA(),c.TgZ(10,"div",39),c._uU(11),c.ALo(12,"titleCase"),c.qZA(),c.qZA(),c.qZA(),c._UZ(13,"hr",40),c.TgZ(14,"div",41),c.TgZ(15,"span",42),c._uU(16),c.ALo(17,"translate"),c.qZA(),c.TgZ(18,"span",43),c._uU(19),c.qZA(),c.qZA(),c._UZ(20,"hr",40),c.TgZ(21,"div",41),c.TgZ(22,"span",42),c._uU(23),c.ALo(24,"translate"),c.qZA(),c.TgZ(25,"span",43),c._uU(26),c.qZA(),c.qZA(),c._UZ(27,"hr",40),c.TgZ(28,"div",41),c.TgZ(29,"span",42),c._uU(30),c.ALo(31,"translate"),c.qZA(),c.TgZ(32,"span",43),c._uU(33),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){var n=t.$implicit,i=c.oxw(2);c.xp6(1),c.Q6J("ngClass",i.custom-i.border)("expanded",!0),c.xp6(3),c.Udp("background-image",i.getImageAvatar(n.employeeId)),c.xp6(4),c.Oqu(c.lcZ(9,15,null==n?null:n.employeeName)),c.xp6(3),c.Oqu(c.lcZ(12,17,null==n?null:n.employeeRole)),c.xp6(5),c.Oqu(c.lcZ(17,19,"l-previous-balance")),c.xp6(2),c.Q6J("ngClass",n.previousBalance>0?"balance-positive":n.previousBalance<0?"balance-negative":""),c.xp6(1),c.hij(" ",null==n?null:n.previousBalanceStr," "),c.xp6(4),c.Oqu(c.lcZ(24,21,"l-current-balance")),c.xp6(2),c.Q6J("ngClass",n.currentBalance>0?"balance-positive":n.currentBalance<0?"balance-negative":""),c.xp6(1),c.hij(" ",null==n?null:n.currentBalanceStr," "),c.xp6(4),c.Oqu(c.lcZ(31,23,"l-next-balance")),c.xp6(2),c.Q6J("ngClass",n.totalBalance>0?"balance-positive":n.totalBalance<0?"balance-negative":""),c.xp6(1),c.hij(" ",null==n?null:n.totalBalanceStr," ")}}function Cr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",44),c.TgZ(1,"po-button",45),c.NdJ("p-click",function(){return c.CHM(n),c.oxw(2).loadMoreEvents()}),c.ALo(2,"translate"),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(2);c.xp6(1),c.s9C("p-label",c.lcZ(2,2,"l-load-more")),c.Q6J("p-disabled",!i.hasNext)}}function Mr(e,t){if(1&e&&(c.TgZ(0,"div",29),c.YNc(1,Zr,34,25,"mat-accordion",30),c.YNc(2,Cr,3,4,"div",31),c.qZA()),2&e){var n=c.oxw();c.Q6J("ngClass",n.hasDisclaimers?"disclaimer-padding":""),c.xp6(1),c.Q6J("ngForOf",n.balances),c.xp6(1),c.Q6J("ngIf",n.hasNext)}}function kr(e,t){1&e&&(c.TgZ(0,"div",46),c._UZ(1,"img",47),c.TgZ(2,"div",48),c.TgZ(3,"p",49),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Oqu(c.lcZ(5,1,"l-team-balance-empty")))}var Ar=function(){var e=function(e){a(n,e);var t=s(n);function n(e,i,o,a,r,s,c,l,u,p,d){var g;return h(this,n),(g=t.call(this)).appTranslateService=e,g.translateService=i,g.windowUtil=o,g.teamBalanceService=a,g.profileService=r,g.sanitization=s,g.windowUtilService=c,g.globals=l,g.teamEmployeesService=u,g.clockingService=p,g.excelService=d,g.avatarImage=[],g.isLoading=!0,g.roleSelect=new Array,g.periodList=new Array,g.periodFilterActual=new Array,g.actions=[],g.customLiterals={disclaimerGroupTitle:"",filterTitle:"",filterCancelLabel:"",filterConfirmLabel:"",quickSearchLabel:"",searchPlaceholder:""},g.paramsFilters={employeeName:null,role:null,period:null},g.filters=[],g.columns=["l-name","l-role","l-previous-balance","l-current-balance","l-next-balance"],g}return m(n,[{key:"onResize",value:function(e){this.checkIfMobile()}},{key:"ngOnInit",value:function(){i(u(n.prototype),"ngOnInit",this).call(this),this.initializeComponents()}},{key:"initializeComponents",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initVariables();case 2:return e.next=4,this.updateBalances(this.page,6);case 4:this.initializePoComponent(),this.initializeSearch();case 6:case"end":return e.stop()}},e,this)}))}},{key:"initVariables",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:this.loggedUser=e.sent,this.isMobile=this.windowUtilService.isMobileDevice(),this.page=1;case 5:case"end":return e.stop()}},e,this)}))}},{key:"initLookup",value:function(){var e=this;this.lookupColumns=[{property:"name",label:"l-name",fieldLabel:!0}],this.lookupColumns.forEach(function(t){e.translateService.getI18n(t.label).then(function(e){t.label=e})})}},{key:"getBalances",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push({employeeName:e[n].employeeName,employeeId:e[n].employeeId,totalBalance:e[n].totalBalance,previousBalance:e[n].previousBalance,currentBalance:e[n].currentBalance,employeeRole:e[n].employeeRole,totalBalanceStr:this.concatSymbol(e[n].totalBalance),previousBalanceStr:this.concatSymbol(e[n].previousBalance),currentBalanceStr:this.concatSymbol(e[n].currentBalance)});return t}},{key:"getImageAvatar",value:function(e){var t=this;return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(function(n){n&&n.content&&(t.avatarImage[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.avatarImage[e]}},{key:"back",value:function(){this.windowUtil.back()}},{key:"initializePoComponent",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.teamEmployeesService.getRoles(B.N.loggedUser);case 2:return t=e.sent,n=[],t.forEach(function(e){n.push({label:e.name,value:e.name})}),this.roleSelect=n,e.next=7,this.clockingService.getPeriods(B.N.loggedUser);case 7:return i=e.sent,o=[],a=[],i&&(i.items.forEach(function(e){o.push(new vr.x(e)),!0===e.actualPeriod&&a.push(new vr.x(e))}),this.periodFilterActual=vr.x.getPeriodsForSelectList(a),this.periodList=vr.x.getPeriodsForSelectList(o)),e.next=13,this.translateLabel("l-name");case 13:return e.t0=e.sent,e.t1={property:"employeeName",label:e.t0,gridColumns:12},e.next=17,this.translateLabel("l-role-function");case 17:return e.t2=e.sent,e.t3=this.roleSelect,e.t4={property:"role",label:e.t2,gridColumns:12,options:e.t3},e.next=22,this.translateLabel("l-period");case 22:e.t5=e.sent,e.t6=this.periodFilterActual[0].value,e.t7=this.periodList,e.t8={property:"period",label:e.t5,gridColumns:12,initValue:e.t6,options:e.t7},this.filters=[e.t1,e.t4,e.t8];case 27:case"end":return e.stop()}},e,this)}))}},{key:"initializeSearch",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateLabel("l-disclaimer-group-title");case 2:return e.t0=e.sent,e.next=5,this.translateLabel("l-filter-title");case 5:return e.t1=e.sent,e.next=8,this.translateLabel("l-cancel-title");case 8:return e.t2=e.sent,e.next=11,this.translateLabel("l-confirm");case 11:return e.t3=e.sent,e.next=14,this.translateLabel("l-quick-search");case 14:return e.t4=e.sent,e.next=17,this.translateLabel("l-search-placeholder");case 17:return e.t5=e.sent,this.customLiterals={disclaimerGroupTitle:e.t0,filterTitle:e.t1,filterCancelLabel:e.t2,filterConfirmLabel:e.t3,quickSearchLabel:e.t4,searchPlaceholder:e.t5},e.next=21,this.translateLabel("l-balances-search-name");case 21:this.quickSearchLabel=e.sent,this.isMobile||(this.actions=[{action:this.exportExcel.bind(this),label:"Exportar Excel",icon:"po-icon-download"}]);case 23:case"end":return e.stop()}},e,this)}))}},{key:"onChangeDisclaimers",value:function(e){var t={};0===e.length&&(this.hasDisclaimers=!1),e&&(e.forEach(function(e){t[e.property]=e.value}),this.page=1,this.updateBalances(1,6,t))}},{key:"onQuickSearch",value:function(e){e&&(this.resetFilters(),this.paramsFilters.employeeName=e),this.hasDisclaimers=!0,this.page=1,this.updateBalances(this.page,6,this.paramsFilters)}},{key:"onAdvancedSearch",value:function(e){e&&this.resetFilters(),this.page=1,this.hasDisclaimers=!0,this.updateBalances(this.page,6,e)}},{key:"translateLabel",value:function(e){return this.appTranslateService.getI18n(e)}},{key:"resetFilters",value:function(){this.page=1,this.hasDisclaimers=!1,this.paramsFilters={employeeName:null,period:null,role:null}}},{key:"updateBalances",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.paramsFilters,i=arguments.length>3?arguments[3]:void 0;return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.updateParams(n),this.isLoading=!0,o.next=3,this.teamBalanceService.getBalanceDetails(this.loggedUser.id,e,t,this.paramsFilters.employeeName,this.paramsFilters.role,this.paramsFilters.period);case 3:a=o.sent,this.isLoading=!1,this.balances=this.balances&&i?this.balances.concat(this.getBalances(a.items)):this.getBalances(a.items),this.hasNext=a.hasNext;case 5:case"end":return o.stop()}},o,this)}))}},{key:"updateParams",value:function(e){this.paramsFilters.employeeName=void 0!==e.employeeName?e.employeeName:null,this.paramsFilters.role=void 0!==e.role?e.role:null,"string"!=typeof e.period&&(e.period=JSON.stringify(e.period)),this.paramsFilters.period=null!=e.period?vr.x.getPeriod(e.period):null}},{key:"order",value:function(e,t){if("down"===t)switch(e){case"employeeName":this.balances.sort(function(e,t){return e.employeeName<t.employeeName?-1:1});break;case"employeeRole":this.balances.sort(function(e,t){return e.employeeRole<t.employeeRole?-1:1});break;case"previousBalance":this.balances.sort(function(e,t){return e.previousBalance<t.previousBalance?-1:1});break;case"currentBalance":this.balances.sort(function(e,t){return e.currentBalance<t.currentBalance?-1:1});break;case"totalBalance":this.balances.sort(function(e,t){return e.totalBalance<t.totalBalance?-1:1})}else switch(e){case"employeeName":this.balances.sort(function(e,t){return e.employeeName>t.employeeName?-1:1});break;case"employeeRole":this.balances.sort(function(e,t){return e.employeeRole>t.employeeRole?-1:1});break;case"previousBalance":this.balances.sort(function(e,t){return e.previousBalance>t.previousBalance?-1:1});break;case"currentBalance":this.balances.sort(function(e,t){return e.currentBalance>t.currentBalance?-1:1});break;case"totalBalance":this.balances.sort(function(e,t){return e.totalBalance>t.totalBalance?-1:1})}}},{key:"loadMoreEvents",value:function(){this.page++,this.updateBalances(this.page,6,this.paramsFilters,!0)}},{key:"concatSymbol",value:function(e){var t=$.Em.getHoursByMilliseconds(e,!1);return e>0?"+"+t:t}},{key:"checkIfMobile",value:function(){this.isMobile=this.windowUtilService.isMobileDevice()}},{key:"isEmpty",value:function(){return!(this.balances&&this.balances.length>0)}},{key:"exportExcel",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateLabel("l-balance-sheet");case 2:return t=e.sent,e.next=5,this.translateLabel("l-team-balance-title");case 5:return n=e.sent,i=[],o=[],this.columns.forEach(function(e){return a.translateLabel(e).then(function(e){return i.push(e)})}),e.next=11,this.teamBalanceService.getBalanceDetails(this.loggedUser.id,null,null,this.paramsFilters.employeeName,this.paramsFilters.role,this.paramsFilters.period).then(function(e){return e.items.forEach(function(e){return o.push([e.employeeName,e.employeeRole,a.concatSymbol(e.previousBalance),a.concatSymbol(e.currentBalance),a.concatSymbol(e.totalBalance)])})});case 11:this.excelService.generateExcelBalance(t,n,i,o);case 12:case"end":return e.stop()}},e,this)}))}}]),n}(wt.R);return e.\u0275fac=function(t){return new(t||e)(c.Y36(le.g),c.Y36(le.g),c.Y36(ue.g),c.Y36(mr),c.Y36(ee.H),c.Y36(r.H7),c.Y36(ue.g),c.Y36(ke.O),c.Y36(fo.s),c.Y36(dt.X),c.Y36(br.x))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-team-balance"]],hostBindings:function(e,t){1&e&&c.NdJ("resize",function(e){return t.onResize(e)},!1,c.Jf7)},features:[c.qOj],decls:9,vars:8,consts:[["backIsVisible","viewIsMobile","pageTitle","l-team-balance-title",3,"backFunction"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","team-balance"],[3,"hideTitle"],[1,"actions-holder"],[1,"search-holder"],["p-title"," ","name","fieldName","ngDefaultControl","",3,"ngClass","p-filters","p-actions","p-literals","p-change-disclaimers","p-quick-search","p-advanced-search"],[3,"ngClass",4,"ngIf"],["class","holder mobile",3,"ngClass",4,"ngIf"],["class","empty-center",4,"ngIf"],[3,"ngClass"],[1,"history-panel","table"],[1,"column-header"],[1,"custom-tr"],[1,"employee-label-column"],[1,"table-header"],[1,"sort-icons"],[1,"sort","po-icon","po-icon-arrow-up",3,"click"],[1,"sort","po-icon","po-icon-arrow-down",3,"click"],[1,"employee-label-column","column-dates"],["class","custom-tr hover-design",4,"ngFor","ngForOf"],["class","alignCenter",4,"ngIf"],[1,"custom-tr","hover-design"],[1,"column","text-center","inline-block"],[1,"avatar-small"],[1,"column",3,"id"],[1,"column"],[1,"column","balance-value",3,"ngClass"],[1,"alignCenter"],["p-small","false","p-type","default","classq","linkViewMore next-periods",3,"p-disabled","p-label","p-click"],[1,"holder","mobile",3,"ngClass"],["class","no-padding",4,"ngFor","ngForOf"],["class","alignCenter load-container",4,"ngIf"],[1,"no-padding"],["hideToggle","false",3,"ngClass","expanded"],[1,"balance-card-header"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value",3,"ngClass"],[1,"alignCenter","load-container"],[1,"load-more",3,"p-disabled","p-label","p-click"],[1,"empty-center"],["src","assets/img/empty-state.svg",1,"img-empty"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["id","empty"]],template:function(e,t){1&e&&(c.TgZ(0,"app-page-header",0),c.NdJ("backFunction",function(){return t.back()}),c.qZA(),c.TgZ(1,"div",1),c._UZ(2,"app-comp-team",2),c.qZA(),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"po-page-dynamic-search",5),c.NdJ("p-change-disclaimers",function(e){return t.onChangeDisclaimers(e)})("p-quick-search",function(e){return t.onQuickSearch(e)})("p-advanced-search",function(e){return t.onAdvancedSearch(e)}),c.qZA(),c.qZA(),c.YNc(6,wr,48,28,"div",6),c.YNc(7,Mr,3,3,"div",7),c.YNc(8,kr,6,3,"div",8),c.qZA()),2&e&&(c.xp6(2),c.Q6J("hideTitle",!0),c.xp6(3),c.Q6J("ngClass",t.hasDisclaimers?"disclaimer":"")("p-filters",t.filters)("p-actions",t.actions)("p-literals",t.customLiterals),c.xp6(1),c.Q6J("ngIf",!t.isMobile&&!t.isEmpty()),c.xp6(1),c.Q6J("ngIf",t.isMobile&&!t.isEmpty()),c.xp6(1),c.Q6J("ngIf",t.isEmpty()&&!t.isLoading))},directives:[E.q,kt,pn.O6,y.Fj,d.mk,d.O5,d.sg,k.bOz,Xo.pp,Xo.ib,Xo.yz],pipes:[d.rS,C.X$,ge.r],styles:[".thf-button[_ngcontent-%COMP%]{padding:0 30px}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}@media screen and (max-width: 300px){.historic-value[_ngcontent-%COMP%]{display:block;width:100%}}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}@media screen and (max-width: 300px){.historic-label[_ngcontent-%COMP%]{display:block;width:100%}}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px;min-height:64px}.historic-content[_ngcontent-%COMP%]{padding:0 15px}@media (max-width: 375px){.historic-content[_ngcontent-%COMP%]{min-height:48px}}@media (max-width: 480px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{display:block;width:100%}}@media (min-width: 480px) and (max-width: 1024px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{margin-right:5px}}@media (max-width: 480px){[_nghost-%COMP%]     po-button .po-button{display:block;width:100%;margin-bottom:10px}}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{display:inline-block;margin:0 0 8px;padding-left:8px;color:#fff}.dropdown[_ngcontent-%COMP%]{float:none;float:initial;text-align:center}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding:0 16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;right:5px;min-width:90px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#4a5c60;font-size:20px}[_nghost-%COMP%]     .thf-button-link{border-color:#4a5c60;color:#4a5c60}@media screen and (max-width: 425px){[_nghost-%COMP%]     .thf-button-link{width:100%}}[_nghost-%COMP%]     po-advanced-filter .po-field-title{text-transform:capitalize}.actions-holder[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{display:inline-block!important;width:100%}@media screen and (min-width: 992px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 20px}}@media (max-width: 480px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]{height:44px;width:100%;margin-bottom:15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions .po-button, [_nghost-%COMP%]     .load-more .po-button{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions{margin-bottom:55px}}[_nghost-%COMP%]     .general .max-width-page-title{padding-left:0}[_nghost-%COMP%]     .thf-field-container-content{padding:0}[_nghost-%COMP%]     .po-page{width:100%;margin-left:0}[_nghost-%COMP%]     .thf-button{padding:0}@media screen and (max-width: 1366px){.thf-button[_ngcontent-%COMP%]{line-height:16px;padding:7px 16px}}.displayBlock[_ngcontent-%COMP%]{width:100%;display:block}.bullet[_ngcontent-%COMP%]{display:inline-block;height:15px;width:15px;margin-right:10px;padding:8px;border-radius:20px;background:#e8850a}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.employee-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;word-wrap:break-word;overflow:auto;max-width:200px}.column-icons[_ngcontent-%COMP%]{text-align:center}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;height:20px!important;white-space:nowrap;padding:10px}tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.sort-icons[_ngcontent-%COMP%]{display:inline-block}.desktop[_ngcontent-%COMP%]{margin:30px 15px;padding-bottom:100px}.desktop-no-pad[_ngcontent-%COMP%]{margin:0 15px;padding-bottom:100px}.mobile[_ngcontent-%COMP%]{padding:0 10px;overflow:auto}.text-center[_ngcontent-%COMP%]{text-align:center!important}.avatar-small[_ngcontent-%COMP%]{display:inline-block;width:42px;height:42px}.column-see[_ngcontent-%COMP%]{vertical-align:middle!important}.column-icons[_ngcontent-%COMP%]{overflow:visible!important;overflow:initial!important}.pending[_ngcontent-%COMP%]{background-color:#e8850a}.approved[_ngcontent-%COMP%], .aprovado[_ngcontent-%COMP%], .fechado[_ngcontent-%COMP%], .closed[_ngcontent-%COMP%]{background:#00b28e}.rejected[_ngcontent-%COMP%], .rejeitado[_ngcontent-%COMP%], .reprovado[_ngcontent-%COMP%], .reproved[_ngcontent-%COMP%]{background:#c64840}.empty[_ngcontent-%COMP%], .vazio[_ngcontent-%COMP%]{background:#cacaca}.approving[_ngcontent-%COMP%]{background:#e8850a}[_nghost-%COMP%]     .po-page-content{position:absolute;left:-100vw;top:-100vh}.disclaimer[_ngcontent-%COMP%]{margin-top:100px}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-page{height:80px;display:block}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-page{display:block;height:65px;padding-bottom:0}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .po-modal-content{width:40%}}@media screen and (min-width: 700px) and (max-width: 960px){[_nghost-%COMP%]     .po-modal-content{width:60%}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-modal-footer{padding:15px}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer{margin-bottom:15px;padding:0 15px}}[_nghost-%COMP%]     .po-modal-footer .po-button{margin:0 0 5px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-bottom:10px}}@media screen and (min-width: 481px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-left:12px;width:25%}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-page-header{padding-top:0}}@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{margin-top:0;float:left}}[_nghost-%COMP%]     .po-page-list-actions{float:right;width:126px}[_nghost-%COMP%]     .po-page-list-actions.po-button{padding:0 50px}@media (min-width: 1367px){[_nghost-%COMP%]     .po-page-list-actions{margin-right:38px}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-filter-content{width:calc(100% - 80px)}}@media (min-width: 768px){[_nghost-%COMP%]     .po-page-filter-content{width:300px}}[_nghost-%COMP%]     .po-table-subtitle-footer-container{display:none}.alignCenter[_ngcontent-%COMP%]{text-align:center}.mat-accordion[_ngcontent-%COMP%] > .mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]     .mat-content{align-items:center;overflow:auto}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 24px 0 20px}.sort[_ngcontent-%COMP%]{display:block;width:100%;cursor:pointer;font-size:9px;margin-left:15px}.load-container[_ngcontent-%COMP%]{margin-bottom:30px}.team-balance[_ngcontent-%COMP%]{padding-bottom:15px;padding-top:0;display:inline-block}.balance-negative[_ngcontent-%COMP%]{color:#d13f43}.balance-positive[_ngcontent-%COMP%]{color:#00b28e}.balance-value[_ngcontent-%COMP%]{font-weight:bold}#input-collaborator[_ngcontent-%COMP%]{padding-top:25px}.history-panel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .custom-tr[_ngcontent-%COMP%]{background-color:#fff}.aboutEmployee[_ngcontent-%COMP%]{padding-left:5px}.disclaimer-padding[_ngcontent-%COMP%]{padding-top:36px}.balance-card-header[_ngcontent-%COMP%]{height:64px;padding-top:3%;padding-left:10px;padding-right:10px}@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-disclaimer-group{margin-top:60px}}.name[_ngcontent-%COMP%]{max-height:25px;overflow:hidden}.img-empty[_ngcontent-%COMP%]{width:100%;max-width:220px;padding-bottom:10px}@media only screen and (min-width: 481px) and (max-width: 960px){.img-empty[_ngcontent-%COMP%]{width:100%;max-width:365px;padding-bottom:10px}}.empty-center[_ngcontent-%COMP%]{text-align:center;margin-top:30px}"]}),e}(),Pr=n(11491),Or=n(81621),qr=n(48655),Tr=n(18399),_r=n(38050),Sr=n(25651),Ir=n(53307),Dr=n(8296),Lr=n(83614),Rr=n(57899),Nr=[{path:"login",component:Un},{path:"resetPassword",component:Jn},{path:"changePassword",component:fn},{path:"alterPassword",component:gn,canActivate:[L.P]},{path:"home",component:un},{path:"",redirectTo:"home",pathMatch:"full"},{path:"profile",component:Yn.d,data:{management:!1},canActivate:[L.P]},{path:"menu/:screen/:title",component:Q},{path:"menu/:screen/:title",component:Q,children:[{path:"explanatory",pathMatch:"full",component:Vn.u}]},{path:"timesheet",loadChildren:function(){return n.e(856).then(n.bind(n,27856)).then(function(e){return e.TimesheetModule})},canActivate:[L.P]},{path:"overtime",canActivate:[L.P],loadChildren:function(){return Promise.all([n.e(99),n.e(177)]).then(n.bind(n,47099)).then(function(e){return e.OvertimeModule})}},{path:"requisitions",component:Aa,canActivate:[L.P]},{path:"demission",component:va,canActivate:[L.P]},{path:"demission/request",component:Ro,canActivate:[L.P]},{path:"demission/visualize",component:$o,canActivate:[L.P]},{path:"demission/confirm",component:ho,canActivate:[L.P]},{path:"substitution",loadChildren:function(){return n.e(768).then(n.bind(n,97768)).then(function(e){return e.SubstitutionModule})},canActivate:[L.P]},{path:"payments",loadChildren:function(){return n.e(626).then(n.bind(n,69626)).then(function(e){return e.PaymentsModule})},canActivate:[L.P]},{path:"payment",loadChildren:function(){return n.e(626).then(n.bind(n,69626)).then(function(e){return e.PaymentsModule})},canActivate:[L.P]},{path:"benefits",loadChildren:function(){return n.e(169).then(n.bind(n,93169)).then(function(e){return e.BenefitsModule})},canActivate:[L.P]},{path:"health/medicalCertificate/request",component:Me,canActivate:[L.P]},{path:"health/medicalCertificate/request/:id",component:Me,canActivate:[L.P]},{path:"health/medicalCertificate",component:G.O,canActivate:[L.P],data:{management:!1}},{path:"absence",loadChildren:function(){return Promise.resolve().then(n.bind(n,76660)).then(function(e){return e.AbsenceModule})},canActivate:[L.P]},{path:"substitutes",component:fr,canActivate:[L.P]},{path:"substituteRequest",component:cr,canActivate:[L.P]},{path:"birthdates",component:Ya},{path:"birthdates/details/:status",component:Ya},{path:"teamManagement",loadChildren:function(){return Promise.all([n.e(965),n.e(156),n.e(876)]).then(n.bind(n,6876)).then(function(e){return e.TeamManagementTabsModule})},canActivate:[L.P]},{path:"teamBalance",component:Ar,canActivate:[L.P]},{path:"vacation",component:Rr.n,canActivate:[L.P],data:{management:!1},children:[{path:"request",component:Lr.w,canActivateChild:[L.P],children:[{path:"",redirectTo:"init",pathMatch:"full"},{path:"init",component:_r.j},{path:"days",component:qr.d},{path:"vacationBonus",component:Dr.G},{path:"sellDays",component:Ir.$},{path:"confirmRequest",component:Or.U},{path:"hasAdvance",component:Tr.d},{path:"requestDone",component:Sr.I}]}]},{path:"vacation/receipt",component:Pr.g,canActivate:[L.P]},{path:"vacation/details",loadChildren:function(){return n.e(261).then(n.bind(n,40261)).then(function(e){return e.VacationDetailsModule})},canActivate:[L.P]},{path:"request/notifications",loadChildren:function(){return Promise.all([n.e(156),n.e(177),n.e(703)]).then(n.bind(n,24156)).then(function(e){return e.NotificationsPageModule})}},{path:"request/notificationDetails",component:co,resolve:{notificationView:lo}},{path:"reports",component:$n},{path:"listReports/:category/:description",component:ai},{path:"workLeave",canActivate:[L.P],loadChildren:function(){return n.e(739).then(n.bind(n,57739)).then(function(e){return e.WorkLeaveModule})}},{path:"payrollLoan",loadChildren:function(){return n.e(998).then(n.bind(n,38998)).then(function(e){return e.PayrollLoanRoutingModule})}},{path:"versions",loadChildren:function(){return n.e(646).then(n.bind(n,64646)).then(function(e){return e.VersionsModule})}},{path:"employeeDataChange",loadChildren:function(){return n.e(850).then(n.bind(n,850)).then(function(e){return e.DataChangeModule})}}],Er=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[D.Bz.forRoot(Nr,{useHash:!0,relativeLinkResolution:"legacy"})],D.Bz]}),e}(),Ur=n(91704),Fr=n(24612),Jr=function(){var e=function(){function e(t){h(this,e),this.idle=t,this.timeoutServiceSource=new oe.xQ,this.timeoutServiceObservable=this.timeoutServiceSource.asObservable(),B.N.logoutByTimeout&&this.startTimeout(B.N.timeout,B.N.idleTime)}return m(e,[{key:"startTimeout",value:function(e,t){var n=this;this.idle.setIdle(t),this.idle.setTimeout(e),this.idle.setInterrupts(Fr.WO),this.idle.onTimeout.subscribe(function(){n.timeoutServiceSource.next(!0)}),this.idle.watch()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(Fr.hX))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Vr=function(){var e=function(){function e(t,n,i,o,a){h(this,e),this.activatedRoute=t,this.serviceGeneric=n,this.globals=i,this.windowUtilService=o,this.navigationUtilService=a}return m(e,[{key:"loginFluigIdentity",value:function(e){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loginFluigIdentitySSO(e);case 2:n=t.sent,this.globals.isNewApiModelRM()&&this.globals.setToken(n.accessToken),this.windowUtilService.isWebView()&&(this.globals.setUser(n.loggedUser),this.globals.setIsLogged()),this.navigationUtilService.doNavigation("/home");case 4:case"end":return t.stop()}},t,this)}))}},{key:"getEncryptedKeyLoginFluigIdentityFromQP",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.activatedRoute.snapshot.queryParams;case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.LoginSaml)?t.LoginSaml:null);case 4:case"end":return e.stop()}},e,this)}))}},{key:"loginFluigIdentitySSO",value:function(e){return this.serviceGeneric.post("auth/login/fluigIdentity",{key:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(D.gz),c.LFG(De.M),c.LFG(ke.O),c.LFG(ue.g),c.LFG(N._))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Yr="setting",zr=function(){var e=function(){function e(t,n){h(this,e),this.serviceGeneric=t,this.globals=n}return m(e,[{key:"getContexts",value:function(){return this.serviceGeneric.get("".concat(Yr,"/contexts"))}},{key:"getCurrentContext",value:function(){var e=this;return this.serviceGeneric.get("".concat(Yr,"/context")).then(function(t){return e.setParamKeyValueString(t),t})}},{key:"updateContext",value:function(e){var t="".concat(Yr,"/context");return e.current=!1,this.serviceGeneric.put(t,e)}},{key:"setParamKeyValueString",value:function(e){this.globals.setParamKeyString("[federalCode]",e.federalCode),this.globals.setParamKeyString("[personalCode]",e.personalCode),this.globals.setParamKeyString("[employeeCode]",e.employeeCode)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M),c.LFG(ke.O))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}();function Qr(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Oqu(n.version)}}var Gr=function(){var e=function(){function e(){h(this,e),this.version=B.N.version,this.hideVersion=!0,this.clickCounts=0}return m(e,[{key:"click",value:function(){++this.clickCounts>=5&&(this.hideVersion=!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-version"]],decls:2,vars:1,consts:[["id","version",3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(c.TgZ(0,"p",0),c.NdJ("click",function(){return t.click()}),c.YNc(1,Qr,2,1,"span",1),c.qZA()),2&e&&(c.xp6(1),c.Q6J("ngIf",!t.hideVersion))},directives:[d.O5],styles:["#version[_ngcontent-%COMP%]{position:absolute;bottom:0px;left:10px;z-index:999;color:#fff;font-size:60%;width:60px;height:14px}"]}),e}(),Hr=function(){var e=function(){function e(t,n){h(this,e),this.spinnerElement=t,this.spinnerService=n,this.show=!1,this.element=null,this.subscription=null,this.element=t.nativeElement}return m(e,[{key:"ngOnInit",value:function(){this.createServiceSubscription()}},{key:"createServiceSubscription",value:function(){var e=this;this.subscription=this.spinnerService.spinnerObservable.subscribe(function(t){t?e.startSpinner():e.stopSpinner()})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"startSpinner",value:function(){this.show=!0}},{key:"stopSpinner",value:function(){this.show=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq),c.Y36(yn.V))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-spinner"]],decls:4,vars:2,consts:[[1,"loading-screen"],["src","assets/img/loading.gif",1,"spinner-img"],[1,"text-center","text-muted"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c._UZ(1,"img",1),c.TgZ(2,"p",2),c._uU(3,"CARREGANDO"),c.qZA(),c.qZA()),2&e&&c.Udp("display",1==t.show?"inherit":"none")},styles:[".loading-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.25);z-index:100000}.spinner-img[_ngcontent-%COMP%]{width:42px;height:42px;position:absolute;top:50%;left:50%;margin-left:-21px}.loading-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;margin-top:50px;width:100%}"]}),e}(),Br=function(){var e=function(){function e(t){h(this,e),this.el=t,t.nativeElement.style.customProperty=!0}return m(e,[{key:"isBiggerThan1000",value:function(e){Number(this.dataBadge)>0&&(Number(this.dataBadge)>999?this.el.nativeElement.setAttribute("data-badge","999"):this.el.nativeElement.setAttribute("data-badge",e))}},{key:"ngOnChanges",value:function(e){this.isBiggerThan1000(this.dataBadge)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","data-badge",""]],inputs:{dataBadge:["data-badge","dataBadge"]},features:[c.TTD]}),e}();function jr(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"app-reset-password"),c.qZA())}function $r(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"app-change-pass",1),c.NdJ("exit",function(){return c.CHM(n),c.oxw().clearUserChangePass()}),c.qZA(),c.qZA()}if(2&e){var i=c.oxw();c.xp6(1),c.Q6J("user",i.user)}}function Wr(e,t){1&e&&(c.TgZ(0,"div"),c._UZ(1,"app-login"),c.qZA())}function Kr(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",19),c.TgZ(1,"a",20),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(5).doNavigation(e)}),c._UZ(2,"span",21),c.TgZ(3,"p",22),c._uU(4),c.ALo(5,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw(5);c.Q6J("ngClass",o.getClassesMenuMobile(i)),c.xp6(2),c.Q6J("ngClass",i.imagePath),c.xp6(2),c.Oqu(c.lcZ(5,3,i.labelKeyShort))}}function Xr(e,t){if(1&e&&(c.TgZ(0,"nav",17),c.YNc(1,Kr,6,5,"div",18),c.qZA()),2&e){var n=c.oxw(4);c.xp6(1),c.Q6J("ngForOf",n.applications)}}function es(e,t){if(1&e&&(c.TgZ(0,"span",33),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){var n=c.oxw().$implicit,i=c.oxw(5);c.xp6(1),c.hij(" ",c.lcZ(2,1,i.getStatus(n.status))," ")}}function ts(e,t){if(1&e&&(c.TgZ(0,"span",34),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&e){var n=c.oxw().$implicit,i=c.oxw(5);c.xp6(1),c.hij(" ",c.lcZ(2,1,i.getStatus(n.status))," ")}}var ns=function(e){return{"context-item-active":e}};function is(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",27),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw(5).updateContext(e)}),c.TgZ(1,"p",28),c._uU(2),c.ALo(3,"translate"),c.YNc(4,es,3,3,"span",29),c.YNc(5,ts,3,3,"span",30),c.qZA(),c.TgZ(6,"span",31),c._uU(7),c.qZA(),c._UZ(8,"br"),c.TgZ(9,"span",32),c._uU(10),c.qZA(),c._UZ(11,"br"),c.TgZ(12,"span",31),c._uU(13),c.qZA(),c._UZ(14,"br"),c.qZA()}if(2&e){var i=t.$implicit,o=c.oxw(5);c.Q6J("ngClass",c.VKq(9,ns,o.contextIsCurrent(i))),c.xp6(2),c.hij(" ",c.lcZ(3,7,o.getEmployeeType(i.employeeType))," "),c.xp6(2),c.Q6J("ngIf",o.isContextActive(i.status)),c.xp6(1),c.Q6J("ngIf",!o.isContextActive(i.status)),c.xp6(2),c.hij(" ",i.companyName," "),c.xp6(3),c.hij(" ",i.branchName," "),c.xp6(3),c.hij(" ",i.employeeId," ")}}function os(e,t){if(1&e&&(c.TgZ(0,"div",23),c.TgZ(1,"div",24),c.TgZ(2,"div",25),c.YNc(3,is,15,11,"div",26),c.qZA(),c.qZA(),c.qZA()),2&e){var n=c.oxw(4);c.xp6(1),c.Q6J("ngClass",n.getCurrentContextBodyClass()),c.xp6(2),c.Q6J("ngForOf",n.contexts)}}function as(e,t){1&e&&(c.TgZ(0,"span",35),c._UZ(1,"img",36),c.qZA())}function rs(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"li"),c.TgZ(1,"div",20),c.NdJ("click",function(){return c.CHM(n),c.oxw(4).doNavigation("profile")}),c._UZ(2,"img",37),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()}2&e&&(c.xp6(3),c.hij(" ",c.lcZ(4,1,"l-perfil")," "))}function ss(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"li"),c.TgZ(1,"div",38),c.NdJ("click",function(){return c.CHM(n),c.oxw(4).doNavigation("alterPassword")}),c._UZ(2,"img",39),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.qZA()}2&e&&(c.xp6(3),c.hij(" ",c.lcZ(4,1,"l-alter-password")," "))}function cs(e,t){1&e&&c._UZ(0,"span",43)}function ls(e,t){1&e&&c._UZ(0,"po-loading-icon",44)}var us=function(e){return{notify:e}};function ps(e,t){if(1&e&&(c.TgZ(0,"nav"),c.TgZ(1,"a",40),c.YNc(2,cs,1,0,"span",41),c.YNc(3,ls,1,0,"po-loading-icon",42),c.qZA(),c.qZA()),2&e){var n=t.ngIf,i=c.oxw(5);c.xp6(1),c.Q6J("data-badge",i.notifyCount)("ngClass",c.VKq(4,us,i.notifyCount>0)),c.xp6(1),c.Q6J("ngIf",!n.loading),c.xp6(1),c.Q6J("ngIf",n.loading)}}function ds(e,t){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,ps,4,6,"nav",0),c.ALo(2,"async"),c.qZA()),2&e){var n=c.oxw(4);c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,n.notificationsCount$))}}function gs(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c._UZ(1,"app-spinner"),c._UZ(2,"div",2),c.TgZ(3,"div",3),c._UZ(4,"po-menu",4),c.YNc(5,Xr,2,1,"nav",5),c.TgZ(6,"po-page-default"),c.TgZ(7,"div",6),c.YNc(8,os,4,2,"div",7),c.TgZ(9,"div"),c.TgZ(10,"div",8),c.YNc(11,as,2,0,"span",9),c.TgZ(12,"div",10),c._UZ(13,"div",11),c.TgZ(14,"ul",12),c.TgZ(15,"li",13),c._uU(16),c.qZA(),c.YNc(17,rs,5,3,"li",0),c.YNc(18,ss,5,3,"li",0),c.TgZ(19,"li"),c.TgZ(20,"div",14),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).logout()}),c._UZ(21,"img",15),c._uU(22),c.ALo(23,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(24,ds,3,3,"div",0),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"router-outlet",16),c.NdJ("activate",function(){return c.CHM(n),c.oxw(3).loadOnUrlChange()}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=c.oxw(3);c.xp6(4),c.Q6J("p-menus",i.menus),c.xp6(1),c.Q6J("ngIf",i.showMenu),c.xp6(3),c.Q6J("ngIf",i.contexts&&i.contexts.length>1),c.xp6(3),c.Q6J("ngIf",i.contexts&&i.contexts.length>1),c.xp6(2),c.Udp("background-image",i.avatarImage),c.xp6(3),c.hij(" ",i.getFirstName()," "),c.xp6(1),c.Q6J("ngIf",(null==i.permissions?null:i.permissions.profile)||null==(null==i.permissions?null:i.permissions.profile)),c.xp6(1),c.Q6J("ngIf",null==i.permissions?null:i.permissions.alterPassword),c.xp6(4),c.hij(" ",c.lcZ(23,11,"l-logoff")," "),c.xp6(2),c.Q6J("ngIf",i.isCoordinator||i.isSubstitute)}}function hs(e,t){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,Wr,2,0,"div",0),c.YNc(2,gs,26,13,"div",0),c.qZA()),2&e){var n=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf",!n.isLogged),c.xp6(1),c.Q6J("ngIf",n.isLogged)}}function fs(e,t){if(1&e&&(c.ynx(0),c.YNc(1,hs,3,2,"div",0),c.BQk()),2&e){var n=t.ngIf,i=c.oxw();c.xp6(1),c.Q6J("ngIf",null!=n.isLogged&&!i.showResetPasswordPage()&&void 0===i.user)}}var ms=function(){var e=function(){function e(t,n,i,o,a,r,s,c,l,u,p,d,g,f,m,v,b,x,y,w,Z,C,M,k,A,P,O,q,T,_,S,I,D){h(this,e),this.loggedSelectors=t,this.profileService=n,this.contextService=i,this.toastr=o,this.title=a,this.appTranslateService=r,this.authService=s,this.menuApplicationService=c,this.windowUtilService=l,this.timeoutService=u,this.changeDetectRef=p,this.globals=d,this.navigationUtilService=g,this.router=f,this.resetPassword=m,this.loginService=v,this.ionicUtilsService=b,this.el=x,this.permissionDispatchers=y,this.permissionSelectors=w,this.isCoordinatorDispatchers=Z,this.isCoordinatorSelectors=C,this.propertiesDispatchers=M,this.propertiesSelectors=k,this.imageService=A,this.companyIdDispatchers=P,this.notificationsCountDispatchers=O,this.notificationsCountSelectors=q,this.activatedRoute=T,this.mobileVersionDispatchers=_,this.fluigIdentityService=S,this.companySetttingsDispatchers=I,this.ngZone=D,this.applications=[],this.notifyCount=0,this.srcLogo="assets/img/totvs.png",this.homePage="index.html#",this.employeeSummary=void 0,this.showMenu=!0,this.menus=[],this.isSubstitute=!1,this.applicationInitialized=!1,this.notificationCountSubscription=null,this.timeoutSubscription=null,this.menuApplicationSubscription=null}return m(e,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"subscribeForLangChanges",value:function(){var e=this;this.onLangChange=this.appTranslateService.onLangChange.subscribe(function(){e.updateLanguageOnDOM()})}},{key:"updateLanguageOnDOM",value:function(){var e=this.appTranslateService.getCurrentLang(),t=document.createAttribute("lang");return t.value=e,this.el.nativeElement.parentElement.parentElement.attributes.setNamedItem(t),e}},{key:"initApplication",value:function(){this.setNavTitleApplication(),this.buttonContext(),this.loadDefaultServices(),this.toastr.overlayContainer=this.toastContainer}},{key:"ngOnDestroy",value:function(){this.notificationCountSubscription&&this.notificationCountSubscription.unsubscribe(),this.timeoutSubscription&&this.timeoutSubscription.unsubscribe(),this.menuApplicationSubscription&&this.menuApplicationSubscription.unsubscribe(),this.onLangChange&&this.onLangChange.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe(),this.loggedSubscrption&&this.loggedSubscrption.unsubscribe(),this.routeChangesSubscription&&this.routeChangesSubscription.unsubscribe(),this.propertiesSubscription&&this.propertiesSubscription.unsubscribe(),this.isCoordinatorSubscription&&this.isCoordinatorSubscription.unsubscribe()}},{key:"loadDefaultServices",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe.ZP.getBaseUrl(document.location.href),!Oe.ZP.isErpRM()){e.next=22;break}return e.prev=1,e.next=4,this.loadContexts();case 4:if(e.t0=e.sent,!e.t0){e.next=16;break}return this.createNotificationCountSubscription(),this.createTimeoutSubscription(),this.createMenuApplicationSubscription(),e.next=11,this.getEmployeeSummary();case 11:this.getImageAvatar(),this.loadMenus(),this.setNotifyCount(),this.getIsCoordinator(),this.getPermissions();case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(1);case 20:e.next=34;break;case 22:return this.loadContexts(),this.createNotificationCountSubscription(),this.createTimeoutSubscription(),this.createMenuApplicationSubscription(),e.next=28,this.getEmployeeSummary();case 28:this.getImageAvatar(),this.loadMenus(),this.setNotifyCount(),this.getIsCoordinator(),this.getPermissions(),this.activeKeepAlive();case 34:case"end":return e.stop()}},e,this,[[1,18]])}))}},{key:"getPermissions",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.permissionsSubscription&&this.permissionsSubscription.unsubscribe(),this.permissionDispatchers.loadPermissions(B.N.loggedUser),this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(function(e){t.permissions=e});case 1:case"end":return e.stop()}},e,this)}))}},{key:"getIsCoordinator",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.isCoordinatorSubscription&&this.isCoordinatorSubscription.unsubscribe(),this.isCoordinatorDispatchers.loadIsCoordinator(B.N.loggedUser),this.isCoordinatorSubscription=this.isCoordinatorSelectors.isCoordinator$.subscribe(function(e){t.isCoordinator=e});case 1:case"end":return e.stop()}},e,this)}))}},{key:"loadMenus",value:function(){var e=this;this.contextService.getCurrentContext().then(function(t){e.menuApplicationService.getMenus().then(function(t){e.applications=t,e.menus=e.menuAppToPoMenu(e.applications)})})}},{key:"menuAppToPoMenu",value:function(e){var t=this;if(e){var n=[];return e.forEach(function(e){var i="../PortalMeuRH/index.html#/",o=!e.children&&e.url.indexOf(i)<0;t.appTranslateService.getI18n(e.labelKeyLong).then(function(a){n.push({label:a,icon:"po-icon "+e.imagePath,action:o?function(){return t.doNavigation(e)}:void 0,link:o?void 0:e.url.replace(i,""),subItems:t.menuAppToPoMenu(e.children)})})}),n}}},{key:"createNotificationCountSubscription",value:function(){var e=this;this.notificationsCount$=this.notificationsCountSelectors.state$,this.notificationCountSubscription=this.notificationsCount$.subscribe(function(t){e.notifyCount=0;var n=t.model;e.notifyCount=n&&void 0!==n.total?n.total:0})}},{key:"createTimeoutSubscription",value:function(){var e=this;this.timeoutSubscription=this.timeoutService.timeoutServiceObservable.subscribe(function(t){t&&e.logout()})}},{key:"createInitializationSubscription",value:function(){var e=this;this.loggedSubscrption=this.loggedSelectors.isLogged$.subscribe(function(t){!e.applicationInitialized&&t&&(e.initApplication(),e.applicationInitialized=!0),e.globals.canLoadApp=!0})}},{key:"createMenuApplicationSubscription",value:function(){var e=this;this.menuApplicationSubscription=this.menuApplicationService.menuApplicationServiceObservable.subscribe(function(t){e.showMenu=t,e.changeDetectRef.detectChanges()})}},{key:"setNavTitleApplication",value:function(){var e=this;this.appTranslateService.getI18n("l-title-nav-tab").then(function(t){e.title.setTitle(t)})}},{key:"setNotifyCount",value:function(){this.notificationsCountDispatchers.getNotificationsCountRespectingMinimumTime()}},{key:"getEmployeeSummary",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileService.getEmployeeSummary("{current}",!0);case 2:t=e.sent,this.isSubstitute=t.isSubstitute,this.globals.setEmployeeSummary(t),this.employeeSummary=t;case 4:case"end":return e.stop()}},e,this)}))}},{key:"getImageAvatar",value:function(){var e=this;this.imageService.getImageStyle("{current}").subscribe(function(t){return e.avatarImage=t})}},{key:"logout",value:function(){var e=this;Oe.ZP.isTomcatAppServer()?(this.logoutActions(),this.windowUtilService.isWebView()?this.emitLogoutEventIonic():this.windowUtilService.changeHref("/html-hcm")):this.authService.logout().then(function(t){return(0,H.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.logoutActions();case 2:this.windowUtilService.isWebView()?this.emitLogoutEventIonic():this.redirectDesktop(t);case 3:case"end":return e.stop()}},e,this)}))}).catch(function(){e.windowUtilService.changeHref(Oe.ZP.getRootContext(location.origin)+"logout.html")})}},{key:"contextIsCurrent",value:function(e){return e.current}},{key:"logoutActions",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Oe.ZP.isTomcatAppServer(),!e.t0){e.next=4;break}return e.next=4,this.authService.logoutOnTotvsLogin();case 4:this.globals.canLoadApp=!1,this.globals.clearLocalStorage(),this.globals.cleanEmployeeSummary(),this.setNullLocalItems(/^DASHBOARD_/);case 8:case"end":return e.stop()}},e,this)}))}},{key:"redirectDesktop",value:function(e){Oe.ZP.isTomcatAppServer()?this.windowUtilService.locationAssign("/html-hcm/"):e&&e.redirect?this.windowUtilService.changeHref(Oe.ZP.getRootContext(location.origin)+e.redirect):this.windowUtilService.goToOrigin()}},{key:"setNullLocalItems",value:function(e){for(var t=0;t<=window.localStorage.length;t++)if(e.test(window.localStorage.key(t))){var n=window.localStorage.key(t);window.localStorage.setItem(n,null)}}},{key:"emitLogoutEventIonic",value:function(){this.ionicUtilsService.emit({args:{event:"LogoutEvent"},type:Pe.g.Logout})}},{key:"getFirstName",value:function(){return this.employeeSummary?this.employeeSummary.name.split(" ")[0]:""}},{key:"loadContexts",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contextService.getContexts();case 2:if(t=e.sent)for(this.contexts=t,n=0;n<this.contexts.length;n++)(i=this.contexts[n]).current&&(this.currentContextIndex=n,Oe.ZP.isErpRM()&&(this.contextService.updateContext(i),i.current=!0),Oe.ZP.shouldSendCompanyId()&&this.companyIdDispatchers.setCompanyId(i.companyId));return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))}},{key:"getCurrentContextBodyClass",value:function(){return"context-body-"+(this.currentContextIndex+1)}},{key:"getCurrentContextSpanClass",value:function(){return"context-span-"+(this.currentContextIndex+1)}},{key:"getEmployeeType",value:function(e){return"internal"===e.toString()?"l-internal":"l-external"}},{key:"getStatus",value:function(e){return"active"===e?"l-active":"l-inactive"}},{key:"isContextActive",value:function(e){return"active"===e}},{key:"canLoadApp",value:function(){return this.globals.canLoadApp}},{key:"buttonContext",value:function(){Ur(document).off("click","#context-button"),Ur(document).on("click","#context-button",function(e){var t=Ur(this);t.hasClass("panel-collapsed")?(t.parents(".top-bar").find(".context-body").slideToggle("slow"),t.removeClass("panel-collapsed")):(t.parents(".top-bar").find(".context-body").slideToggle("slow"),t.addClass("panel-collapsed"))})}},{key:"updateContext",value:function(e){var t=this;this.navigationUtilService.doNavigation("/home"),this.contextService.updateContext(e).then(function(){return(0,H.mG)(t,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.globals.clearEmployeePermission(),e.next=3,this.loadDefaultServices();case 3:this.navigationUtilService.nextContext(),this.setNavTitleApplication(),this.toastr.overlayContainer=this.toastContainer,this.windowUtilService.isWebView()||this.windowUtilService.reloadPage();case 7:case"end":return e.stop()}},e,this)}))})}},{key:"loadOnUrlChange",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Oe.ZP.isErpRM(),!e.t0){e.next=4;break}return e.next=4,this.loadContexts();case 4:this.setNotifyCount();case 5:case"end":return e.stop()}},e,this)}))}},{key:"getClassesMenuMobile",value:function(e){var t=this,n=" menu-current-item menu-active",i="";return e.url.endsWith(this.router.url)?i+=n:e.children?e.children.forEach(function(o){(o.url.endsWith(t.router.url)||t.router.url.endsWith("detail")&&e.url.endsWith("l-payment"))&&(i+=n)}):this.router.url.endsWith("request")&&e.url.endsWith("medicalCertificate")&&(i+=n),this.applications&&this.applications.length?(i||(i+=" menu-not-current-item"),i+=" po-sm-".concat(Math.floor(12/this.applications.length)),i+=5===this.applications.length?" margin-full-items-menu":" margin-items-menu"):""}},{key:"changePasswordIsVisible",value:function(){var e=this;this.resetPassword.observableSubChangePass.subscribe(function(t){e.user=t})}},{key:"showResetPasswordPage",value:function(){return!!window.location.href.includes("resetPassword")}},{key:"clearUserChangePass",value:function(){this.user=void 0}},{key:"activeKeepAlive",value:function(){var e=this;Oe.ZP.isErpDatasul()&&Oe.ZP.isTomcatAppServer()&&this.ngZone.runOutsideAngular(function(){setInterval(function(){e.ngZone.run(function(){e.authService.keepAliveOnTotvsLogin()})},12e4)})}},{key:"doNavigation",value:function(e){this.navigationUtilService.doNavigation(e)}},{key:"contextIsActive",value:function(e){return"active"===e.status.toLocaleLowerCase()}},{key:"setTokenRM",value:function(){!this.globals.isNewApiModelRM()&&(Oe.ZP.getErpByUrl(document.location.href)===Oe.Ld.RM||Oe.ZP.getErpByUrl(document.location.href)===Oe.Ld.NODE)&&(this.properties.USE_TOKEN||this.globals.existsIonic5Key())&&this.globals.enableNewApiModelRM()}},{key:"subscribeToRouteChanges",value:function(){var e=this;this.routeChangesSubscription=this.router.events.subscribe(function(t){t instanceof D.m2&&e.globals.urlHistory.push(t.url)})}},{key:"getPropertiesJSON",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.propertiesDispatchers.loadProperties(),e.next=3,this.propertiesSelectors.nextPropertiesNotNull();case 3:this.properties=e.sent;case 4:case"end":return e.stop()}},e,this)}))}},{key:"initializeComponent",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPropertiesJSON();case 2:return this.setTokenRM(),e.next=5,this.defineLoginFluigIdentity();case 5:return this.createInitializationSubscription(),e.next=8,this.storeVersionFromQp();case 8:return e.next=10,this.loginService.checkLoginStatusToActivateServices();case 10:this.changePasswordIsVisible(),this.updateLanguageOnDOM(),this.subscribeForLangChanges(),this.subscribeToRouteChanges();case 14:case"end":return e.stop()}},e,this)}))}},{key:"storeVersionFromQp",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.activatedRoute.queryParams.pipe((0,vn.q)(1)).toPromise();case 2:return t=e.sent,e.next=5,this.mobileVersionDispatchers.setVersionIfNotDone(t.mobileVersion);case 5:case"end":return e.stop()}},e,this)}))}},{key:"defineLoginFluigIdentity",value:function(){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe.ZP.getErpByUrl(document.location.href)!==Oe.Ld.RM&&Oe.ZP.getErpByUrl(document.location.href)!==Oe.Ld.NODE){e.next=9;break}return this.companySetttingsDispatchers.getCompanySettings(),e.next=4,this.fluigIdentityService.getEncryptedKeyLoginFluigIdentityFromQP();case 4:if(t=e.sent,e.t0=t,!e.t0){e.next=9;break}return e.next=9,this.fluigIdentityService.loginFluigIdentity(t);case 9:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(qe.ek),c.Y36(ee.H),c.Y36(zr),c.Y36(P._W),c.Y36(r.Dx),c.Y36(le.g),c.Y36(hn),c.Y36(R.Kv),c.Y36(ue.g),c.Y36(Jr),c.Y36(c.sBO),c.Y36(ke.O),c.Y36(N._),c.Y36(D.F0),c.Y36(dn),c.Y36(Cn),c.Y36(Pe.l),c.Y36(c.SBq),c.Y36(qe.n3),c.Y36(qe.eL),c.Y36(qe.TM),c.Y36(qe.V9),c.Y36(qe.ZM),c.Y36(qe.Ub),c.Y36(K.A),c.Y36(qe.ab),c.Y36(qe.CV),c.Y36(qe.S2),c.Y36(D.gz),c.Y36(qe.ZR),c.Y36(Vr),c.Y36(qe.nF),c.Y36(c.R0b))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-root"]],viewQuery:function(e,t){var n;(1&e&&c.Gf(P.FM,5),2&e)&&(c.iGM(n=c.CRH())&&(t.toastContainer=n.first))},decls:5,vars:5,consts:[[4,"ngIf"],[3,"user","exit"],["toastContainer",""],[1,"po-wrapper"],["p-filter","","p-logo","assets/img/totvs.png",1,"po-hidden-sm","po-hidden-md","po-visible-lg","po-visible-xl",3,"p-menus"],["id","nav-mobile","class","po-visible-sm po-visible-md po-hidden-lg po-hidden-xl",4,"ngIf"],[1,"top-bar","no-text-select"],["class","panel-primary",4,"ngIf"],[1,"top-bar-profile"],["id","context-button","href","","class","pull-right panel-collapsed profile-image context-button",4,"ngIf"],[1,"dropdown","pull-right",2,"overflow","inherit"],["data-toggle","dropdown",1,"dropdown-toggle","avatar-small","mouse-pointer"],[1,"dropdown-menu","dropdown-menu-position"],[1,"summary-name","user-name"],["id","logout-button",1,"mouse-pointer",3,"click"],["src","assets/img/sair.png"],[3,"activate"],["id","nav-mobile",1,"po-visible-sm","po-visible-md","po-hidden-lg","po-hidden-xl"],["name","div-menu-itens","class","waves-effect waves-base align-menu-icons",3,"ngClass",4,"ngFor","ngForOf"],["name","div-menu-itens",1,"waves-effect","waves-base","align-menu-icons",3,"ngClass"],["routerLinkActive","active",1,"mouse-pointer",3,"click"],[1,"nav-ico",3,"ngClass"],[2,"font-size","10px"],[1,"panel-primary"],[1,"context-body",3,"ngClass"],[1,"po-row"],["class","po-sm-6 po-md-6 po-lg-12 context-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"po-sm-6","po-md-6","po-lg-12","context-item",3,"ngClass","click"],[1,"context-value-title"],["class","context-value-status-active label type-hint type-hint-array",4,"ngIf"],["class","context-value-status-inactive label type-hint type-hint-array",4,"ngIf"],[1,"context-span-value","text-bold-default"],["ng-if","context.branchName",1,"context-span-value","text-bold-default"],[1,"context-value-status-active","label","type-hint","type-hint-array"],[1,"context-value-status-inactive","label","type-hint","type-hint-array"],["id","context-button","href","",1,"pull-right","panel-collapsed","profile-image","context-button"],["src","assets/img/context-button.png"],["src","assets/img/perfil.png"],[1,"mouse-pointer",3,"click"],["src","assets/img/senha.png"],["id","alert-notify-button","routerLink","./request/notifications","routerLinkActive","active",1,"pull-right",3,"data-badge","ngClass"],["class","ico-bell",4,"ngIf"],["class","loading",4,"ngIf"],[1,"ico-bell"],[1,"loading"]],template:function(e,t){1&e&&(c.YNc(0,jr,2,0,"div",0),c.YNc(1,$r,2,1,"div",0),c.YNc(2,fs,2,1,"ng-container",0),c.ALo(3,"async"),c._UZ(4,"app-version")),2&e&&(c.Q6J("ngIf",t.showResetPasswordPage()),c.xp6(1),c.Q6J("ngIf",null!=t.user),c.xp6(1),c.Q6J("ngIf",c.lcZ(3,3,t.loggedSelectors.state$)))},directives:[d.O5,Gr,Jn,fn,Un,Hr,P.FM,k.Nu_,k.MUI,D.lC,d.sg,d.mk,D.Od,D.yS,Br,k.AR0],pipes:[d.Ov,C.X$],styles:[".onpage[_ngcontent-%COMP%]{background:#ffffff;padding:0 16px;min-height:calc(100vh - 60px);height:100%}.context-body[_ngcontent-%COMP%]{background-color:#fbfbfb;color:#4a5c60;display:none;height:164px;overflow-x:auto;overflow-y:hidden;padding:8px;white-space:nowrap;width:auto}.align-menu-icons[_ngcontent-%COMP%]{padding:0 9px}.context-body[_ngcontent-%COMP%] > div.po-row[_ngcontent-%COMP%]{display:block!important}.context-body[_ngcontent-%COMP%] > div.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.po-row){height:130px}[_ngcontent-%COMP%]::-webkit-scrollbar{height:0}.dropdown-menu-position[_ngcontent-%COMP%]{position:fixed!important}.dropdown-menu[_ngcontent-%COMP%]{left:auto!important;padding:5px 0 0;top:10px!important}.dropdown[_ngcontent-%COMP%]{width:auto;z-index:200}.context-span-label[_ngcontent-%COMP%]{color:#e6e6fa;font-size:12px;font-weight:700}.context-span-value[_ngcontent-%COMP%]{color:#4a5c60;font-size:12px;border-radius:3px;font-weight:bold}.context-span-value-inactive[_ngcontent-%COMP%]{font-size:12px;border-radius:3px;font-weight:bold}.context-value-status[_ngcontent-%COMP%]{font-size:10px;color:#fff;background:#00b28e;position:relative;top:-2px;padding:0 3px;border-radius:3px}.context-value-status-active[_ngcontent-%COMP%]{font-size:10px;color:#fff;background:#00b28e;position:relative;top:-2px;padding:0 3px;border-radius:3px}.context-value-status-inactive[_ngcontent-%COMP%]{font-size:10px;color:#fff;background:#e32d3c;position:relative;top:-2px;padding:0 3px;border-radius:3px}.context-value-title[_ngcontent-%COMP%]{font-size:20px;color:#4a5c60}.context-item[_ngcontent-%COMP%]{display:inline-block;float:none;width:180px;cursor:pointer;padding:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:8px;border-radius:6px}.context-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0!important}.panel-primary[_ngcontent-%COMP%]{width:auto;margin:0 -16px}.context-item[_ngcontent-%COMP%]:nth-child(1), .context-item[_ngcontent-%COMP%]:nth-child(2), .context-item[_ngcontent-%COMP%]:nth-child(3), .context-item[_ngcontent-%COMP%]:nth-child(4){background:#ffffff;border:#dddddd solid 1px}.context-body-1[_ngcontent-%COMP%], .context-body-2[_ngcontent-%COMP%], .context-body-3[_ngcontent-%COMP%], .context-body-4[_ngcontent-%COMP%]{background:#f0f0f0}.context-item[_ngcontent-%COMP%]:nth-child(1):hover, .context-item[_ngcontent-%COMP%]:nth-child(2):hover, .context-item[_ngcontent-%COMP%]:nth-child(3):hover, .context-item[_ngcontent-%COMP%]:nth-child(4):hover{background:#ceeaf2;border:rgba(12,155,191,.3) solid 1px;transition:all .5s}.context-item-active[_ngcontent-%COMP%]{background:#ceeaf2!important;border:rgba(12,155,191,.3) solid 1px!important}.context-item-inactive[_ngcontent-%COMP%]{color:#9da7a9!important;background:#eceeee!important;border:1px solid #b6bdbf!important;pointer-events:none}.context-value-title-inactive[_ngcontent-%COMP%]{font-size:20px;color:#9da7a9}.context-button[_ngcontent-%COMP%]{background-color:#fafafa;margin-left:5px;z-index:200;cursor:pointer}#alert-notify-button[_ngcontent-%COMP%]{z-index:200}.context-button[_ngcontent-%COMP%]:hover{background-color:rgba(12,154,190,.2);margin-left:5px;box-shadow:0 0 rgba(255,255,255,0);transition:all .5s ease}.context-button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:70%}.menu-current-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0c9abe!important}.menu-not-current-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bfbfbf!important}.dropdown-toggle[_ngcontent-%COMP%]:empty:after{display:none!important}.notify[_ngcontent-%COMP%]{position:relative;float:right;margin:3px}.notify[_ngcontent-%COMP%]:hover, .notify[_ngcontent-%COMP%]:focus{text-decoration:none!important}.notify[data-badge][_ngcontent-%COMP%]:after{background:#e32d3c;border-radius:8px;color:#fff;content:attr(data-badge);font-size:10px;font-weight:normal;height:16px;line-height:12px;min-width:16px;padding:2px 4px;position:absolute;right:-2px;text-align:center;top:-1px;width:auto}@media only screen and (min-width: 961px) and (max-width: 1366px){.context-body[_ngcontent-%COMP%]{padding-left:60px}}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.onpage[_ngcontent-%COMP%]{padding:0 16px;min-height:calc(100vh - 94px);height:100%}}"]}),e}(),vs=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"getLanguageI18n",value:function(e){if(e){if(0===e.indexOf("pt"))return"pt";if(0===e.indexOf("en"))return"en";if(0===e.indexOf("es"))return"es"}return"pt"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),bs=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[zn.e,vs,Jr],imports:[[d.ez,Fr.$2.forRoot()]]}),e}(),xs=n(56365),ys=n(40205),ws=n(5304),Zs=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"intercept",value:function(e,t){return t.handle(e).pipe((0,ws.K)(function(e){return e instanceof g.UA&&e.error instanceof Blob&&"application/json"===e.error.type?new Promise(function(t,n){var i=new FileReader;i.onload=function(t){try{var i=JSON.parse(t.target.result);n(new g.UA({error:i,headers:e.headers,status:e.status,statusText:e.statusText,url:e.url}))}catch(i){n(e)}},i.onerror=function(t){n(e)},i.readAsText(e.error)}):(0,ys._)(e)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Cs=function(){var e=function(){function e(t){h(this,e),this.companyIdSelectors=t}return m(e,[{key:"intercept",value:function(e,t){return Oe.ZP.shouldSendCompanyId()&&!this.reqIsToContext(e)&&this.notInBlacklist(e)?(0,ae.D)(this.addCompanyId(e,t)):t.handle(e)}},{key:"addCompanyId",value:function(e,t){return(0,H.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.companyIdSelectors.nextIsCompanyIdDone();case 2:return i=n.sent,o=e,n.abrupt("return",(null!=i&&(o=e.clone({setHeaders:{companyId:i}})),t.handle(o).toPromise()));case 5:case"end":return n.stop()}},n,this)}))}},{key:"reqIsToContext",value:function(e){return e.url.includes("/setting/contexts")}},{key:"notInBlacklist",value:function(t){return!e.blacklist.some(function(e){return t.url.includes(e)})}}]),e}();return e.blacklist=["auth/isLogged","auth/login","properties.json","/assets/"],e.\u0275fac=function(t){return new(t||e)(c.LFG(qe.P7))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ms=n(44677),ks=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[Er,d.ez,Ms.d,C.aw,xs.q]]}),e}(),As=function(){var e=function(){function e(){h(this,e)}return m(e,[{key:"intercept",value:function(e,t){var n=localStorage.getItem("token");return Oe.ZP.getErp()===Oe.Ld.RM&&n&&!e.url.includes("storage.googleapis.com")&&(e.url.includes("isLogged")||!e.url.includes("auth/"))&&(e=this.addToken(e,n)),t.handle(e)}},{key:"addToken",value:function(e,t){return e.clone({setHeaders:{Authorization:"Bearer "+t}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Ps=n(69505),Os=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[ie.z],imports:[[d.ez,xs.q,C.aw,k.JBz,y.u5,Xo.To,D.Bz]]}),e}(),qs=n(43743),Ts=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[Ne],imports:[[d.ez,xs.q,C.aw,k.JBz]]}),e}(),_s=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[Ve],imports:[[d.ez,C.aw,k.JBz,xs.q,Xo.To,qs.Y,y.u5,Ts]]}),e}(),Ss=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[dt.X,_e.t],imports:[[d.ez,xs.q,C.aw,D.Bz,y.u5,k.JBz,_s]]}),e}(),Is=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,C.aw,k.JBz,pn.M0,y.u5,xs.q]]}),e}(),Ds=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,C.aw,k.JBz,y.u5,xs.q]]}),e}(),Ls=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,k.JBz,C.aw,y.u5,xs.q]]}),e}(),Rs=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,k.JBz,C.aw,y.u5,xs.q]]}),e}(),Ns=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[Cn],imports:[[k.JBz,C.aw,d.ez,y.u5,Rs,Ls,Ds]]}),e}(),Es=n(91061),Us=n(53569),Fs=n(98295),Js=n(76627),Vs=n(67441),Ys=n(12522),zs=n(45438),Qs=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,xs.q,C.aw,k.JBz,y.u5,Xo.To,Fs.lN,Vs.LD,zs.Co,y.UX,y.u5,Z.PW,Vs.LD,Ys.g0,Fs.lN,Js.Ps,zs.Co]]}),e}(),Gs=n(37794),Hs=n(2187),Bs=n(92060),js=n(69030),$s=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[ee.H,Bs.O,Hs.p,js.H,Gs.e],imports:[[d.ez,xs.q,C.aw,y.u5,k.JBz]]}),e}(),Ws=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[Hn],imports:[[xs.q,d.ez,C.aw,y.u5,Bn.QW,k.JBz]]}),e}(),Ks=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[ui.T,lo],imports:[[d.ez,y.u5,k.JBz,C.aw,Ms.d,xs.q,pn.Pu,qs.Y,D.Bz]]}),e}(),Xs=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,xs.q,C.aw,D.Bz,y.u5,Xo.To,k.JBz,qs.Y,Ms.d,pn.Pu]]}),e}(),ec=n(93342),tc=function(){var e=function(){function e(t,n,i,o){h(this,e),this.genericService=t,this.ionicUtilsService=n,this.windowUtilService=i,this.globals=o}return m(e,[{key:"intercept",value:function(e,t){var n=this;if(Oe.ZP.isErpProtheus()||Oe.ZP.isErpRM()||Oe.ZP.isErpNode()){var i;if((!e.url.includes("auth/")||e.url.includes("isFirstLogin")||e.url.includes("ChangePassWithLastPass")||e.url.includes("isLogged"))&&!e.url.includes("storage.googleapis.com")){var o=localStorage.getItem("token");o&&(i=e.clone({setHeaders:{Authorization:"Bearer ".concat(o)}}))}return i||(i=e),t.handle(i).pipe((0,ec.b)(function(t){if(t instanceof g.Zn){var i=t.headers.get("set-authorization");i&&(null===n.globals.getToken()||e.url.includes("setting/context")&&"PUT"===e.method)&&(i.includes("Bearer")&&(i=i.substr(7)),n.globals.setToken(i),n.genericService.setAuthorizationToken(),n.emitTokenChange(i))}}))}return t.handle(e)}},{key:"emitTokenChange",value:function(e){this.windowUtilService.isWebView()&&this.ionicUtilsService.emit({args:{token:e},type:Pe.g.TokenChange})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(De.M),c.LFG(Pe.l),c.LFG(ue.g),c.LFG(ke.O))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),nc=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[Wo.$,zr,te.c],imports:[[d.ez]]}),e}(),ic=n(23065),oc=n(91601),ac=n(32170),rc={permissions:null,loading:!1,error:!1},sc=(0,ic.Lq)(rc,(0,ic.on)(ac.QG,function(e){return Object.assign(Object.assign({},rc),{loading:!0})}),(0,ic.on)(ac.rB,function(e,t){return Object.assign(Object.assign({},rc),{permissions:t.permissions})}),(0,ic.on)(ac.yk,function(e){return Object.assign(Object.assign({},rc),{error:!0})})),cc={isLogged:null,loading:!1},lc=(0,ic.Lq)(cc,(0,ic.on)(ac.gn.checkIfIsLogged,function(e){return Object.assign(Object.assign({},cc),{loading:!0})}),(0,ic.on)(ac.gn.checkIfIsLoggedSuccess,function(e,t){return Object.assign(Object.assign({},cc),{isLogged:t.isLogged})}),(0,ic.on)(ac.gn.checkIfIsLoggedError,function(e){return Object.assign(Object.assign({},cc),{isLogged:!1})})),uc={companyId:null,done:!1},pc=(0,ic.Lq)(uc,(0,ic.on)(ac.YB.setCompanyId,function(e,t){return Object.assign(Object.assign({},uc),{companyId:t.companyId,done:!0})})),dc={model:null,loading:!1},gc=(0,ic.Lq)(dc,(0,ic.on)(ac.I3.getNotificationsCount,function(){return Object.assign(Object.assign({},dc),{model:null,loading:!0})}),(0,ic.on)(ac.I3.getNotificationsCountSuccess,function(e,t){return Object.assign(Object.assign({},dc),{model:t.model})}),(0,ic.on)(ac.I3.getNotificationsCountError,function(){return Object.assign({},dc)})),hc={properties:null,error:!1},fc=(0,ic.Lq)(hc,(0,ic.on)(ac.Yg.loadProperties,function(e){return Object.assign({},hc)}),(0,ic.on)(ac.Yg.loadPropertiesSuccess,function(e,t){return Object.assign(Object.assign({},hc),{properties:t.properties})}),(0,ic.on)(ac.Yg.loadPropertiesError,function(e){return Object.assign(Object.assign({},hc),{error:!0})})),mc={isCoordinator:null,loading:!1,error:!1},vc=(0,ic.Lq)(mc,(0,ic.on)(ac.Eq.loadIsCoordinator,function(e){return Object.assign(Object.assign({},mc),{loading:!0})}),(0,ic.on)(ac.Eq.loadIsCoordinatorSuccess,function(e,t){return Object.assign(Object.assign({},mc),{isCoordinator:t.isCoordinator})}),(0,ic.on)(ac.Eq.loadIsCoordinatorError,function(e){return Object.assign(Object.assign({},mc),{error:!0})})),bc={version:null,done:!1,unknow:!1},xc=(0,ic.Lq)(bc,(0,ic.on)(ac.Cv.setMobileVersion,function(e,t){return Object.assign(Object.assign({},bc),{version:t.version,done:!0})}),(0,ic.on)(ac.Cv.setUnknowMobileVersion,function(){return Object.assign(Object.assign({},bc),{unknow:!0,done:!0})})),yc={companySettings:null},wc=(0,ic.Lq)(yc,(0,ic.on)(ac.kr.getCompanySettings,function(e){return Object.assign({},yc)}),(0,ic.on)(ac.kr.getCompanySettingsSuccess,function(e,t){return Object.assign(Object.assign({},yc),{companySettings:t.companySettings})}),(0,ic.on)(ac.kr.getCompanySettingsError,function(e){return Object.assign(Object.assign({},yc),{companySettings:{forgotPasswordEnabled:!0,requiredSSO:!1,samlProviders:[],providersOauth:[]}})})),Zc={permissions:function(e,t){return sc(e,t)},logged:function(e,t){return lc(e,t)},companyId:function(e,t){return pc(e,t)},notificationsCount:function(e,t){return gc(e,t)},properties:function(e,t){return fc(e,t)},isCoordinator:function(e,t){return vc(e,t)},mobileVersion:function(e,t){return xc(e,t)},companySettings:function(e,t){return wc(e,t)}},Cc=n(25917),Mc=n(43190),kc=function(){var e=m(function e(t,n){var i=this;h(this,e),this.actions$=t,this.permissionService=n,this.loadPermissions$=(0,oc.GW)(function(){return i.actions$.pipe((0,oc.l4)(ac.QG),(0,Mc.w)(function(e){return(0,ae.D)(i.permissionService.getPermissions(e.employeeId)).pipe((0,bn.U)(function(e){return ac.rB({permissions:e})}),(0,ws.K)(function(e){return(0,Cc.of)(ac.yk({error:e}))}))}))})});return e.\u0275fac=function(t){return new(t||e)(c.LFG(oc.eX),c.LFG(Wo.$))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Ac=function(){var e=m(function e(t,n){var i=this;h(this,e),this.actions$=t,this.authService=n,this.checkIfIsLogged$=(0,oc.GW)(function(){return i.actions$.pipe((0,oc.l4)(ac.gn.checkIfIsLogged),(0,Mc.w)(function(){return(0,ae.D)(i.authService.canActivate()).pipe((0,bn.U)(function(e){return ac.gn.checkIfIsLoggedSuccess({isLogged:e.isLogged})}),(0,ws.K)(function(e){return(0,Cc.of)(ac.gn.checkIfIsLoggedError({error:e}))}))}))})});return e.\u0275fac=function(t){return new(t||e)(c.LFG(oc.eX),c.LFG(hn))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Pc=function(){var e=m(function e(t,n){var i=this;h(this,e),this.actions$=t,this.notificationsService=n,this.getNotificationsCount$=(0,oc.GW)(function(){return i.actions$.pipe((0,oc.l4)(ac.I3.getNotificationsCount),(0,Mc.w)(function(e){return(0,ae.D)(i.notificationsService.getNotificationsCount(e.employeeId)).pipe((0,bn.U)(function(e){return ac.I3.getNotificationsCountSuccess({model:e})}),(0,ws.K)(function(){return(0,Cc.of)(ac.I3.getNotificationsCountError())}))}))})});return e.\u0275fac=function(t){return new(t||e)(c.LFG(oc.eX),c.LFG(ui.T))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),Oc=function(){var e=function(){function e(t){h(this,e),this.http=t}return m(e,[{key:"getProperties",value:function(){return this.http.get("properties.json").toPromise().then(function(e){return e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(g.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),qc=[kc,Ac,Pc,function(){var e=m(function e(t,n){var i=this;h(this,e),this.actions$=t,this.propertiesService=n,this.loadProperties$=(0,oc.GW)(function(){return i.actions$.pipe((0,oc.l4)(ac.Yg.loadProperties),(0,Mc.w)(function(){return(0,ae.D)(i.propertiesService.getProperties()).pipe((0,bn.U)(function(e){return ac.Yg.loadPropertiesSuccess({properties:e})}),(0,ws.K)(function(e){return(0,Cc.of)(ac.Yg.loadPropertiesError({error:e}))}))}))})});return e.\u0275fac=function(t){return new(t||e)(c.LFG(oc.eX),c.LFG(Oc))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),function(){var e=m(function e(t,n){var i=this;h(this,e),this.actions$=t,this.profileService=n,this.loadIsCoordinator$=(0,oc.GW)(function(){return i.actions$.pipe((0,oc.l4)(ac.Eq.loadIsCoordinator),(0,Mc.w)(function(e){return(0,ae.D)(i.profileService.isCoordinator(e.employeeId)).pipe((0,bn.U)(function(e){return ac.Eq.loadIsCoordinatorSuccess(e)}),(0,ws.K)(function(e){return(0,Cc.of)(ac.Eq.loadIsCoordinatorError({error:e}))}))}))})});return e.\u0275fac=function(t){return new(t||e)(c.LFG(oc.eX),c.LFG(ee.H))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}(),function(){var e=m(function e(t,n){var i=this;h(this,e),this.actions$=t,this.companySettingsService=n,this.getCompanySettings$=(0,oc.GW)(function(){return i.actions$.pipe((0,oc.l4)(ac.kr.getCompanySettings),(0,Mc.w)(function(){return(0,ae.D)(i.companySettingsService.getCompanySettings()).pipe((0,bn.U)(function(e){return ac.kr.getCompanySettingsSuccess({companySettings:e})}),(0,ws.K)(function(e){return(0,Cc.of)(ac.kr.getCompanySettingsError({error:e}))}))}))})});return e.\u0275fac=function(t){return new(t||e)(c.LFG(oc.eX),c.LFG(wn))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e}()],Tc=[qe.n3,qe.eL,qe.pG,qe.ek,qe.P7,qe.ab,qe.S2,qe.CV,qe.ZM,qe.Ub,qe.TM,qe.V9,qe.QM,qe.ZR,qe.nF,qe.m9],_c=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[].concat(Tc),imports:[[d.ez,ic.Aw.forRoot(Zc),oc.sQ.forRoot(qc)]]}),e}(),Sc=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,xs.q,C.aw,k.JBz,Xo.To,qs.Y,y.u5]]}),e}(),Ic=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,y.u5,xs.q,C.aw,k.JBz]]}),e}(),Dc=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[d.ez,y.u5,xs.q,C.aw,k.JBz,Ic]]}),e}(),Lc=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[mr,br.x],imports:[[d.ez,xs.q,C.aw,k.JBz,Xo.To,qs.Y,y.u5,pn.Pu]]}),e}(),Rc=n(42779),Nc=n(24999),Ec=n(62393),Uc=n(71904),Fc=n(70636),Jc=n(20307),Vc=function(){var e=function(){function e(t){h(this,e),this.el=t,this.isCollapsed=!0,this.cssClassExpanded="read-more-expanded",this.cssClassCollapsed="read-more-collapsed"}return m(e,[{key:"ngAfterViewInit",value:function(){this.originalText=this.elementChange.innerHTML,this.showReadMore=this.originalText.length>this.maxLength,this.showReadMore?this.toggle():this.el.nativeElement.style="display: none"}},{key:"ngOnChanges",value:function(){this.originalText&&this.updateText()}},{key:"click",value:function(e){this.showReadMore&&(e.preventDefault(),this.toggle())}},{key:"toggle",value:function(){this.isCollapsed=!this.isCollapsed,this.updateText(),this.isCollapsed?this.el.nativeElement.classList.add(this.cssClassExpanded):this.el.nativeElement.classList.remove(this.cssClassExpanded)}},{key:"updateText",value:function(){this.isCollapsed?(this.currentText=this.originalText,this.elementChange.innerHTML=this.currentText,this.elementChange.classList.remove(this.cssClassCollapsed),this.elementChange.classList.add(this.cssClassExpanded)):(this.currentText=this.originalText.substring(0,this.maxLength),this.elementChange.innerHTML=this.currentText,this.elementChange.classList.add(this.cssClassCollapsed),this.elementChange.classList.remove(this.cssClassExpanded))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","appReadMore",""]],hostBindings:function(e,t){1&e&&c.NdJ("click",function(e){return t.click(e)})},inputs:{maxLength:["appReadMore-length","maxLength"],elementChange:["appReadMore-element","elementChange"]},features:[c.TTD]}),e}(),Yc=function(){var e=m(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[Se.P,{provide:r.ok,useClass:Uc.f},Ec.c],imports:[[d.ez,xs.q,C.aw,k.JBz,Xo.To,D.Bz,y.u5,y.UX]]}),e}();c.B6R(Rr.n,[d.mk,E.q,d.O5,Jc.x,d.sg,U.A,k.bOz,k.TD5,k.hmF,Xo.pp,Xo.ib,Xo.yz,Vc,Lr.w,Fc.W],[C.X$,d.i8,ct.$]),(0,d.qS)(x(),"pt"),(0,d.qS)(v(),"es");var zc=window.location.href;function Qc(e){return new M.w(e,"./assets/i18n/",".json")}function Gc(e){return new le.g(e).getCurrentLang()}function Hc(e){return e.createCompiler()}var Bc=function(){var e=function(){function e(t,n,i){h(this,e),this.translateService=t,this.languageService=n,this.messageReceiverService=i,this.messageReceiverService.init(),this.translateService.setDefaultLang("pt");var o=this.languageService.getLanguageI18n(this.translateService.getBrowserLang());this.setLanguage(o),this.loadProtheusConfiguration(),this.configLocalForage()}return m(e,[{key:"setLanguage",value:function(e){var t=this.languageService.getLanguageI18n(e);localStorage.setItem("usedLanguage",t),this.translateService.use(t)}},{key:"ngOnInit",value:function(){var e=window.document.getElementsByTagName("base");e.length>0&&e[0].setAttribute("href",Oe.ZP.getRootContext(zc))}},{key:"loadProtheusConfiguration",value:function(){if(window.location.href.indexOf("token=")>=0){var e=window.location.href,t=/http(s)*\:\/\/(.*):?(\d*)\/(.*)\/(.*)\?token=(.*)&restPort=(\d*)/,n=e.replace(t,"http$1://$2:$7/rest$4"),i=n.split(":");4===i.length&&(n="".concat(i[0],":").concat(i[1],":").concat(i[3])),localStorage.setItem("baseUrl",n),localStorage.setItem("rootContext",e.replace(t,"/$4/$5")),window.location.href="".concat(e.replace(t,"http$1://$2/$4/$5"),"#/home")}}},{key:"configLocalForage",value:function(){A.config({driver:[A.INDEXEDDB,A.WEBSQL,A.LOCALSTORAGE],name:"portalmeurh",storeName:"_portalmeurhstore"})}},{key:"refreshToken",value:function(e){(0,O.F)(5e3).pipe((0,q.o)(function(){return!0})).subscribe(function(){console.log("refreshToken => "+(new Date).toTimeString());var t=localStorage.getItem("token"),n=atob(t.split(".")[1]),i=localStorage.getItem("baseUrl");e.post(i+"/fwjwt/refresh_token",{refresh_token:JSON.parse(n).refresh_token},{withCredentials:!1}).toPromise().then(function(e){e.data&&(t=e.data.new_token,localStorage.setItem("token",t))}).catch(function(e){console.error("This error: "+e)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(C.sK),c.LFG(vs),c.LFG(T.r))},e.\u0275mod=c.oAB({type:e,bootstrap:[ms]}),e.\u0275inj=c.cJS({providers:[{provide:c.QSY,useValue:{},multi:!0},{provide:c.Hhp,useClass:w.PV,deps:[c.QSY]},{provide:c.Sil,useFactory:Hc,deps:[c.Hhp]},{provide:g.TP,useClass:Zs,multi:!0},{provide:g.TP,useClass:tc,multi:!0},{provide:g.TP,useClass:Cs,multi:!0},De.M,le.g,hn,L.P,r.Dx,g.eN,R.Kv,Ps.$,{provide:c.soG,deps:[C.sK],useFactory:Gc},{provide:g.TP,useClass:As,multi:!0},ke.O],imports:[[_c,r.t6,Ss,Yc,$s,Rc.t,Sc,r.b2,Os,y.u5,ks,Z.PW,Er,g.JF,k.JBz,Es.G,Ns,Dc,Ds,Ks,nc,xs.q,I.AbsenceModule,_s,Ts,bs,d.ez,Xs,Is,P.Rh.forRoot(),P.L4,Ws,Us.PaymentsSummaryModule,Lc,Qs,Nc.$,C.aw.forRoot({loader:{provide:C.Zw,useFactory:Qc,deps:[g.eN]}}),S]]}),e}();B.N.production&&(0,c.G48)(),r.q6().bootstrapModule(Bc)},46700:function(e,t,n){var i={"./af":26431,"./af.js":26431,"./ar":81286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":43160,"./ar-ly.js":43160,"./ar-ma":62551,"./ar-ma.js":62551,"./ar-sa":79989,"./ar-sa.js":79989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":81286,"./az":15887,"./az.js":15887,"./be":14572,"./be.js":14572,"./bg":3276,"./bg.js":3276,"./bm":93344,"./bm.js":93344,"./bn":58985,"./bn-bd":83990,"./bn-bd.js":83990,"./bn.js":58985,"./bo":94391,"./bo.js":94391,"./br":46728,"./br.js":46728,"./bs":5536,"./bs.js":5536,"./ca":41043,"./ca.js":41043,"./cs":70420,"./cs.js":70420,"./cv":33513,"./cv.js":33513,"./cy":6771,"./cy.js":6771,"./da":47978,"./da.js":47978,"./de":46061,"./de-at":25204,"./de-at.js":25204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":46061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":25724,"./en-au.js":25724,"./en-ca":10525,"./en-ca.js":10525,"./en-gb":52847,"./en-gb.js":52847,"./en-ie":67216,"./en-ie.js":67216,"./en-il":39305,"./en-il.js":39305,"./en-in":73364,"./en-in.js":73364,"./en-nz":79130,"./en-nz.js":79130,"./en-sg":11161,"./en-sg.js":11161,"./eo":50802,"./eo.js":50802,"./es":40328,"./es-do":45551,"./es-do.js":45551,"./es-mx":75615,"./es-mx.js":75615,"./es-us":64790,"./es-us.js":64790,"./es.js":40328,"./et":96389,"./et.js":96389,"./eu":52961,"./eu.js":52961,"./fa":26151,"./fa.js":26151,"./fi":7997,"./fi.js":7997,"./fil":58898,"./fil.js":58898,"./fo":37779,"./fo.js":37779,"./fr":28174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":38867,"./fr-ch.js":38867,"./fr.js":28174,"./fy":50452,"./fy.js":50452,"./ga":45014,"./ga.js":45014,"./gd":74127,"./gd.js":74127,"./gl":72124,"./gl.js":72124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":37953,"./gom-latn.js":37953,"./gu":76604,"./gu.js":76604,"./he":1222,"./he.js":1222,"./hi":74235,"./hi.js":74235,"./hr":622,"./hr.js":622,"./hu":37735,"./hu.js":37735,"./hy-am":90402,"./hy-am.js":90402,"./id":59187,"./id.js":59187,"./is":30536,"./is.js":30536,"./it":35007,"./it-ch":94667,"./it-ch.js":94667,"./it.js":35007,"./ja":62093,"./ja.js":62093,"./jv":80059,"./jv.js":80059,"./ka":66870,"./ka.js":66870,"./kk":80880,"./kk.js":80880,"./km":1083,"./km.js":1083,"./kn":68785,"./kn.js":68785,"./ko":21721,"./ko.js":21721,"./ku":37851,"./ku.js":37851,"./ky":1727,"./ky.js":1727,"./lb":40346,"./lb.js":40346,"./lo":93002,"./lo.js":93002,"./lt":64035,"./lt.js":64035,"./lv":56927,"./lv.js":56927,"./me":5634,"./me.js":5634,"./mi":94173,"./mi.js":94173,"./mk":86320,"./mk.js":86320,"./ml":11705,"./ml.js":11705,"./mn":31062,"./mn.js":31062,"./mr":92805,"./mr.js":92805,"./ms":11341,"./ms-my":59900,"./ms-my.js":59900,"./ms.js":11341,"./mt":37734,"./mt.js":37734,"./my":19034,"./my.js":19034,"./nb":9324,"./nb.js":9324,"./ne":46495,"./ne.js":46495,"./nl":70673,"./nl-be":76272,"./nl-be.js":76272,"./nl.js":70673,"./nn":72486,"./nn.js":72486,"./oc-lnc":46219,"./oc-lnc.js":46219,"./pa-in":2829,"./pa-in.js":2829,"./pl":78444,"./pl.js":78444,"./pt":53170,"./pt-br":66117,"./pt-br.js":66117,"./pt.js":53170,"./ro":96587,"./ro.js":96587,"./ru":39264,"./ru.js":39264,"./sd":42135,"./sd.js":42135,"./se":95366,"./se.js":95366,"./si":93379,"./si.js":93379,"./sk":46143,"./sk.js":46143,"./sl":196,"./sl.js":196,"./sq":21082,"./sq.js":21082,"./sr":91621,"./sr-cyrl":98963,"./sr-cyrl.js":98963,"./sr.js":91621,"./ss":41404,"./ss.js":41404,"./sv":55685,"./sv.js":55685,"./sw":3872,"./sw.js":3872,"./ta":54106,"./ta.js":54106,"./te":39204,"./te.js":39204,"./tet":83692,"./tet.js":83692,"./tg":86361,"./tg.js":86361,"./th":31735,"./th.js":31735,"./tk":1568,"./tk.js":1568,"./tl-ph":96129,"./tl-ph.js":96129,"./tlh":13759,"./tlh.js":13759,"./tr":81644,"./tr.js":81644,"./tzl":90875,"./tzl.js":90875,"./tzm":16878,"./tzm-latn":11041,"./tzm-latn.js":11041,"./tzm.js":16878,"./ug-cn":74357,"./ug-cn.js":74357,"./uk":74810,"./uk.js":74810,"./ur":86794,"./ur.js":86794,"./uz":28966,"./uz-latn":77959,"./uz-latn.js":77959,"./uz.js":28966,"./vi":35386,"./vi.js":35386,"./x-pseudo":23156,"./x-pseudo.js":23156,"./yo":68028,"./yo.js":68028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":89380,"./zh-hk.js":89380,"./zh-mo":60874,"./zh-mo.js":60874,"./zh-tw":96508,"./zh-tw.js":96508};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=46700}},function(e){e.O(0,[736],function(){return e(e.s=48079)}),e.O()}])}();