!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[156],{24804:function(t,e,n){n.d(e,{v:function(){return i}});var i=((i||(i={})).StatusEnum={Approved:"approved",Reproved:"reproved",Pending:"pending",Deleted:"deleted",Canceled:"canceled",PartiallyExcluded:"partiallyExcluded"},i)},55653:function(e,i,o){o.d(i,{z:function(){return d}});var a,r=o(64762),s=o(37716),l=o(44956),c=o(65241),p=o(29790),d=((a=function(){function e(n){t(this,e),this.appTranslateService=n,this.removeTextKey="",this.id="",this.confirmEvent=new s.vpe}return n(e,[{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"openModal",value:function(){this.modal.open()}},{key:"confirm",value:function(){this.modal.close(),this.confirmEvent.emit(this.id)}},{key:"initializeComponent",value:function(){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initializeModalAction();case 2:case"end":return t.stop()}},t,this)}))}},{key:"initializeModalAction",value:function(){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(){e.modal.close()},t.next=3,this.appTranslateService.getI18n("l-cancel");case 3:return t.t1=t.sent,t.t2=!0,this.cancelAction={action:t.t0,label:t.t1,danger:t.t2},t.t3=function(){e.confirm()},t.next=9,this.appTranslateService.getI18n("l-yes");case 9:t.t4=t.sent,this.confirmAction={action:t.t3,label:t.t4};case 11:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(t){return new(t||a)(s.Y36(c.g))},a.\u0275cmp=s.Xpm({type:a,selectors:[["app-delete-modal"]],viewQuery:function(t,e){var n;1&t&&s.Gf(l.hmF,7),2&t&&s.iGM(n=s.CRH())&&(e.modal=n.first)},inputs:{removeTextKey:"removeTextKey",id:"id"},outputs:{confirmEvent:"confirmEvent"},decls:5,vars:5,consts:[["p-size","sm","p-hide-close","true",3,"p-primary-action","p-secondary-action"],["modal",""],[1,"po-sm-11","po-md-11","po-lg-11","po-xl-11"]],template:function(t,e){1&t&&(s.TgZ(0,"po-modal",0,1),s.TgZ(2,"div",2),s._uU(3),s.ALo(4,"translate"),s.qZA(),s.qZA()),2&t&&(s.Q6J("p-primary-action",e.confirmAction)("p-secondary-action",e.cancelAction),s.xp6(3),s.hij(" ",s.lcZ(4,3,e.removeTextKey)," "))},directives:[l.hmF],pipes:[p.X$],styles:['[_nghost-%COMP%]     .po-modal-body{font-family:"Nunito Sans",sans-serif;font-size:16px;padding-left:5px}[_nghost-%COMP%]     .po-modal-header{padding:5px!important}[_nghost-%COMP%]     .po-modal-footer{padding:20px!important}@media screen and (min-width: 769px){[_nghost-%COMP%]     .po-modal-sm{width:25%}[_nghost-%COMP%]     .po-modal-body{margin-bottom:70px}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-modal-body{margin-bottom:50px;padding-left:0}[_nghost-%COMP%]     .po-modal-footer{padding:10px 10px 20px!important}}']}),a)},5156:function(e,i,o){o.d(i,{e:function(){return E}});var a=o(64762),r=o(98348),s=o(92340),l=o(24804),c=o(81483),p=o(64383),d=o(9789),g=o(8573),u=o(60228),m=o(37716),h=o(65241),f=o(84479),x=o(95987),v=o(36812),b=o(44956),C=o(89019),M=o(93444),y=o(96054),O=o(82832),w=o(38583),P=o(55653),_=o(3679),k=o(29790),S=["deleteModal"],A=["poModal"];function T(t,e){if(1&t&&(m.TgZ(0,"span",24),m._uU(1),m.qZA()),2&t){var n=m.oxw();m.Q6J("ngClass",n.status),m.xp6(1),m.hij(" ",n.statusLabel," ")}}function Z(t,e){if(1&t&&(m.TgZ(0,"div",25),m.TgZ(1,"h3",26),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span",27),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.qZA()),2&t){var n=e.$implicit;m.Q6J("ngClass",n.class),m.xp6(2),m.Oqu(m.lcZ(3,3,n.label)),m.xp6(3),m.Oqu(m.lcZ(6,5,n.value))}}function I(t,e){if(1&t){var n=m.EpF();m.TgZ(0,"po-button",28),m.NdJ("click",function(){return m.CHM(n),m.oxw().approve()}),m.ALo(1,"translate"),m.qZA()}if(2&t){var i=m.oxw();m.s9C("p-label",m.lcZ(1,2,i.isApprove?"l-approve":"l-edit")),m.Q6J("ngClass",i.isMobile?"po-sm-6 po-md-6 alignRight":"button-edit")}}function q(t,e){if(1&t&&(m.TgZ(0,"span",29),m._uU(1),m.qZA()),2&t){var n=m.oxw();m.xp6(1),m.Oqu(n.modalText)}}function R(t,e){if(1&t){var n=m.EpF();m.TgZ(0,"po-textarea",30),m.NdJ("ngModelChange",function(t){return m.CHM(n),m.oxw().reprovedReason=t}),m.ALo(1,"translate"),m.ALo(2,"translate"),m.qZA()}if(2&t){var i=m.oxw();m.s9C("p-label",m.lcZ(1,3,"l-justification")),m.s9C("p-placeholder",m.lcZ(2,5,"l-reason-50-char")),m.Q6J("ngModel",i.reprovedReason)}}var j,z=((j=function(){function e(n,i,o,a,r){t(this,e),this.translateService=n,this.onCallService=i,this.managementRequestOnCallService=o,this.router=a,this.notificationService=r,this.labels=[],this.employeeId=C.N.loggedUser,this.onCallFields=[],this.daysToConsider=[],this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.reasonVisible=!1,this.isApprove=!1,this.back=new m.vpe}return n(e,[{key:"ngOnInit",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isMobile=f.g.mdDeviceOrSmaller(window.innerWidth),this.getModalActions(),t.next=4,this.translateService.getI18n(this.getStatusLabel(this.status));case 4:this.statusLabel=t.sent;case 5:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe()}},{key:"getStatusLabel",value:function(t){var e;switch(t){case l.v.StatusEnum.Pending:e="l-approving";break;case l.v.StatusEnum.Reproved:e="l-reproved";break;case l.v.StatusEnum.Approved:e="l-status-approved"}return e}},{key:"reprove",value:function(){this.approveIsTrue=!1,this.reasonVisible=!0,this.isApprove?this.poModal.open():(this.deleteModal.openModal(),this.deleteId=this.onCall.idName.split("|")[0]+"|"+this.onCall.id)}},{key:"approve",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.translateString("l-approve-notification");case 2:this.modalText=t.sent.toString(),this.approveIsTrue=!0,this.reasonVisible=!1,this.isApprove?this.poModal.open():this.router.navigate(["teamManagement/timesheet/onCall/request",{employeeId:this.onCall.idName,isEdit:!0,editId:this.onCall.id}]);case 6:case"end":return t.stop()}},t,this)}))}},{key:"confirmDelete",value:function(){var t=this;this.managementRequestOnCallService.deleteOnCall(C.N.loggedUser,this.deleteId).then(function(){return(0,a.mG)(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.notificationService,t.next=3,this.translateService.getI18n("l-delete-success");case 3:t.t1=t.sent,t.t2=b.ik9.Success,t.t0.showNotification.call(t.t0,t.t1,t.t2),this.back.emit();case 7:case"end":return t.stop()}},t,this)}))}).catch(function(e){t.notificationService.showNotification(e.message,b.ik9.Error)})}},{key:"getModalActions",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(){e.closeModal()},t.next=3,this.translateString("l-cancel-title");case 3:return t.t1=t.sent.toString(),t.t2=!0,this.closeAction={action:t.t0,label:t.t1,danger:t.t2},t.t3=function(){return(0,a.mG)(e,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.confirmModal();case 2:case"end":return t.stop()}},t,this)}))},t.next=9,this.translateString("l-confirm");case 9:t.t4=t.sent.toString(),this.confirmAction={action:t.t3,label:t.t4};case 11:case"end":return t.stop()}},t,this)}))}},{key:"translateString",value:function(t){return this.translateService.getI18n(t)}},{key:"closeModal",value:function(){this.poModal.close()}},{key:"confirmModal",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.onCall.status=l.v.StatusEnum.Approved,this.onCall.justification=this.reprovedReason,t.next=5,this.onCallService.editOnCall(this.employeeId,this.onCall);case 5:return t.t0=this.notificationService,t.next=8,this.translateService.getI18n("m-approved-request");case 8:t.t1=t.sent,t.t2=b.ik9.Success,t.t0.showNotification.call(t.t0,t.t1,t.t2),this.poModal.close(),this.back.emit(),t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),(null==t.t3?void 0:t.t3.message)&&this.notificationService.showNotification(t.t3.message,b.ik9.Error);case 18:case"end":return t.stop()}},t,this,[[0,15]])}))}}]),e}()).\u0275fac=function(t){return new(t||j)(m.Y36(h.g),m.Y36(g.I),m.Y36(M.w),m.Y36(x.F0),m.Y36(y.g))},j.\u0275cmp=m.Xpm({type:j,selectors:[["app-view-details"]],viewQuery:function(t,e){var n;1&t&&(m.Gf(S,5),m.Gf(A,5)),2&t&&(m.iGM(n=m.CRH())&&(e.deleteModal=n.first),m.iGM(n=m.CRH())&&(e.poModal=n.first))},inputs:{cardTitle:"cardTitle",employeeImage:"employeeImage",name:"name",matricula:"matricula",status:"status",isApprove:"isApprove",fields:"fields",onCall:"onCall",canEdit:"canEdit"},outputs:{back:"back"},decls:32,vars:31,consts:[[1,"on-call"],[1,"po-sm-12"],["card-header","",1,"mr-card-header","po-sm-12",3,"ngClass"],[1,"justify-title"],["class","badge",3,"ngClass",4,"ngIf"],[1,"line"],["card-body","",3,"ngClass"],[1,"holder","po-sm-12"],[1,"item-avatar","avatar","avatar-medium","mouse-pointer"],[1,"info"],[1,"justify-mainName"],[1,"justify-id"],[1,"card-balance-summary","po-row"],["name","div-menu-itens",3,"ngClass",4,"ngFor","ngForOf"],[1,"marginTop15px","alignRight","actions-visualize","actions-visualize-others-resolutions"],[3,"ngClass"],["p-type","danger",3,"ngClass","p-label","click"],["p-type","primary",3,"ngClass","p-label","click",4,"ngIf"],["removeTextKey","l-delete-on-call-message",3,"confirmEvent"],["deleteModal",""],["p-size","md",3,"p-title","p-primary-action","p-secondary-action"],["poModal",""],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12 po-mb-3",4,"ngIf"],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12","name","textarea","p-maxlength","50",3,"ngModel","p-label","p-placeholder","ngModelChange",4,"ngIf"],[1,"badge",3,"ngClass"],["name","div-menu-itens",3,"ngClass"],[1,"justify-subtitle"],[1,"justify-text"],["p-type","primary",3,"ngClass","p-label","click"],[1,"po-lg-12","po-xl-12","po-md-12","po-sm-12","po-mb-3"],["name","textarea","p-maxlength","50",1,"po-lg-12","po-xl-12","po-md-12","po-sm-12",3,"ngModel","p-label","p-placeholder","ngModelChange"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"app-card"),m.TgZ(3,"div",2),m.TgZ(4,"h2",3),m._uU(5),m.ALo(6,"translate"),m.YNc(7,T,2,2,"span",4),m.qZA(),m._UZ(8,"hr",5),m.qZA(),m.TgZ(9,"div",6),m.TgZ(10,"div",7),m._UZ(11,"span",8),m.TgZ(12,"div",9),m.TgZ(13,"h3",10),m._uU(14),m.qZA(),m.TgZ(15,"div",11),m._uU(16),m.ALo(17,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"div",12),m.YNc(19,Z,7,7,"div",13),m.qZA(),m.TgZ(20,"div",14),m.TgZ(21,"div",15),m.TgZ(22,"po-button",16),m.NdJ("click",function(){return e.reprove()}),m.ALo(23,"translate"),m.qZA(),m.YNc(24,I,2,4,"po-button",17),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(25,"app-delete-modal",18,19),m.NdJ("confirmEvent",function(){return e.confirmDelete()}),m.qZA(),m.TgZ(27,"po-modal",20,21),m.ALo(29,"translate"),m.YNc(30,q,2,1,"span",22),m.YNc(31,R,3,7,"po-textarea",23),m.qZA()),2&t&&(m.xp6(3),m.Q6J("ngClass",e.isMobile?"mobile-card":""),m.xp6(2),m.hij(" ",m.lcZ(6,23,e.cardTitle)," "),m.xp6(2),m.Q6J("ngIf",!e.isMobile&&e.status),m.xp6(2),m.Q6J("ngClass",e.isMobile?"mobile-card":""),m.xp6(2),m.Udp("background-image",e.employeeImage),m.xp6(3),m.Oqu(e.name),m.xp6(2),m.AsE("",m.lcZ(17,25,"l-registry")," ",e.matricula,""),m.xp6(3),m.Q6J("ngForOf",e.fields),m.xp6(2),m.Q6J("ngClass",e.isMobile?"pt-0":"po-pt-5 po-mt-2"),m.xp6(1),m.s9C("p-label",m.lcZ(23,27,e.isApprove?"l-reprove":"l-delete")),m.Q6J("ngClass",e.isMobile?"po-sm-6 po-md-6":"button-delete"),m.xp6(2),m.Q6J("ngIf",e.isApprove||e.canEdit),m.xp6(3),m.ekj("modalApprove",e.approveIsTrue)("modalReprove",!e.approveIsTrue),m.Q6J("p-title",m.lcZ(29,29,e.approveIsTrue?"l-confirmation":"l-reprove-oncall-requisition"))("p-primary-action",e.confirmAction)("p-secondary-action",e.closeAction),m.xp6(3),m.Q6J("ngIf",e.modalText),m.xp6(1),m.Q6J("ngIf",e.reasonVisible))},directives:[O.A,w.mk,w.O5,w.sg,b.bOz,P.z,b.hmF,b.gJm,_.JJ,_.On],pipes:[k.X$],styles:['.on-call-label[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px}.period-label[_ngcontent-%COMP%]{padding-left:8px}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block;padding-bottom:8px;margin-left:-7px}@media screen and (max-width: 491px){.latest-requests[_ngcontent-%COMP%]{padding-top:16px}}.on-call-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60;text-align:left}.margin-history[_ngcontent-%COMP%]{margin-top:-30px}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:14px;font-weight:bold;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.timeline-status-approved[_ngcontent-%COMP%]{background-color:#00bc82;display:flex;align-items:center;justify-items:center;float:right}.timeline-status-reproved[_ngcontent-%COMP%]{background-color:#ca3f3f;display:flex;align-items:center;justify-items:center;float:right}.card-well[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:32px;margin-bottom:8px;position:relative;background:#ffffff}.space[_ngcontent-%COMP%]{margin-bottom:180px}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{margin-right:2px;padding:0 24px}@media (max-width: 425px){.historic-content[_ngcontent-%COMP%]{padding:0 16px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:100px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.card-employee[_ngcontent-%COMP%]{padding-left:0}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder{width:100%;padding:8px}}[_nghost-%COMP%]     .on-call-holder .po-button{border-color:#fff;color:#fff;background-color:transparent}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder .po-button{float:right}}.historic-actions[_ngcontent-%COMP%]{display:inline-block;padding-top:24px;padding-right:16px}@media screen and (max-width: 480px){.historic-actions[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}}.historic-button[_ngcontent-%COMP%]{float:right}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.on-call[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 992px) and (max-width: 1199px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}-link[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .on-call-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .on-call-history-header .mat-content{font-size:14px}}.type1[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#c64840}.circle-base[_ngcontent-%COMP%]{border-radius:50%}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px;vertical-align:text-bottom}.page-margin[_ngcontent-%COMP%]{margin:0 40px 40px}.center[_ngcontent-%COMP%]{margin:0 auto}.load-more-arrow[_ngcontent-%COMP%]{color:#0c9abe;font-size:23px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.request-button[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}@media (min-width: 768px){.on-call[_ngcontent-%COMP%]{padding:0 40px!important}}@media (max-width: 870px){.on-call-label[_ngcontent-%COMP%]{padding-left:8px}}@media (max-width: 460px){.ocurrence-line[_ngcontent-%COMP%]{display:inline-block!important;width:100%}.ocurrence-value[_ngcontent-%COMP%]{padding-right:0;text-align:right;width:66.6%}}.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:0 35px 15px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .thf-button{display:block;width:100%}}.justify-mainName[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:16px;font-weight:bold}.justify-title[_ngcontent-%COMP%]{font-family:"NunitoSans";font-weight:300}.justify-subtitle[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:14px;font-weight:bold}.holder[_ngcontent-%COMP%]{position:relative;margin:0 0 30px}@media screen and (min-width: 480px){.holder[_ngcontent-%COMP%]{margin-bottom:15px!important}}.subtitulo-modal[_ngcontent-%COMP%]{padding-left:0;padding-right:0}@media screen and (max-width: 480px){.subtitulo-modal[_ngcontent-%COMP%]{padding-top:0!important}.justify-subtitle[_ngcontent-%COMP%]{padding-top:10px!important}.justify-text[_ngcontent-%COMP%]{padding-top:0!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}}.info[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:60px;top:8px}.marginTop15px[_ngcontent-%COMP%]{margin-top:15px}.avatar[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.pending[_ngcontent-%COMP%]{background-color:#e8850a}.badge.approved[_ngcontent-%COMP%], .badge.closed[_ngcontent-%COMP%]{background:#00b28e}.badge.rejected[_ngcontent-%COMP%], .badge.reject[_ngcontent-%COMP%], .badge.reproved[_ngcontent-%COMP%]{background:#c64840}.badge.empty[_ngcontent-%COMP%]{background:#e8850a}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}@media (min-width: 961px) and (max-height: 620px){.demission-justify[_ngcontent-%COMP%]{max-height:50px;overflow-y:visible}}@media (min-width: 961px) and (min-height: 621px) and (max-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:70px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:90px;overflow-y:auto}}po-button[_ngcontent-%COMP%]{margin-left:15px}@media screen and (max-width: 480px){po-button[_ngcontent-%COMP%]{margin:0;width:100%}}@media screen and (min-width: 991px){.alignRight[_ngcontent-%COMP%]{text-align:right}}[_nghost-%COMP%]     .button-delete .po-button{color:#d13f43;border-color:#d13f43;height:32px;width:120px}[_nghost-%COMP%]     .button-edit .po-button{height:32px;width:120px}@media (max-width: 480px){[_nghost-%COMP%]     .actions-visualize po-button{display:block;width:50%;margin:auto}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}@media (min-width: 441px) and (max-width: 480px){[_nghost-%COMP%]     #dialogCloseBtn{position:absolute;top:44px;right:25px;cursor:pointer}}@media (min-width: 481px) and (max-width: 960px){[_nghost-%COMP%]     .actions-visualize-others-resolutions po-button{width:50%;margin:0}}.panel-body[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]     div.card-well{padding:32px!important}.mobile-card[_ngcontent-%COMP%]{margin-left:-25px;margin-right:-25px}@media screen and (min-width: 481px){.modalApprove[_ngcontent-%COMP%]     .po-modal-content{width:420px}}.modalApprove[_ngcontent-%COMP%]     .po-modal-header{display:none}.modalApprove[_ngcontent-%COMP%]     .po-modal-body{margin:20px 0 40px}.modalReprove[_ngcontent-%COMP%]     .po-modal-header{padding-bottom:0}']}),j),D=["deleteModal"],E=function(){var e=function(){function e(n,i,o,a,r,l,c){t(this,e),this.translateService=n,this.onCallService=i,this.teamManagementService=o,this.windowUtilService=a,this.momentService=r,this.route=l,this.recurrenceService=c,this.onCallFields=[],this.employeeId=s.N.loggedUser,this.daysToConsider=[],this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.labels=[],this.reasonRequired=!1}return n(e,[{key:"ngOnInit",value:function(){this.initialize()}},{key:"getStatus",value:function(t){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,this.isPending(t)&&(n="approving"),e.next=4,this.translateService.getI18n("l-"+n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"isPending",value:function(t){return t===l.v.StatusEnum.Pending}},{key:"getConsiderDays",value:function(t){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","");case 2:this.daysToConsider=t.map(function(t){return t.label}),n=0;case 4:if(!(n<this.daysToConsider.length)){e.next=28;break}if(e.t0="planned"===this.daysToConsider[n],!e.t0){e.next=10;break}return e.next=9,this.translateService.getI18n("l-planned-time");case 9:this.daysToConsider[n]=e.sent;case 10:if(e.t1="compensated"===this.daysToConsider[n],!e.t1){e.next=15;break}return e.next=14,this.translateService.getI18n("l-compensated");case 14:this.daysToConsider[n]=e.sent;case 15:if(e.t2="resting"===this.daysToConsider[n],!e.t2){e.next=20;break}return e.next=19,this.translateService.getI18n("l-resting");case 19:this.daysToConsider[n]=e.sent;case 20:if(e.t3="holiday"===this.daysToConsider[n],!e.t3){e.next=25;break}return e.next=24,this.translateService.getI18n("l-holiday");case 24:this.daysToConsider[n]=e.sent;case 25:n++,e.next=4;break;case 28:return e.abrupt("return",this.daysToConsider.join(", "));case 29:case"end":return e.stop()}},e,this)}))}},{key:"back",value:function(){this.windowUtilService.back()}},{key:"initialize",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isApprove="true"===this.route.snapshot.paramMap.get("isApprove"),this.employeeCard=this.teamManagementService.getEmployeeCard(),this.onCall=this.onCallService.getSelectedOnCall(),this.getOnCallHistory(),!this.onCall){t.next=9;break}return t.next=7,this.getOnCall();case 7:t.next=10;break;case 9:this.windowUtilService.back();case 10:case"end":return t.stop()}},t,this)}))}},{key:"getOnCallHistory",value:function(){var t=this;this.onCallService.getHistory(this.employeeId).then(function(e){t.updateOnCallHistoryView(e)})}},{key:"updateOnCallHistoryView",value:function(t){var e=this;t.records.forEach(function(t){return(0,a.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.labels,e.t1=t.id,e.t2=t.status,e.next=5,this.getStatus(t.status);case 5:e.t3=e.sent,e.t4={id:e.t1,statusLabel:e.t2,status:e.t3},e.t0.push.call(e.t0,e.t4);case 8:case"end":return e.stop()}},e,this)}))})}},{key:"getOnCall",value:function(){return(0,a.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isApprove){t.next=24;break}return t.t0=this.onCallFields,t.t1={label:"l-init-date",value:this.momentService.getInstance(this.onCall.initDate).utc().format("L"),class:"po-sm-6 po-md-3"},t.t2={label:"l-end-date",value:this.momentService.getInstance(this.onCall.endDate).utc().format("L"),class:"po-sm-6 po-md-3"},t.t3={label:"l-initial-hour",value:c.Em.getHoursByMilliseconds(6e4*this.onCall.initHour),class:"po-sm-6 po-md-3"},t.t4={label:"l-final-hour",value:c.Em.getHoursByMilliseconds(6e4*this.onCall.endHour),class:"po-sm-6 po-md-3"},t.next=8,this.recurrenceService.getRecurrence(this.onCall.recurrence,this.onCall.initDate);case 8:return t.t5=t.sent,t.t6={label:"l-recurrence",value:t.t5,class:"po-sm-6"},t.next=12,this.getConsiderDays(this.onCall.considerDays);case 12:return t.t7=t.sent,t.t8={label:"l-days-to-consider",value:t.t7,class:"po-sm-6"},t.t9={label:"l-justification",value:this.onCall.justification,class:"po-sm-6 po-md-3"},t.t10={label:"l-collaborator",value:this.onCall.requesterName,class:"po-sm-6 po-md-3"},t.t11={label:"l-on-call-justify-label",value:this.onCall.justification,class:"po-sm-6"},t.next=19,this.getStatus(this.onCall.status);case 19:t.t12=t.sent,t.t13={label:"l-status",value:t.t12,class:"po-sm-6 po-md-3"},t.t0.push.call(t.t0,t.t1,t.t2,t.t3,t.t4,t.t6,t.t8,t.t9,t.t10,t.t11,t.t13),t.next=46;break;case 24:return t.t14=this.onCallFields,t.t15={label:"l-init-date",value:this.momentService.getInstance(this.onCall.initDate).utc().format("L"),class:"po-sm-6 po-md-3"},t.t16={label:"l-end-date",value:this.momentService.getInstance(this.onCall.endDate).utc().format("L"),class:"po-sm-6 po-md-3"},t.t17={label:"l-initial-hour",value:c.Em.getHoursByMilliseconds(6e4*this.onCall.initHour),class:"po-sm-6 po-md-3"},t.t18={label:"l-final-hour",value:c.Em.getHoursByMilliseconds(6e4*this.onCall.endHour),class:"po-sm-6 po-md-3"},t.next=31,this.recurrenceService.getRecurrence(this.onCall.recurrence,this.onCall.initDate);case 31:return t.t19=t.sent,t.t20={label:"l-recurrence",value:t.t19,class:"po-sm-6"},t.next=35,this.getConsiderDays(this.onCall.considerDays);case 35:return t.t21=t.sent,t.t22={label:"l-days-to-consider",value:t.t21,class:"po-sm-6"},t.t23={label:"l-absence-type-justify",value:this.onCall.justification,class:"po-sm-6"},t.t24={label:"l-collaborator",value:this.onCall.requesterName,class:"po-sm-6 po-md-3"},t.t25={label:"l-requisition-responsible",value:this.onCall.responsibleName,class:"po-sm-6 po-md-3"},t.next=42,this.getStatus(this.onCall.status);case 42:t.t26=t.sent,t.t27={label:"l-status",value:t.t26,class:"po-sm-6 po-md-3"},t.t14.push.call(t.t14,t.t15,t.t16,t.t17,t.t18,t.t20,t.t22,t.t23,t.t24,t.t25,t.t27),this.onCall.status===l.v.StatusEnum.Reproved&&this.onCallFields.push({label:"l-on-call-reprove-justify-label",value:this.onCall.reproveJustification,class:"po-sm-6"});case 46:case"end":return t.stop()}},t,this)}))}},{key:"checkIfDecodeIdUser",value:function(t){var e=r.ZP.checkIfDecode(t);return null==e?void 0:e.slice(2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(h.g),m.Y36(g.I),m.Y36(d.C),m.Y36(f.g),m.Y36(p.z),m.Y36(x.gz),m.Y36(u.b))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-visualize"]],viewQuery:function(t,e){var n;(1&t&&m.Gf(D,5),2&t)&&(m.iGM(n=m.CRH())&&(e.deleteModal=n.first))},decls:5,vars:10,consts:[[1,"on-call"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["backIsVisible","true",3,"pageTitle"],[3,"cardTitle","employeeImage","name","matricula","fields","status","isApprove","onCall","canEdit","back"]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m._UZ(3,"app-page-header",3),m.qZA(),m.qZA(),m.TgZ(4,"app-view-details",4),m.NdJ("back",function(){return e.back()}),m.qZA(),m.qZA()),2&t&&(m.xp6(3),m.Q6J("pageTitle",e.isApprove?"l-approvals":"l-call-request-details-title"),m.xp6(1),m.Q6J("cardTitle","l-on-call-requisition")("employeeImage",null==e.employeeCard?null:e.employeeCard.image)("name",null==e.onCall?null:e.onCall.name)("matricula",e.checkIfDecodeIdUser(null==e.onCall?null:e.onCall.idName))("fields",e.onCallFields)("status",null==e.onCall?null:e.onCall.status)("isApprove",e.isApprove)("onCall",e.onCall)("canEdit",!1))},directives:[v.q,z],styles:['.on-call-label[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px}.period-label[_ngcontent-%COMP%]{padding-left:8px}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block;padding-bottom:8px;margin-left:-7px}@media screen and (max-width: 491px){.latest-requests[_ngcontent-%COMP%]{padding-top:16px}}.on-call-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60;text-align:left}.margin-history[_ngcontent-%COMP%]{margin-top:-30px}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:14px;font-weight:bold;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.timeline-status-approved[_ngcontent-%COMP%]{background-color:#00bc82;display:flex;align-items:center;justify-items:center;float:right}.timeline-status-reproved[_ngcontent-%COMP%]{background-color:#ca3f3f;display:flex;align-items:center;justify-items:center;float:right}.card-well[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:32px;margin-bottom:8px;position:relative;background:#ffffff}.space[_ngcontent-%COMP%]{margin-bottom:180px}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{margin-right:2px;padding:0 24px}@media (max-width: 425px){.historic-content[_ngcontent-%COMP%]{padding:0 16px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:100px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.card-employee[_ngcontent-%COMP%]{padding-left:0}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder{width:100%;padding:8px}}[_nghost-%COMP%]     .on-call-holder .po-button{border-color:#fff;color:#fff;background-color:transparent}@media screen and (max-width: 480px){[_nghost-%COMP%]     .on-call-holder .po-button{float:right}}.historic-actions[_ngcontent-%COMP%]{display:inline-block;padding-top:24px;padding-right:16px}@media screen and (max-width: 480px){.historic-actions[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}}.historic-button[_ngcontent-%COMP%]{float:right}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.on-call[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 992px) and (max-width: 1199px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.on-call-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}-link[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .on-call-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .on-call-history-header .mat-content{font-size:14px}}.type1[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#c64840}.circle-base[_ngcontent-%COMP%]{border-radius:50%}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px;vertical-align:text-bottom}.page-margin[_ngcontent-%COMP%]{margin:0 40px 40px}.center[_ngcontent-%COMP%]{margin:0 auto}.load-more-arrow[_ngcontent-%COMP%]{color:#0c9abe;font-size:23px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.request-button[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}@media (min-width: 768px){.on-call[_ngcontent-%COMP%]{padding:0 40px!important}}@media (max-width: 870px){.on-call-label[_ngcontent-%COMP%]{padding-left:8px}}@media (max-width: 460px){.ocurrence-line[_ngcontent-%COMP%]{display:inline-block!important;width:100%}.ocurrence-value[_ngcontent-%COMP%]{padding-right:0;text-align:right;width:66.6%}}.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:20px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:0 35px 15px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .thf-button{display:block;width:100%}}.justify-mainName[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:16px;font-weight:bold}.justify-title[_ngcontent-%COMP%]{font-family:"NunitoSans";font-weight:300}.justify-subtitle[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:14px;font-weight:bold}.holder[_ngcontent-%COMP%]{position:relative;margin:0 0 30px}@media screen and (min-width: 480px){.holder[_ngcontent-%COMP%]{margin-bottom:15px!important}}.subtitulo-modal[_ngcontent-%COMP%]{padding-left:0;padding-right:0}@media screen and (max-width: 480px){.subtitulo-modal[_ngcontent-%COMP%]{padding-top:0!important}.justify-subtitle[_ngcontent-%COMP%]{padding-top:10px!important}.justify-text[_ngcontent-%COMP%]{padding-top:0!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}}.info[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:60px;top:8px}.marginTop15px[_ngcontent-%COMP%]{margin-top:15px}.avatar[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.pending[_ngcontent-%COMP%]{background-color:#e8850a}.badge.approved[_ngcontent-%COMP%], .badge.closed[_ngcontent-%COMP%]{background:#00b28e}.badge.rejected[_ngcontent-%COMP%], .badge.reject[_ngcontent-%COMP%], .badge.reproved[_ngcontent-%COMP%]{background:#c64840}.badge.empty[_ngcontent-%COMP%]{background:#e8850a}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}@media (min-width: 961px) and (max-height: 620px){.demission-justify[_ngcontent-%COMP%]{max-height:50px;overflow-y:visible}}@media (min-width: 961px) and (min-height: 621px) and (max-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:70px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:90px;overflow-y:auto}}po-button[_ngcontent-%COMP%]{margin-left:15px}@media screen and (max-width: 480px){po-button[_ngcontent-%COMP%]{margin:0;width:100%}}@media screen and (min-width: 991px){.alignRight[_ngcontent-%COMP%]{text-align:right}}[_nghost-%COMP%]     .button-delete .po-button{color:#d13f43;border-color:#d13f43;height:32px;width:120px}[_nghost-%COMP%]     .button-edit .po-button{height:32px;width:120px}@media (max-width: 480px){[_nghost-%COMP%]     .actions-visualize po-button{display:block;width:50%;margin:auto}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}@media (min-width: 441px) and (max-width: 480px){[_nghost-%COMP%]     #dialogCloseBtn{position:absolute;top:44px;right:25px;cursor:pointer}}@media (min-width: 481px) and (max-width: 960px){[_nghost-%COMP%]     .actions-visualize-others-resolutions po-button{width:50%;margin:0}}.panel-body[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]     div.card-well{padding:32px!important}.mobile-card[_ngcontent-%COMP%]{margin-left:-25px;margin-right:-25px}']}),e}()},8573:function(e,i,o){o.d(i,{I:function(){return c}});var a,r=o(33490),s=o(59708),l=o(37716),c=((a=function(){function e(n){t(this,e),this.genericService=n}return n(e,[{key:"getHistory",value:function(t,e,n){var i=this;return new Promise(function(o){var a="timesheet/onCall/".concat(t),s=[];i.genericService.parseParams(s,"page",e),i.genericService.parseParams(s,"pageSize",n),i.genericService.search(a,s).then(function(t){var n=new r.i(null==t?void 0:t.items);n.actualPage=e,n.hasMoreRecords=null==t?void 0:t.hasNext,o(n)})})}},{key:"getOnCall",value:function(t,e){var n=this;return new Promise(function(i){var o="timesheet/onCall/".concat(t),a=[];n.genericService.parseParams(a,"id",e),n.genericService.parseParams(a,"page",1),n.genericService.parseParams(a,"pageSize",1),n.genericService.search(o,a).then(function(t){i(t.items[0])})})}},{key:"requestOnCall",value:function(t,e){return this.genericService.post("timesheet/onCall/".concat(t),e,!0)}},{key:"onCallBatchRequest",value:function(t){return this.genericService.post("timesheet/onCall/batch",t,!0)}},{key:"editOnCall",value:function(t,e){return this.genericService.put("team/onCall/".concat(t,"/"),e,!0)}},{key:"getSelectedOnCall",value:function(){return e.onCall}},{key:"setOnCall",value:function(t){e.onCall=t}}]),e}()).onCall=null,a.\u0275fac=function(t){return new(t||a)(l.LFG(s.M))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},60228:function(e,i,o){o.d(i,{b:function(){return g}});var a,r=o(64762),s=o(81483),l=o(37716),c=o(65241),p=o(16338),d=o(62439),g=((a=function(){function e(n,i,o){t(this,e),this.translateService=n,this.sufixUtil=i,this.dayUtil=o}return n(e,[{key:"getRecurrence",value:function(t,e){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if((e=s.Em.getDateUTCFormat(new Date(e))).setDate(e.getUTCDate()),t){n.next=4;break}return n.next=3,this.translateService.getI18n("l-on-call-recurrence-message-doesnt-repeat");case 3:return n.abrupt("return",n.sent);case 4:if(!(t.repetitions>0)){n.next=18;break}n.t0=t.repetitionType,n.next="day"===n.t0?8:"month"===n.t0?11:"week"===n.t0?14:17;break;case 8:return n.next=10,this.getRecurrenceDay(t);case 10:return n.abrupt("return",n.sent);case 11:return n.next=13,this.getRecurrenceMonth(t,e);case 13:return n.abrupt("return",n.sent);case 14:return n.next=16,this.getRecurrenceWeek(t);case 16:return n.abrupt("return",n.sent);case 17:return n.abrupt("return","");case 18:case"end":return n.stop()}},n,this)}))}},{key:"getRecurrenceDay",value:function(t){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.repetitions||!(t.maxOcurrences>1)&&t.maxOcurrences){e.next=6;break}return e.next=3,this.translateService.getI18n("l-on-call-recurrence-message-all-days");case 3:n=e.sent,e.next=11;break;case 6:if(e.t0=t.repetitions>1,!e.t0){e.next=11;break}return e.next=10,this.translateService.getI18n("l-on-call-recurrence-message-days",{repetition:t.repetitions});case 10:n=e.sent;case 11:if(e.t1=1===t.maxOcurrences&&1===t.repetitions||t.repetitions>1&&1===t.maxOcurrences,!e.t1){e.next=16;break}return e.next=15,this.translateService.getI18n("l-on-call-recurrence-message-day");case 15:n=e.sent;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this)}))}},{key:"getRecurrenceWeek",value:function(t){var e;return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.weekDays.length>0)){n.next=31;break}if(!(t.repetitions>1)){n.next=7;break}return n.next=4,this.translateService.getI18n("l-on-call-recurrence-message-week-repetition",{repetition:t.repetitions});case 4:n.t0=n.sent,n.next=10;break;case 7:return n.next=9,this.translateService.getI18n("l-on-call-recurrence-message-week2");case 9:n.t0=n.sent;case 10:i=n.t0,i+=" (",o=0;case 13:if(!(o<(null===(e=t.weekDays)||void 0===e?void 0:e.length))){n.next=30;break}if(a=t.weekDays[o],!(o>=t.weekDays.length-1)){n.next=22;break}return n.t1=i,n.next=19,this.translateService.getI18n("l-"+a.label);case 19:i=n.t1+=n.sent,n.next=27;break;case 22:return n.t2=i,n.next=25,this.translateService.getI18n("l-"+a.label);case 25:i=n.t2+=n.sent,i+=", ";case 27:o++,n.next=13;break;case 30:i+=")";case 31:return n.abrupt("return",i);case 32:case"end":return n.stop()}},n,this)}))}},{key:"getRecurrenceMonth",value:function(t,e){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(1!==t.repetitions){n.next=7;break}return n.next=3,this.translateService.getI18n("l-monthly");case 3:n.t0=n.sent,i=n.t0+", ",n.next=21;break;case 7:if(n.t1=t.repetitions>1,!n.t1){n.next=21;break}return n.next=11,this.translateService.getI18n("l-on-each");case 11:return n.t2=n.sent,n.t3=n.t2+" ",n.t4=t.repetitions,n.t5=n.t3+n.t4,i=n.t5+" ",n.t6=i,n.next=19,this.translateService.getI18n("l-months");case 19:n.t7=n.sent,i=n.t6+=n.t7+", ";case 21:if(0!==t.monthlyRule){n.next=36;break}return o=Math.ceil(e.getDate()/7),n.t8=i,n.t9=this.translateService,n.t10=o,n.t11=this.sufixUtil.getSufix(o,e.getDay()),n.next=29,this.dayUtil.getWeekDayLabel(e.getDay());case 29:return n.t12=n.sent,n.t13={ordinal:n.t10,sufix:n.t11,weekDay:n.t12},n.next=33,n.t9.getI18n.call(n.t9,"l-on-call-week-day-monthly",n.t13);case 33:i=n.t8+=n.sent.toLowerCase(),n.next=42;break;case 36:if(n.t14=1===t.monthlyRule,!n.t14){n.next=42;break}return n.t15=i,n.next=41,this.translateService.getI18n("l-on-call-month-day-monthly",{monthDay:e.getDate()});case 41:i=n.t15+=n.sent.toLowerCase();case 42:return n.abrupt("return",i);case 43:case"end":return n.stop()}},n,this)}))}}]),e}()).\u0275fac=function(t){return new(t||a)(l.LFG(c.g),l.LFG(p.t),l.LFG(d.C))},a.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a)}}])}();