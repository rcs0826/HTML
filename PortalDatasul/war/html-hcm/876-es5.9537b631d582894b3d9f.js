!function(){"use strict";function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,i){var a=t(e,n);if(a){var r=Object.getOwnPropertyDescriptor(a,n);return r.get?r.get.call(arguments.length<3?e:i):r.value}}).apply(this,arguments)}function t(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[876],{6876:function(t,i,r){r.r(i),r.d(i,{TeamManagementTabsModule:function(){return _n}});var c,u=r(38583),p=r(3679),m=r(90171),g=r(29790),f=r(44956),v=r(32114),b=r(43743),y=r(56365),x=r(37716),w=((c=d(function e(){h(this,e)})).\u0275fac=function(e){return new(e||c)},c.\u0275mod=x.oAB({type:c}),c.\u0275inj=x.cJS({imports:[[u.ez]]}),c),k=r(59708),Z=function(){var e=function(){function e(t){h(this,e),this.genericService=t}return d(e,[{key:"getItems",value:function(e,t,n){var i="team/shifts/".concat(n),a=[];return a.page=e,a.pageSize=t,this.genericService.search(i,a)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.LFG(k.M))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),C=r(89019),M={hasNext:!0,items:[{initDate:new Date("2018-02-14T09:30Z"),assignDate:new Date("2018-02-13T09:30Z"),endDate:new Date("9999-12-31T09:30Z"),shift:{id:"1",label:"07h00 \xe0s 16h30"},schedule:{id:"3",label:"Turma 3"},workdays:[{id:"1",label:"Jornada 1",currentIntervalId:"1",interval:[{id:"1",label:"Almo\xe7o",initDate:new Date("2018-02-10T09:30Z"),endDate:new Date("2018-02-10T09:30Z")},{id:"2",label:"Jantar",initDate:new Date("2018-02-10T09:30Z"),endDate:new Date("2018-02-10T09:30Z")}]},{id:"2",label:"Jornada 2",currentIntervalId:"2",interval:[{id:"2",label:"Jantar",initDate:new Date("2018-02-10T09:30Z"),endDate:new Date("2018-02-10T09:30Z")},{id:"3",label:"Intervalo",initDate:new Date("2018-02-10T09:30Z"),endDate:new Date("2018-02-10T09:30Z")}]}]},{initDate:new Date("2018-02-12T09:30Z"),assignDate:new Date("2018-02-11T09:30Z"),endDate:new Date("2018-02-20T09:30Z"),shift:{id:"4",label:"13h00 \xe0s 22h00"},schedule:{id:"5",label:"14h00 \xe0s 23h00"},workdays:[{id:"6",label:"Noturno",currentIntervalId:"2",interval:[{id:"1",label:"Intervalo 1",initDate:new Date("2018-02-10T09:30Z"),endDate:new Date("2018-02-10T09:30Z")},{id:"2",label:"Intervalo 2",initDate:new Date("2018-02-10T09:30Z"),endDate:new Date("2018-02-10T09:30Z")}]}]}]},A=function(){var e=function(){function e(){h(this,e)}return d(e,[{key:"getItems",value:function(e,t){arguments.length>2&&void 0!==arguments[2]||C.N.loggedUser;return new Promise(function(e){var t=[];Array.from(M.items).forEach(function(e){var n=e;Object.keys(e).forEach(function(t){e[t]instanceof Date&&(n[t]=e[t].toISOString())}),t.push(n)}),e(Object.assign(Object.assign({},M),{items:t}))})}},{key:"search",value:function(e,t){return M}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac}),e}(),S=r(64762),T=function(){var e=function(){function e(t){h(this,e),this.genericService=t}return d(e,[{key:"searchShifts",value:function(e,t,n){var i=[];return i.page=e,i.pageSize=t,i.searchShift=n,this.genericService.search("team/shifts/types",i)}},{key:"getSchedules",value:function(e,t,n){var i="team/shifts/schedules/".concat(n),a=[];return a.page=e,a.pageSize=t,this.genericService.search(i,a)}},{key:"getIntervals",value:function(e,t,n){return this.genericService.post("team/shifts/intervals/".concat(e,"/").concat(t),n)}},{key:"getWorkdayIds",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="team/shifts/workday/".concat(e),t.next=3,this.genericService.get(n);case 3:return i=t.sent,t.abrupt("return",i&&i.items?i.items.map(function(e){return Number(e.id)}):[]);case 5:case"end":return t.stop()}},t,this)}))}},{key:"updateShift",value:function(e,t){return this.genericService.post("team/shifts/update/".concat(e),t,!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.LFG(k.M))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),O={hasNext:!0,items:[{id:"1",label:"07h00 \xe0s 16h30"},{id:"2",label:"07h30 \xe0s 17h00"},{id:"3",label:"08h00 \xe0s 17h30"}]},q={hasNext:!1,items:[{id:"4",label:"13h00 \xe0s 22h00"},{id:"5",label:"14h00 \xe0s 23h00"}]},P={hasNext:!0,items:[{id:"1",label:"Turma 1"},{id:"2",label:"Turma 2"},{id:"3",label:"Turma 3"}]},I={hasNext:!1,items:[{id:"1",label:"Jornada 1",currentIntervalId:null,interval:[{id:"1",label:"das 12h00 \xe0s 13h00"},{id:"2",label:"das 12h30 \xe0s 13h30"}]},{id:"2",label:"Jornada 2",currentIntervalId:null,interval:[{id:"1",label:"das 12h00 \xe0s 13h00"},{id:"3",label:"das 13h00 \xe0s 14h00"}]},{id:"3",label:"Jornada 3",currentIntervalId:null,interval:[{id:"2",label:"das 12h30 \xe0s 13h30"},{id:"3",label:"das 13h00 \xe0s 14h00"}]}]},_={shiftId:1,initDate:new Date("2018-02-10T09:30Z"),workdays:[{workdayId:1,intervalId:1},{workdayId:2,intervalId:2}],scheduleId:2};new Date("2018-02-12T09:30Z"),new Date("2018-02-11T09:30Z"),new Date("2018-02-20T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-10T09:30Z"),new Date("2018-02-14T09:30Z");var D=function(){var e=function(){function e(){h(this,e)}return d(e,[{key:"searchShifts",value:function(e,t,n){return new Promise(function(t){var i=e>1?q:O,a=i.items;n.length>0&&(a=Array.from(i.items).filter(function(e){return e.label.includes(n)})),t(Object.assign(Object.assign({},i),{items:a}))})}},{key:"getSchedules",value:function(e,t,n){return new Promise(function(e){e(P)})}},{key:"getIntervals",value:function(e,t){return new Promise(function(e){e(I)})}},{key:"updateShift",value:function(e,t){return new Promise(function(e){e(_)})}},{key:"getWorkdayIds",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve([1,3,5]));case 1:case"end":return e.stop()}},e)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac}),e}(),L=function(){var e=d(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({providers:[T,D],imports:[[u.ez,y.q,g.aw,f.JBz,m.To,b.Y,p.u5]]}),e}(),N=function(){var e=d(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({providers:[Z,A],imports:[[u.ez,y.q,g.aw,f.JBz,m.To,b.Y,L]]}),e}(),F=r(9789),R=function(){var e=d(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({providers:[F.C],imports:[[u.ez,y.q,g.aw,f.JBz,m.To,b.Y,p.u5,N,v.Pu,w]]}),e}(),U=r(64383),J=function(){var e=function(){function e(t,n){h(this,e),this.serviceGeneric=t,this.momentService=n}return d(e,[{key:"getAll",value:function(e,t){var n="team/delaysAndAbsences/".concat(e),i=[];if(t)for(var a=0,r=Object.keys(t);a<r.length;a++){var o=r[a];i[o]=["startDate","endDate"].includes(o)?this.momentService.getInstance(t[o]).toISOString():t[o]}return null==i.page&&(i.page=1),null==i.pageSize&&(i.pageSize=10),i.encodeEmployeeId=!0,this.serviceGeneric.search(n,i)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.LFG(k.M),x.LFG(U.z))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Y=function(){var e=function(){function e(t,n){h(this,e),this.serviceGeneric=t,this.momentService=n}return d(e,[{key:"getAll",value:function(e,t){var n="team/delaysAndAbsencesTotalizer/".concat(e),i=[];if(t)for(var a=0,r=Object.keys(t);a<r.length;a++){var o=r[a];i[o]=["startDate","endDate"].includes(o)?this.momentService.getInstance(t[o]).toISOString():t[o]}return null==i.page&&(i.page=1),null==i.pageSize&&(i.pageSize=10),this.serviceGeneric.search(n,i)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.LFG(k.M),x.LFG(U.z))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),E=function(){var e=d(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({providers:[J,Y],imports:[[u.ez,g.aw,y.q,f.JBz,p.u5,v.Pu,b.Y]]}),e}(),H=r(95987),Q=r(51110),B=r(91195),G=r(77859),z=r(11491),V=r(81621),j=r(48655),$=r(18399),W=r(38050),X=r(25651),K=r(53307),ee=r(8296),te=r(83614),ne=r(57899),ie=r(92340),ae=((ae||(ae={})).OccurrenceEnum={Absence:"absence",Delay:"delay"},ae),re=r(81483),oe=r(82832);function se(e,t){if(1&e&&(x.TgZ(0,"div",9),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.Oqu(n.response.qtyAbsence)}}function le(e,t){if(1&e&&(x.TgZ(0,"div",10),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.Oqu(n.response.qtyHourDelay)}}function ce(e,t){if(1&e&&(x.TgZ(0,"div",9),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.hij(" ",n.response.qtyAbsence," ")}}function ue(e,t){if(1&e&&(x.TgZ(0,"div",10),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.hij(" ",n.response.qtyHourDelay," ")}}var pe=function(){var e=function(){function e(t){h(this,e),this.service=t,this._currentFilter={},this.occurrenceChange=new x.vpe}return d(e,[{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){this.occurrence=e.ocurrency,e=Object.assign({},e),this.filtersChanged(e)&&(e.page=1,this.getAll(e)),this._currentFilter=e}},{key:"ngOnInit",value:function(){this.getAll()}},{key:"getAll",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAll(ie.N.loggedUser,e);case 2:n=t.sent,this.response={qtyAbsence:n.qtyAbsence,qtyHourDelay:re.Em.getHoursByMilliseconds(n.qtyHourDelay,!1)};case 4:case"end":return t.stop()}},t,this)}))}},{key:"qtyAbsenceClick",value:function(){this.occurrenceClick(ae.OccurrenceEnum.Absence)}},{key:"hoursDelayClick",value:function(){this.occurrenceClick(ae.OccurrenceEnum.Delay)}},{key:"currentOccurrenceIsAbsence",value:function(){return this.occurrence===ae.OccurrenceEnum.Absence}},{key:"currentOccurrenceIsDelay",value:function(){return this.occurrence===ae.OccurrenceEnum.Delay}},{key:"occurrenceClick",value:function(e){this.occurrence=this.occurrence!==e?e:null,this.occurrenceChange.emit(this.occurrence)}},{key:"filtersChanged",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.currentFilter)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(Y))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-dashboard"]],inputs:{currentFilter:"currentFilter"},outputs:{occurrenceChange:"occurrenceChange"},decls:27,vars:20,consts:[[1,"po-visible-sm-12","po-visible-md-12"],["card-body","",1,"mr-card-body","po-sm-12","p-4"],[1,"po-row"],[1,"po-sm-6",3,"click"],["class","hours absence",4,"ngIf"],[1,"description"],["class","hours delay",4,"ngIf"],[1,"po-visible-lg-6","po-visible-xl-6",3,"click"],["card-header","",1,"mr-card-header","po-sm-12"],[1,"hours","absence"],[1,"hours","delay"]],template:function(e,t){1&e&&(x.TgZ(0,"app-card",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.NdJ("click",function(){return t.qtyAbsenceClick()}),x.YNc(4,se,2,1,"div",4),x.TgZ(5,"span",5),x._uU(6),x.ALo(7,"translate"),x.qZA(),x.qZA(),x.TgZ(8,"div",3),x.NdJ("click",function(){return t.hoursDelayClick()}),x.YNc(9,le,2,1,"div",6),x.TgZ(10,"span",5),x._uU(11),x.ALo(12,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(13,"app-card",7),x.NdJ("click",function(){return t.qtyAbsenceClick()}),x.TgZ(14,"div",8),x.TgZ(15,"span",5),x._uU(16),x.ALo(17,"translate"),x.qZA(),x.qZA(),x.TgZ(18,"div",1),x.YNc(19,ce,2,1,"div",4),x.qZA(),x.qZA(),x.TgZ(20,"app-card",7),x.NdJ("click",function(){return t.hoursDelayClick()}),x.TgZ(21,"div",8),x.TgZ(22,"span",5),x._uU(23),x.ALo(24,"translate"),x.qZA(),x.qZA(),x.TgZ(25,"div",1),x.YNc(26,ue,2,1,"div",6),x.qZA(),x.qZA()),2&e&&(x.xp6(4),x.Q6J("ngIf",t.response&&null!=t.response.qtyAbsence),x.xp6(2),x.Oqu(x.lcZ(7,12,"l-qty-absences")),x.xp6(3),x.Q6J("ngIf",t.response&&null!=t.response.qtyHourDelay),x.xp6(2),x.Oqu(x.lcZ(12,14,"l-hours-delay")),x.xp6(2),x.ekj("occurrence-selected",t.currentOccurrenceIsAbsence()),x.xp6(3),x.Oqu(x.lcZ(17,16,"l-qty-absences")),x.xp6(3),x.Q6J("ngIf",t.response&&null!=t.response.qtyAbsence),x.xp6(1),x.ekj("occurrence-selected",t.currentOccurrenceIsDelay()),x.xp6(3),x.Oqu(x.lcZ(24,18,"l-total-delays-in-hours")),x.xp6(3),x.Q6J("ngIf",t.response&&null!=t.response.qtyHourDelay))},directives:[oe.A,u.O5],pipes:[g.X$],styles:['.mr-card-body[_ngcontent-%COMP%]{text-align:center}.hours[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-weight:bold;font-family:"NunitoSans-Bold"}.hours[_ngcontent-%COMP%]{font-size:160%}.hours.absence[_ngcontent-%COMP%]{color:#00b28e}.hours.delay[_ngcontent-%COMP%]{color:rgba(190,39,12,.973)}@media (min-width: 961px){.hours[_ngcontent-%COMP%]{font-weight:normal;font-size:32px;font-family:"NunitoSans-ExtraLight"}.hours.absence[_ngcontent-%COMP%], .hours.delay[_ngcontent-%COMP%]{color:inherit}}.description[_ngcontent-%COMP%]{font-size:90%}[_nghost-%COMP%]     .card-well{cursor:pointer}@media (min-width: 961px){[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well{background:#ceeaf2}[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well .hours{font-weight:bold;font-family:"NunitoSans-Bold"}}']}),e}(),de=r(97983),he=r(36227),me=r(68014),ge=r(65241),fe=r(10690),ve=r(94560),be=r(13235);function ye(e,t){if(1&e&&(x.TgZ(0,"div",14),x.TgZ(1,"span",15),x._uU(2),x.qZA(),x.TgZ(3,"span",16),x._uU(4),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=t.index,a=x.oxw().$implicit;x.ekj("border-top",0==i)("po-mt-2",0==i),x.xp6(2),x.Oqu(n.label),x.xp6(2),x.Oqu(a[n.property])}}function xe(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"po-button",18),x.NdJ("p-click",function(){x.CHM(n);var e=x.oxw().$implicit,t=x.oxw().$implicit,i=x.oxw();return e.action.call(i,t)}),x.qZA()}if(2&e){var i=x.oxw().$implicit;x.Q6J("p-label",i.label)}}function we(e,t){if(1&e&&(x.ynx(0),x.YNc(1,xe,1,1,"po-button",17),x.BQk()),2&e){var n=t.$implicit;x.xp6(1),x.Q6J("ngIf",n.visible)}}function ke(e,t){if(1&e&&(x.TgZ(0,"div",4),x.TgZ(1,"app-expansion-card",5),x.TgZ(2,"div",6),x.TgZ(3,"div",7),x._UZ(4,"span",8),x.TgZ(5,"span",9),x.TgZ(6,"strong"),x._uU(7),x.ALo(8,"titleCase"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(9,"div",10),x.YNc(10,ye,5,6,"div",11),x.TgZ(11,"div",12),x.YNc(12,we,2,1,"ng-container",13),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=x.oxw();x.xp6(1),x.Q6J("iconClass","po-icon-arrow-down")("iconClassCollapsed","po-icon-arrow-up"),x.xp6(3),x.Udp("background-image",i.getAvatar(n.id)),x.xp6(3),x.Oqu(x.lcZ(8,7,n.name)),x.xp6(3),x.Q6J("ngForOf",i.columnsMobile),x.xp6(2),x.Q6J("ngForOf",i.actions)}}function Ze(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"app-show-more-button",19),x.NdJ("click",function(){return x.CHM(n),x.oxw().showMore()}),x.qZA()}}var Ce=function(){var e=function(){function e(t,n,i,a,r,o){h(this,e),this.appTranslateService=t,this.momentService=n,this.profileService=i,this.fieldPropertiesService=a,this.permissionSelectors=r,this.router=o,this.columns=[],this.columnsMobile=[],this.items=[],this.filters=[],this.actions=[],this.avatarsStyle=[],this.onGetAllRequested=new x.vpe}return d(e,[{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){this._currentFilter=e,this.changeOccurrenceFilter(e.ocurrency)}},{key:"response",get:function(){return this._response},set:function(e){this._response=e,this.getItems()}},{key:"ngOnInit",value:function(){var e=this;Promise.all([this.getColumns(),this.getColumnsMobile(),this.getFilters(),this.getLiterals()]).then(function(){e.getFieldProperties()}),this.loadPermissions()}},{key:"ngOnDestroy",value:function(){this.permissionSubscription&&this.permissionSubscription.unsubscribe()}},{key:"onQuickSearch",value:function(e){this.onGetAllRequested.emit({name:e})}},{key:"onAdvancedSearch",value:function(e){this.onGetAllRequested.emit(e)}},{key:"showMore",value:function(){var e=this.currentFilter;void 0===e.page?e.page=2:e.page+=1,this.onGetAllRequested.emit(e)}},{key:"onChangeDisclaimers",value:function(e){var t={};e.forEach(function(e){t[e.property]=e.value}),this.onGetAllRequested.emit(t)}},{key:"changeOccurrenceFilter",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.poPageDynamicSearchComponent&&this.poPageDynamicSearchComponent.disclaimerGroup&&this.poPageDynamicSearchComponent.disclaimerGroup.disclaimers){t.next=2;break}return t.abrupt("return");case 2:if(n=this.poPageDynamicSearchComponent.disclaimerGroup.disclaimers,(i=n.findIndex(function(e){return"ocurrency"===e.property}))>-1&&n.splice(i,1),t.t0=e,!t.t0){t.next=19;break}return t.t1=n,t.t3="",t.next=10,this.appTranslateService.getI18n("l-occurrence-singular");case 10:return t.t4=t.sent,t.t2=t.t3.concat.call(t.t3,t.t4,": "),t.next=14,this.translateOccurrence(e);case 14:t.t5=t.sent,t.t6=t.t2.concat.call(t.t2,t.t5),t.t7=e,t.t8={label:t.t6,property:"ocurrency",value:t.t7},t.t1.push.call(t.t1,t.t8);case 19:case"end":return t.stop()}},t,this)}))}},{key:"getAvatar",value:function(e){var t=this;return this.avatarsStyle[e]||(this.avatarsStyle[e]=this.profileService.getDefaultImageStyle(),this.profileService.getImageBase64Style(e).then(function(n){t.avatarsStyle[e]=n})),this.avatarsStyle[e]}},{key:"trackByFunction",value:function(e,t){return t.id}},{key:"getColumns",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appTranslateService.getI18n("l-name");case 2:return e.t0=e.sent,e.t1={property:"name",label:e.t0,width:"25%"},e.next=6,this.appTranslateService.getI18n("l-date");case 6:return e.t2=e.sent,e.t3={property:"date",label:e.t2,width:"25%"},e.next=10,this.appTranslateService.getI18n("l-start");case 10:return e.t4=e.sent,e.t5={property:"startHour",label:e.t4,width:"25%"},e.next=14,this.appTranslateService.getI18n("l-end-2");case 14:return e.t6=e.sent,e.t7={property:"endHour",label:e.t6,width:"25%"},e.next=18,this.appTranslateService.getI18n("l-total-hours");case 18:return e.t8=e.sent,e.t9={property:"stringHours",label:e.t8,width:"25%"},e.next=22,this.appTranslateService.getI18n("l-occurrence-singular");case 22:e.t10=e.sent,e.t11={property:"occurrence",label:e.t10,width:"25%"},this.columns=[e.t1,e.t3,e.t5,e.t7,e.t9,e.t11];case 25:case"end":return e.stop()}},e,this)}))}},{key:"getColumnsMobile",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appTranslateService.getI18n("l-date");case 2:return e.t0=e.sent,e.t1={property:"date",label:e.t0},e.next=6,this.appTranslateService.getI18n("l-start");case 6:return e.t2=e.sent,e.t3={property:"startHour",label:e.t2},e.next=10,this.appTranslateService.getI18n("l-end-2");case 10:return e.t4=e.sent,e.t5={property:"endHour",label:e.t4},e.next=14,this.appTranslateService.getI18n("l-total-hours");case 14:return e.t6=e.sent,e.t7={property:"stringHours",label:e.t6},e.next=18,this.appTranslateService.getI18n("l-occurrence-singular");case 18:e.t8=e.sent,e.t9={property:"occurrence",label:e.t8},this.columnsMobile=[e.t1,e.t3,e.t5,e.t7,e.t9];case 21:case"end":return e.stop()}},e,this)}))}},{key:"getOccurrenceOptions",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appTranslateService.getI18n("l-absence");case 2:return e.t0=e.sent,e.t1={value:"absence",label:e.t0},e.next=6,this.appTranslateService.getI18n("l-delay");case 6:return e.t2=e.sent,e.t3={value:"delay",label:e.t2},e.next=10,this.appTranslateService.getI18n("l-absence");case 10:return e.t4=e.sent,e.t5={value:"absence",label:e.t4},e.next=14,this.appTranslateService.getI18n("l-delay");case 14:return e.t6=e.sent,e.t7={value:"delay",label:e.t6},e.abrupt("return",[e.t1,e.t3,e.t5,e.t7]);case 17:case"end":return e.stop()}},e,this)}))}},{key:"getFilters",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appTranslateService.getI18n("l-date-initial");case 2:return e.t0=e.sent,e.t1=f.$8e.DateTime,e.t2={property:"startDate",label:e.t0,gridSmColumns:12,gridMdColumns:6,gridLgColumns:6,gridXlColumns:6,type:e.t1},e.next=7,this.appTranslateService.getI18n("l-date-end");case 7:return e.t3=e.sent,e.t4=f.$8e.DateTime,e.t5={property:"endDate",label:e.t3,gridSmColumns:12,gridMdColumns:6,gridLgColumns:6,gridXlColumns:6,type:e.t4},e.next=12,this.appTranslateService.getI18n("l-name");case 12:return e.t6=e.sent,e.t7={property:"name",label:e.t6,gridSmColumns:12,gridMdColumns:6,gridLgColumns:6,gridXlColumns:6},e.next=16,this.appTranslateService.getI18n("l-occurrence-singular");case 16:return e.t8=e.sent,e.next=19,this.getOccurrenceOptions();case 19:e.t9=e.sent,e.t10={property:"ocurrency",label:e.t8,gridSmColumns:12,gridMdColumns:6,gridLgColumns:6,gridXlColumns:6,options:e.t9},this.filters=[e.t2,e.t5,e.t7,e.t10];case 22:case"end":return e.stop()}},e,this)}))}},{key:"getLiterals",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appTranslateService.getI18n("l-name-search");case 2:e.t0=e.sent,this.literals={searchPlaceholder:e.t0};case 4:case"end":return e.stop()}},e,this)}))}},{key:"getItems",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.items=[],!this.response||!this.response.items){e.next=29;break}t=l(this.response.items),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=21;break}return i=n.value,e.t0=this.items,e.t1=i.id,e.t2=i.name,e.t3=this.momentService.getInstance(i.date).utc().format("L"),e.t4=i.amountHours,e.t5=re.Em.getHoursByMilliseconds(i.amountHours,!1),e.next=14,this.translateOccurrence(i.occurrence);case 14:e.t6=e.sent,e.t7=i.startHour,e.t8=i.endHour,e.t9={id:e.t1,name:e.t2,date:e.t3,amountHours:e.t4,stringHours:e.t5,occurrence:e.t6,startHour:e.t7,endHour:e.t8},e.t0.push.call(e.t0,e.t9);case 19:e.next=4;break;case 21:e.next=26;break;case 23:e.prev=23,e.t10=e.catch(2),t.e(e.t10);case 26:return e.prev=26,t.f(),e.finish(26);case 29:case"end":return e.stop()}},e,this,[[2,23,26,29]])}))}},{key:"translateOccurrence",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return","");case 2:t.t0=e,t.next=t.t0===ae.OccurrenceEnum.Absence?5:t.t0===ae.OccurrenceEnum.Delay?6:7;break;case 5:return t.abrupt("return",this.appTranslateService.getI18n("l-absence"));case 6:return t.abrupt("return",this.appTranslateService.getI18n("l-delay"));case 7:return t.abrupt("return","");case 8:case"end":return t.stop()}},t,this)}))}},{key:"getFieldProperties",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldPropertiesService.getFieldProperties("delayAndAbsence");case 2:e.sent.forEach(function(e){["startHour","endHour"].includes(e.field)&&!e.visible&&t.removeColumn(e.field)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"removeColumn",value:function(e){this.removeColumnTable(e),this.removeColumnMobile(e)}},{key:"removeColumnTable",value:function(e){var t=this.columns.findIndex(function(t){return t.property===e});t>-1&&this.columns.splice(t,1),this.columns=s(this.columns)}},{key:"removeColumnMobile",value:function(e){var t=this.columnsMobile.findIndex(function(t){return t.property===e});t>-1&&this.columnsMobile.splice(t,1),this.columns=s(this.columns)}},{key:"loadPermissions",value:function(){var e=this;this.permissionSubscription=this.permissionSelectors.permissions$.subscribe(function(t){e.checkPermissionRequestAllowance(t),e.checkPermissionRequestMedicalCertificate(t),e.loadActions()})}},{key:"loadActions",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.t0=t,e.next=4,this.appTranslateService.getI18n("im-allowanceLong");case 4:return e.t1=e.sent,e.t2=this.permissionRequestAllowance,e.t3=this.openRequestAllowance.bind(this),e.t4={label:e.t1,visible:e.t2,action:e.t3},e.t0.push.call(e.t0,e.t4),e.t5=t,e.next=12,this.appTranslateService.getI18n("l-request-medical-certificate");case 12:e.t6=e.sent,e.t7=this.permissionRequestMedicalCertificate,e.t8=this.openRequestMedicalCertificate.bind(this),e.t9={label:e.t6,visible:e.t7,action:e.t8},e.t5.push.call(e.t5,e.t9),this.actions=t;case 18:case"end":return e.stop()}},e,this)}))}},{key:"checkPermissionRequestAllowance",value:function(e){this.permissionRequestAllowance=null!=e&&!!e.teamManagementAllowance}},{key:"checkPermissionRequestMedicalCertificate",value:function(e){this.permissionRequestMedicalCertificate=null!=e&&!!e.teamManagementMedicalCertificateRequest}},{key:"openRequestAllowance",value:function(e){var t=this.momentService.getInstance(e.date,"L").utc().valueOf().toString(),n={date:t,endDate:t},i="timesheet/allowances/request/".concat(e.id);null!=e.startHour&&(n.startHour=e.startHour.substr(0,2).concat(e.startHour.substr(3,4))),null!=e.endHour&&(n.endHour=e.endHour.substr(0,2).concat(e.endHour.substr(3,4))),this.router.navigateByUrl(this.router.createUrlTree([i],{queryParams:n}))}},{key:"openRequestMedicalCertificate",value:function(e){var t=this.momentService.getInstance(e.date,"L").utc().valueOf().toString();this.router.navigateByUrl(this.router.createUrlTree(["health/medicalCertificate/request"],{queryParams:{date:t,employeeId:e.id,endDate:t}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(ge.g),x.Y36(U.z),x.Y36(de.H),x.Y36(he.c),x.Y36(me.eL),x.Y36(H.F0))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-occurrence-viewer"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(v.O6,5),2&e)&&(x.iGM(n=x.CRH())&&(t.poPageDynamicSearchComponent=n.first))},inputs:{loading:"loading",currentFilter:"currentFilter",response:"response"},outputs:{onGetAllRequested:"onGetAllRequested"},decls:4,vars:12,consts:[["p-title"," ","name","fieldName","ngDefaultControl","",3,"p-filters","p-literals","p-quick-search","p-advanced-search","p-change-disclaimers"],["class","margin-card po-visible-sm-12 po-visible-md-12",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click",4,"ngIf"],["p-container","","p-hide-text-overflow","",1,"po-p-0","po-visible-lg-12","po-visible-xl-12",3,"p-hide-select-all","p-sort","p-columns","p-items","p-loading","p-show-more-disabled","p-actions","p-show-more"],[1,"margin-card","po-visible-sm-12","po-visible-md-12"],[3,"iconClass","iconClassCollapsed"],["card-header","",1,"mr-card-header","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"about-employee"],[1,"avatar-small"],[1,"name","cut-title"],["card-body",""],["class","item-body po-row border-bottom",3,"border-top","po-mt-2",4,"ngFor","ngForOf"],[1,"po-row","mb-2","mt-3"],[4,"ngFor","ngForOf"],[1,"item-body","po-row","border-bottom"],[1,"title","po-sm-6"],[1,"value","po-sm-6"],["class","button-show-details po-sm-6","p-type","default",3,"p-label","p-click",4,"ngIf"],["p-type","default",1,"button-show-details","po-sm-6",3,"p-label","p-click"],[3,"click"]],template:function(e,t){1&e&&(x.TgZ(0,"po-page-dynamic-search",0),x.NdJ("p-quick-search",function(e){return t.onQuickSearch(e)})("p-advanced-search",function(e){return t.onAdvancedSearch(e)})("p-change-disclaimers",function(e){return t.onChangeDisclaimers(e)}),x.YNc(1,ke,13,9,"div",1),x.YNc(2,Ze,1,0,"app-show-more-button",2),x.TgZ(3,"po-table",3),x.NdJ("p-show-more",function(){return t.showMore()}),x.qZA(),x.qZA()),2&e&&(x.Q6J("p-filters",t.filters)("p-literals",t.literals),x.xp6(1),x.Q6J("ngForOf",t.items)("ngForTrackBy",t.trackByFunction),x.xp6(1),x.Q6J("ngIf",t.response&&t.response.hasNext),x.xp6(1),x.Q6J("p-hide-select-all",!1)("p-sort",!0)("p-columns",t.columns)("p-items",t.items)("p-loading",t.loading)("p-show-more-disabled",!t.response||!t.response.hasNext)("p-actions",t.actions))},directives:[v.O6,p.Fj,u.sg,u.O5,f._w3,fe.c,f.bOz,ve.N],pipes:[be.r],styles:[".avatar-small[_ngcontent-%COMP%]{float:left;margin:5px 8px 0 0}.margin-card[_ngcontent-%COMP%]{margin-bottom:10px}[_nghost-%COMP%]     .po-page, [_nghost-%COMP%]     .po-page-content{height:auto!important}[_nghost-%COMP%]     #expansion-card-header{position:relative}[_nghost-%COMP%]     #expansion-card-header .icon-collapsed{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:0}[_nghost-%COMP%]     #expansion-card-header .mr-card-header{float:unset}[_nghost-%COMP%]     #expansion-card-header .mr-card-header .about-employee{align-items:center;display:flex;padding-right:15px}[_nghost-%COMP%]     #expansion-card-header .mr-card-header .about-employee .cut-title{margin:0;padding-left:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     #expansion-card-header .mr-card-header .about-employee .name{font-size:15px}[_nghost-%COMP%]     #expansion-card-header .mr-card-header .checkbox-list .po-checkbox{margin-top:4px;padding:4px 0}[_nghost-%COMP%]     #expansion-card-header .mr-card-header .po-checkbox .po-checkbox-label{font-weight:bolder!important}[_nghost-%COMP%]     #expansion-card-body .item-body .value{text-align:right;font-weight:bold}[_nghost-%COMP%]     .po-page-content{padding:0!important}@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{float:none;margin-top:unset}}@media screen and (min-width: 961px){[_nghost-%COMP%]     div.po-page{margin-left:0!important;height:auto!important}[_nghost-%COMP%]     div.po-page, [_nghost-%COMP%]     div.po-page div.po-page-content{width:100%!important}[_nghost-%COMP%]     div.po-page div.po-page-header, [_nghost-%COMP%]     div.po-page div.po-page-content{padding-left:8px!important;padding-right:8px!important}}.border-top[_ngcontent-%COMP%]{border-top:1px solid #eceeee}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee;padding-bottom:.5rem;padding-top:.5rem}"]}),e}(),Me=function(){var e=function(){function e(t){h(this,e),this.service=t,this.loading=!0,this.currentFilter={},this.showPageHader=!0}return d(e,[{key:"ngOnInit",value:function(){this.getAll()}},{key:"getAll",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.service.getAll(ie.N.loggedUser,e);case 3:n=t.sent,this.response&&e&&e.page>1&&(n.items=[].concat(s(this.response.items),s(n.items))),this.response=n,this.currentFilter=null!=e?e:{},this.loading=!1;case 5:case"end":return t.stop()}},t,this)}))}},{key:"onGetAllRequested",value:function(e){this.getAll(e)}},{key:"occurrenceChange",value:function(e){var t=Object.assign({},this.currentFilter);t.ocurrency=e,t.page=1,this.getAll(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(J))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-management-of-delays-and-absences"]],inputs:{showPageHader:"showPageHader"},decls:2,vars:4,consts:[[3,"currentFilter","occurrenceChange"],[3,"response","loading","currentFilter","onGetAllRequested"]],template:function(e,t){1&e&&(x.TgZ(0,"app-dashboard",0),x.NdJ("occurrenceChange",function(e){return t.occurrenceChange(e)}),x.qZA(),x.TgZ(1,"app-occurrence-viewer",1),x.NdJ("onGetAllRequested",function(e){return t.onGetAllRequested(e)}),x.qZA()),2&e&&(x.Q6J("currentFilter",t.currentFilter),x.xp6(1),x.Q6J("response",t.response)("loading",t.loading)("currentFilter",t.currentFilter))},directives:[pe,Ce],styles:[""]}),e}(),Ae=r(93444),Se=r(11524),Te=r(44852),Oe=r(84259),qe=["divSwipeButton"];function Pe(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",14),x.TgZ(1,"span",15),x.NdJ("click",function(){return x.CHM(n),x.oxw().openNotifications()}),x.TgZ(2,"a"),x._uU(3),x.qZA(),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(3),x.hij("",i.response.qtyPendingOnCall," ")}}function Ie(e,t){if(1&e&&(x.TgZ(0,"div",16),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.hij(" ",n.response.qtyOnCall," ")}}function _e(e,t){if(1&e&&(x.TgZ(0,"div",14),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.hij(" ",n.getHoursByMilliseconds(n.response.qtyHourOnCall)," ")}}function De(e,t){if(1&e&&(x.TgZ(0,"div",14),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.hij(" ",n.response.qtyOnCall," ")}}function Le(e,t){if(1&e&&(x.TgZ(0,"div",17),x._uU(1),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.hij(" ",n.getHoursByMilliseconds(n.response.qtyHourOnCall)," ")}}function Ne(e,t){if(1&e&&(x.TgZ(0,"div",17),x.TgZ(1,"span",18),x._uU(2),x.qZA(),x.qZA()),2&e){var n=x.oxw();x.xp6(2),x.hij(" ",n.response.qtyPendingOnCall," ")}}var Fe=function(){var e=function(){function e(t,n,i){h(this,e),this.service=t,this.appTranslateService=n,this.navigationUtil=i,this._currentFilter={},this.selectedVacationPosition=0,this.informationsCard=[],this.messagePending="Total de horas",this.pathNotifications="request/notifications/oncall"}return d(e,[{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){e=Object.assign({},e),this.filtersChanged(e)&&(e.page=1,this.getAll(e)),this._currentFilter=e}},{key:"ngOnInit",value:function(){var e=this;Promise.all([this.getAll()]).then(function(){e.initializeMobile(),e.createObjectCards(),e.initSwipe()})}},{key:"getAll",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.getAll(ie.N.loggedUser,e);case 2:n=t.sent,this.response=n;case 4:case"end":return t.stop()}},t,this)}))}},{key:"initializeMobile",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateString("l-qty-request-on-calls");case 2:e.t0=e.sent.toString(),e.t1=this.response.qtyOnCall,this.cardMobile={title:e.t0,value:e.t1};case 5:case"end":return e.stop()}},e,this)}))}},{key:"getHoursByMilliseconds",value:function(e){return re.Em.getHoursByMilliseconds(e,!1)}},{key:"createObjectCards",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.informationsCard,e.next=3,this.translateString("l-qty-request-on-calls");case 3:return e.t1=e.sent.toString(),e.t2=this.response.qtyOnCall,e.t3={title:e.t1,value:e.t2},e.t0.push.call(e.t0,e.t3),e.t4=this.informationsCard,e.next=10,this.translateString("l-total-hours");case 10:return e.t5=e.sent.toString(),e.t6=this.response.qtyHourOnCall,e.t7={title:e.t5,value:e.t6},e.t4.push.call(e.t4,e.t7),e.t8=this.informationsCard,e.next=17,this.translateString("l-pending-request");case 17:e.t9=e.sent.toString(),e.t10=this.response.qtyPendingOnCall,e.t11={title:e.t9,value:e.t10},e.t8.push.call(e.t8,e.t11);case 21:case"end":return e.stop()}},e,this)}))}},{key:"translateString",value:function(e){return this.appTranslateService.getI18n(e)}},{key:"isActivePointer",value:function(e){return e===this.selectedVacationPosition}},{key:"openNotifications",value:function(){this.navigationUtil.doNavigation(this.pathNotifications)}},{key:"filtersChanged",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.currentFilter)}},{key:"initSwipe",value:function(){var e=this;if(this.swipeButton&&this.swipeButton.nativeElement){var t=new Se(this.swipeButton.nativeElement);t.get("swipe").set({direction:Se.DIRECTION_ALL}),t.on("swipe",function(t){return e.onSwipe(t)})}}},{key:"onSwipe",value:function(e){var t=Math.abs(e.deltaX)>40?e.deltaX>0?"right":"left":"";"right"===t?this.selectedVacationPosition>0&&(this.selectedVacationPosition--,this.cardMobile=this.informationsCard[this.selectedVacationPosition]):"left"===t&&this.selectedVacationPosition<this.informationsCard.length-1&&(this.selectedVacationPosition++,this.cardMobile=this.informationsCard[this.selectedVacationPosition])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(Oe.v),x.Y36(ge.g),x.Y36(Te._))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(qe,7),2&e)&&(x.iGM(n=x.CRH())&&(t.swipeButton=n.first))},inputs:{currentFilter:"currentFilter"},decls:52,vars:24,consts:[[1,"scrolling-wrapper","po-visible-sm-12","po-visible-md-12"],[1,"cards-block"],["card-body","",1,"mr-card-body","po-sm-12"],[1,"po-row","row-title"],[1,"description-small"],[1,"po-row","row-description"],[1,"po-sm-6","center-text"],["class","hours absence",4,"ngIf"],["class","hours qty-oncall-text",4,"ngIf"],[1,"po-visible-lg-4","po-visible-xl-4"],["card-header","",1,"mr-card-header","po-sm-12"],[1,"description"],["class","hours delay",4,"ngIf"],[1,"po-visible-lg-4","po-visible-xl-4","card-pending",3,"click"],[1,"hours","absence"],[1,"link",3,"click"],[1,"hours","qty-oncall-text"],[1,"hours","delay"],[1,"link"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"app-card",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"div"),x.TgZ(5,"span",4),x._uU(6),x.ALo(7,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(8,"div",5),x.TgZ(9,"div",6),x.YNc(10,Pe,4,1,"div",7),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(11,"app-card",1),x.TgZ(12,"div",2),x.TgZ(13,"div",3),x.TgZ(14,"div"),x.TgZ(15,"span",4),x._uU(16),x.ALo(17,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(18,"div",5),x.TgZ(19,"div",6),x.YNc(20,Ie,2,1,"div",8),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(21,"app-card",1),x.TgZ(22,"div",2),x.TgZ(23,"div",3),x.TgZ(24,"div"),x.TgZ(25,"span",4),x._uU(26),x.ALo(27,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(28,"div",5),x.TgZ(29,"div",6),x.YNc(30,_e,2,1,"div",7),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(31,"app-card",9),x.TgZ(32,"div",10),x.TgZ(33,"span",11),x._uU(34),x.ALo(35,"translate"),x.qZA(),x.qZA(),x.TgZ(36,"div",2),x.YNc(37,De,2,1,"div",7),x.qZA(),x.qZA(),x.TgZ(38,"app-card",9),x.TgZ(39,"div",10),x.TgZ(40,"span",11),x._uU(41),x.ALo(42,"translate"),x.qZA(),x.qZA(),x.TgZ(43,"div",2),x.YNc(44,Le,2,1,"div",12),x.qZA(),x.qZA(),x.TgZ(45,"app-card",13),x.NdJ("click",function(){return t.openNotifications()}),x.TgZ(46,"div",10),x.TgZ(47,"span",11),x._uU(48),x.ALo(49,"translate"),x.qZA(),x.qZA(),x.TgZ(50,"div",2),x.YNc(51,Ne,3,1,"div",12),x.qZA(),x.qZA()),2&e&&(x.xp6(6),x.Oqu(x.lcZ(7,12,"l-pending-request")),x.xp6(4),x.Q6J("ngIf",t.response&&null!=t.response.qtyHourOnCall),x.xp6(6),x.Oqu(x.lcZ(17,14,"l-qty-request-on-calls")),x.xp6(4),x.Q6J("ngIf",t.response&&null!=t.response.qtyOnCall),x.xp6(6),x.Oqu(x.lcZ(27,16,"l-total-hours")),x.xp6(4),x.Q6J("ngIf",t.response&&null!=t.response.qtyHourOnCall),x.xp6(4),x.Oqu(x.lcZ(35,18,"l-qty-request-on-calls")),x.xp6(3),x.Q6J("ngIf",t.response&&null!=t.response.qtyOnCall),x.xp6(4),x.Oqu(x.lcZ(42,20,"l-hour-request-on-calls")),x.xp6(3),x.Q6J("ngIf",t.response&&null!=t.response.qtyHourOnCall),x.xp6(4),x.Oqu(x.lcZ(49,22,"l-pending-request")),x.xp6(3),x.Q6J("ngIf",t.response&&null!=t.response.qtyPendingOnCall))},directives:[oe.A,u.O5],pipes:[g.X$],styles:['.mr-card-body[_ngcontent-%COMP%]{text-align:center}.description[_ngcontent-%COMP%]{font-weight:bold;font-family:"NunitoSans-Bold"}.hours[_ngcontent-%COMP%]{font-size:160%}.hours.delay[_ngcontent-%COMP%]{color:rgba(190,39,12,.973)}@media (min-width: 961px){.hours[_ngcontent-%COMP%]{font-weight:normal;font-size:32px;font-family:"NunitoSans-ExtraLight"}.hours.absence[_ngcontent-%COMP%], .hours.delay[_ngcontent-%COMP%]{color:inherit}}.description[_ngcontent-%COMP%]{font-size:90%}.link[_ngcontent-%COMP%]{cursor:pointer;color:#0c9abe!important}.mr-card-header[_ngcontent-%COMP%]{padding:10px}.description-small[_ngcontent-%COMP%]{font-size:10px;font-weight:bold;line-height:1.1em;white-space:normal;display:block;text-align:left}.cards-block[_ngcontent-%COMP%]{display:inline-block;width:45%;margin-right:10px}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;white-space:nowrap;height:125px;padding:0!important;margin-left:10px}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block}.row-title[_ngcontent-%COMP%]{padding:10px 5px}.row-description[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 360px){.qty-oncall-text[_ngcontent-%COMP%]{position:relative;bottom:10px}}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.center-text[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}.card-pending[_ngcontent-%COMP%]{cursor:pointer!important}[_nghost-%COMP%]     .card-well{height:118px;padding:0!important}@media (min-width: 961px){[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well{background:#ceeaf2}[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well .hours{font-weight:bold;font-family:"NunitoSans-Bold"}}']}),e}(),Re=r(2965),Ue=function(){var e=function(){function e(t){h(this,e),this.service=t,this.loading=!0,this.currentFilter={}}return d(e,[{key:"ngOnInit",value:function(){this.getAll()}},{key:"getAll",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.service.getAll(ie.N.loggedUser,e,!0);case 3:n=t.sent,this.response&&e&&e.page>1&&(n.items=[].concat(s(this.response.items),s(n.items))),this.response=n,this.currentFilter=null!=e?e:{},this.loading=!1;case 5:case"end":return t.stop()}},t,this)}))}},{key:"onGetAllRequested",value:function(e){this.getAll(e)}},{key:"onCreateRequisition",value:function(e){var t=this;this.service.createRequisitionsResponse(ie.N.loggedUser,e.line,e.approve,e.message,e.reprovedReason).then(function(){e.getAll&&(t.getAll(e.filter),t.dashboard.getAll(e.filter))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(Ae.w))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-management-request-on-call"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(Fe,5),2&e)&&(x.iGM(n=x.CRH())&&(t.dashboard=n.first))},decls:2,vars:5,consts:[[3,"currentFilter"],[3,"response","loading","currentFilter","viewApprove","onGetAllRequested","onCreateRequisition"]],template:function(e,t){1&e&&(x._UZ(0,"app-dashboard",0),x.TgZ(1,"app-occurrence-viewer",1),x.NdJ("onGetAllRequested",function(e){return t.onGetAllRequested(e)})("onCreateRequisition",function(e){return t.onCreateRequisition(e)}),x.qZA()),2&e&&(x.Q6J("currentFilter",t.currentFilter),x.xp6(1),x.Q6J("response",t.response)("loading",t.loading)("currentFilter",t.currentFilter)("viewApprove",!1))},directives:[Fe,Re.J],styles:[""]}),e}(),Je=r(5156),Ye=r(81059),Ee=r(40469),He=r(79765),Qe=r(69412),Be=function(){var e=function(){function e(t){h(this,e),this.shiftsUpdateService=t,this.lookupOpen=new He.xQ,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new He.xQ,this.emitModelObservable=this.emitModel.asObservable()}return d(e,[{key:"getFilteredItems",value:function(e){return this.lookupOpen.next(),(0,Qe.D)(this.shiftsUpdateService.searchShifts(e.page,e.pageSize,e.filter))}},{key:"getObjectByValue",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=n.replace(/\d+ - /,"");return(0,Qe.D)(this.shiftsUpdateService.searchShifts(1,5,i).then(function(n){return e=n.items[0],t.emitModel.next(e),e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.LFG(T))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Ge=d(function e(){h(this,e),this.shiftId=0,this.scheduleLabel=""}),ze=r(96054),Ve=r(84479),je=r(36812),$e=["shiftsUpdateForm"];function We(e,t){if(1&e&&(x.TgZ(0,"div",22),x.TgZ(1,"div",23),x._uU(2),x.ALo(3,"titleCase"),x.qZA(),x.TgZ(4,"div",24),x._uU(5),x.ALo(6,"titleCase"),x.qZA(),x.qZA()),2&e){var n=x.oxw(2);x.xp6(2),x.Oqu(x.lcZ(3,2,null==n.employeeData?null:n.employeeData.name)),x.xp6(3),x.Oqu(x.lcZ(6,4,null==n.employeeData?null:n.employeeData.roleDescription))}}function Xe(e,t){if(1&e&&(x.TgZ(0,"div",25),x.TgZ(1,"div",23),x.TgZ(2,"strong"),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.qZA(),x.TgZ(5,"div",24),x._uU(6),x.ALo(7,"titleCase"),x.qZA(),x.qZA()),2&e){var n=x.oxw(2);x.xp6(3),x.Oqu(x.lcZ(4,2,"l-colaborator")),x.xp6(3),x.Oqu(x.lcZ(7,4,null==n.employeeData?null:n.employeeData.name))}}function Ke(e,t){if(1&e&&(x.TgZ(0,"div",25),x.TgZ(1,"div",23),x.TgZ(2,"strong"),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.qZA(),x.TgZ(5,"div",24),x._uU(6),x.ALo(7,"titleCase"),x.qZA(),x.qZA()),2&e){var n=x.oxw(2);x.xp6(3),x.Oqu(x.lcZ(4,2,"l-role")),x.xp6(3),x.Oqu(x.lcZ(7,4,null==n.employeeData?null:n.employeeData.roleDescription))}}function et(e,t){if(1&e&&(x.TgZ(0,"app-card",17),x.TgZ(1,"div",18),x.TgZ(2,"div"),x._UZ(3,"div",19),x.qZA(),x.YNc(4,We,7,6,"div",20),x.YNc(5,Xe,8,6,"div",21),x.YNc(6,Ke,8,6,"div",21),x.qZA(),x.qZA()),2&e){var n=x.oxw();x.xp6(3),x.Udp("background-image",n.imageAvatar),x.xp6(1),x.Q6J("ngIf",n.viewIsMobile),x.xp6(1),x.Q6J("ngIf",!n.viewIsMobile),x.xp6(1),x.Q6J("ngIf",!n.viewIsMobile)}}function tt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",26),x.TgZ(1,"po-lookup",27),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().currentShift.shiftLabel=e})("p-selected",function(){return x.CHM(n),x.oxw().lookupSelectionChanged()}),x.ALo(2,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.s9C("p-label",x.lcZ(2,5,"l-shifts-shift")),x.Q6J("ngModel",i.currentShift.shiftLabel)("p-columns",i.lookupColumns)("p-literals",i.customLiterals)("p-filter-service",i.lookupService)}}function nt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",28),x.TgZ(1,"po-lookup",27),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().currentShift.shiftLabel=e})("p-selected",function(){return x.CHM(n),x.oxw().lookupSelectionChanged()}),x.ALo(2,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.s9C("p-label",x.lcZ(2,5,"l-shifts-shift")),x.Q6J("ngModel",i.currentShift.shiftLabel)("p-columns",i.lookupColumns)("p-literals",i.customLiterals)("p-filter-service",i.lookupService)}}function it(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",29),x.TgZ(1,"po-select",30),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().currentShift.scheduleId=e}),x.ALo(2,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.s9C("p-label",x.lcZ(2,4,"l-shifts-work-schedule")),x.Q6J("p-required",!0)("p-options",i.scheduleList)("ngModel",i.currentShift.scheduleId)}}function at(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",10),x.TgZ(1,"po-select",30),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().currentShift.scheduleId=e}),x.ALo(2,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.s9C("p-label",x.lcZ(2,4,"l-shifts-work-schedule")),x.Q6J("p-required",!0)("p-options",i.scheduleList)("ngModel",i.currentShift.scheduleId)}}function rt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",29),x.TgZ(1,"po-datepicker",31),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().editedDate=e}),x.ALo(2,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.s9C("p-label",x.lcZ(2,2,"l-shifts-initDate")),x.Q6J("ngModel",i.editedDate)}}function ot(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",10),x.TgZ(1,"po-datepicker",31),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().editedDate=e}),x.ALo(2,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.s9C("p-label",x.lcZ(2,2,"l-shifts-initDate")),x.Q6J("ngModel",i.editedDate)}}function st(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"tr",32),x.TgZ(1,"td",33),x._uU(2),x.qZA(),x.TgZ(3,"td",33),x.TgZ(4,"po-select",34),x.NdJ("ngModelChange",function(e){return x.CHM(n).$implicit.currentIntervalId=e})("p-change",function(){return x.CHM(n),x.oxw().intervalSelectionChanged()}),x.qZA(),x.qZA(),x.qZA()}if(2&e){var i=t.$implicit;x.xp6(2),x.Oqu(null==i?null:i.text),x.xp6(2),x.MGl("name","intervalId_",i.id,""),x.MGl("id","intervalId_",i.id,""),x.Q6J("ngModel",i.currentIntervalId)("p-options",i.options)}}function lt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",35),x.TgZ(1,"div",36),x.TgZ(2,"po-button",37),x.NdJ("p-click",function(){return x.CHM(n),x.oxw().back()}),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"po-button",38),x.NdJ("p-click",function(){return x.CHM(n),x.oxw().send()}),x.ALo(5,"translate"),x.qZA(),x.qZA(),x.qZA()}if(2&e){x.oxw();var i=x.MAs(5);x.xp6(2),x.s9C("p-label",x.lcZ(3,3,"l-cancel")),x.xp6(2),x.s9C("p-label",x.lcZ(5,5,"l-save")),x.Q6J("p-disabled",!i.form.valid)}}function ct(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",35),x.TgZ(1,"po-button",39),x.NdJ("p-click",function(){return x.CHM(n),x.oxw().send()}),x.ALo(2,"translate"),x.qZA(),x.TgZ(3,"po-button",40),x.NdJ("p-click",function(){return x.CHM(n),x.oxw().back()}),x.ALo(4,"translate"),x.qZA(),x.qZA()}if(2&e){x.oxw();var i=x.MAs(5);x.xp6(1),x.s9C("p-label",x.lcZ(2,3,"l-save")),x.Q6J("p-disabled",!i.form.valid),x.xp6(2),x.s9C("p-label",x.lcZ(4,5,"l-cancel"))}}var ut=function(){var t=function(t){n(r,t);var i=a(r);function r(e,t,n,a,o,s){var l;return h(this,r),(l=i.call(this)).shiftsUpdateService=e,l.notificationService=t,l.translateService=n,l.windowUtilService=a,l.lookupService=o,l.menuApplicationService=s,l.loading=!0,l.page=1,l.pageSize=5,l.currentShift=new Ge,l.scheduleList=[],l.shiftList=[],l.shiftChangedDate=!1,l.shiftChangedWorkSchedule=!1,l.closeUpdate=new x.vpe,l.showToast=new x.vpe,l}return d(r,[{key:"ngOnInit",value:function(){e(o(r.prototype),"ngOnInit",this).call(this),this.setModalSearchPlaceholder(),this.loading=!1}},{key:"loadCurrentShift",value:function(e,t,n){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:this.employeeData=e,this.employeeId=this.employeeData.id,this.imageAvatar=t,this.originalData=n,this.selectedShiftId=n.shift.id,this.formController.value.shiftId=n.shift.id,this.loadData(),this.loadShiftDependencies(n.shift.id),this.initLookup(),this.startSubscriptions();case 1:case"end":return i.stop()}},i,this)}))}},{key:"loadData",value:function(){var e=this;this.currentShift={shiftId:Number(this.originalData.shift.id),shiftLabel:"".concat(this.originalData.shift.id," - ").concat(this.originalData.shift.label),scheduleLabel:"".concat(this.originalData.schedule.id," - ").concat(this.originalData.schedule.label),initDate:new Date(this.originalData.initDate),scheduleId:Number(this.originalData.schedule.id),workdays:[]},this.setShiftvalue(this.currentShift),Array.from(this.originalData.workdays).forEach(function(t){e.currentShift.workdays.push({intervalId:Number(t.currentIntervalId),workdayId:Number(t.id)})})}},{key:"setWorkDaysList",value:function(e){var t=[];e.forEach(function(e){var n={id:e.id,text:"",options:[],currentIntervalId:e.currentIntervalId};n.text="".concat(e.id," - ").concat(e.label),e.interval.forEach(function(e){n.options.push({value:e.id,label:"".concat(e.id," - ").concat(e.label)})}),t.push(n)}),this.currentWorkdays=t}},{key:"getWorkdayRequestList",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.shiftsUpdateService.getWorkdayIds(e);case 2:return t.t0=t.sent.map(function(e){return{workdayId:e}}),t.abrupt("return",{workdays:t.t0});case 4:case"end":return t.stop()}},t,this)}))}},{key:"getIntervals",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getWorkdayRequestList(e);case 2:return n=t.sent,t.next=5,this.shiftsUpdateService.getIntervals(this.employeeId,e,n);case 5:i=t.sent,this.setWorkDaysList(i.items);case 7:case"end":return t.stop()}},t,this)}))}},{key:"lookupSelectionChanged",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.menuApplicationService.showMenu(),t=this.formController.form,n="number"!=typeof t.value.shiftId?this.originalData.shift.id:t.value.shiftId,this.shiftChangedDate="object"!=typeof t.value.shiftId&&Number(this.selectedShiftId)!==Number(this.originalData.shift.id),this.editedDate=re.Em.returnDateStringPODatepicker(new Date),this.currentShift.shiftId=n,e.next=7,this.loadShiftDependencies(n);case 7:Number(n)===Number(this.originalData.shift.id)?(this.currentShift.scheduleId=Number(this.originalData.schedule.id),this.currentShift.scheduleLabel="".concat(this.originalData.schedule.id," - ").concat(this.originalData.schedule.label)):(this.currentShift.scheduleId=null,this.currentShift.scheduleLabel="");case 8:case"end":return e.stop()}},e,this)}))}},{key:"loadShiftDependencies",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSchedules(e);case 2:return t.next=4,this.getIntervals(e);case 4:case"end":return t.stop()}},t,this)}))}},{key:"intervalSelectionChanged",value:function(){this.shiftChangedDate=!0}},{key:"searchShifts",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Array,t.next=3,this.shiftsUpdateService.searchShifts(this.page,this.pageSize,e);case 3:(i=t.sent)&&Array.from(i.items).forEach(function(e,t){n.push({value:e.id,label:"".concat(e.id," - ").concat(e.label)})}),this.shiftList=n;case 5:case"end":return t.stop()}},t,this)}))}},{key:"getSchedules",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Array,t.next=3,this.shiftsUpdateService.getSchedules(void 0,void 0,e);case 3:(i=t.sent)&&Array.from(i.items).forEach(function(e){n.push({value:Number(e.id),label:"".concat(e.id," - ").concat(e.label)})}),this.scheduleList=n;case 5:case"end":return t.stop()}},t,this)}))}},{key:"fieldFormat",value:function(e){return"".concat(e.id," - ").concat(e.label)}},{key:"send",value:function(){var e=this;this.output={shiftId:this.currentShift.shiftId,scheduleId:this.currentShift.scheduleId,initDate:new Date(this.editedDate),workdays:this.prepareWorkDays(this.formController.form.value)},this.shiftsUpdateService.updateShift(this.employeeId,this.output).then(function(){e.formController.resetForm(),e.back(!0)}).catch(function(t){return e.translateService.getI18n("l-shifts-update-error").then(function(t){e.notificationService.showNotification(t,f.ik9.Error)})})}},{key:"back",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.formController.resetForm(),this.shiftChangedDate=!1,this.shiftChangedWorkSchedule=!1,t&&this.translateService.getI18n("l-shifts-update-success").then(function(t){e.notificationService.showNotification(t,f.ik9.Success)}),this.scheduleList=[],this.employeeId?this.closeUpdate.emit():this.windowUtilService.back()}},{key:"setShiftvalue",value:function(e){this.currentShift.shiftLabel=e.shiftLabel,this.lookup.selectValue({id:e.shiftLabel}),this.lookup.setViewValue(e.shiftLabel,{})}},{key:"initLookup",value:function(){var e=this;this.lookupColumns=[{property:"id",label:"id",fieldLabel:!0,width:"100px"},{property:"label",label:"l-shifts-shift",fieldLabel:!0,width:"auto"}],this.lookupColumns.forEach(function(t){e.translateService.getI18n(t.label).then(function(e){t.label=e})})}},{key:"startSubscriptions",value:function(){var e=this;this.lookupService.lookupOpenObservable.subscribe(function(){e.menuApplicationService.hideMenu()}),this.lookupService.emitModelObservable.subscribe(function(t){e.currentShift.shiftLabel=t}),this.formController.form.get("shiftId")&&this.formController.form.get("shiftId").valueChanges.subscribe(function(t){t&&(e.selectedShiftId=t)})}},{key:"prepareWorkDays",value:function(e){var t=[];return Object.keys(e).filter(function(e){return e.includes("intervalId")}).forEach(function(n){var i=e[n],a=n.split("_")[1];t.push({workdayId:Number(a),intervalId:Number(i)})}),t}},{key:"setModalSearchPlaceholder",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateService.getI18n("l-search-for-shift");case 2:e.t0=e.sent,this.customLiterals={modalPlaceholder:e.t0};case 4:case"end":return e.stop()}},e,this)}))}}]),r}(Ye.R);return t.\u0275fac=function(e){return new(e||t)(x.Y36(T),x.Y36(ze.g),x.Y36(ge.g),x.Y36(Ve.g),x.Y36(Be),x.Y36(Ee.Kv))},t.\u0275cmp=x.Xpm({type:t,selectors:[["app-team-shifts-update"]],viewQuery:function(e,t){var n;(1&e&&(x.Gf($e,5),x.Gf(f.za1,5)),2&e)&&(x.iGM(n=x.CRH())&&(t.formController=n.first),x.iGM(n=x.CRH())&&(t.lookup=n.first))},outputs:{closeUpdate:"closeUpdate",showToast:"showToast"},features:[x.qOj],decls:28,vars:17,consts:[["pageTitle","l-shifts-change-shift",3,"backIsVisible","backFunction"],[1,"po-row","po-mb-2"],["class","po-col-12 card-employee",4,"ngIf"],["shiftsUpdateForm","ngForm"],[1,"po-row","header-divider","po-pt-2","panel-body","po-xs-hidden","po-sm-hidden","po-md-12","po-lg-12","po-xl-12"],[1,"center-block","po-xs-12","po-sm-12","po-md-8","po-lg-6","po-xl-6"],["class","po-sm-12 po-md-12 po-lg-12 lookup-container",4,"ngIf"],["class","po-12 lookup-container",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12",4,"ngIf"],["class","po-12",4,"ngIf"],[1,"po-12"],["ng-init","current = 0",1,"workdays-panel","table"],[1,"column-header"],[1,"custom-tr"],[1,"shifts-label-column"],["ngFor","",3,"ngForOf"],["class","po-row",4,"ngIf"],[1,"po-col-12","card-employee"],["card-header","",1,"shifts-header","mr-card-header"],[1,"avatar","avatar-medium","avatar-align"],["class","card-header-item mobile",4,"ngIf"],["class","card-header-item",4,"ngIf"],[1,"card-header-item","mobile"],[1,"title"],[1,"office"],[1,"card-header-item"],[1,"po-sm-12","po-md-12","po-lg-12","lookup-container"],["p-field-value","id","p-field-label","label","name","shiftId","id","shiftId",3,"ngModel","p-columns","p-label","p-literals","p-filter-service","ngModelChange","p-selected"],[1,"po-12","lookup-container"],[1,"po-sm-12","po-md-12","po-lg-12"],["id","scheduleId","name","scheduleId",3,"p-required","p-options","ngModel","p-label","ngModelChange"],["name","initDatePicker","id","initDate","name","initDate","p-clean","true","p-required","true",3,"p-label","ngModel","ngModelChange"],[1,"custom-tr","hover-design"],[1,"column"],["p-required","true","ngDefaultControl","",3,"name","id","ngModel","p-options","ngModelChange","p-change"],[1,"po-row"],[1,"center-block","text-right","po-xs-12","po-sm-12","po-md-8","po-lg-6","po-xl-6"],[1,"po-mr-2",3,"p-label","p-click"],["p-type","primary","p-primary","true",3,"p-label","p-disabled","p-click"],["p-primary","true","p-type","primary",1,"mobile-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-disabled","p-click"],["p-primary","true",1,"mobile-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-click"]],template:function(e,t){1&e&&(x.TgZ(0,"app-page-header",0),x.NdJ("backFunction",function(){return t.back()}),x.qZA(),x.TgZ(1,"div",1),x.YNc(2,et,7,5,"app-card",2),x.qZA(),x.TgZ(3,"div"),x.TgZ(4,"form",null,3),x.TgZ(6,"div",4),x.TgZ(7,"div",5),x.YNc(8,tt,3,7,"div",6),x.YNc(9,nt,3,7,"div",7),x.YNc(10,it,3,6,"div",8),x.YNc(11,at,3,6,"div",9),x.YNc(12,rt,3,4,"div",8),x.YNc(13,ot,3,4,"div",9),x.TgZ(14,"div",10),x.TgZ(15,"table",11),x.TgZ(16,"thead",12),x.TgZ(17,"tr",13),x.TgZ(18,"th",14),x._uU(19),x.ALo(20,"translate"),x.qZA(),x.TgZ(21,"th",14),x._uU(22),x.ALo(23,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(24,"tbody"),x.YNc(25,st,5,5,"ng-template",15),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.YNc(26,lt,6,7,"div",16),x.YNc(27,ct,5,7,"div",16),x.qZA(),x.qZA(),x.qZA()),2&e&&(x.Q6J("backIsVisible",!0),x.xp6(2),x.Q6J("ngIf",t.employeeId),x.xp6(6),x.Q6J("ngIf",t.viewIsMobile),x.xp6(1),x.Q6J("ngIf",!t.viewIsMobile),x.xp6(1),x.Q6J("ngIf",t.viewIsMobile),x.xp6(1),x.Q6J("ngIf",!t.viewIsMobile),x.xp6(1),x.Q6J("ngIf",t.viewIsMobile),x.xp6(1),x.Q6J("ngIf",!t.viewIsMobile),x.xp6(6),x.Oqu(x.lcZ(20,13,"l-shifts-workday")),x.xp6(3),x.Oqu(x.lcZ(23,15,"l-shifts-interval")),x.xp6(3),x.Q6J("ngForOf",t.currentWorkdays),x.xp6(1),x.Q6J("ngIf",!t.viewIsMobile),x.xp6(1),x.Q6J("ngIf",t.viewIsMobile))},directives:[je.q,u.O5,p._Y,p.JL,p.F,u.sg,oe.A,f.za1,p.JJ,p.On,f.C9q,f.GWy,p.Fj,f.bOz],pipes:[g.X$,be.r],styles:["[_nghost-%COMP%]     .card-employee{flex:1;margin-top:10px}[_nghost-%COMP%]     .card-employee .shifts-header{display:flex;align-items:center;justify-content:flex-start}[_nghost-%COMP%]     .card-employee .shifts-header .card-header-item{margin:1em 2em 1em .75em}[_nghost-%COMP%]     .card-employee .shifts-header .card-header-item .title{font-size:10pt;font-weight:bold;color:#666}[_nghost-%COMP%]     .card-employee .shifts-header .card-header-item.mobile .title{font-size:12pt;font-weight:bold;color:#666}[_nghost-%COMP%]     .card-employee .shifts-header .card-header-item.mobile .office{font-size:10pt;color:#888}.center-block[_ngcontent-%COMP%]{margin:0 auto}.workdays-panel[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:50%}.workdays-panel[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-right:0}.po-select-item-selected[_ngcontent-%COMP%] > .po-select-item[_ngcontent-%COMP%]{background-color:#666}.shifts-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;line-height:2;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.shifts-label-title[_ngcontent-%COMP%]{color:#0c9abe}.custom-tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}.custom-tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #649b9b}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px!important;word-wrap:break-word}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;text-align:left;white-space:nowrap;padding:10px 10px 0}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:0}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.mat-expansion-panel[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:1.5em}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{margin-bottom:-20px}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:1.75em}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe}.next-periods[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.next-periods[_ngcontent-%COMP%]   .spinner-img[_ngcontent-%COMP%]{width:2em;height:auto}.next-periods.mobile[_ngcontent-%COMP%]{margin-bottom:calc(2em + 60px)}.dropdown-shifts-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.shifts-content[_ngcontent-%COMP%]{padding:0 24px}.shifts-value[_ngcontent-%COMP%]{float:right;color:#2b3639;font-weight:bold}.shifts-label[_ngcontent-%COMP%]{color:#4a5c60}[_nghost-%COMP%]     po-button.change-shift-button-mobile{display:flex;padding:1em;height:5.5em}[_nghost-%COMP%]     po-button.change-shift-button-mobile button{height:4em}[_nghost-%COMP%]     po-button.change-shift-button{float:right;margin-bottom:1em}[_nghost-%COMP%]     po-button.change-shift-button button{padding:0 2em}.change-shift-mobile[_ngcontent-%COMP%]{position:fixed;background-color:#fff;bottom:60px;width:calc(100% - 2em)}.lookup-container[_ngcontent-%COMP%]{margin-bottom:.5em}.form-desc[_ngcontent-%COMP%]{color:#0c9abe;margin-bottom:.5em}[_nghost-%COMP%]     po-button.mobile-btn{height:4.5em}[_nghost-%COMP%]     po-button.mobile-btn button{height:4em}[_nghost-%COMP%]     po-button.mobile-btn:first-child{margin-top:3em}[_nghost-%COMP%]     po-button.mobile-btn:last-child button{border:0}"]}),t}(),pt=r(88002),dt=r(20307),ht=r(16738),mt=function(){var e=function(){function e(){h(this,e)}return d(e,[{key:"transform",value:function(e,t){return ht(e.split("T")[0],"YYYY-MM-DD",!0).isValid()?re.Em.momentFormat(e,t):"invalid date"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"formatDate",type:e,pure:!0}),e}(),gt=function(){var e=function(){function e(){h(this,e)}return d(e,[{key:"isIdLabel",value:function(e){return!!e.label}},{key:"transform",value:function(e,t){return this.isIdLabel(e)?"labelOnly"===t?e.label:"".concat(e.id," - ").concat(e.label):"invalid GenericIdLabel"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=x.Yjl({name:"idLabel",type:e,pure:!0}),e}();function ft(e,t){if(1&e&&x._UZ(0,"app-card-employee",6),2&e){var n=x.oxw(2);x.Q6J("image",n.imageAvatar)("name",null==n.employeeData?null:n.employeeData.name)("role",null==n.employeeData?null:n.employeeData.roleDescription)("status",null==n.employeeData?null:n.employeeData.employeeStatus)}}function vt(e,t){1&e&&x._UZ(0,"span",24)}function bt(e,t){1&e&&x._UZ(0,"span",25)}function yt(e,t){if(1&e&&(x.TgZ(0,"mat-expansion-panel",12,13),x.TgZ(2,"mat-expansion-panel-header",14),x.TgZ(3,"mat-panel-title"),x.TgZ(4,"div"),x.TgZ(5,"span",15),x._uU(6),x.ALo(7,"formatDate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(8,"mat-panel-description",16),x.TgZ(9,"div",17),x.YNc(10,vt,1,0,"span",18),x.YNc(11,bt,1,0,"span",19),x.qZA(),x.qZA(),x.qZA(),x.TgZ(12,"span"),x._UZ(13,"hr",20),x.TgZ(14,"div",21),x.TgZ(15,"span",22),x._uU(16),x.ALo(17,"translate"),x.qZA(),x.TgZ(18,"span",23),x._uU(19),x.ALo(20,"idLabel"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(21,"span"),x._UZ(22,"hr",20),x.TgZ(23,"div",21),x.TgZ(24,"span",22),x._uU(25),x.ALo(26,"translate"),x.qZA(),x.TgZ(27,"span",23),x._uU(28),x.ALo(29,"idLabel"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(30,"span"),x._UZ(31,"hr",20),x.TgZ(32,"div",21),x.TgZ(33,"span",22),x._uU(34),x.ALo(35,"translate"),x.qZA(),x.TgZ(36,"span",23),x._uU(37),x.ALo(38,"formatDate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(39,"span"),x._UZ(40,"hr",20),x.TgZ(41,"div",21),x.TgZ(42,"span",22),x._uU(43),x.ALo(44,"translate"),x.qZA(),x.TgZ(45,"span",23),x._uU(46),x.ALo(47,"formatDate"),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=x.MAs(1);x.xp6(6),x.Oqu(x.xi3(7,11,null==n?null:n.assignDate,"dayMonth")),x.xp6(4),x.Q6J("ngIf",i.expanded),x.xp6(1),x.Q6J("ngIf",!i.expanded),x.xp6(5),x.Oqu(x.lcZ(17,14,"l-shifts-shift")),x.xp6(3),x.Oqu(x.lcZ(20,16,null==n?null:n.shift)),x.xp6(6),x.Oqu(x.lcZ(26,18,"l-shifts-schedule")),x.xp6(3),x.Oqu(x.lcZ(29,20,null==n?null:n.schedule)),x.xp6(6),x.Oqu(x.lcZ(35,22,"l-shifts-initDate")),x.xp6(3),x.Oqu(x.lcZ(38,24,null==n?null:n.initDate)),x.xp6(6),x.Oqu(x.lcZ(44,26,"l-shifts-endDate")),x.xp6(3),x.Oqu(x.lcZ(47,28,null==n?null:n.endDate))}}function xt(e,t){1&e&&x._UZ(0,"img",28)}function wt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",26),x.NdJ("click",function(){return x.CHM(n),x.oxw(3).viewMore()}),x.YNc(1,xt,1,0,"img",27),x.TgZ(2,"a"),x._uU(3),x.ALo(4,"translate"),x.qZA(),x.qZA()}if(2&e){var i=x.oxw(3);x.xp6(1),x.Q6J("ngIf",i.loading),x.xp6(2),x.hij("",x.lcZ(4,2,"l-load-more")," ")}}function kt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"mat-accordion",7),x.YNc(1,yt,48,30,"mat-expansion-panel",8),x.YNc(2,wt,5,4,"div",9),x.TgZ(3,"div",10),x.TgZ(4,"po-button",11),x.NdJ("click",function(){x.CHM(n);var e=x.oxw(2);return e.openUpdateShift(e.employeeData)}),x.ALo(5,"translate"),x.qZA(),x.qZA(),x.qZA()}if(2&e){var i=x.oxw(2);x.xp6(1),x.Q6J("ngForOf",i.items),x.xp6(1),x.Q6J("ngIf",i.hasNext),x.xp6(2),x.s9C("p-label",x.lcZ(5,3,"l-shifts-change-shift"))}}function Zt(e,t){if(1&e&&(x.TgZ(0,"tr",39),x.TgZ(1,"td",40),x.TgZ(2,"div",41),x._uU(3),x.ALo(4,"formatDate"),x.qZA(),x.TgZ(5,"div",42),x._uU(6),x.ALo(7,"formatDate"),x.qZA(),x.qZA(),x.TgZ(8,"td",43),x._uU(9),x.ALo(10,"idLabel"),x.qZA(),x.TgZ(11,"td",43),x._uU(12),x.ALo(13,"idLabel"),x.qZA(),x.TgZ(14,"td",43),x._uU(15),x.ALo(16,"formatDate"),x.qZA(),x.TgZ(17,"td",43),x._uU(18),x.ALo(19,"formatDate"),x.qZA(),x.qZA()),2&e){var n=t.$implicit;x.xp6(3),x.Oqu(x.xi3(4,6,null==n?null:n.assignDate,"dayMonth")),x.xp6(3),x.Oqu(x.xi3(7,9,null==n?null:n.assignDate,"weekday")),x.xp6(3),x.Oqu(x.lcZ(10,12,null==n?null:n.shift)),x.xp6(3),x.Oqu(x.lcZ(13,14,null==n?null:n.schedule)),x.xp6(3),x.Oqu(x.lcZ(16,16,null==n?null:n.initDate)),x.xp6(3),x.Oqu(x.lcZ(19,18,null==n?null:n.endDate))}}function Ct(e,t){1&e&&x._UZ(0,"img",28)}function Mt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"a",46),x.NdJ("click",function(){return x.CHM(n),x.oxw(4).viewMore()}),x._uU(1),x.ALo(2,"translate"),x.qZA()}2&e&&(x.xp6(1),x.Oqu(x.lcZ(2,1,"l-view-more")))}function At(e,t){if(1&e&&(x.TgZ(0,"div",44),x.YNc(1,Ct,1,0,"img",27),x.YNc(2,Mt,3,3,"a",45),x.qZA()),2&e){var n=x.oxw(3);x.xp6(1),x.Q6J("ngIf",n.loading),x.xp6(1),x.Q6J("ngIf",!n.loading)}}function St(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",29),x.TgZ(1,"div",30),x.TgZ(2,"div",31),x.TgZ(3,"po-button",32),x.NdJ("click",function(){x.CHM(n);var e=x.oxw(2);return e.openUpdateShift(e.employeeData)}),x.ALo(4,"translate"),x.qZA(),x.TgZ(5,"table",33),x.TgZ(6,"thead",34),x.TgZ(7,"tr",35),x.TgZ(8,"th",36),x._uU(9),x.ALo(10,"translate"),x.qZA(),x.TgZ(11,"th",36),x._uU(12),x.ALo(13,"translate"),x.qZA(),x.TgZ(14,"th",36),x._uU(15),x.ALo(16,"translate"),x.qZA(),x.TgZ(17,"th",36),x._uU(18),x.ALo(19,"translate"),x.qZA(),x.TgZ(20,"th",36),x._uU(21),x.ALo(22,"translate"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(23,"tbody"),x.YNc(24,Zt,20,20,"tr",37),x.qZA(),x.qZA(),x.YNc(25,At,3,2,"div",38),x.qZA(),x.qZA(),x.qZA()}if(2&e){var i=x.oxw(2);x.xp6(3),x.s9C("p-label",x.lcZ(4,8,"l-shifts-change-shift")),x.xp6(6),x.Oqu(x.lcZ(10,10,"l-shifts-assignDate")),x.xp6(3),x.Oqu(x.lcZ(13,12,"l-shifts-shift")),x.xp6(3),x.Oqu(x.lcZ(16,14,"l-shifts-schedule")),x.xp6(3),x.Oqu(x.lcZ(19,16,"l-shifts-initDate")),x.xp6(3),x.Oqu(x.lcZ(22,18,"l-shifts-endDate")),x.xp6(3),x.Q6J("ngForOf",i.items),x.xp6(1),x.Q6J("ngIf",i.hasNext)}}function Tt(e,t){if(1&e&&(x.TgZ(0,"div"),x._UZ(1,"app-page-header",2),x.YNc(2,ft,1,4,"app-card-employee",3),x.YNc(3,kt,6,5,"mat-accordion",4),x.YNc(4,St,26,20,"div",5),x.qZA()),2&e){var n=x.oxw();x.xp6(1),x.Q6J("backIsVisible",!0),x.xp6(1),x.Q6J("ngIf",n.employeeData),x.xp6(1),x.Q6J("ngIf",n.viewIsMobile),x.xp6(1),x.Q6J("ngIf",!n.viewIsMobile)}}var Ot=function(){var t=function(t){n(r,t);var i=a(r);function r(e,t,n,a){var o;return h(this,r),(o=i.call(this)).shiftsService=e,o.teamManagementService=t,o.activatedRoute=n,o.router=a,o.loading=!0,o.page=1,o.pageSize=5,o.items=[],o.viewIsTeamManagement=!1,o.close=new x.vpe,o}return d(r,[{key:"ngOnInit",value:function(){e(o(r.prototype),"ngOnInit",this).call(this),this.subscribeToActivatedRoute(),this.loading=!1}},{key:"ngOnDestroy",value:function(){!0===this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),null!=this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}},{key:"teamManagementShifts",value:function(){var e=this.teamManagementService.getEmployeeCard(),t=e.employee,n=e.image;this.items=[],this.employeeData=t,this.imageAvatar=n,this.loadData(this.page,this.pageSize)}},{key:"loadData",value:function(e,t){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.loading=!0,this.employeeData&&(this.employeeId=this.employeeData.id),this.shiftsService.getItems(e,t,this.employeeId).then(function(e){e&&(i.items=i.page>1?i.items.concat(e.items):Array.from(e.items),i.hasNext=e.hasNext),i.loading=!1}).catch(function(e){i.loading=!1,console.error(e)});case 1:case"end":return n.stop()}},n,this)}))}},{key:"viewMore",value:function(){this.page++,this.loadData(this.page,this.pageSize)}},{key:"closeUpdateShift",value:function(){this.showUpdateShift=!1,this.loadData(1,this.pageSize)}},{key:"openUpdateShift",value:function(e){var t=this.selectItem();this.shiftsUpdate.loadCurrentShift(e,this.imageAvatar,t),this.showUpdateShift=!0}},{key:"selectItem",value:function(){var e=new Date;e.setDate(e.getDate()+365);var t,n=0;return this.items.forEach(function(i){new Date(i.initDate)<e&&n<1&&(n++,t=i)}),t}},{key:"subscribeToActivatedRoute",value:function(){var e=this;this.routeDataSubscription=this.activatedRoute.data.pipe((0,pt.U)(function(e){return e.management})).subscribe(function(t){if(e.viewIsTeamManagement=t,t){if(null==e.teamManagementService.getEmployeeCard().employee)return void e.router.navigateByUrl("teamManagement");e.teamManagementShifts()}})}}]),r}(Ye.R);return t.\u0275fac=function(e){return new(e||t)(x.Y36(Z),x.Y36(F.C),x.Y36(H.gz),x.Y36(H.F0))},t.\u0275cmp=x.Xpm({type:t,selectors:[["app-team-shifts"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(ut,5),2&e)&&(x.iGM(n=x.CRH())&&(t.shiftsUpdate=n.first))},outputs:{close:"close"},features:[x.qOj],decls:2,vars:2,consts:[[4,"ngIf"],[3,"hidden","closeUpdate"],["pageTitle","l-view-work-shifts",3,"backIsVisible"],[3,"image","name","role","status",4,"ngIf"],["class","po-12 no-padding",4,"ngIf"],["class","po-row",4,"ngIf"],[3,"image","name","role","status"],[1,"po-12","no-padding"],["hideToggle","true",4,"ngFor","ngForOf"],["class","next-periods mobile",3,"click",4,"ngIf"],[1,"change-shift-mobile"],["p-type","primary",1,"po-md-12","change-shift-button-mobile",3,"p-label","click"],["hideToggle","true"],["dropdown",""],[1,"dropdown-shifts-header"],[1,"shifts-label-title"],[1,"specific-class"],[1,"right-align"],["class","icon-arrow up",4,"ngIf"],["class","icon-arrow down",4,"ngIf"],[1,"line"],[1,"shifts-content"],[1,"shifts-label"],[1,"shifts-value"],[1,"icon-arrow","up"],[1,"icon-arrow","down"],[1,"next-periods","mobile",3,"click"],["class","spinner-img","src","../../../assets/img/loading.gif",4,"ngIf"],["src","../../../assets/img/loading.gif",1,"spinner-img"],[1,"po-row"],[1,"header-divider","panel-body","po-xs-hidden","po-sm-hidden","po-md-12","po-lg-12","po-xl-12"],[1,"tableshifts"],["p-type","primary",1,"change-shift-button",3,"p-label","click"],["ng-init","current = 0",1,"shifts-panel","table"],[1,"column-header"],[1,"custom-tr"],[1,"shifts-label-column"],["class","custom-tr hover-design",4,"ngFor","ngForOf"],["class","next-periods",4,"ngIf"],[1,"custom-tr","hover-design"],[1,"column-date"],[1,"big-date"],[1,"weekday"],[1,"column"],[1,"next-periods"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(x.YNc(0,Tt,5,4,"div",0),x.TgZ(1,"app-team-shifts-update",1),x.NdJ("closeUpdate",function(){return t.closeUpdateShift()}),x.qZA()),2&e&&(x.Q6J("ngIf",!t.showUpdateShift),x.xp6(1),x.Q6J("hidden",!t.showUpdateShift))},directives:[u.O5,ut,je.q,dt.x,m.pp,u.sg,f.bOz,m.ib,m.yz,m.yK,m.u4],pipes:[g.X$,mt,gt],styles:[".tableshifts[_ngcontent-%COMP%]{margin-top:1em;padding:10px}.tableshifts[_ngcontent-%COMP%]   .shifts-panel[_ngcontent-%COMP%]{margin-bottom:0}.tableshifts[_ngcontent-%COMP%]   .shifts-panel[_ngcontent-%COMP%]   .column-date[_ngcontent-%COMP%]   .big-date[_ngcontent-%COMP%]{font-size:20px;padding:10px 0 5px;color:#0c9abe}.tableshifts[_ngcontent-%COMP%]   .shifts-panel[_ngcontent-%COMP%]   .column-date[_ngcontent-%COMP%]   .weekday[_ngcontent-%COMP%]{color:#888}.shifts-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;line-height:2;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.shifts-label-title[_ngcontent-%COMP%]{color:#0c9abe}.custom-tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}.custom-tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #649b9b}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px!important;word-wrap:break-word}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:0}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px;text-align:left;white-space:nowrap;padding:10px 10px 0}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:0}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.mat-expansion-panel[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:1.5em}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{margin-bottom:-20px}.mat-expansion-panel.mat-expanded[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:1.75em}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe}.next-periods[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.next-periods[_ngcontent-%COMP%]   .spinner-img[_ngcontent-%COMP%]{width:2em;height:auto}.next-periods.mobile[_ngcontent-%COMP%]{margin-bottom:calc(2em + 60px)}.dropdown-shifts-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.shifts-content[_ngcontent-%COMP%]{padding:0 24px}.shifts-value[_ngcontent-%COMP%]{float:right;color:#2b3639;font-weight:bold}.shifts-label[_ngcontent-%COMP%]{color:#4a5c60}[_nghost-%COMP%]     po-button.change-shift-button-mobile{display:flex;padding:1em;height:5.5em}[_nghost-%COMP%]     po-button.change-shift-button-mobile button{height:4em}[_nghost-%COMP%]     po-button.change-shift-button{float:right;margin-bottom:1em}[_nghost-%COMP%]     po-button.change-shift-button button{padding:0 2em}.change-shift-mobile[_ngcontent-%COMP%]{position:fixed;background-color:#fff;bottom:60px;width:calc(100% - 2em)}"]}),t}(),qt=r(85647),Pt=r(14833),It=["childTable"];function _t(e,t){1&e&&x.GkF(0)}var Dt=function(e){return{$implicit:e}};function Lt(e,t){if(1&e&&x.YNc(0,_t,1,0,"ng-container",4),2&e){var n=t.$implicit,i=x.oxw().$implicit;x.Q6J("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",x.VKq(2,Dt,n))}}function Nt(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Lt,1,4,"ng-template",3),x.BQk()),2&e){var n=t.$implicit;x.xp6(1),x.Q6J("p-property",n.targetProperty)}}function Ft(e,t){1&e&&x.GkF(0)}function Rt(e,t){if(1&e&&x.YNc(0,Ft,1,0,"ng-container",4),2&e){var n=t.$implicit,i=x.oxw().$implicit;x.Q6J("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",x.VKq(2,Dt,n))}}function Ut(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Rt,1,4,"ng-template",3),x.BQk()),2&e){var n=t.$implicit;x.xp6(1),x.Q6J("p-property",n.targetProperty)}}function Jt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"app-recursive-table",5,6),x.NdJ("showMore",function(){var e=x.CHM(n).$implicit;return x.oxw().internalShowMoreChild(e)})("showMoreChild",function(e){return x.CHM(n),x.oxw().internalShowMoreChild(e)})("expanded",function(e){return x.CHM(n),x.oxw().internalExpanded(e)})("allSelected",function(e){return x.CHM(n),x.oxw().internalAllSelected(e)})("allUnselected",function(e){return x.CHM(n),x.oxw().internalAllUnselected(e)})("unselected",function(e){return x.CHM(n),x.oxw().internalUnselected(e)})("selected",function(e){return x.CHM(n),x.oxw().internalSelected(e)})("sortBy",function(e){return x.CHM(n),x.oxw().sortByChild(e)}),x.YNc(2,Ut,2,1,"ng-container",1),x.qZA()}if(2&e){var i=t.$implicit,a=x.oxw();x.Q6J("columns",a.columns)("items",a.getExpandedItems(i))("loading",a.firstTable&&a.loading)("showMoreDisabled",a.getShowMoreDisabled(i))("actions",a.actions)("showExpand",a.showExpand)("hideSelectAll",!1)("hideTextOverflow",a.hideTextOverflow)("selectable",a.selectable)("firstTable",!1)("getExpandedItems",a.getExpandedItems)("getShowMoreDisabled",a.getShowMoreDisabled),x.xp6(2),x.Q6J("ngForOf",a.tableColumnTemplates)}}var Yt=function(){var e=function(){function e(){h(this,e),this.columns=[],this.items=[],this.firstTable=!0,this.isActiveTable=!1,this.showMoreIsVisible=!0,this.actions=[],this.showMore=new x.vpe,this.showMoreChild=new x.vpe,this.expanded=new x.vpe,this.collapsed=new x.vpe,this.allSelected=new x.vpe,this.allUnselected=new x.vpe,this.unselected=new x.vpe,this.selected=new x.vpe,this.sortEmitter=new x.vpe,this.showExpand=function(){return!1},this.getExpandedItems=function(){return[]},this.getShowMoreDisabled=function(){return!0}}return d(e,[{key:"ngOnInit",value:function(){}},{key:"sortBy",value:function(e){this.sortEmitter.emit({sort:e,recursiveTable:this})}},{key:"sortByChild",value:function(e){this.sortEmitter.emit(e)}},{key:"internalShowMore",value:function(e){this.showMore.next(e)}},{key:"internalExpanded",value:function(e){this.showMoreIsVisible=!1,this.expanded.next(e)}},{key:"getVisible",value:function(){return this.showMoreIsVisible||this.firstTable}},{key:"internalShowMoreChild",value:function(e){this.showMoreChild.next(e)}},{key:"internalCollapsed",value:function(e){this.showMoreIsVisible=!0,this.collapsed.next(e)}},{key:"internalAllSelected",value:function(e){this.allSelected.next(e)}},{key:"internalAllUnselected",value:function(e){this.allUnselected.next(e)}},{key:"internalUnselected",value:function(e){this.unselected.next(e)}},{key:"internalSelected",value:function(e){this.selected.next(e)}},{key:"getSelectedRows",value:function(){var e=[];return e.push.apply(e,s(this.poTable.getSelectedRows())),this.childTable&&e.push.apply(e,s(this.childTable.getSelectedRows())),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-recursive-table"]],contentQueries:function(e,t,n){var i;(1&e&&x.Suo(n,f.UDu,4),2&e)&&(x.iGM(i=x.CRH())&&(t.tableColumnTemplates=i))},viewQuery:function(e,t){var n;(1&e&&(x.Gf(f._w3,5),x.Gf(It,5)),2&e)&&(x.iGM(n=x.CRH())&&(t.poTable=n.first),x.iGM(n=x.CRH())&&(t.childTable=n.first))},inputs:{columns:"columns",items:"items",showMoreDisabled:"showMoreDisabled",loading:"loading",sort:"sort",hideTextOverflow:"hideTextOverflow",hideSelectAll:"hideSelectAll",container:"container",striped:"striped",selectable:"selectable",firstTable:"firstTable",isActiveTable:"isActiveTable",showMoreIsVisible:"showMoreIsVisible",actions:"actions",showExpand:"showExpand",getExpandedItems:"getExpandedItems",getShowMoreDisabled:"getShowMoreDisabled"},outputs:{showMore:"showMore",showMoreChild:"showMoreChild",expanded:"expanded",collapsed:"collapsed",allSelected:"allSelected",allUnselected:"allUnselected",unselected:"unselected",selected:"selected",sortEmitter:"sortBy"},decls:3,vars:19,consts:[[3,"p-container","p-hide-select-all","p-hide-text-overflow","p-sort","p-striped","p-columns","p-selectable","p-items","p-loading","p-show-more-disabled","p-actions","p-show-more","p-expanded","p-all-selected","p-all-unselected","p-selected","p-collapsed","p-unselected","p-sort-by"],[4,"ngFor","ngForOf"],["p-table-row-template","",3,"p-table-row-template-show"],["p-table-column-template","",3,"p-property"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["container","","striped","false","sort","true",3,"columns","items","loading","showMoreDisabled","actions","showExpand","hideSelectAll","hideTextOverflow","selectable","firstTable","getExpandedItems","getShowMoreDisabled","showMore","showMoreChild","expanded","allSelected","allUnselected","unselected","selected","sortBy"],["childTable",""]],template:function(e,t){1&e&&(x.TgZ(0,"po-table",0),x.NdJ("p-show-more",function(e){return t.internalShowMore(e)})("p-expanded",function(e){return t.internalExpanded(e)})("p-all-selected",function(e){return t.internalAllSelected(e)})("p-all-unselected",function(e){return t.internalAllUnselected(e)})("p-selected",function(e){return t.internalSelected(e)})("p-collapsed",function(e){return t.internalCollapsed(e)})("p-unselected",function(e){return t.internalUnselected(e)})("p-sort-by",function(e){return t.sortBy(e)}),x.YNc(1,Nt,2,1,"ng-container",1),x.YNc(2,Jt,3,13,"ng-template",2),x.qZA()),2&e&&(x.ekj("recursive-table-first",t.firstTable)("hideMoreVisible",!t.getVisible())("showMoreVisible",t.showMoreIsVisible),x.Q6J("p-container",t.container)("p-hide-select-all",t.hideSelectAll)("p-hide-text-overflow",t.hideTextOverflow)("p-sort",t.sort)("p-striped",t.striped)("p-columns",t.columns)("p-selectable",t.selectable)("p-items",t.items)("p-loading",t.loading)("p-show-more-disabled",t.showMoreDisabled)("p-actions",t.actions),x.xp6(1),x.Q6J("ngForOf",t.tableColumnTemplates),x.xp6(1),x.Q6J("p-table-row-template-show",t.showExpand))},directives:[f._w3,u.sg,f.GY2,f.UDu,u.tP,e],styles:[".hideMoreVisible[_ngcontent-%COMP%]     .po-table-footer-show-more{display:none}.showMoreVisible[_ngcontent-%COMP%]     .po-table-footer-show-more{display:block}[_nghost-%COMP%]     .po-table-checkbox-label{margin-bottom:0!important}"]}),e}(),Et=r(98348),Ht=r(92430),Qt=r(37503),Bt=function(){var e=function(){function e(t,n,i,a){h(this,e),this.dynamicSearchComponent=t,this.globals=n,this.appTranslateService=i,this.absenceService=a,this.savedFiltersChange=new x.vpe,this.options=[]}return d(e,[{key:"ngOnInit",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initializeDirective();case 2:case"end":return e.stop()}},e,this)}))}},{key:"storageKey",get:function(){return"savedFilter-".concat(this.currentUserId,"-").concat(this.appSavedFilters)}},{key:"changeDisclaimers",value:function(e){this.saveFilters(e.reduce(function(e,t){return e[t.property]=t.value,e},{}))}},{key:"advancedSearch",value:function(e){this.saveFilters(e)}},{key:"quickSearch",value:function(e){if(null!=this.appSavedFiltersQuickSearchProperty){var t={};t[this.appSavedFiltersQuickSearchProperty]=e,this.saveFilters(t)}else this.saveFilters(null)}},{key:"saveFilters",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e&&0===Object.keys(e).length&&(e=null),t.next=3,Ht.setItem(this.storageKey,e);case 3:case"end":return t.stop()}},t,this)}))}},{key:"loadFilters",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ht.getItem(this.storageKey);case 3:(t=e.sent)&&(n=Object.keys(t).map(function(e){return(0,S.mG)(i,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.convertFilterToDisclaimer(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))}).filter(function(e){return(0,S.mG)(i,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.then(function(e){null!=e&&n.dynamicSearchComponent.disclaimerGroup.disclaimers.push(e)});case 2:case"end":return t.stop()}},t)}))})),this.savedFiltersChange.next(null!=n?t:null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),this.savedFiltersChange.next(null);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"initializeDirective",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.appSavedFilters){e.next=2;break}throw"appSavedFilters must be not null";case 2:return e.next=4,this.getHierarchicalLevelsDTS();case 4:return e.next=6,this.loadUserId();case 6:return e.next=8,this.loadFilters();case 8:case"end":return e.stop()}},e,this)}))}},{key:"getHierarchicalLevelName",value:function(e){var t=this,n=[];return Object.keys(e).map(function(i){n.push(t.options.find(function(t){return t.value==e[i]}).label)}),n}},{key:"convertFilterToDisclaimer",value:function(e,t){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolveName(e,t).then(function(e){return e});case 2:return i=n.sent,n.abrupt("return","hierarchicalLevel"==t?{label:"".concat(i," : ").concat(this.getHierarchicalLevelName(e[t])),property:t,value:e[t]}:{label:"".concat(i," : ").concat(e[t]),property:t,value:e[t]});case 4:case"end":return n.stop()}},n,this)}))}},{key:"loadUserId",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.globals.getEmployeeSummary();case 2:return t=e.sent,e.abrupt("return",(this.currentUserId=t.id,this.currentUserId));case 4:case"end":return e.stop()}},e,this)}))}},{key:"resolveName",value:function(e,t){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i={},Object.keys(e).map(function(n){n==t&&(i[n]=e[t])}),n.next=4,this.returnTranslateName(i);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n,this)}))}},{key:"returnTranslateName",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="l-name",e.registry&&(n="l-registry"),e.branch&&(n="l-branch"),e.hierarchicalLevel&&(n=Et.ZP.isErpDatasul()?"l-level":"l-show-indirect-subordinates"),t.next=6,this.appTranslateService.getI18n(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}))}},{key:"getHierarchicalLevelsDTS",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Et.ZP.isErpDatasul(),!e.t0){e.next=5;break}return e.next=4,this.absenceService.getHierarchicalLevels();case 4:e.sent.items.forEach(function(e){t.options.push({label:e.description,value:e.value})});case 5:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(v.O6,1),x.Y36(Qt.O),x.Y36(ge.g),x.Y36(qt.D))},e.\u0275dir=x.lG2({type:e,selectors:[["","appSavedFilters",""]],hostBindings:function(e,t){1&e&&x.NdJ("p-change-disclaimers",function(e){return t.changeDisclaimers(e)})("p-advanced-search",function(e){return t.advancedSearch(e)})("p-quick-search",function(e){return t.quickSearch(e)})},inputs:{appSavedFilters:"appSavedFilters",appSavedFiltersQuickSearchProperty:"appSavedFiltersQuickSearchProperty"},outputs:{savedFiltersChange:"savedFiltersChange"}}),e}(),Gt=r(14323),zt=r(39075);function Vt(e,t){1&e&&(x.TgZ(0,"span",7),x._UZ(1,"span",8),x.qZA())}var jt=function(e,t){return{"center-card-margin":e,"active-card":t}};function $t(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",2),x.TgZ(1,"div",3),x.NdJ("click",function(){var e=x.CHM(n).$implicit;return x.oxw().selectEmployee(e.employeeId)}),x._UZ(2,"div",4),x.TgZ(3,"p",5),x._uU(4),x.qZA(),x.qZA(),x.YNc(5,Vt,2,0,"span",6),x.qZA()}if(2&e){var i=t.$implicit,a=t.index,r=x.oxw();x.Q6J("ngClass",x.WLB(5,jt,1===a,r.employeesBreadcrumbTree[a].isActive)),x.xp6(2),x.Udp("background-image",i.image),x.xp6(2),x.Oqu(i.employeeName),x.xp6(1),x.Q6J("ngIf",a+1<r.employeesBreadcrumbTree.length)}}var Wt=function(){var e=function(){function e(){h(this,e),this.employeesBreadcrumbTree=[],this.employeeClickEvent=new x.vpe}return d(e,[{key:"selectEmployee",value:function(e){this.employeeClickEvent.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-breadcrumb-subordinate-tree"]],inputs:{employeesBreadcrumbTree:"employeesBreadcrumbTree"},outputs:{employeeClickEvent:"employeeClickEvent"},decls:2,vars:1,consts:[[1,"po-row"],["class","card-size po-text-center po-sm-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-size","po-text-center","po-sm-4",3,"ngClass"],[3,"click"],[1,"avatar-small"],[1,"name-format"],["class","dot",4,"ngIf"],[1,"dot"],[1,"po-icon","po-icon-arrow-right"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x.YNc(1,$t,6,8,"div",1),x.qZA()),2&e&&(x.xp6(1),x.Q6J("ngForOf",t.employeesBreadcrumbTree))},directives:[u.sg,u.mk,u.O5],styles:[".name-format[_ngcontent-%COMP%]{font-size:11px;margin-top:5px}.avatar-small[_ngcontent-%COMP%]{height:32px;width:32px;margin:20% auto auto}.card-size[_ngcontent-%COMP%]{border:1px solid #b2b2b2;border-radius:5px;width:32%;position:relative}.center-card-margin[_ngcontent-%COMP%]{margin-right:2%;margin-left:2%}.active-card[_ngcontent-%COMP%]{border:1px solid #0c9abe}.dot[_ngcontent-%COMP%]{height:25px;width:25px;background-color:#fff;border-radius:50%;position:absolute;color:#0c9abe;box-shadow:0 0 0 1px #b2b2b2;left:95%;top:25%;z-index:10}"]}),e}();function Xt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",10),x.TgZ(1,"po-page-dynamic-search",11),x.NdJ("p-change-disclaimers",function(e){return x.CHM(n),x.oxw().onChangeDisclaimers(e)})("p-quick-search",function(e){return x.CHM(n),x.oxw().onQuickSearch(e)})("p-advanced-search",function(e){return x.CHM(n),x.oxw().onAdvancedSearch(e)})("savedFiltersChange",function(e){return x.CHM(n),x.oxw().savedFiltersChange(e)}),x.qZA(),x._UZ(2,"po-dropdown",12),x.ALo(3,"translate"),x.qZA()}if(2&e){var i=x.oxw();x.xp6(1),x.Q6J("p-filters",i.filters)("p-literals",i.literals),x.xp6(1),x.s9C("p-label",x.lcZ(3,5,"l-select")),x.Q6J("p-actions",i.actionsDropdown)("p-disabled",!i.dropdownButtonIsVisible)}}function Kt(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"po-input",13),x.NdJ("ngModelChange",function(e){return x.CHM(n),x.oxw().teamParams.name=e})("p-change-model",function(){return x.CHM(n),x.oxw().searchAllWhenNameFieldIsEmpty()})("keyup.enter",function(){return x.CHM(n),x.oxw().search()}),x.ALo(1,"translate"),x.qZA()}if(2&e){var i=x.oxw();x.s9C("p-placeholder",x.lcZ(1,2,"l-search-collaborator")),x.Q6J("ngModel",i.teamParams.name)}}function en(e,t){if(1&e&&(x.TgZ(0,"div",14),x._UZ(1,"div",15),x.TgZ(2,"div",16),x.TgZ(3,"span"),x._uU(4),x.qZA(),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=x.oxw();x.xp6(1),x.Udp("background-image",i.getImageAvatar(n)),x.xp6(3),x.Oqu(i.getNameById(n))}}function tn(e,t){if(1&e&&(x.TgZ(0,"div",17),x.TgZ(1,"span"),x._uU(2),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=x.oxw();x.xp6(2),x.Oqu(i.replaceDotForComma(n))}}function nn(e,t){if(1&e&&(x.TgZ(0,"div",17),x.TgZ(1,"span"),x._uU(2),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=x.oxw();x.xp6(2),x.Oqu(i.getLabelForStatus(n))}}function an(e,t){if(1&e&&(x.TgZ(0,"div",18),x.TgZ(1,"span"),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.TgZ(4,"div",19),x.TgZ(5,"span",20),x._uU(6),x.ALo(7,"titleCase"),x.qZA(),x.TgZ(8,"span",21),x._uU(9),x.ALo(10,"lowercase"),x.ALo(11,"translate"),x.qZA(),x.qZA(),x.qZA()),2&e){var n=x.oxw();x.xp6(2),x.Oqu(x.lcZ(3,4,"l-direct-subordinates")),x.xp6(4),x.hij("",x.lcZ(7,6,n.employeesTreeBreadcrumbToShow[n.employeesTreeBreadcrumbToShow.length-1].employeeName),":"),x.xp6(3),x.AsE("",n.employees.length," ",x.lcZ(10,8,x.lcZ(11,10,"l-results")),"")}}function rn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"span",37),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().seeDirectEmployees(e)}),x.qZA()}}function on(e,t){if(1&e&&(x.TgZ(0,"p"),x._uU(1),x.qZA()),2&e){var n=x.oxw().$implicit,i=x.oxw();x.xp6(1),x.Oqu(i.contacts[n.id].email)}}function sn(e,t){if(1&e&&(x.TgZ(0,"p"),x._uU(1),x.qZA()),2&e){var n=x.oxw().$implicit,i=x.oxw();x.xp6(1),x.Oqu(i.contacts[n.id].phone)}}function ln(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",39),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openWorkLeave(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"l-work-leaves")," "))}function cn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",40),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openMedicalCertificate(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"l-medical-certificate")," "))}function un(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",41),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openPaymentSummary(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"im-paymentsShort")," "))}function pn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",42),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openVacation(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"im-vacation")," "))}function dn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",43),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openSalaryHistory(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"im-salaryHistoryLong")," "))}function hn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",44),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openOvertimeHours(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"im-overtime-hours")," "))}function mn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",45),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openProfile(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"l-profile")," "))}function gn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",46),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openClockings(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"im-timesheet")," "))}function fn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",47),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openOnCall(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"l-on-call")," "))}function vn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",48),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openAllowancesRequest(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"l-request-allowance")," "))}function bn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",38),x.TgZ(1,"span",46),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().openShiftsRequest(e)}),x.qZA(),x._uU(2),x.ALo(3,"translate"),x.qZA()}2&e&&(x.xp6(2),x.hij("",x.lcZ(3,1,"l-view-work-shifts")," "))}function yn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"po-widget",49),x.NdJ("click",function(){x.CHM(n);var e=x.oxw().$implicit;return x.oxw().seeDirectEmployees(e)}),x._UZ(1,"span",50),x.TgZ(2,"span",51),x._uU(3),x.ALo(4,"translate"),x.qZA(),x._UZ(5,"span",52),x.qZA()}2&e&&(x.xp6(3),x.Oqu(x.lcZ(4,1,"l-direct-subordinates")))}function xn(e,t){if(1&e&&(x.TgZ(0,"app-expansion-card"),x.TgZ(1,"div",22),x.TgZ(2,"div",23),x._UZ(3,"div",15),x.qZA(),x.TgZ(4,"div",24),x.TgZ(5,"div",25),x.TgZ(6,"strong"),x._uU(7),x.ALo(8,"titleCase"),x.qZA(),x.YNc(9,rn,1,0,"span",26),x.qZA(),x.TgZ(10,"div",27),x._uU(11),x.ALo(12,"titleCase"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(13,"div",28),x.TgZ(14,"div",29),x.TgZ(15,"span",30),x._UZ(16,"span",31),x.qZA(),x.YNc(17,on,2,1,"p",32),x.qZA(),x.TgZ(18,"div",29),x.TgZ(19,"span",30),x._UZ(20,"span",33),x.qZA(),x.YNc(21,sn,2,1,"p",32),x.qZA(),x.TgZ(22,"div",34),x.YNc(23,ln,4,3,"div",35),x.YNc(24,cn,4,3,"div",35),x.YNc(25,un,4,3,"div",35),x.YNc(26,pn,4,3,"div",35),x.YNc(27,dn,4,3,"div",35),x.YNc(28,hn,4,3,"div",35),x.YNc(29,mn,4,3,"div",35),x.YNc(30,gn,4,3,"div",35),x.YNc(31,fn,4,3,"div",35),x.YNc(32,vn,4,3,"div",35),x.YNc(33,bn,4,3,"div",35),x.qZA(),x.YNc(34,yn,6,3,"po-widget",36),x.qZA(),x.qZA()),2&e){var n=t.$implicit,i=x.oxw();x.xp6(3),x.Udp("background-image",i.getImageAvatar(n.id)),x.xp6(4),x.Oqu(x.lcZ(8,19,n.name)),x.xp6(2),x.Q6J("ngIf",n.isCoordinator),x.xp6(2),x.Oqu(x.lcZ(12,21,n.roleDescription)),x.xp6(6),x.Q6J("ngIf",n.contacts&&n.contacts.emails),x.xp6(4),x.Q6J("ngIf",n.contacts&&n.contacts.phones),x.xp6(2),x.Q6J("ngIf",i.workLeaveVisible),x.xp6(1),x.Q6J("ngIf",i.medicalVisible),x.xp6(1),x.Q6J("ngIf",i.paymentsIsVisible),x.xp6(1),x.Q6J("ngIf",i.vacationVisible),x.xp6(1),x.Q6J("ngIf",i.salaryHistoryVisible),x.xp6(1),x.Q6J("ngIf",i.overtimeHoursVisible),x.xp6(1),x.Q6J("ngIf",i.profileVisible),x.xp6(1),x.Q6J("ngIf",i.timesheetVisible),x.xp6(1),x.Q6J("ngIf",i.onCallVisible),x.xp6(1),x.Q6J("ngIf",i.allowanceVisible),x.xp6(1),x.Q6J("ngIf",i.shiftsVisible),x.xp6(1),x.Q6J("ngIf",n.isCoordinator)}}function wn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",53),x.TgZ(1,"a",54),x.NdJ("click",function(){return x.CHM(n),x.oxw().viewMore()}),x._uU(2),x.ALo(3,"translate"),x.qZA(),x.qZA()}2&e&&(x.xp6(2),x.Oqu(x.lcZ(3,1,"l-view-more")))}var kn=function(){var e=function(){function e(t,n,i,a,r,o,s,l,c,u,p,d,m){h(this,e),this.teamManagementService=t,this.sanitization=n,this.profileService=i,this.navigationUtilService=a,this.globals=r,this.translateService=o,this.permissionSelector=s,this.router=l,this.momentService=c,this.lastAccess=u,this.fieldProperties=p,this.windowUtilService=d,this.absenceService=m,this.teamParams=new Gt.$,this.employees=[],this.chieldrenEmployees=[],this.hasNext=!1,this.contacts={},this.descriptionStatus=[],this.avatarImage=[],this.translateStatusLabels=[],this.columns=[],this.tableActions=[],this.items=[],this.collumnName="id",this.collumnEmployeeStatus="employeeStatus",this.collumnSalary="salary",this.pageActions=[],this.filters=[],this.loading=!1,this.isMobile=!1,this.registryProps={field:"registry",visible:!1},this.employeesTreeBreadcrumb=[],this.employeesTreeBreadcrumbToShow=[],this.showDirectEmployeeOption=!0,this.showPageHader=!0}return d(e,[{key:"canViewSalary",get:function(){return this.permissions&&(void 0===this.permissions.teamManagementViewSalary||this.permissions.teamManagementViewSalary)}},{key:"ngOnInit",value:function(){this.initializeComponent()}},{key:"ngOnDestroy",value:function(){this.permissionSubscription&&this.permissionSubscription.unsubscribe()}},{key:"getPermissions",value:function(){var e=this;this.permissionSubscription=this.permissionSelector.permissions$.subscribe(function(t){e.permissions=t,e.salaryHistoryVisible=void 0===e.permissions.teamManagementSalaryHist||e.permissions.teamManagementSalaryHist,e.paymentsIsVisible=void 0!==e.permissions.teamManagementPayment&&e.permissions.teamManagementPayment,e.timesheetVisible=void 0===e.permissions.teamManagementTimesheet||e.permissions.teamManagementTimesheet,e.medicalVisible=void 0===e.permissions.teamManagementMedical||e.permissions.teamManagementMedical,e.vacationVisible=void 0===e.permissions.teamManagementVacation||e.permissions.teamManagementVacation,e.allowanceVisible=void 0===e.permissions.teamManagementAllowance||e.permissions.teamManagementAllowance,e.shiftsVisible=void 0!==e.permissions.teamManagementShifts&&e.permissions.teamManagementShifts,e.profileVisible=e.setPermissionTrueDefault(e.permissions.teamManagementProfile),e.workLeaveVisible=e.setPermissionFalseDefault(e.permissions.teamManagementWorkLeave),e.overtimeHoursVisible=e.setPermissionFalseDefault(e.permissions.teamManagementOvertimeHours),e.onCallVisible=e.setPermissionFalseDefault(e.permissions.teamManagementOnCallRequest),e.onCallBatchVisible=e.setPermissionFalseDefault(e.permissions.teamManagementOnCallBatchRequest)})}},{key:"checkRowsTable",value:function(){this.dropdownButtonIsVisible=this.recursiveTable.getSelectedRows().length>0}},{key:"setPermissionFalseDefault",value:function(e){return void 0!==e&&e}},{key:"setPermissionTrueDefault",value:function(e){return void 0===e||e}},{key:"isFirstTime",value:function(){var e=this.teamManagementService.getEmployeeCard();if(e.originComponent)switch(e.originComponent){case"clocking":this.openClockings(e.employee,e.image);break;case"medical":this.openMedicalCertificate(e.employee,e.image)}}},{key:"getTeam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,n=this.employeesTreeBreadcrumb.length>0?this.employeesTreeBreadcrumb[this.employeesTreeBreadcrumb.length-1].employeeId:ie.N.loggedUser,t.next=5,this.teamManagementService.getEmployees(n,this.teamParams);case 5:(i=t.sent)?(this.hasNext=i.hasNext,e||(this.employees=[]),a=[],this.employees=this.employees.concat(i.items),this.employees.forEach(function(e){a.push({id:e.id,name:e.name,branchName:e.branchName,registry:e.registry,admissionDate:r.getFormatedDate(e.admissionDate),salary:e.salary,salaryDate:r.getFormatedDate(e.salaryDate),employeeStatus:e.employeeStatus,hasDetail:e.isCoordinator})}),this.items=a,this.organizeEmployees()):this.hasNext=!1;case 7:return t.prev=7,this.loading=!1,t.finish(7);case 10:case"end":return t.stop()}},t,this,[[0,,7,10]])}))}},{key:"getImageAvatar",value:function(e){var t=this;return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(function(n){n&&n.content&&(t.avatarImage[e]=t.sanitization.bypassSecurityTrustStyle("url(".concat("data:image/"+(n.type||"png")+";base64,"+n.content,")")))})),this.avatarImage[e]}},{key:"getNameById",value:function(e){var t=this.employees.filter(function(t){return t.id===e});if(t&&t.length>0)return t&&t.length>0?t[0].name:"";var n=this.chieldrenEmployees.filter(function(t){return t.id===e});return n&&n.length>0?n[0].name:""}},{key:"order",value:function(e,t){if("down"===t)switch(e){case"name":this.employees.sort(function(e,t){return e.name<t.name?-1:1});break;case"admission":this.employees.sort(function(e,t){return e.admissionDate<t.admissionDate?-1:1});break;case"branch":this.employees.sort(function(e,t){return e.branchName<t.branchName?-1:1});break;case"status":this.employees.sort(function(e,t){return e.employeeStatus<t.employeeStatus?-1:1});break;case"salary":this.employees.sort(function(e,t){return e.salary-t.salary});break;case"salaryDate":this.employees.sort(function(e,t){return e.salaryDate<t.salaryDate?-1:1})}else switch(e){case"name":this.employees.sort(function(e,t){return e.name>t.name?-1:1});break;case"admission":this.employees.sort(function(e,t){return e.admissionDate>t.admissionDate?-1:1});break;case"branch":this.employees.sort(function(e,t){return e.branchName>t.branchName?-1:1});break;case"status":this.employees.sort(function(e,t){return e.employeeStatus>t.employeeStatus?-1:1});break;case"salary":this.employees.sort(function(e,t){return t.salary-e.salary});break;case"salaryDate":this.employees.sort(function(e,t){return e.salaryDate>t.salaryDate?-1:1})}}},{key:"trackByFunction",value:function(e,t){return t.id}},{key:"viewMore",value:function(){this.teamParams.page++,this.getTeam(!0)}},{key:"openSalaryHistory",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"salary"),this.router.navigateByUrl("teamManagement/payment/salaryHistory")}},{key:"openShiftsRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"shifts"),this.router.navigateByUrl("teamManagement/shifts")}},{key:"openClockings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"clockings"),this.router.navigateByUrl("teamManagement/timesheet/clockings/".concat(encodeURIComponent(e.id)))}},{key:"openPaymentSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"payments"),this.router.navigateByUrl("teamManagement/payments")}},{key:"openMedicalCertificate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"medical"),this.router.navigateByUrl("teamManagement/health/medicalCertificate")}},{key:"openAllowancesRequest",value:function(e){this.navigationUtilService.doNavigation("teamManagement/timesheet/allowances/".concat(e.id))}},{key:"openVacation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.globals.setEmployeeCard(e,t,"vacation"),this.navigationUtilService.doNavigation("teamManagement/vacation")}},{key:"openProfile",value:function(e){this.teamManagementService.setEmployeeCard(e,"","profile"),this.router.navigateByUrl("teamManagement/profile")}},{key:"openWorkLeave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"workLeave"),this.navigationUtilService.doNavigation("teamManagement/workLeave")}},{key:"openOvertimeHours",value:function(e){this.router.navigate(["teamManagement/timesheet/overtimeHours",e.id])}},{key:"openOnCall",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.avatarImage[e.id].changingThisBreaksApplicationSecurity;this.teamManagementService.setEmployeeCard(e,t,"onCall"),this.navigationUtilService.doNavigation("teamManagement/timesheet/onCall")}},{key:"openOnCallMany",value:function(e){var t="",n=1;e.forEach(function(i){t+=n<e.length?"".concat(i.id,"||"):i.id,n++}),this.router.navigate(["teamManagement/timesheet/onCall/request",t,!0])}},{key:"getStatus",value:function(e,t){this.descriptionStatus[t]=this.getLabelForStatus(e)}},{key:"getLabelForStatus",value:function(e){var t="";switch(e){case"N":t=this.translateStatusLabels[0].toString();break;case"A":t=this.translateStatusLabels[1].toString();break;case"D":t=this.translateStatusLabels[2].toString();break;case"F":t=this.translateStatusLabels[3].toString();break;default:t=this.translateStatusLabels[4].toString()}return t}},{key:"getFormatedDate",value:function(e){if(e)return this.momentService.getInstance(e).utc().format("L")}},{key:"onChangeDisclaimers",value:function(e){var t=this;this.resetFilters(),e.forEach(function(e){"name"===e.property?t.teamParams.name=e.value:"registry"===e.property?t.teamParams.registry=e.value:"hierarchicalLevel"===e.property?t.teamParams.hierarchicalLevel=e.value:t.teamParams.branch=e.value}),this.teamParams.page=1,this.getTeam()}},{key:"onQuickSearch",value:function(e){this.teamParams.name=e,this.teamParams.page=1,this.getTeam()}},{key:"onAdvancedSearch",value:function(e){var t=e.hierarchicalLevel;("boolean"==typeof e.hierarchicalLevel||void 0===e.hierarchicalLevel)&&(t=e.hierarchicalLevel?0:1),this.teamParams.name=e.name,this.teamParams.registry=e.registry,this.teamParams.branch=e.branch,this.teamParams.hierarchicalLevel=t,this.teamParams.page=1,this.getTeam()}},{key:"replaceDotForComma",value:function(e){return e?e.toString().replace(".",","):""}},{key:"search",value:function(){this.teamParams.page=1,this.employees=[],this.getTeam()}},{key:"searchAllWhenNameFieldIsEmpty",value:function(){""===this.teamParams.name&&this.search()}},{key:"seeDirectEmployees",value:function(e){var t=this.employeesTreeBreadcrumb.filter(function(t){return t.employeeId===e.id});(null==t?void 0:t.length)>0?this.removeLowLevelsHierarchyFromBreadcrumb(e.id):(this.employeeSummaryLoggedUser&&0===this.employeesTreeBreadcrumb.length&&this.employeesTreeBreadcrumb.push({employeeId:this.employeeSummaryLoggedUser.id,image:this.avatarImage[this.employeeSummaryLoggedUser.id],employeeName:this.employeeSummaryLoggedUser.name,isActive:!1}),this.employeesTreeBreadcrumb.push({employeeId:e.id,image:this.avatarImage[e.id],employeeName:e.name,isActive:!1})),this.updateDirectEmployeesBreadcrumb()}},{key:"selectEmployeeBreadcrumb",value:function(e){var t;e===(null===(t=this.employeeSummaryLoggedUser)||void 0===t?void 0:t.id)?(this.employeesTreeBreadcrumb=[],this.employeesTreeBreadcrumbToShow=[],this.search()):(this.removeLowLevelsHierarchyFromBreadcrumb(e),this.updateDirectEmployeesBreadcrumb())}},{key:"expanded",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.detail||!e.hasDetail){t.next=12;break}return e.detail=[],this.loading=!0,t.prev=2,n=new Gt.$,t.next=6,this.organizeDetails(e,n);case 6:this.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),this.loading=!1;case 12:case"end":return t.stop()}},t,this,[[2,9]])}))}},{key:"viewMoreChildren",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.detail){t.next=13;break}return this.loading=!0,t.prev=2,(n=e.detail[0].teamParams).page++,t.next=7,this.organizeDetails(e,n);case 7:this.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),this.loading=!1;case 13:case"end":return t.stop()}},t,this,[[2,10]])}))}},{key:"isShow",value:function(e){return e.hasDetail}},{key:"getExpandedItems",value:function(e){return e.detail}},{key:"getShowMoreDisabled",value:function(e){return!(e.detail.length>0&&e.detail[0].hasNext)}},{key:"savedFiltersChange",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}this.onAdvancedSearch(e),t.next=6;break;case 4:return t.next=6,this.getTeam();case 6:case"end":return t.stop()}},t,this)}))}},{key:"organizeDetails",value:function(e,t){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,a=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.teamManagementService.getEmployees(e.id,t);case 2:i=n.sent,this.chieldrenEmployees=this.chieldrenEmployees.concat(i.items),i.items.forEach(function(n){e.detail.push({id:n.id,name:n.name,branchName:n.branchName,registry:n.registry,admissionDate:a.getFormatedDate(n.admissionDate),salary:n.salary,salaryDate:a.getFormatedDate(n.salaryDate),employeeStatus:n.employeeStatus,hasDetail:n.isCoordinator,hasNext:i.hasNext,teamParams:t})});case 4:case"end":return n.stop()}},n,this)}))}},{key:"updateDirectEmployeesBreadcrumb",value:function(){this.filterBreadcrumbToShow(),this.employeesTreeBreadcrumbToShow[this.employeesTreeBreadcrumbToShow.length-1].isActive=!0,this.search()}},{key:"filterBreadcrumbToShow",value:function(){this.employeesTreeBreadcrumbToShow=this.employeesTreeBreadcrumb.length<=3?this.employeesTreeBreadcrumb.map(function(e){return Object.assign({},e)}):this.employeesTreeBreadcrumb.slice(Math.max(this.employeesTreeBreadcrumb.length-3,0))}},{key:"removeLowLevelsHierarchyFromBreadcrumb",value:function(e){for(var t=this.employeesTreeBreadcrumb.map(function(e){return Object.assign({},e)}),n=t.length-1;n>=0&&t[n].employeeId!==e;n--)this.employeesTreeBreadcrumb.pop()}},{key:"initializeComponent",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.teamParams.page=1,this.teamParams.hierarchicalLevel=1,this.getPermissions(),this.isMobileCheck(),this.isFirstTime(),this.setCountLastAccess(),this.getTranslateForStatusLabels(),e.next=9,this.getFieldProperties();case 9:this.getLabelsSearch(),this.getTableColumns(),this.getTableActions(),this.actionsDropdown=[{label:"Solicitar sobreaviso",action:function(){return t.openOnCallMany(t.recursiveTable.getSelectedRows())},visible:this.onCallBatchVisible}];case 13:case"end":return e.stop()}},e,this)}))}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(t){e.employeeSummaryLoggedUser=t,e.getImageAvatar(e.employeeSummaryLoggedUser.id),e.lastAccess.setLastAccess(Pt.to,t.id)})}},{key:"organizeEmployees",value:function(){var e=this;this.employees.forEach(function(t){var n,i;n=t.contacts&&t.contacts.phones[0]?e.organizePhone(t,n):"",i=t.contacts&&t.contacts.emails[0]?"".concat(t.contacts.emails[0].email):"",e.getStatus(t.employeeStatus,t.id),e.contacts[t.id]={phone:n,email:i}})}},{key:"organizePhone",value:function(e,t){return e.contacts.phones[0].ddd?"".concat(e.contacts.phones[0].ddd," ").concat(e.contacts.phones[0].number).replace("undefined","-"):"".concat(e.contacts.phones[0].number).replace("undefined","-")}},{key:"translateString",value:function(e){return this.translateService.getI18n(e)}},{key:"getTableColumns",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.columns=[],e.t0=this.columns,e.t1=this.collumnName,e.next=5,this.translateString("l-name");case 5:return e.t2=e.sent.toString(),e.t3=this.canViewSalary?this.registryProps.visible?"25%":"30%":"35%",e.t4={property:e.t1,label:e.t2,type:"columnTemplate",width:e.t3},e.t0.push.call(e.t0,e.t4),e.t5=this.columns,e.next=12,this.translateString("l-branch");case 12:if(e.t6=e.sent.toString(),e.t7=this.canViewSalary?this.registryProps.visible?"18%":"23%":"25%",e.t8={property:"branchName",label:e.t6,width:e.t7},e.t5.push.call(e.t5,e.t8),e.t9=this.registryProps.visible,!e.t9){e.next=25;break}return e.t10=this.columns,e.next=21,this.translateString("l-registry");case 21:e.t11=e.sent.toString(),e.t12=this.canViewSalary?"10%":"15%",e.t13={property:"registry",label:e.t11,width:e.t12},e.t10.push.call(e.t10,e.t13);case 25:return e.t14=this.columns,e.next=28,this.translateString("l-admission");case 28:if(e.t15=e.sent.toString(),e.t16=this.canViewSalary?"12%":"15%",e.t17={property:"admissionDate",label:e.t15,type:"string",width:e.t16},e.t14.push.call(e.t14,e.t17),e.t18=this.canViewSalary,!e.t18){e.next=46;break}return e.t19=this.columns,e.next=37,this.translateString("l-salary");case 37:return e.t20=e.sent.toString(),e.t21={property:"salary",label:e.t20,width:"13%",type:"columnTemplate"},e.t19.push.call(e.t19,e.t21),e.t22=this.columns,e.next=43,this.translateString("l-salaryDate");case 43:e.t23=e.sent.toString(),e.t24={property:"salaryDate",label:e.t23,type:"string",width:"12%"},e.t22.push.call(e.t22,e.t24);case 46:return e.t25=this.columns,e.t26=this.collumnEmployeeStatus,e.next=50,this.translateString("l-status");case 50:e.t27=e.sent.toString(),e.t28={property:e.t26,label:e.t27,type:"columnTemplate",width:"10%"},e.t25.push.call(e.t25,e.t28);case 53:case"end":return e.stop()}},e,this)}))}},{key:"getTableActions",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tableActions=[],e.t0=this.salaryHistoryVisible,!e.t0){e.next=10;break}return e.t1=this.tableActions,e.t2=this.openSalaryHistory.bind(this),e.next=7,this.translateString("im-salaryHistoryLong");case 7:e.t3=e.sent.toString(),e.t4={action:e.t2,label:e.t3,icon:"po-icon ico-dollar-sign"},e.t1.push.call(e.t1,e.t4);case 10:if(e.t5=this.timesheetVisible,!e.t5){e.next=19;break}return e.t6=this.tableActions,e.t7=this.openClockings.bind(this),e.next=16,this.translateString("im-timesheet");case 16:e.t8=e.sent.toString(),e.t9={action:e.t7,label:e.t8,icon:"po-icon po-icon-clock"},e.t6.push.call(e.t6,e.t9);case 19:if(e.t10=this.paymentsIsVisible,!e.t10){e.next=28;break}return e.t11=this.tableActions,e.t12=this.openPaymentSummary.bind(this),e.next=25,this.translateString("im-paymentsLong");case 25:e.t13=e.sent.toString(),e.t14={action:e.t12,label:e.t13,icon:"po-icon po-icon-wallet"},e.t11.push.call(e.t11,e.t14);case 28:if(e.t15=this.medicalVisible,!e.t15){e.next=37;break}return e.t16=this.tableActions,e.t17=this.openMedicalCertificate.bind(this),e.next=34,this.translateString("l-medical-certificate");case 34:e.t18=e.sent.toString(),e.t19={action:e.t17,label:e.t18,icon:"po-icon icon-medical-briefcase"},e.t16.push.call(e.t16,e.t19);case 37:if(e.t20=this.vacationVisible,!e.t20){e.next=46;break}return e.t21=this.tableActions,e.t22=this.openVacation.bind(this),e.next=43,this.translateString("l-vacation");case 43:e.t23=e.sent.toString(),e.t24={action:e.t22,label:e.t23,icon:"po-icon ico-sun"},e.t21.push.call(e.t21,e.t24);case 46:if(e.t25=this.allowanceVisible,!e.t25){e.next=55;break}return e.t26=this.tableActions,e.t27=this.openAllowancesRequest.bind(this),e.next=52,this.translateString("l-request-allowance");case 52:e.t28=e.sent.toString(),e.t29={action:e.t27,label:e.t28,icon:"po-icon po-icon-document"},e.t26.push.call(e.t26,e.t29);case 55:if(e.t30=this.shiftsVisible,!e.t30){e.next=64;break}return e.t31=this.tableActions,e.t32=this.openShiftsRequest.bind(this),e.next=61,this.translateString("l-view-work-shifts");case 61:e.t33=e.sent.toString(),e.t34={action:e.t32,label:e.t33,icon:"po-icon po-icon-clock"},e.t31.push.call(e.t31,e.t34);case 64:if(e.t35=this.overtimeHoursVisible,!e.t35){e.next=73;break}return e.t36=this.tableActions,e.t37=this.openOvertimeHours.bind(this),e.next=70,this.translateString("im-overtime-hours");case 70:e.t38=e.sent.toString(),e.t39={action:e.t37,label:e.t38,icon:"po-icon ico-overtime"},e.t36.push.call(e.t36,e.t39);case 73:if(e.t40=this.profileVisible,!e.t40){e.next=82;break}return e.t41=this.tableActions,e.t42=this.openProfile.bind(this),e.next=79,this.translateString("l-profile");case 79:e.t43=e.sent.toString(),e.t44={action:e.t42,label:e.t43,icon:"po-icon po-icon-user"},e.t41.push.call(e.t41,e.t44);case 82:if(e.t45=this.workLeaveVisible,!e.t45){e.next=91;break}return e.t46=this.tableActions,e.t47=this.openWorkLeave.bind(this),e.next=88,this.translateString("l-work-leaves");case 88:e.t48=e.sent.toString(),e.t49={action:e.t47,label:e.t48,icon:"po-icon po-icon-user-delete"},e.t46.push.call(e.t46,e.t49);case 91:if(e.t50=this.onCallVisible,!e.t50){e.next=100;break}return e.t51=this.tableActions,e.t52=this.openOnCall.bind(this),e.next=97,this.translateString("l-on-call");case 97:e.t53=e.sent.toString(),e.t54={action:e.t52,label:e.t53,icon:"po-icon ico-on-call"},e.t51.push.call(e.t51,e.t54);case 100:this.tableActions.sort(function(e,t){return e.label<t.label?-1:1});case 101:case"end":return e.stop()}},e,this)}))}},{key:"returnInitialValuesFilters",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="savedFilter-".concat(this.employeeSummaryLoggedUser.id,"-teamManagement"),e.next=3,Ht.getItem(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getLabelsSearch",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,i,a,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.translateString("l-filter-applied");case 2:return e.t0=e.sent.toString(),e.next=5,this.translateString("l-advanced-search");case 5:return e.t1=e.sent.toString(),e.next=8,this.translateString("l-cancel-title");case 8:return e.t2=e.sent.toString(),e.next=11,this.translateString("l-apply");case 11:return e.t3=e.sent.toString(),e.next=14,this.translateString("l-researched-value");case 14:return e.t4=e.sent.toString(),e.next=17,this.translateString("l-name-search");case 17:return e.t5=e.sent.toString(),this.literals={disclaimerGroupTitle:e.t0,filterTitle:e.t1,filterCancelLabel:e.t2,filterConfirmLabel:e.t3,quickSearchLabel:e.t4,searchPlaceholder:e.t5},t=[],e.next=22,this.returnInitialValuesFilters();case 22:return n=e.sent,i=null,a=null,r=null,o=null,n&&Et.ZP.isErpDatasul()&&(i="undefined"!==n.hierarchicalLevel?n.hierarchicalLevel:null,a="undefined"!==n.name?n.name:null,r="undefined"!==n.registry?n.registry:null,o="undefined"!==n.branch?n.branch:null),e.next=27,this.getHierarchicalLevelsDTS(t);case 27:if(!(t.length>0)){e.next=37;break}return e.next=30,this.translateString("l-level");case 30:e.t7=e.sent.toString(),e.t8=!0,e.t9=t,e.t10=i,e.t6={property:"hierarchicalLevel",label:e.t7,gridColumns:12,optionsMulti:e.t8,options:e.t9,initValue:e.t10},e.next=48;break;case 37:return e.next=39,this.translateString("l-show-indirect-subordinates");case 39:return e.t11=e.sent.toString(),e.next=42,this.translateString("l-yes");case 42:return e.t12=e.sent.toString(),e.next=45,this.translateString("l-no");case 45:e.t13=e.sent.toString(),e.t14=!1,e.t6={property:"hierarchicalLevel",label:e.t11,gridColumns:12,booleanTrue:e.t12,booleanFalse:e.t13,type:"boolean",initValue:e.t14};case 48:return e.t15=e.t6,e.next=51,this.translateString("l-name");case 51:return e.t16=e.sent.toString(),e.t17=a,e.t18={property:"name",label:e.t16,gridColumns:12,initValue:e.t17},e.next=56,this.translateString("l-registry");case 56:return e.t19=e.sent.toString(),e.t20=this.isMobile?12:6,e.t21=r,e.t22={property:"registry",label:e.t19,gridColumns:e.t20,initValue:e.t21},e.next=62,this.translateString("l-branch");case 62:e.t23=e.sent.toString(),e.t24=this.isMobile?12:6,e.t25=o,e.t26={property:"branch",label:e.t23,gridColumns:e.t24,initValue:e.t25},this.filters=[e.t15,e.t18,e.t22,e.t26];case 67:case"end":return e.stop()}},e,this)}))}},{key:"getHierarchicalLevelsDTS",value:function(e){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Et.ZP.isErpDatasul(),!t.t0){t.next=5;break}return t.next=4,this.absenceService.getHierarchicalLevels();case 4:t.sent.items.forEach(function(t){e.push({label:t.description,value:t.value})});case 5:case"end":return t.stop()}},t,this)}))}},{key:"getTranslateForStatusLabels",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.translateStatusLabels,e.next=3,this.translateString("l-active");case 3:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=this.translateStatusLabels,e.next=8,this.translateString("l-away");case 8:return e.t3=e.sent,e.t2.push.call(e.t2,e.t3),e.t4=this.translateStatusLabels,e.next=13,this.translateString("l-fired");case 13:return e.t5=e.sent,e.t4.push.call(e.t4,e.t5),e.t6=this.translateStatusLabels,e.next=18,this.translateString("l-vacation");case 18:return e.t7=e.sent,e.t6.push.call(e.t6,e.t7),e.t8=this.translateStatusLabels,e.next=23,this.translateString("l-transferred");case 23:e.t9=e.sent,e.t8.push.call(e.t8,e.t9);case 25:case"end":return e.stop()}},e,this)}))}},{key:"resetFilters",value:function(){this.teamParams.name=void 0,this.teamParams.registry=void 0,this.teamParams.branch=void 0,this.teamParams.page=1,this.teamParams.hierarchicalLevel=1}},{key:"getFieldProperties",value:function(){return(0,S.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fieldProperties.getFieldProperties("teamManagement");case 2:e.sent.forEach(function(e){"registry"===e.field&&(t.registryProps=e)});case 3:case"end":return e.stop()}},e,this)}))}},{key:"isMobileCheck",value:function(){this.isMobile=this.windowUtilService.isMobileDevice()}},{key:"sortBy",value:function(e){e.sort.type===f.MpO.Ascending?this.sortUp(e):e.sort.type===f.MpO.Descending&&this.sortDown(e)}},{key:"sortUp",value:function(e){var t=this;switch(e.sort.column.property){case"id":e.recursiveTable.items=s(e.recursiveTable.items.sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}));break;case"admissionDate":e.recursiveTable.items.sort(function(e,t){var n=ht(e.admissionDate,"DD/MM/YYYY"),i=ht(t.admissionDate,"DD/MM/YYYY");return ht(n).isBefore(i)?-1:1});break;case"employeeStatus":e.recursiveTable.items.sort(function(e,n){return t.getLabelForStatus(e.employeeStatus).localeCompare(t.getLabelForStatus(n.employeeStatus))});break;case"salary":e.recursiveTable.items.sort(function(e,t){return e.salary.localeCompare(t.salary)});break;case"salaryDate":e.recursiveTable.items.sort(function(e,t){var n=ht(e.salaryDate,"DD/MM/YYYY"),i=ht(t.salaryDate,"DD/MM/YYYY");return ht(n).isBefore(i)?-1:1})}}},{key:"sortDown",value:function(e){var t=this;switch(e.sort.column.property){case"id":e.recursiveTable.items=s(e.recursiveTable.items.sort(function(e,t){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())}));break;case"admissionDate":e.recursiveTable.items.sort(function(e,t){var n=ht(e.admissionDate,"DD/MM/YYYY"),i=ht(t.admissionDate,"DD/MM/YYYY");return ht(n).isAfter(i)?-1:1});break;case"employeeStatus":e.recursiveTable.items.sort(function(e,n){return t.getLabelForStatus(n.employeeStatus).localeCompare(t.getLabelForStatus(e.employeeStatus))});break;case"salary":e.recursiveTable.items.sort(function(e,t){return t.salary.localeCompare(e.salary)});break;case"salaryDate":e.recursiveTable.items.sort(function(e,t){var n=ht(e.salaryDate,"DD/MM/YYYY"),i=ht(t.salaryDate,"DD/MM/YYYY");return ht(n).isAfter(i)?-1:1})}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(F.C),x.Y36(zt.H7),x.Y36(de.H),x.Y36(Te._),x.Y36(Qt.O),x.Y36(ge.g),x.Y36(me.eL),x.Y36(H.F0),x.Y36(U.z),x.Y36(Pt.Lx),x.Y36(he.c),x.Y36(Ve.g),x.Y36(qt.D))},e.\u0275cmp=x.Xpm({type:e,selectors:[["app-team-management"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(Yt,5),2&e)&&(x.iGM(n=x.CRH())&&(t.recursiveTable=n.first))},inputs:{showPageHader:"showPageHader"},decls:12,vars:20,consts:[["class","po-mt-xs-2 po-mt-sm-2 align-margin-header",4,"ngIf"],["class","po-pl-0 po-lg-3 po-md-12 po-xl-3","p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange","p-change-model","keyup.enter",4,"ngIf"],[1,"header-divider","panel-body"],["container","","striped","false","sort","true",1,"po-table-custom-hide-text-overflow","po-hidden-xs","po-hidden-sm","po-hidden-md","po-visible-lg-12","po-visible-xl-12","po-p-0",3,"hideSelectAll","columns","items","loading","showMoreDisabled","actions","selectable","showExpand","getExpandedItems","getShowMoreDisabled","showMore","showMoreChild","expanded","allSelected","allUnselected","unselected","selected","sortBy"],["p-table-column-template","",3,"p-property"],[1,"panel-body","po-xs-12","po-hidden-lg","po-hidden-xl","po-visible-sm-12","po-visible-md-12"],[3,"employeesBreadcrumbTree","employeeClickEvent"],["class","po-mt-2 po-mb-2",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","next-periods",4,"ngIf"],[1,"po-mt-xs-2","po-mt-sm-2","align-margin-header"],["p-title"," ","appSavedFilters","teamManagement","appSavedFiltersQuickSearchProperty","name",1,"po-md-6","po-lg-6","po-xl-6","search-po",3,"p-filters","p-literals","p-change-disclaimers","p-quick-search","p-advanced-search","savedFiltersChange"],[1,"po-offset-md-3","po-offset-lg-1","po-offset-xl-1","po-lg-5","po-xl-5","po-hidden-sm","po-hidden-md",3,"p-actions","p-disabled","p-label"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",1,"po-pl-0","po-lg-3","po-md-12","po-xl-3",3,"ngModel","p-placeholder","ngModelChange","p-change-model","keyup.enter"],[1,"po-row"],[1,"avatar-small"],[1,"po-table-column-cell","po-table-body-ellipsis","cell-content","po-ml-1"],[1,"po-table-column-cel"],[1,"po-mt-2","po-mb-2"],[1,"po-mt-2"],[1,"employee-selected-name"],[1,"employee-result-number","pull-right"],["card-header","",1,"mr-card-header","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"avatar-card","pull-left","inline"],[1,"aboutEmployee"],[1,"name"],["class","team-icon pull-right po-pr-2 po-icon po-icon-users",3,"click",4,"ngIf"],[1,"office"],["card-body","",1,"cardbody"],[1,"informations"],[1,"icon-email"],[1,"po-icon","po-icon-mail","float"],[4,"ngIf"],[1,"po-icon","po-icon-telephone","float"],[1,"actions"],["class","actions-button",4,"ngIf"],["class","po-sm-12",3,"click",4,"ngIf"],[1,"team-icon","pull-right","po-pr-2","po-icon","po-icon-users",3,"click"],[1,"actions-button"],[1,"action-icons-mobile","po-icon","po-icon-user-delete",3,"click"],[1,"action-icons-mobile","po-icon","icon-medical-briefcase",3,"click"],[1,"action-icons-mobile","po-icon","po-icon-wallet",3,"click"],[1,"action-icons-mobile","po-icon","ico-sun",3,"click"],[1,"action-icons-mobile","po-icon","ico-dollar-sign",3,"click"],[1,"action-icons-mobile","po-icon","ico-overtime",3,"click"],[1,"action-icons-mobile","po-icon","po-icon-user",3,"click"],[1,"action-icons-mobile","po-icon","po-icon-clock",3,"click"],[1,"action-icons-mobile","po-icon","ico-on-call",3,"click"],[1,"action-icons-mobile","po-icon","po-icon-document",3,"click"],[1,"po-sm-12",3,"click"],[1,"team-icon","pull-left","po-pb-1","po-pl-1","po-icon","po-icon-users"],[1,"direct-employees","po-pl-1"],[1,"team-icon","pull-right","po-icon","po-icon-arrow-right"],[1,"next-periods"],[1,"linkViewMore",3,"click"]],template:function(e,t){1&e&&(x.YNc(0,Xt,4,7,"div",0),x.YNc(1,Kt,2,4,"po-input",1),x.TgZ(2,"div",2),x.TgZ(3,"app-recursive-table",3),x.NdJ("showMore",function(){return t.viewMore()})("showMoreChild",function(e){return t.viewMoreChildren(e)})("expanded",function(e){return t.expanded(e)})("allSelected",function(){return t.dropdownButtonIsVisible=!0})("allUnselected",function(){return t.dropdownButtonIsVisible=!1})("unselected",function(){return t.checkRowsTable()})("selected",function(){return t.checkRowsTable()})("sortBy",function(e){return t.sortBy(e)}),x.YNc(4,en,5,3,"ng-template",4),x.YNc(5,tn,3,1,"ng-template",4),x.YNc(6,nn,3,1,"ng-template",4),x.qZA(),x.qZA(),x.TgZ(7,"div",5),x.TgZ(8,"app-breadcrumb-subordinate-tree",6),x.NdJ("employeeClickEvent",function(e){return t.selectEmployeeBreadcrumb(e)}),x.qZA(),x.YNc(9,an,12,12,"div",7),x.YNc(10,xn,35,23,"app-expansion-card",8),x.YNc(11,wn,4,3,"div",9),x.qZA()),2&e&&(x.Q6J("ngIf",t.registryProps.visible),x.xp6(1),x.Q6J("ngIf",!t.registryProps.visible),x.xp6(2),x.Q6J("hideSelectAll",!t.onCallBatchVisible)("columns",t.columns)("items",t.items)("loading",t.loading)("showMoreDisabled",!t.hasNext)("actions",t.tableActions)("selectable",t.onCallBatchVisible)("showExpand",t.isShow.bind(t))("getExpandedItems",t.getExpandedItems)("getShowMoreDisabled",t.getShowMoreDisabled),x.xp6(1),x.Q6J("p-property",t.collumnName),x.xp6(1),x.Q6J("p-property",t.collumnSalary),x.xp6(1),x.Q6J("p-property",t.collumnEmployeeStatus),x.xp6(2),x.Q6J("employeesBreadcrumbTree",t.employeesTreeBreadcrumbToShow),x.xp6(1),x.Q6J("ngIf",t.employeesTreeBreadcrumbToShow.length>0),x.xp6(1),x.Q6J("ngForOf",t.employees)("ngForTrackBy",t.trackByFunction),x.xp6(1),x.Q6J("ngIf",t.hasNext))},directives:[u.O5,Yt,f.UDu,Wt,u.sg,v.O6,Bt,f.fj8,f.xxV,p.JJ,p.On,fe.c,f.zWL],pipes:[g.X$,be.r,u.i8],styles:['span[_ngcontent-%COMP%]{align-self:center}.cell-content[_ngcontent-%COMP%]{display:flex;max-width:81%}@media screen and (min-width: 1500px){.cell-content[_ngcontent-%COMP%]{max-width:85%}}@media screen and (min-width: 490px){.align-margin-header[_ngcontent-%COMP%]{margin-top:-30px}}@media screen and (min-width: 491px){.search-po[_ngcontent-%COMP%]{margin-top:-26px}}.po-table-custom-hide-text-overflow[_ngcontent-%COMP%]{margin-top:-32px}.po-table-custom-hide-text-overflow[_ngcontent-%COMP%]   .po-table-body-ellipsis[_ngcontent-%COMP%]   .po-tooltip[_ngcontent-%COMP%]{display:none!important}.po-table-custom-hide-text-overflow[_ngcontent-%COMP%]   .po-table-body-ellipsis[_ngcontent-%COMP%]:not([ng-reflect-ng-switch="label"]):hover{white-space:normal!important;text-overflow:unset!important}.panel-body[_ngcontent-%COMP%]{padding-bottom:0;margin-top:-20px}.name[_ngcontent-%COMP%]{max-width:97%}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px!important;word-wrap:break-word;max-width:200px}.avatar-small[_ngcontent-%COMP%]{width:32px;height:32px}@media (min-width: 1025px) and (max-width: 1366px){.avatar-small[_ngcontent-%COMP%]{width:22px;height:22px}}.team-icon[_ngcontent-%COMP%]{color:#0c9abe;font-size:20px}[_nghost-%COMP%]     .po-widget{border:solid 1px #0c9abe;box-shadow:none;box-shadow:initial}.direct-employees[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;color:#000}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;cursor:pointer}[_nghost-%COMP%]     .po-container{margin-top:10px!important}.informations[_ngcontent-%COMP%]{padding:0 8px;margin-top:5px;width:100%;font-size:14px;float:left}.icon-email[_ngcontent-%COMP%]{margin-top:2px;margin-right:4px;float:left;color:#0c9abe}[_nghost-%COMP%]     .cardbody{margin-top:55px}[_nghost-%COMP%]     .aboutEmployee{padding-left:55px}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;color:#0c9abe;margin:15px 0;float:left}.actions-button[_ngcontent-%COMP%]{border:.8px solid #0c9abe;border-radius:5px;margin-left:10px;text-align:center;cursor:pointer;white-space:normal;width:65px;height:75px;font-size:10px;font-weight:bold}.action-icons-mobile[_ngcontent-%COMP%]{margin:6px 0;display:block;font-size:30px}.employee-result-number[_ngcontent-%COMP%]{font-size:12px;color:#8e8e93}.employee-selected-name[_ngcontent-%COMP%]{font-weight:bold}@media screen and (max-width: 320px){[_nghost-%COMP%]     .cardbody{padding-left:0}.informations[_ngcontent-%COMP%]{padding-left:63px}}[_nghost-%COMP%]     .po-input{height:44px!important}[_nghost-%COMP%]     div.po-page{margin-left:0!important;width:100%!important}[_nghost-%COMP%]     div.po-page div.po-page-content{width:100%!important;height:0px!important}[_nghost-%COMP%]     div.po-page div.po-page-header{padding-left:0;padding-right:0}@media screen and (max-width: 490px){[_nghost-%COMP%]     .po-page{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;display:block}}@media screen and (min-width: 490px){[_nghost-%COMP%]     .po-page{display:block;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding-bottom:0}}[_nghost-%COMP%]     .po-table-header-block{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;float:left}[_nghost-%COMP%]     .po-table-header-icon-unselected:after{float:none}[_nghost-%COMP%]     .po-table-header-icon-descending:after{float:none}[_nghost-%COMP%]     .po-table-header-icon-ascending:after{float:none}[_nghost-%COMP%]     .po-table-column-manager-footer .po-button{border:none!important}[_nghost-%COMP%]     .po-button{height:44px!important}[_nghost-%COMP%]     .po-page-list-filter-search-link{font-size:15px!important}[_nghost-%COMP%]     .po-field-container{margin-top:10px}[_nghost-%COMP%]     .po-page-header{padding:16px}[_nghost-%COMP%]     .po-page-list-filter-wrapper{float:left}@media screen and (min-width: 490px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{margin-top:0!important}}[_nghost-%COMP%]     .po-page-list-operations{display:flow-root}@media screen and (min-width: 490px){[_nghost-%COMP%]     .po-page-list-actions{float:right;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]     .po-page-list-actions .po-button{margin-right:0}}@media screen and (max-width: 490px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{margin-bottom:0!important}[_nghost-%COMP%]     .po-page-list-filter-wrapper .po-page-filter-content{width:calc(100% - 72px)}[_nghost-%COMP%]     .po-page-list-actions{margin-bottom:0;margin-top:0}[_nghost-%COMP%]     .po-page-list-filter-wrapper .po-page-list-filter-search-link{font-size:12px}[_nghost-%COMP%]     .load-more .po-button{height:44px;width:100%;padding:0}}[_nghost-%COMP%]     .po-dropdown{margin-left:59%;margin-top:.9%}@media screen and (min-width: 720px){[_nghost-%COMP%]     .po-disclaimer-group{margin-bottom:18px}}']}),e}(),Zn=function(){return(e=Zn||(Zn={}))[e.managementOfDelaysAndAbsences=0]="managementOfDelaysAndAbsences",e[e.teamManagement=1]="teamManagement",e[e.teamManagementOnCallRequest=2]="teamManagementOnCallRequest",Zn;var e}(),Cn=function(){function e(t,n){h(this,e),this.currentTab=t,this.viewIsMobile=n}return d(e,[{key:"pageHeaderTitle",get:function(){if(!this.viewIsMobile)return"l-teamManagement";switch(this.currentTab){case Zn.teamManagement:return"l-teamManagement";case Zn.managementOfDelaysAndAbsences:return"im-management-of-delays-and-absences-short";case Zn.teamManagementOnCallRequest:return"im-management-request-on-call-short";default:return""}}},{key:"currentTabIsTeamManagement",get:function(){return this.currentTab===Zn.teamManagement}},{key:"currentTabIsManagementOfDelaysAndAbsences",get:function(){return this.currentTab===Zn.managementOfDelaysAndAbsences}},{key:"currentTabIsTeamManagementOnCallRequest",get:function(){return this.currentTab===Zn.teamManagementOnCallRequest}}]),e}();function Mn(e,t){if(1&e&&(x._UZ(0,"app-page-header",3),x.ALo(1,"translate")),2&e){var n=x.oxw().ngIf,i=x.oxw();x.s9C("pageTitle",x.lcZ(1,2,n.pageHeaderTitle)),x.Q6J("backIsVisible",i.viewIsMobile)}}function An(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"po-tab",6),x.NdJ("p-click",function(){return x.CHM(n),x.oxw(3).navigateTo("teamManagement/managementOfDelaysAndAbsences")}),x.ALo(1,"translate"),x.qZA()}if(2&e){var i=x.oxw(2).ngIf;x.s9C("p-label",x.lcZ(1,2,"im-management-of-delays-and-absences-short")),x.Q6J("p-active",i.currentTabIsManagementOfDelaysAndAbsences)}}function Sn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"po-tab",6),x.NdJ("p-click",function(){return x.CHM(n),x.oxw(3).navigateTo("teamManagement/managementRequestOnCall")}),x.ALo(1,"translate"),x.qZA()}if(2&e){var i=x.oxw(2).ngIf;x.s9C("p-label",x.lcZ(1,2,"l-on-calls")),x.Q6J("p-active",i.currentTabIsTeamManagementOnCallRequest)}}function Tn(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",4),x.TgZ(1,"po-tabs",5),x.TgZ(2,"po-tab",6),x.NdJ("p-click",function(){return x.CHM(n),x.oxw(2).navigateTo("teamManagement")}),x.ALo(3,"translate"),x.qZA(),x.YNc(4,An,2,4,"po-tab",7),x.YNc(5,Sn,2,4,"po-tab",7),x.qZA(),x.qZA()}if(2&e){var i=x.oxw().ngIf,a=x.oxw();x.xp6(2),x.s9C("p-label",x.lcZ(3,4,"l-teamManagement-overview")),x.Q6J("p-active",i.currentTabIsTeamManagement),x.xp6(2),x.Q6J("ngIf",a.haveManagementOfDelaysAndAbsencesPermission),x.xp6(1),x.Q6J("ngIf",a.haveTeamManagementOnCallRequestPermission)}}function On(e,t){if(1&e&&(x.ynx(0),x.YNc(1,Mn,2,4,"app-page-header",1),x.YNc(2,Tn,6,6,"div",2),x._UZ(3,"router-outlet"),x.BQk()),2&e){var n=x.oxw();x.xp6(1),x.Q6J("ngIf",n.visibility),x.xp6(1),x.Q6J("ngIf",!n.viewIsMobile&&(n.haveManagementOfDelaysAndAbsencesPermission||n.haveTeamManagementOnCallRequestPermission))}}var qn=[{path:"",component:function(){var t=function(t){n(r,t);var i=a(r);function r(e,t){var n;return h(this,r),(n=i.call(this)).permissionSelector=e,n.router=t,n.visibility=!0,n.haveManagementOfDelaysAndAbsencesPermission=!1,n.haveTeamManagementOnCallRequestPermission=!1,n.stateSubject=new He.xQ,n.state$=n.stateSubject.asObservable(),n.subscribeToViewMobile(),n.setCurrentRouteFromUrl(),n}return d(r,[{key:"ngOnInit",value:function(){e(o(r.prototype),"ngOnInit",this).call(this),this.getPermissions()}},{key:"ngOnDestroy",value:function(){this.permissionSubscription&&this.permissionSubscription.unsubscribe(),this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.viewIsMobileSubscription&&this.viewIsMobileSubscription.unsubscribe(),this.stateSubject.complete()}},{key:"navigateTo",value:function(e){this.router.navigateByUrl(e)}},{key:"getPermissions",value:function(){var e=this;this.permissionSubscription=this.permissionSelector.permissions$.subscribe(function(t){void 0!==t.managementOfDelaysAndAbsences&&(e.haveManagementOfDelaysAndAbsencesPermission=t.managementOfDelaysAndAbsences),void 0!==t.teamManagementOnCallRequest&&(e.haveTeamManagementOnCallRequestPermission=t.teamManagementOnCallRequest)})}},{key:"subscribeToViewMobile",value:function(){var e=this;this.viewIsMobileSubscription=this.viewIsMobile$.subscribe(function(t){e.stateSubject.next(new Cn(e.currentTab,t))})}},{key:"setCurrentRouteFromUrl",value:function(){var e=this;this.routerEventsSubscription=this.router.events.subscribe(function(t){if(t instanceof H.m2){switch(t.urlAfterRedirects){case"/teamManagement/overview":e.currentTab=Zn.teamManagement;break;case"/teamManagement/managementOfDelaysAndAbsences":e.currentTab=Zn.managementOfDelaysAndAbsences;break;case"/teamManagement/managementRequestOnCall":e.currentTab=Zn.teamManagementOnCallRequest;break;default:e.currentTab=null}e.stateSubject.next(new Cn(e.currentTab,e.viewIsMobile))}})}}]),r}(Ye.R);return t.\u0275fac=function(e){return new(e||t)(x.Y36(me.eL),x.Y36(H.F0))},t.\u0275cmp=x.Xpm({type:t,selectors:[["app-team-management-tabs"]],features:[x.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[3,"backIsVisible","pageTitle",4,"ngIf"],["class","panel-body no-padding tabs",4,"ngIf"],[3,"backIsVisible","pageTitle"],[1,"panel-body","no-padding","tabs"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","po-mb-3"],[3,"p-active","p-label","p-click"],[3,"p-active","p-label","p-click",4,"ngIf"]],template:function(e,t){1&e&&(x.YNc(0,On,4,2,"ng-container",0),x.ALo(1,"async")),2&e&&x.Q6J("ngIf",x.lcZ(1,1,t.state$))},directives:[u.O5,H.lC,je.q,f.Gv4,f.w8F],pipes:[u.Ov,g.X$],styles:[".tabs[_ngcontent-%COMP%]{height:52px}"]}),t}(),canActivate:[Q.P],children:[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:kn,canActivate:[Q.P]},{path:"managementOfDelaysAndAbsences",component:Me,canActivate:[Q.P]},{path:"managementRequestOnCall",component:Ue,canActivate:[Q.P]}]},{path:"timesheet/clockings/:employeeId",loadChildren:function(){return Promise.all([r.e(422),r.e(443),r.e(592),r.e(517)]).then(r.bind(r,2517)).then(function(e){return e.ClockingsModule})},canActivate:[Q.P],data:{management:!0}},{path:"payment/payment-detail",loadChildren:function(){return r.e(626).then(r.bind(r,69626)).then(function(e){return e.PaymentsModule})},canActivate:[Q.P],data:{management:!0}},{path:"timesheet/overtimeHours",loadChildren:function(){return r.e(78).then(r.bind(r,86078)).then(function(e){return e.OvertimeHoursModule})},canActivate:[Q.P],data:{management:!0}},{path:"health/medicalCertificate",component:B.O,canActivate:[Q.P],data:{management:!0}},{path:"profile",component:G.d,canActivate:[Q.P],data:{management:!0}},{path:"payment/salaryHistory",loadChildren:function(){return r.e(722).then(r.bind(r,28722)).then(function(e){return e.SalaryHistoryModule})},canActivate:[Q.P],data:{management:!0}},{path:"payments",loadChildren:function(){return r.e(626).then(r.bind(r,69626)).then(function(e){return e.PaymentsModule})},canActivate:[Q.P],data:{management:!0}},{path:"shifts",component:Ot,canActivate:[Q.P],data:{management:!0}},{path:"workLeave",loadChildren:function(){return r.e(739).then(r.bind(r,57739)).then(function(e){return e.WorkLeaveModule})},canActivate:[Q.P],data:{management:!0}},{path:"timesheet/allowances/:employeeId",loadChildren:function(){return r.e(970).then(r.bind(r,76970)).then(function(e){return e.AllowanceListRoutingModule})},canActivate:[Q.P],data:{management:!0}},{path:"timesheet/onCall",loadChildren:function(){return r.e(807).then(r.bind(r,48807)).then(function(e){return e.OnCallRoutingModule})},canActivate:[Q.P],data:{management:!0}},{path:"managementRequestOnCall/visualize",component:Je.e,canActivate:[Q.P]},{path:"vacation",component:ne.n,canActivate:[Q.P],data:{management:!0},children:[{path:"request",component:te.w,canActivateChild:[Q.P],children:[{path:"",redirectTo:"init",pathMatch:"full"},{path:"init",component:W.j},{path:"days",component:j.d},{path:"vacationBonus",component:ee.G},{path:"sellDays",component:K.$},{path:"confirmRequest",component:V.U},{path:"hasAdvance",component:$.d},{path:"requestDone",component:X.I}]}]},{path:"absenceManager/vacation",component:ne.n,canActivate:[Q.P],data:{management:!0},children:[{path:"request",component:te.w,canActivateChild:[Q.P],children:[{path:"",redirectTo:"init",pathMatch:"full"},{path:"init",component:W.j},{path:"days",component:j.d},{path:"vacationBonus",component:ee.G},{path:"sellDays",component:K.$},{path:"confirmRequest",component:V.U},{path:"hasAdvance",component:$.d},{path:"requestDone",component:X.I}]}]},{path:"vacation/receipt",component:z.g,canActivate:[Q.P]},{path:"vacation/details",loadChildren:function(){return r.e(261).then(r.bind(r,40261)).then(function(e){return e.VacationDetailsModule})},canActivate:[Q.P]},{path:"absenceManager/vacation/receipt",component:z.g,canActivate:[Q.P]},{path:"absenceManager/vacation/details",loadChildren:function(){return r.e(261).then(r.bind(r,40261)).then(function(e){return e.VacationDetailsModule})},canActivate:[Q.P]}],Pn=function(){var e=d(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[H.Bz.forChild(qn)],H.Bz]}),e}(),In=r(97427),_n=function(){var e=d(function e(){h(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=x.oAB({type:e}),e.\u0275inj=x.cJS({imports:[[u.ez,Pn,y.q,R,E,In.F]]}),e}()}}])}();