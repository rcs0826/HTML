"use strict";(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[177],{70385:function(e,t,n){n.d(t,{o:function(){return s}});var i=n(37716),r=n(29790);let s=(()=>{class e{constructor(){this.yes=new i.vpe,this.no=new i.vpe}yesAction(e){this.yes.emit(e)}noAction(e){this.no.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-yes-or-no-buttons"]],inputs:{id:"id"},outputs:{yes:"yes",no:"no"},decls:11,vars:8,consts:[[1,"content-footer","yes-or-no-buttons"],[1,"mouse-pointer","footer-button",3,"id","click"],[1,"image-button-cancel"],[1,"declineButton"],[1,"image-button-approve"],[1,"approveButton"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.NdJ("click",function(e){return t.noAction(e)}),i._UZ(2,"span",2),i.TgZ(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.TgZ(6,"div",1),i.NdJ("click",function(e){return t.yesAction(e)}),i._UZ(7,"span",4),i.TgZ(8,"span",5),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.MGl("id","btn-decline-button-",t.id,""),i.xp6(3),i.Oqu(i.lcZ(5,4,"l-decline")),i.xp6(2),i.MGl("id","btn-approve-button-",t.id,""),i.xp6(3),i.Oqu(i.lcZ(10,6,"l-accept")))},pipes:[r.X$],styles:[".content-footer[_ngcontent-%COMP%]{padding-top:8px}.declineButton[_ngcontent-%COMP%]{color:#c64840;float:left;font-size:14px;font-weight:bold;margin-bottom:-6px;margin-right:16px}.approveButton[_ngcontent-%COMP%]{color:#0c9abe;float:left;font-size:14px;font-weight:bold;margin-bottom:-6px}.image-button-approve[_ngcontent-%COMP%]{background:url(icones_de_sistema_expand_ok.182c19a246f2b9977015.png) no-repeat center;float:left;width:30px;padding-top:20px;margin-bottom:-6px}.image-button-cancel[_ngcontent-%COMP%]{background:url(icones_de_sistema_expand_close.1b50a96e3e1cd929502c.png) no-repeat center;float:left;width:30px;padding-top:20px;margin-bottom:-6px}.yes-or-no-buttons[_ngcontent-%COMP%]{text-align:center;justify-content:center;align-items:center}.footer-button[_ngcontent-%COMP%]{display:inline-block;width:auto;margin-bottom:-6px}@media only screen and (max-width: 320px){.yes-or-no-buttons[_ngcontent-%COMP%]{text-align:center;justify-content:center;align-items:center}.image-button-cancel[_ngcontent-%COMP%]{background:url(icones_de_sistema_expand_close@2x.888d491080ee3bf799fb.png) no-repeat center;background-size:contain;width:12px;padding-top:20px;float:left;margin-bottom:-6px;margin-right:4px}.image-button-approve[_ngcontent-%COMP%]{background:url(icones_de_sistema_expand_ok@2x.fcc284d690af723f73ce.png) no-repeat center;background-size:contain;float:left;width:15px;padding-top:20px;margin-bottom:-6px;margin-right:4px}}"]}),e})()},1927:function(e,t,n){n.d(t,{K:function(){return c}});var i=n(92340),r=n(59708),s=n(37716);const o="timesheet/overtime";let c=(()=>{class e{constructor(e){this.serviceGeneric=e}getPendingOvertimesList(e=i.N.loggedUser,t,n,r){const s=`${o}/${e}`;n=n||20;const c=[];return this.serviceGeneric.parseParams(c,"page",t=t||1),this.serviceGeneric.parseParams(c,"pageSize",n),this.serviceGeneric.parseParams(c,"name",r),this.serviceGeneric.search(s,c)}putOvertime(e=i.N.loggedUser,t){return this.serviceGeneric.put(`${o}/${e}`,t)}loadReasons(){return this.serviceGeneric.get("timesheet/overtimeHours/reason")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},61466:function(e,t,n){n.d(t,{P:function(){return q}});var i=n(67574),r=n(75319),s=n(64581),o=n(88229),c=n(95639),a=n(25917),p=n(91115),l=n(57771),u=n(40205),d=n(9112),g=n(79765),h=n(59193),b=n(94612),f=n(57057),m=n(46782),v=n(15257),x=n(88002),O=n(87519),y=n(47349),_=n(93342),w=n(5304),C=n(37716);function j(){return e=>new i.y(t=>{let n,i;const o=new r.w;return o.add(e.subscribe({complete:()=>{n&&t.next(i),t.complete()},error:e=>{t.error(e)},next:e=>{i=e,n||(n=s.E.schedule(()=>{t.next(i),n=void 0}),o.add(n))}})),o})}const $=new C.OlP("@ngrx/component-store Initial State");let S=(()=>{class e{constructor(e){this.destroySubject$=new o.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new o.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(e=>e),e&&this.initState(e)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(e){return t=>{let n;const i=((0,c.b)(t)?t:(0,a.of)(t)).pipe((0,b.b)(e=>this.isInitialized?(0,p.x)([e],l.N).pipe((0,f.M)(this.stateSubject$)):(0,u._)(new Error(this.notInitializedErrorMessage))),(0,m.R)(this.destroy$)).subscribe({next:([t,n])=>{this.stateSubject$.next(e(n,t))},error:e=>{n=e,this.stateSubject$.error(e)}});if(n)throw n;return i}}initState(e){(0,p.x)([e],l.N).subscribe(e=>{this.isInitialized=!0,this.stateSubject$.next(e)})}setState(e){"function"!=typeof e?this.initState(e):this.updater(e)()}patchState(e){const t="function"==typeof e?e(this.get()):e;this.updater((e,t)=>Object.assign(Object.assign({},e),t))(t)}get(e){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let t;return this.stateSubject$.pipe((0,v.q)(1)).subscribe(n=>{t=e?e(n):n}),t}select(...e){const{observables:t,projector:n,config:i}=function(e){const t=Array.from(e);let n,i={debounce:!1};const r=t.pop();return"function"!=typeof r?(i=Object.assign(Object.assign({},i),r),n=t.pop()):n=r,{observables:t,projector:n,config:i}}(e);let r;return r=0===t.length?this.stateSubject$.pipe(i.debounce?j():e=>e,(0,x.U)(n)):(0,d.aj)(t).pipe(i.debounce?j():e=>e,(0,x.U)(e=>n(...e))),r.pipe((0,O.x)(),(0,y.d)({refCount:!0,bufferSize:1}),(0,m.R)(this.destroy$))}effect(e){const t=new g.xQ;return e(t).pipe((0,m.R)(this.destroy$)).subscribe(),e=>((0,c.b)(e)?e:(0,a.of)(e)).pipe((0,m.R)(this.destroy$)).subscribe(e=>{t.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(C.LFG($,8))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})();function k(e,t,n){return i=>i.pipe((0,_.b)({next:e,error:t,complete:n}),(0,w.K)(()=>h.E))}var P=n(69412),z=n(43190),M=n(45435),Z=n(1927),A=n(93444);const G={overtime:void 0,onCall:void 0};let q=(()=>{class e extends S{constructor(e,t){super(G),this.overtimeService=e,this.managementRequestOnCallService=t,this.overtime$=this.select(e=>e.overtime),this.onCall$=this.select(e=>e.onCall),this.setOvertime=this.updater((e,t)=>Object.assign(Object.assign({},e),{overtime:{response:t}})),this.setOvertimeError=this.updater((e,t)=>Object.assign(Object.assign({},e),{overtime:{error:t}})),this.setOnCall=this.updater((e,t)=>Object.assign(Object.assign({},e),{onCall:{response:t}})),this.setOnCallError=this.updater((e,t)=>Object.assign(Object.assign({},e),{onCall:{error:t}})),this.reset=this.updater(()=>G),this.getOvertime=this.effect(e=>e.pipe((0,z.w)(e=>null!=this.get(e=>e.overtime)?(0,a.of)(this.get(e=>e.overtime)):(0,P.D)(this.overtimeService.getPendingOvertimesList(e.employeedId,e.page,e.pageSize,e.employee)).pipe(k(e=>this.setOvertime(e),e=>this.setOvertimeError(e)))))),this.getOnCall=this.effect(e=>e.pipe((0,z.w)(e=>null!=this.get(e=>e.onCall)?(0,a.of)(this.get(e=>e.onCall)):(0,P.D)(this.managementRequestOnCallService.getAll(e.coordinatorId,e.filter)).pipe(k(e=>this.setOnCall(e),e=>this.setOnCallError(e))))))}nextOvertimeNotNull(){return new Promise((e,t)=>{this.overtime$.pipe((0,M.h)(e=>null!=e)).pipe((0,v.q)(1)).subscribe(n=>{n.response?e(n.response):t(n.error)})})}nextOnCallNotNull(){return new Promise((e,t)=>{this.onCall$.pipe((0,M.h)(e=>null!=e)).pipe((0,v.q)(1)).subscribe(n=>{n.response?e(n.response):t(n.error)})})}}return e.\u0275fac=function(t){return new(t||e)(C.LFG(Z.K),C.LFG(A.w))},e.\u0275prov=C.Yz7({token:e,factory:e.\u0275fac}),e})()}}]);