(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},34902:function(e,t,i){"use strict";i.d(t,{r:function(){return a}});var n=i(64762),o=i(26215),s=i(37716);let a=(()=>{class e{constructor(){this.messageReceiverSubject=new o.X(null),this.messages$=this.messageReceiverSubject.asObservable()}init(){document.mhrMessage={ready:!0,new:e=>this.newMessage(e)}}newMessage(e){return(0,n.mG)(this,void 0,void 0,function*(){if(null!=e)return this.newMessageReceived(e)})}newMessageReceived(e){return(0,n.mG)(this,void 0,void 0,function*(){this.messageReceiverSubject.next(Object.assign(Object.assign({},e),{date:new Date}))})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},13353:function(e,t,i){"use strict";i.d(t,{E:function(){return n}});var n=(()=>{return(e=n||(n={})).LOGIN_WITH_TOKEN="LOGIN_WITH_TOKEN",e.LOGIN_WITH_CREDENTIALS="LOGIN_WITH_CREDENTIALS",n;var e})()},76660:function(e,t,i){"use strict";i.r(t),i.d(t,{AbsenceModule:function(){return ct}});var n=i(38583),o=i(3679),s=i(54436),a=i(95987),r=i(29790),l=i(44956),c=i(32114),p=i(37716),d=i(64762),g=i(36857),u=i(65241);const h=[[["","advanced-search-dialog-content",""]]];let m=class{constructor(e){this.translateService=e,this.title="l-advanced-search",this.onAdvancedSearch=new p.vpe}ngOnInit(){return(0,d.mG)(this,void 0,void 0,function*(){this.poModal.onXClosed.pipe((0,g.t)(this)).subscribe(this.returnFormToPreviousState.bind(this)),yield this.mountActions(),this.watchFormStatus()})}openDialog(){this.poModal.open(),this.valuesOnOpen=this.advancedSearchFormGroup.value}apply(){this.advancedSearchFormGroup.valid&&(this.onAdvancedSearch.next(this.convertReactiveValueToAdvancedFilterValue()),this.poModal.close())}clickOutHandler(){this.returnFormToPreviousState()}cancel(){this.returnFormToPreviousState(),this.poModal.close()}returnFormToPreviousState(){this.advancedSearchFormGroup.patchValue(this.valuesOnOpen)}convertReactiveValueToAdvancedFilterValue(){const e=[];if(this.advancedSearchFormGroup.value)for(const t of Object.keys(this.advancedSearchFormGroup.value))e.push({key:t,value:this.advancedSearchFormGroup.value[t]});return e}watchFormStatus(){this.advancedSearchFormGroup.statusChanges.pipe((0,g.t)(this)).subscribe(e=>{this.mountActions("VALID"===e)})}mountActions(e=this.advancedSearchFormGroup.valid){return(0,d.mG)(this,void 0,void 0,function*(){this.applyAction={action:this.apply.bind(this),disabled:!e,label:yield this.translateService.getI18n("l-apply")},this.cancelAction={action:this.cancel.bind(this),label:yield this.translateService.getI18n("l-cancel")}})}};m.\u0275fac=function(e){return new(e||m)(p.Y36(u.g))},m.\u0275cmp=p.Xpm({type:m,selectors:[["app-advanced-search-dialog"]],viewQuery:function(e,t){if(1&e&&p.Gf(l.hmF,7),2&e){let e;p.iGM(e=p.CRH())&&(t.poModal=e.first)}},inputs:{title:"title",advancedSearchFormGroup:"advancedSearchFormGroup"},outputs:{onAdvancedSearch:"onAdvancedSearch"},ngContentSelectors:["[advanced-search-dialog-content]"],decls:4,vars:6,consts:[["p-size","lg",3,"p-click-out","p-title","p-primary-action","p-secondary-action","onClickOut"],[3,"ngSubmit"]],template:function(e,t){1&e&&(p.F$t(h),p.TgZ(0,"po-modal",0),p.NdJ("onClickOut",function(){return t.clickOutHandler()}),p.ALo(1,"translate"),p.TgZ(2,"form",1),p.NdJ("ngSubmit",function(){return t.apply()}),p.Hsn(3),p.qZA(),p.qZA()),2&e&&p.Q6J("p-click-out",!1)("p-title",p.lcZ(1,4,t.title))("p-primary-action",t.applyAction)("p-secondary-action",t.cancelAction)},directives:[l.hmF,o._Y,o.JL],pipes:[r.X$],styles:[".po-modal-title{padding:0;margin-bottom:0}.po-modal-header{padding:16px;display:flex;align-items:center}.po-modal-body{padding-top:0;margin-top:0}.po-modal-footer{padding-right:8px;padding-left:8px}@media (min-width: 481px){.po-modal-footer{padding-right:16px;padding-left:16px}}.po-modal-header-close-button{position:static;position:initial;margin-left:auto;top:unset;right:unset;display:flex}\n"],encapsulation:2}),m=(0,d.gn)([(0,g.c)(),(0,d.w6)("design:paramtypes",[u.g])],m);let f=(()=>{class e{constructor(){this.placeholder="",this.buttonText="l-advanced-search",this.onQuickSearch=new p.vpe,this.quickSearchFormGroup=new o.cw({quickSearch:new o.NI("")})}ngOnInit(){}openAdvancedDialog(){this.advancedSearchDialog.openDialog()}quickSearchSubmitted(){if(this.quickSearchFormGroup.valid){const e=this.quickSearchFormGroup.get("quickSearch").value;this.onQuickSearch.next(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-advanced-search-box"]],inputs:{placeholder:"placeholder",buttonText:"buttonText",advancedSearchDialog:"advancedSearchDialog"},outputs:{onQuickSearch:"onQuickSearch"},decls:11,vars:5,consts:[[1,"advanced-search-box"],[3,"formGroup","ngSubmit"],["form","ngForm"],[1,"po-field-container-content","po-page-filter-content"],[1,"po-field-icon-container-right"],[1,"po-icon","po-icon-search","po-field-icon",3,"click"],["formControlName","quickSearch","type","text",1,"po-input","po-input-icon-right",3,"placeholder"],[1,"po-page-list-filter-search"],["tabindex","0",1,"po-page-list-filter-search-link",3,"click"]],template:function(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",0),p.TgZ(1,"form",1,2),p.NdJ("ngSubmit",function(){return t.quickSearchSubmitted()}),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"span",5),p.NdJ("click",function(){return p.CHM(e),p.MAs(2).onSubmit()}),p.qZA(),p.qZA(),p._UZ(6,"input",6),p.qZA(),p.TgZ(7,"div",7),p.TgZ(8,"span",8),p.NdJ("click",function(){return t.openAdvancedDialog()}),p._uU(9),p.ALo(10,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA()}2&e&&(p.xp6(1),p.Q6J("formGroup",t.quickSearchFormGroup),p.xp6(5),p.Q6J("placeholder",t.placeholder),p.xp6(3),p.hij(" ",p.lcZ(10,3,t.buttonText),""))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u],pipes:[r.X$],styles:[""]}),e})(),v=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(p.Rgc))},e.\u0275dir=p.lG2({type:e,selectors:[["","appAdvancedSearchContent",""]]}),e})();function b(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"po-disclaimer-group",6),p.NdJ("p-remove",function(t){return p.CHM(e),p.oxw().disclaimerRemoved(t)})("p-remove-all",function(){return p.CHM(e),p.oxw().changeFilter(!0,!0)}),p.ALo(1,"translate"),p.qZA()}if(2&e){const e=p.oxw();p.Q6J("p-disclaimers",e.disclaimers)("p-title",p.lcZ(1,2,e.disclaimersTitle))}}function x(e,t){1&e&&p.GkF(0)}function y(e,t){if(1&e&&(p.ynx(0),p.YNc(1,x,1,0,"ng-container",9),p.BQk()),2&e){const e=t.$implicit;p.xp6(1),p.Q6J("ngTemplateOutlet",e.templateRef)}}function Z(e,t){if(1&e&&(p.TgZ(0,"div",7),p.YNc(1,y,2,1,"ng-container",8),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngForOf",e.contentsTemplate)}}class w{constructor(e){this.advancedFilters=null==e?void 0:e.advancedFilters,this.quickFilter=null==e?void 0:e.quickFilter}get advancedFiltersAsObject(){return this.advancedFilters?this.advancedFilters.reduce((e,t)=>(e[t.key]=t.value,e),{}):{}}}let C=(()=>{class e{constructor(e){this.appTranslateService=e,this.placeholder="",this.disclaimersTitle="l-filter-applied",this.filtersChange=new p.vpe}advancedFiltersChanged(e){return this.filterChanged(new w({advancedFilters:e}))}quickFilterChanged(e){return this.filterChanged(new w({quickFilter:e}))}disclaimerRemoved(e){return(0,d.mG)(this,void 0,void 0,function*(){if(this.disclaimers=e.currentDisclaimers,null!=this.currentFilter.quickFilter)yield this.changeFilter();else{const e=this.currentFilter.advancedFilters.filter(e=>null!=this.disclaimers.find(t=>t.property===e.key));yield this.changeFilter(!1,!0,!1,new w({advancedFilters:e}))}})}changeFilter(e=!1,t=!0,i=!1,n=new w){return(0,d.mG)(this,void 0,void 0,function*(){if(i||this.filtersChange.next({old:this.currentFilter,new:n}),this.currentFilter=n,e){let e;if(n)if(null!=n.quickFilter)e=[{value:n.quickFilter}];else if(n.advancedFilters){e=[];for(const t of n.advancedFilters)e.push({label:`${this.getAdvancedFilterLabel(t)}: ${yield this.formatValueForLabel(t.key,t.value)}`,property:t.key,value:t.value})}this.disclaimers=null!=e?e:[]}t&&this.updateFormGroupValues()})}updateFormGroupValues(){var e;this.advancedSearchFormGroup.reset(),this.advancedSearchFormGroup.patchValue(null===(e=this.currentFilter)||void 0===e?void 0:e.advancedFiltersAsObject)}filterChanged(e){return(0,d.mG)(this,void 0,void 0,function*(){yield this.changeFilter(!0,!1,!1,e)})}getAdvancedFilterLabel(e){var t;return(null===(t=this.advancedFilterLabels)||void 0===t?void 0:t.has(e.key))?this.advancedFilterLabels.get(e.key):e.key}formatValueForLabel(e,t){var i,n;return(0,d.mG)(this,void 0,void 0,function*(){if(null===(n=null===(i=this.extra)||void 0===i?void 0:i.optionsLabelGetter)||void 0===n?void 0:n.has(e))return this.extra.optionsLabelGetter.get(e)(t,e);if(null!=t){if("boolean"==typeof t)return this.appTranslateService.getI18n(t?"l-yes":"l-no");if(t instanceof Array)return t.join(", ")}return t})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(u.g))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-advanced-search"]],contentQueries:function(e,t,i){if(1&e&&p.Suo(i,v,4),2&e){let e;p.iGM(e=p.CRH())&&(t.contentsTemplate=e)}},inputs:{advancedSearchFormGroup:"advancedSearchFormGroup",placeholder:"placeholder",disclaimersTitle:"disclaimersTitle",advancedFilterLabels:"advancedFilterLabels",extra:"extra"},outputs:{filtersChange:"filtersChange"},decls:6,vars:5,consts:[[1,"advanced-search","po-sm-12","po-md-12"],[1,"advanced-search-box-block",3,"advancedSearchDialog","placeholder","onQuickSearch"],["class","disclaimers",3,"p-disclaimers","p-title","p-remove","p-remove-all",4,"ngIf"],[3,"advancedSearchFormGroup","onAdvancedSearch"],["advancedSearchDialog",""],["advanced-search-dialog-content","",4,"ngIf"],[1,"disclaimers",3,"p-disclaimers","p-title","p-remove","p-remove-all"],["advanced-search-dialog-content",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet"]],template:function(e,t){if(1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"app-advanced-search-box",1),p.NdJ("onQuickSearch",function(e){return t.quickFilterChanged(e)}),p.qZA(),p.YNc(2,b,2,4,"po-disclaimer-group",2),p.TgZ(3,"app-advanced-search-dialog",3,4),p.NdJ("onAdvancedSearch",function(e){return t.advancedFiltersChanged(e)}),p.YNc(5,Z,2,1,"div",5),p.qZA(),p.qZA()),2&e){const e=p.MAs(4);p.xp6(1),p.Q6J("advancedSearchDialog",e)("placeholder",t.placeholder),p.xp6(1),p.Q6J("ngIf",t.disclaimers&&(null==t.disclaimers?null:t.disclaimers.length)>0),p.xp6(1),p.Q6J("advancedSearchFormGroup",t.advancedSearchFormGroup),p.xp6(2),p.Q6J("ngIf",(null==t.contentsTemplate?null:t.contentsTemplate.length)>0)}},directives:[f,n.O5,m,l.WX_,n.sg,n.tP],pipes:[r.X$],styles:[".advanced-search{width:100%}.advanced-search-box-block{display:flex;margin-bottom:16px;flex-direction:column;align-items:stretch}.disclaimers{width:100%}\n"],encapsulation:2}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,o.UX,r.aw,l.JBz],o.UX]}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,l.Y$o]]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,A]]}),e})();var O=i(56365);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,r.aw,O.q,l.JBz,o.u5]]}),e})(),T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,A]]}),e})();var _=i(97427),S=i(9112),I=i(39761),D=i(89019),k=i(21615),L=i(33490),N=i(14833),E=i(81059),U=i(64383),F=i(96054),J=i(84479),V=i(37503),R=i(98348),Y=i(36227),z=i(68014),Q=i(82236),G=i(85647),H=i(81617),B=i(36812),j=i(57706),$=i(82832);function W(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"app-card",4),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().filter(t)}),p.TgZ(1,"div",5),p.TgZ(2,"div",6),p.TgZ(3,"div"),p.TgZ(4,"span",7),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"div",8),p.TgZ(8,"div",9),p.TgZ(9,"div",10),p.TgZ(10,"span",11),p.TgZ(11,"a"),p._uU(12),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,i=p.oxw();p.Q6J("cssClass",i.getClass(e.select)),p.xp6(5),p.Oqu(p.lcZ(6,3,null==e?null:e.name)),p.xp6(7),p.Oqu(e.quantity)}}const K=function(e){return{"card-not-allowed":e}};function X(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"app-card",12),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().filter(t)}),p.TgZ(1,"div",13),p.TgZ(2,"span",14),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA(),p.TgZ(5,"div",5),p.TgZ(6,"div",15),p.TgZ(7,"span"),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,i=p.oxw();p.Q6J("ngClass",p.VKq(6,K,!i.quantityIsValid(null==e?null:e.quantity)))("cssClass",i.getClass(e.select)),p.xp6(3),p.Oqu(p.lcZ(4,4,e.name)),p.xp6(5),p.Oqu(e.quantity)}}let ee=(()=>{class e{constructor(){this.dashboardObject=[],this.filterEvent=new p.vpe}filter(e){e.quantity>0&&(e.select=!e.select,this.dashboardObject.forEach(t=>{t.name!==e.name&&(t.select=!1)}),this.filterEvent.emit(e))}getClass(e){return e?"card-count-active":""}quantityIsValid(e){return e>0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-status-dashboard"]],inputs:{dashboardObject:"dashboardObject"},outputs:{filterEvent:"filterEvent"},decls:4,vars:2,consts:[[1,"scrolling-wrapper","po-visible-sm-12","po-visible-md-12"],["class","cards-block po-ml-1",3,"cssClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-template-columns-5","po-hidden-sm","po-hidden-md"],["class","card-pending",3,"ngClass","cssClass","click",4,"ngFor","ngForOf"],[1,"cards-block","po-ml-1",3,"cssClass","click"],["card-body","",1,"mr-card-body","po-sm-12"],[1,"po-row","row-title"],[1,"description-small"],[1,"po-row","row-description"],[1,"po-sm-6","center-text"],[1,"hours","absence"],[1,"quatity-size"],[1,"card-pending",3,"ngClass","cssClass","click"],["card-header","",1,"mr-card-header","po-sm-12"],[1,"description"],[1,"hours","delay"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.YNc(1,W,13,5,"app-card",1),p.qZA(),p.TgZ(2,"div",2),p.YNc(3,X,9,8,"app-card",3),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngForOf",t.dashboardObject),p.xp6(2),p.Q6J("ngForOf",t.dashboardObject))},directives:[n.sg,$.A,n.mk],pipes:[r.X$],styles:['.mr-card-body[_ngcontent-%COMP%]{text-align:center}.description[_ngcontent-%COMP%]{font-weight:bold;font-family:"NunitoSans-Bold"}.hours[_ngcontent-%COMP%]{font-size:160%}.hours.delay[_ngcontent-%COMP%]{color:rgba(190,39,12,.973)}@media (min-width: 961px){.hours[_ngcontent-%COMP%]{font-weight:normal;font-size:32px;font-family:"NunitoSans-ExtraLight"}.hours.absence[_ngcontent-%COMP%], .hours.delay[_ngcontent-%COMP%]{color:inherit}}.description[_ngcontent-%COMP%]{font-size:90%}.mr-card-header[_ngcontent-%COMP%]{padding:10px}.description-small[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;line-height:.7em;white-space:normal;display:block;text-align:left}.cards-block[_ngcontent-%COMP%]{display:inline-block;width:45%;margin-right:10px}.scrolling-wrapper[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;white-space:nowrap;height:125px;padding:0!important;margin-left:10px}.scrolling-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:inline-block}.row-title[_ngcontent-%COMP%]{padding:10px 5px}.row-description[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 360px){.qty-oncall-text[_ngcontent-%COMP%]{position:relative;bottom:10px}}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.center-text[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}.card-pending[_ngcontent-%COMP%]{cursor:pointer!important;margin:0 5px}.card-not-allowed[_ngcontent-%COMP%]{cursor:not-allowed!important}.card-select[_ngcontent-%COMP%]{background:#ceeaf2}[_nghost-%COMP%]     .card-well{height:118px;padding:0!important}.grid-template-columns-5[_ngcontent-%COMP%]{grid-template-columns:1.5fr 1.5fr 1.5fr 1.5fr 1.5fr}.grid[_ngcontent-%COMP%]{display:grid}.quatity-size[_ngcontent-%COMP%]{font-size:32px;font-family:"NunitoSans-ExtraLight","sans-serif"}@media (min-width: 961px){[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well{background:#ceeaf2}[_nghost-%COMP%]   .occurrence-selected[_ngcontent-%COMP%]     .card-well .hours{font-weight:bold;font-family:"NunitoSans-Bold"}}']}),e})(),te=(()=>{class e{constructor(){this.info=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-info-tooltip"]],inputs:{info:"info"},decls:1,vars:1,consts:[[1,"po-icon","po-icon-info","info","info-tooltip",3,"p-tooltip"]],template:function(e,t){1&e&&p._UZ(0,"span",0),2&e&&p.Q6J("p-tooltip",t.info)},directives:[l.oK3],styles:[".info[_ngcontent-%COMP%]{font-size:16px;color:#0c9abe;cursor:help;display:flex;align-items:center;justify-content:center}"]}),e})();function ie(e,t){if(1&e&&p._UZ(0,"app-info-tooltip",3),2&e){const e=p.oxw();p.Q6J("info",e.info)}}let ne=(()=>{class e{constructor(){this.title=""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-field-title"]],inputs:{title:"title",info:"info"},decls:4,vars:2,consts:[[1,"po-field-container-title"],[1,"po-field-title"],["class","field-info",3,"info",4,"ngIf"],[1,"field-info",3,"info"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"span",1),p._uU(2),p.qZA(),p.YNc(3,ie,1,1,"app-info-tooltip",2),p.qZA()),2&e&&(p.xp6(2),p.Oqu(t.title),p.xp6(1),p.Q6J("ngIf",null!=t.info))},directives:[n.O5,te],styles:[".po-field-container-title{display:flex;align-items:center}.po-field-title{display:inline;width:unset}.field-info{margin-left:4px;display:flex}\n"],encapsulation:2}),e})();var oe=i(18494),se=i(97983),ae=i(13235),re=i(32268);const le=["cardContainer"];function ce(e,t){1&e&&p._UZ(0,"span",21)}function pe(e,t){1&e&&p._UZ(0,"span",22)}function de(e,t){1&e&&p._UZ(0,"div")}function ge(e,t){}function ue(e,t){1&e&&p._UZ(0,"div")}const he=function(e){return{bonus:e}};function me(e,t){if(1&e&&(p.ynx(0),p._uU(1),p.ALo(2,"translate"),p.BQk()),2&e){const e=p.oxw(2);p.xp6(1),p.hij("\xa0",p.xi3(2,1,"l-absence-bonus",p.VKq(4,he,e.card.vacationBonus)),"")}}const fe=function(e){return{qty:e}};function ve(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.YNc(7,me,3,6,"ng-container",26),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,3,"l-total-days")),p.xp6(3),p.hij(" ",p.xi3(6,5,"l-days-qty",p.VKq(8,fe,e.card.absenceDays))," "),p.xp6(2),p.Q6J("ngIf",null!=e.card.vacationBonus&&e.card.vacationBonus>0)}}function be(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-vacation-balance")),p.xp6(3),p.hij(" ",p.xi3(6,4,"l-days-qty",p.VKq(7,fe,e.card.balance))," ")}}const xe=function(e,t){return{start:e,end:t}};function ye(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.ALo(7,"utcDate"),p.ALo(8,"utcDate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-absence-period-line-vacations-limit-interval1")),p.xp6(3),p.Oqu(p.xi3(6,4,"l-until-two-values",p.WLB(13,xe,p.xi3(7,7,e.card.initConcessionPeriod,"shortDate"),p.xi3(8,10,e.card.endConcessionPeriod,"shortDate"))))}}function Ze(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.ALo(7,"utcDate"),p.ALo(8,"utcDate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-vacations-day")),p.xp6(3),p.Oqu(p.xi3(6,4,"l-until-two-values",p.WLB(13,xe,p.xi3(7,7,e.card.initDate,"shortDate"),p.xi3(8,10,e.card.endDate,"shortDate"))))}}function we(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"utcDate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-take-vacation-until")),p.xp6(3),p.Oqu(p.xi3(6,4,e.card.takeVacationUntil,"shortDate"))}}function Ce(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.ALo(7,"utcDate"),p.ALo(8,"utcDate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-period-referring-to")),p.xp6(3),p.Oqu(p.xi3(6,4,"l-until-two-values",p.WLB(13,xe,p.xi3(7,7,e.card.initPeriod,"shortDate"),p.xi3(8,10,e.card.endPeriod,"shortDate"))))}}function Me(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-vacation-status")),p.xp6(3),p.Oqu(p.lcZ(6,4,e.getConditionI18n(e.card.condition)))}}function Ae(e,t){if(1&e&&(p.TgZ(0,"div",23),p.TgZ(1,"span",24),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"span",25),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,2,"l-stage")),p.xp6(3),p.Oqu(null!=e.card.statusLabel&&""!=e.card.statusLabel?e.card.statusLabel:p.lcZ(6,4,e.getStatusI18n(e.card.status)))}}function Pe(e,t){}function Oe(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"span",30),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).showConflicts()}),p._uU(1),p.ALo(2,"translate"),p.qZA()}2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"l-absence-conflicts")," "))}function qe(e,t){1&e&&(p.TgZ(0,"span",31),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e&&(p.xp6(1),p.hij(" ",p.lcZ(2,1,"l-absence-conflicts")," "))}function Te(e,t){if(1&e&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&e){const e=p.oxw(2);p.Gre("card-tag tag tag-",e.card.condition,""),p.xp6(1),p.Oqu(p.lcZ(2,4,e.getConditionI18n(e.card.condition)))}}function _e(e,t){if(1&e&&(p.YNc(0,Oe,3,3,"span",27),p.YNc(1,qe,3,3,"span",28),p.YNc(2,Te,3,6,"span",29)),2&e){const e=p.oxw();p.Q6J("ngIf",e.card.hasConflict&&e.conflictIsClickable&&!e.isVacationLimit),p.xp6(1),p.Q6J("ngIf",e.card.hasConflict&&!e.conflictIsClickable&&!e.isVacationLimit),p.xp6(1),p.Q6J("ngIf",null!=e.card.condition)}}function Se(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",34),p.TgZ(1,"po-button",35),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).reprove()}),p.ALo(2,"translate"),p.qZA(),p.TgZ(3,"po-button",36),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).approve()}),p.ALo(4,"translate"),p.qZA(),p.qZA()}2&e&&(p.xp6(1),p.s9C("p-label",p.lcZ(2,2,"l-decline")),p.xp6(2),p.s9C("p-label",p.lcZ(4,4,"l-accept")))}function Ie(e,t){1&e&&(p._UZ(0,"app-info-tooltip",40),p.ALo(1,"translate")),2&e&&p.Q6J("info",p.lcZ(1,1,"l-request-disabled"))}function De(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",37),p.YNc(1,Ie,2,3,"app-info-tooltip",38),p.TgZ(2,"po-button",39),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.openVacation(t.card,!0)}),p.ALo(3,"translate"),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.ekj("request-button-disabled",0==e.card.canRequest),p.xp6(1),p.Q6J("ngIf",0==e.card.canRequest),p.xp6(1),p.s9C("p-label",p.lcZ(3,5,"l-request")),p.Q6J("p-disabled",0==e.card.canRequest)}}function ke(e,t){if(1&e&&(p.YNc(0,Se,5,6,"div",32),p.YNc(1,De,4,7,"div",33)),2&e){const e=p.oxw();p.Q6J("ngIf",e.buttonApproveReproveAreVisible),p.xp6(1),p.Q6J("ngIf",e.requestIsVisible&&e.hasPermissionVacation)}}let Le=class extends E.R{constructor(e,t,i,n){super(),this.imageService=e,this.router=t,this.globals=i,this.profileService=n,this.isCollapsed=!0,this.images={},this.conflictIsClickable=!0,this.hasPermissionVacation=!1,this.onReprove=new p.vpe,this.onApprove=new p.vpe,this.onConflict=new p.vpe}get card(){var e;return null===(e=this.view)||void 0===e?void 0:e.card}get period(){var e;return null===(e=this.view)||void 0===e?void 0:e.period}get isVacationLimit(){return this.card.type==k.u.TypeEnum.VacationLimit}get isApproved(){return this.card.status==k.u.StatusEnum.Approved}get isRejected(){return this.card.status==k.u.StatusEnum.Rejected}get requestIsVisible(){return[k.u.ConditionEnum.ExpiredVacation,k.u.ConditionEnum.DoubleExpiredVacation,k.u.ConditionEnum.VacationsToExpire].includes(this.card.condition)&&this.card.status===k.u.StatusEnum.Empty}get buttonApproveReproveAreVisible(){return this.card.canApprove&&!this.isApproved&&!this.isRejected&&!this.isVacationLimit&&!this.requestIsVisible}ngAfterViewInit(){setTimeout(()=>{this.viewIsMobileOrTablet$.pipe((0,g.t)(this)).subscribe(e=>{this.isCollapsed=e})})}getImage(e){return this.imageService.getImage(e,this.images)}showConflicts(){this.onConflict.next(this.view)}approve(){this.onApprove.next(this.view)}reprove(){this.onReprove.next(this.view)}getConditionI18n(e){switch(e){case k.u.ConditionEnum.DoubleExpiredVacation:return"l-double-expired";case k.u.ConditionEnum.ExpiredVacation:return"l-expired";case k.u.ConditionEnum.OnVacation:return"l-vacation-status-vacation";case k.u.ConditionEnum.VacationsToExpire:return"l-to-expire";case k.u.ConditionEnum.DoubleRisk:return"l-double-risk";case k.u.ConditionEnum.ScheduledVacation:return"l-scheduled-vacation";case k.u.ConditionEnum.VacationsTaken:return"l-vacations-taken";case k.u.ConditionEnum.Calculated:return"l-calculated-plural"}}getStatusI18n(e){switch(e){case k.u.StatusEnum.Approved:return"l-approved";case k.u.StatusEnum.Approving:return"l-approving";case k.u.StatusEnum.Calculated:return"l-calculated";case k.u.StatusEnum.Empty:return"l-unsolicited";case k.u.StatusEnum.Rejected:return"l-absence-rejected";case k.u.StatusEnum.Vacation:return"l-vacation-status-vacation";case k.u.StatusEnum.Closed:return"l-vacation-status-closed"}}openVacation(e,t=!1){return(0,d.mG)(this,void 0,void 0,function*(){if(this.hasPermissionVacation&&(!t||t&&0!=e.canRequest)){const t=yield this.profileService.getEmployeeSummary(e.employeeId);t.id=e.employeeId,this.globals.setEmployeeCard(t,this.images[e.employeeId].changingThisBreaksApplicationSecurity,"vacation"),this.router.navigateByUrl("/teamManagement/absenceManager/vacation")}})}};Le.\u0275fac=function(e){return new(e||Le)(p.Y36(oe.A),p.Y36(a.F0),p.Y36(V.O),p.Y36(se.H))},Le.\u0275cmp=p.Xpm({type:Le,selectors:[["app-absence-timeline-card"]],viewQuery:function(e,t){if(1&e&&p.Gf(le,5),2&e){let e;p.iGM(e=p.CRH())&&(t.cardContainer=e.first)}},inputs:{view:"view",conflictIsClickable:"conflictIsClickable",hasPermissionVacation:"hasPermissionVacation"},outputs:{onReprove:"onReprove",onApprove:"onApprove",onConflict:"onConflict"},features:[p.qOj],decls:40,vars:40,consts:[[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","absence-timeline-card"],["card-header","",1,"header"],["cardContainer",""],[1,"avatar-card"],[1,"avatar-small","avatar-align",3,"id","click"],[1,"content"],[1,"about-employee","po-ml-2",3,"click"],[1,"name",3,"id"],["class","po-icon po-icon-export po-ml-1 vacation-link vacation-link-desktop",4,"ngIf"],[1,"role",3,"id"],["class","po-icon po-icon-export po-ml-1 po-hidden-lg po-hidden-xl vacation-link vacation-link-mobile",4,"ngIf"],[1,"collapse-icon","po-icon","cursor-pointer",3,"click"],[1,"tags"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["card-body","",1,"body","po-pt-1","po-pt-md-3","po-pb-md-2"],[1,"data"],["class","item",4,"ngIf"],["card-footer",""],["tags",""],["buttons",""],[1,"po-icon","po-icon-export","po-ml-1","vacation-link","vacation-link-desktop"],[1,"po-icon","po-icon-export","po-ml-1","po-hidden-lg","po-hidden-xl","vacation-link","vacation-link-mobile"],[1,"item"],[1,"title"],[1,"value"],[4,"ngIf"],["class","card-tag tag-absense-conflict tag tag-conflicts cursor-pointer",3,"click",4,"ngIf"],["class","card-tag tag-absense-conflict tag tag-conflicts",4,"ngIf"],[3,"class",4,"ngIf"],[1,"card-tag","tag-absense-conflict","tag","tag-conflicts","cursor-pointer",3,"click"],[1,"card-tag","tag-absense-conflict","tag","tag-conflicts"],["class","buttons",4,"ngIf"],["class","buttons request-button",3,"request-button-disabled",4,"ngIf"],[1,"buttons"],["p-icon","po-icon-close","p-type","danger",3,"p-label","click"],["p-icon","po-icon-ok","p-type","default",3,"p-label","click"],[1,"buttons","request-button"],[3,"info",4,"ngIf"],["p-type","default",3,"p-label","p-disabled","click"],[3,"info"]],template:function(e,t){if(1&e&&(p.TgZ(0,"app-card",0),p.TgZ(1,"div",1,2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.NdJ("click",function(){return t.openVacation(t.card)}),p.qZA(),p.qZA(),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.NdJ("click",function(){return t.openVacation(t.card)}),p.TgZ(7,"div",7),p.TgZ(8,"strong"),p._uU(9),p.ALo(10,"titleCase"),p.qZA(),p.YNc(11,ce,1,0,"span",8),p.qZA(),p.TgZ(12,"div",9),p.TgZ(13,"span"),p._uU(14),p.ALo(15,"titleCase"),p.qZA(),p.YNc(16,pe,1,0,"span",10),p.qZA(),p.qZA(),p.TgZ(17,"span",11),p.NdJ("click",function(){return t.isCollapsed=!t.isCollapsed}),p.qZA(),p.TgZ(18,"div",12),p.YNc(19,de,1,0,"div",13),p.qZA(),p.YNc(20,ge,0,0,"ng-template",14),p.qZA(),p.qZA(),p.TgZ(21,"div",15),p.TgZ(22,"div",5),p.TgZ(23,"div",12),p.YNc(24,ue,1,0,"div",13),p.qZA(),p.TgZ(25,"div",16),p.YNc(26,ve,8,10,"div",17),p.YNc(27,be,7,9,"div",17),p.YNc(28,ye,9,16,"div",17),p.YNc(29,Ze,9,16,"div",17),p.YNc(30,we,7,7,"div",17),p.YNc(31,Ce,9,16,"div",17),p.YNc(32,Me,7,6,"div",17),p.YNc(33,Ae,7,6,"div",17),p.qZA(),p.qZA(),p.qZA(),p.TgZ(34,"div",18),p.YNc(35,Pe,0,0,"ng-template",14),p.qZA(),p.qZA(),p.YNc(36,_e,3,3,"ng-template",null,19,p.W1O),p.YNc(38,ke,2,2,"ng-template",null,20,p.W1O)),2&e){const e=p.MAs(37),i=p.MAs(39);p.xp6(4),p.Udp("background-image",t.getImage(t.card.employeeId)),p.ekj("cursor-pointer",t.hasPermissionVacation),p.MGl("id","photo-",t.card.id,""),p.xp6(2),p.ekj("cursor-pointer",t.hasPermissionVacation),p.xp6(1),p.MGl("id","lbl-employee-name-",t.card.id,""),p.xp6(2),p.Oqu(p.lcZ(10,36,t.card.name)),p.xp6(2),p.Q6J("ngIf",t.hasPermissionVacation),p.xp6(1),p.MGl("id","lbl-role-description-",t.card.id,""),p.xp6(2),p.Oqu(p.lcZ(15,38,t.card.roleDescription)),p.xp6(2),p.Q6J("ngIf",t.hasPermissionVacation),p.xp6(1),p.ekj("po-icon-arrow-down",t.isCollapsed)("po-icon-arrow-up",!t.isCollapsed),p.xp6(2),p.Q6J("ngIf",(0==t.card.hasConflict||t.isVacationLimit&&t.card.hasConflict)&&null==t.card.condition)("ngIfElse",e),p.xp6(1),p.Q6J("ngTemplateOutlet",i),p.xp6(3),p.ekj("po-mb-2",t.card.hasConflict||null!=t.card.condition),p.xp6(1),p.Q6J("ngIf",(0==t.card.hasConflict||t.isVacationLimit&&t.card.hasConflict)&&null==t.card.condition)("ngIfElse",e),p.xp6(2),p.Q6J("ngIf",!t.isVacationLimit),p.xp6(1),p.Q6J("ngIf",t.isVacationLimit&&null!=t.card.balance),p.xp6(1),p.Q6J("ngIf",t.isVacationLimit&&(null!=t.card.initConcessionPeriod||null!=t.card.endConcessionPeriod)),p.xp6(1),p.Q6J("ngIf",0==t.isVacationLimit),p.xp6(1),p.Q6J("ngIf",!t.isCollapsed&&null!=t.card.takeVacationUntil),p.xp6(1),p.Q6J("ngIf",!t.isCollapsed&&(null!=t.card.initPeriod||null!=t.card.endPeriod)),p.xp6(1),p.Q6J("ngIf",!t.isCollapsed&&null!=t.card.condition&&null==t.card.takeVacationUntil),p.xp6(1),p.Q6J("ngIf",!t.isCollapsed),p.xp6(1),p.Gre("footer ",t.buttonApproveReproveAreVisible||t.requestIsVisible?"po-pt-2 po-pb-2":"po-pt-1"," po-pt-lg-0 po-pb-lg-0"),p.xp6(1),p.Q6J("ngTemplateOutlet",i)}},directives:[$.A,n.O5,n.tP,l.bOz,te],pipes:[ae.r,r.X$,re.$],styles:['.header[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]{color:#4a5c60;overflow:hidden;word-break:break-word}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:flex;align-items:center}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:11px}.header[_ngcontent-%COMP%]   .about-employee[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]   .po-icon[_ngcontent-%COMP%]{font-size:17px}.header[_ngcontent-%COMP%]   .vacation-link[_ngcontent-%COMP%]{color:#179abd;font-size:20px;display:none}.header[_ngcontent-%COMP%]   .vacation-link[_ngcontent-%COMP%]:hover{text-decoration:none}.header[_ngcontent-%COMP%]   .vacation-link-mobile[_ngcontent-%COMP%]{display:flex;margin-top:auto;padding-bottom:2.6px}@media (min-width: 961px){.header[_ngcontent-%COMP%]   .vacation-link-mobile[_ngcontent-%COMP%]{display:none}.header[_ngcontent-%COMP%]   .vacation-link-desktop[_ngcontent-%COMP%]{display:flex}}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:repeat(3,minmax(0,1fr));flex-grow:1}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{display:none}@media (max-width: 960px){.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{grid-template-columns:1fr 25px;grid-gap:20px;gap:20px}.header[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{display:inline;font-size:24px;color:#179abd;margin-bottom:auto}}.header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:-14px}@media (max-width: 960px){.header[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:none}}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{justify-content:flex-end}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%] ~ po-button[_ngcontent-%COMP%]{margin-left:.5rem}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button, .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{height:24px;width:92px;display:flex;align-items:center;justify-content:center;padding:0}@media (min-width: 1367px){.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button, .header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{width:120px}}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button-icon{font-size:19px}@media (min-width: 961px){.body[_ngcontent-%COMP%]{margin-left:calc(1rem + 32px)}}@media (min-width: 961px){.body[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:none}}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:grid;flex-grow:1;grid-gap:16px 30px;gap:16px 30px;align-items:flex-start;grid-template-columns:repeat(5,minmax(0,1fr))}@media (max-width: 1366px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (max-width: 960px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr));grid-gap:4px;gap:4px}}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 960px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));padding-bottom:4px;margin-bottom:4px;grid-gap:3px;gap:3px}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:not(:last-child){border-bottom:#eceeee 1px solid}}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#1e2526;font-size:12px}.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"NunitoSans-bold"}@media (max-width: 960px){.body[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right}}.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 960px){.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:grid;grid-gap:15px;gap:15px}.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button{width:100%}.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     .po-button-icon{font-size:17px}}@media (max-width: 960px) and (min-width: 370px){.footer[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 960px){.footer[_ngcontent-%COMP%]   .request-button[_ngcontent-%COMP%]{grid-template-columns:1fr}.footer[_ngcontent-%COMP%]   .request-button-disabled[_ngcontent-%COMP%]{grid-template-columns:16px 1fr}}.tags[_ngcontent-%COMP%], .buttons[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.5rem;gap:.5rem;flex-wrap:wrap}.tags[_ngcontent-%COMP%]{justify-content:flex-start}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{border-radius:3px;opacity:1;padding:2px 5px;color:#fff;font-size:12px;text-transform:uppercase}.tags[_ngcontent-%COMP%]   .tag-expiredVacation[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-doubleExpiredVacation[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-doubleRisk[_ngcontent-%COMP%]{background:#c64840}.tags[_ngcontent-%COMP%]   .tag-conflicts[_ngcontent-%COMP%]{background:#ffb600}.tags[_ngcontent-%COMP%]   .tag-vacationsToExpire[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-scheduledVacation[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-calculated[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]   .tag-vacationsTaken[_ngcontent-%COMP%]{background-color:#0c9abe}.tags[_ngcontent-%COMP%]   .tag-onVacation[_ngcontent-%COMP%]{background-color:#20b28e}.absence-timeline-card[_ngcontent-%COMP%]  .card-well{margin-bottom:0;padding-bottom:0}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.avatar-card[_ngcontent-%COMP%]{align-self:stretch;display:flex;align-items:center;width:40px}@media (max-width: 960px){.avatar-card[_ngcontent-%COMP%]{align-self:flex-start;margin-top:2px}}.avatar-card[_ngcontent-%COMP%]   .avatar-small[_ngcontent-%COMP%]{max-height:40px;width:100%;height:100%}@media (max-width: 960px){.avatar-card[_ngcontent-%COMP%]   .avatar-small[_ngcontent-%COMP%]{width:35px;height:35px}}']}),Le=(0,d.gn)([(0,g.c)(),(0,d.w6)("design:paramtypes",[oe.A,a.F0,V.O,se.H])],Le);const Ne=["modal"];function Ee(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"app-status-dashboard",18),p.NdJ("filterEvent",function(t){return p.CHM(e),p.oxw().filterFromDashboard(t)}),p.qZA()}if(2&e){const e=p.oxw();p.Q6J("dashboardObject",e.dashboardStatus)}}function Ue(e,t){if(1&e&&(p.TgZ(0,"div",32),p._UZ(1,"po-switch",33),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("showIndirectSubordinates"))}}function Fe(e,t){if(1&e&&(p.TgZ(0,"div",32),p._UZ(1,"po-select",34),p.ALo(2,"translate"),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("levelsBelow"))("p-options",e.levelsOptions)("p-placeholder",p.lcZ(2,3,"l-select-option"))}}function Je(e,t){if(1&e&&(p.TgZ(0,"div",35),p._UZ(1,"po-input",36),p.ALo(2,"translate"),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("name"))("p-placeholder",p.lcZ(2,2,"l-search-collaborator-placeholder"))}}function Ve(e,t){if(1&e&&(p.TgZ(0,"div",37),p._UZ(1,"app-field-title",38),p.ALo(2,"translate"),p._UZ(3,"po-select",39),p.ALo(4,"translate"),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Q6J("title",e.advancedFilterLabels.get("monthInAdvance"))("info",p.lcZ(2,4,"l-month-in-advance-info")),p.xp6(2),p.Q6J("p-options",e.monthInAdvanceOptions)("p-placeholder",p.lcZ(4,6,"l-select"))}}function Re(e,t){if(1&e&&(p.TgZ(0,"div",22),p._UZ(1,"po-multiselect",40),p.ALo(2,"translate"),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("condition"))("p-options",e.conditionOptions)("p-placeholder",p.lcZ(2,3,"l-select"))}}function Ye(e,t){if(1&e&&(p.YNc(0,Ue,2,1,"div",19),p.YNc(1,Fe,3,5,"div",19),p.YNc(2,Je,3,4,"div",20),p.TgZ(3,"div",21),p.TgZ(4,"div",22),p._UZ(5,"po-multiselect",23),p.ALo(6,"translate"),p.qZA(),p.TgZ(7,"div",22),p._UZ(8,"po-multiselect",24),p.ALo(9,"translate"),p.qZA(),p.qZA(),p._UZ(10,"po-divider",25),p.TgZ(11,"div",26),p.TgZ(12,"div"),p._UZ(13,"po-datepicker",27),p.ALo(14,"translate"),p.qZA(),p.TgZ(15,"div"),p._UZ(16,"po-datepicker",28),p.ALo(17,"translate"),p.qZA(),p.YNc(18,Ve,5,8,"div",29),p.qZA(),p._UZ(19,"po-divider",25),p.TgZ(20,"div",21),p.YNc(21,Re,3,5,"div",30),p.TgZ(22,"div"),p._UZ(23,"po-multiselect",31),p.ALo(24,"translate"),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.Q6J("ngIf",null==e.indirectEmployeesProps?null:e.indirectEmployeesProps.visible),p.xp6(1),p.Q6J("ngIf",null==e.hierarchicalLevelProps?null:e.hierarchicalLevelProps.visible),p.xp6(1),p.Q6J("ngIf",0==e.shouldSearchNameInMemory),p.xp6(3),p.Q6J("p-label",e.advancedFilterLabels.get("team"))("p-options",e.teamSelect)("p-placeholder",p.lcZ(6,27,"l-select")),p.xp6(3),p.Q6J("p-label",e.advancedFilterLabels.get("role"))("p-options",e.roleSelect)("p-placeholder",p.lcZ(9,29,"l-select")),p.xp6(4),p.Gre("po-sm-6 po-lg-",null!=e.monthInAdvanceProps&&e.monthInAdvanceProps.visible?4:6,""),p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("initDate"))("p-placeholder",p.lcZ(14,31,"dateFormat")),p.xp6(2),p.Gre("po-sm-6 po-lg-",null!=e.monthInAdvanceProps&&e.monthInAdvanceProps.visible?4:6,""),p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("endDate"))("p-placeholder",p.lcZ(17,33,"dateFormat")),p.xp6(2),p.Q6J("ngIf",e.monthInAdvanceProps&&e.monthInAdvanceProps.visible),p.xp6(3),p.Q6J("ngIf",e.showCondition),p.xp6(1),p.Gre("po-sm-12 ",e.showCondition?"po-md-6":"po-md-12",""),p.xp6(1),p.Q6J("p-label",e.advancedFilterLabels.get("status"))("p-options",e.selectOptions)("p-placeholder",p.lcZ(24,35,"l-select"))}}function ze(e,t){if(1&e&&(p.TgZ(0,"div",51),p._uU(1),p.qZA()),2&e){const e=p.oxw(2).$implicit,t=p.oxw(2);p.xp6(1),p.Oqu(t.getMountYear(e.yearMonth))}}function Qe(e,t){if(1&e&&(p.TgZ(0,"div",52),p.TgZ(1,"div",53),p._uU(2),p.ALo(3,"utcDate"),p.qZA(),p.TgZ(4,"div",54),p._uU(5),p.ALo(6,"utcDate"),p.qZA(),p.qZA()),2&e){const e=p.oxw().$implicit;p.xp6(2),p.Oqu(p.xi3(3,2,e.refDate,"dd")),p.xp6(3),p.Oqu(p.xi3(6,5,e.refDate,"E"))}}function Ge(e,t){if(1&e&&p._UZ(0,"span",55),2&e){const e=p.oxw().$implicit,t=p.oxw(3);p.Q6J("ngClass",t.getClassForStatusIcon(e))}}function He(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div"),p.YNc(1,ze,2,1,"div",44),p.TgZ(2,"div",45),p.YNc(3,Qe,7,8,"div",46),p.TgZ(4,"div",47),p.YNc(5,Ge,1,1,"span",48),p.qZA(),p.TgZ(6,"div",49),p.TgZ(7,"app-absence-timeline-card",50),p.NdJ("onApprove",function(t){return p.CHM(e),p.oxw(3).openModal(t,!0)})("onReprove",function(t){return p.CHM(e),p.oxw(3).openModal(t,!1)})("onConflict",function(t){return p.CHM(e),p.oxw(3).showConflicts(t)}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=p.oxw().$implicit,o=p.oxw(2);p.xp6(1),p.Q6J("ngIf",0==i),p.xp6(2),p.Q6J("ngIf",!o.isSameDate(e,n,i)),p.xp6(1),p.Q6J("ngClass",o.getClassForStatus(e)),p.xp6(1),p.Q6J("ngIf",!o.isApprovingStatus(e.status)||o.isAbsenceConflict(e)),p.xp6(2),p.Q6J("view",e)("hasPermissionVacation",o.hasPermissionVacation)}}function Be(e,t){if(1&e&&(p.ynx(0),p.YNc(1,He,8,6,"div",43),p.BQk()),2&e){const e=t.$implicit;p.xp6(1),p.Q6J("ngForOf",e.cardsView)}}function je(e,t){if(1&e&&(p.TgZ(0,"div",41),p.TgZ(1,"div",42),p.YNc(2,Be,2,1,"ng-container",43),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(2),p.Q6J("ngForOf",e.months)}}function $e(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",56),p.NdJ("click",function(){return p.CHM(e),p.oxw().viewMore()}),p.TgZ(1,"a",57),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()}2&e&&(p.xp6(2),p.hij("",p.lcZ(3,1,"l-load-more")," "))}function We(e,t){1&e&&(p.TgZ(0,"div",58),p.TgZ(1,"span"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.hij("",p.lcZ(3,1,"l-no-vacation-records")," "))}function Ke(e,t){if(1&e&&(p.TgZ(0,"div",59),p.TgZ(1,"div",60),p.TgZ(2,"strong"),p._uU(3),p.ALo(4,"titleCase"),p.qZA(),p.qZA(),p.TgZ(5,"div",61),p.TgZ(6,"span"),p._uU(7),p.ALo(8,"titleCase"),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.MGl("id","lbl-employee-name-",e.actualCard.card.id,""),p.xp6(2),p.Oqu(p.lcZ(4,4,e.actualCard.card.name)),p.xp6(2),p.MGl("id","lbl-role-description-",e.actualCard.card.id,""),p.xp6(2),p.Oqu(p.lcZ(8,6,e.actualCard.card.roleDescription))}}function Xe(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",62),p.TgZ(1,"po-textarea",63),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().justify=t}),p.ALo(2,"translate"),p.qZA(),p.qZA()}if(2&e){const e=p.oxw();p.xp6(1),p.s9C("p-label",p.lcZ(2,4,"l-reason")),p.Q6J("p-disabled",e.justifyProps&&!e.justifyProps.editable)("ngModel",e.justify)("p-required",e.justifyProps&&e.justifyProps.required)}}function et(e,t){if(1&e&&(p.TgZ(0,"div",51),p._uU(1),p.qZA()),2&e){const e=p.oxw(2).$implicit,t=p.oxw(2);p.xp6(1),p.hij(" ",t.getMountYear(e.yearMonth)," ")}}function tt(e,t){if(1&e&&(p.TgZ(0,"div",52),p.TgZ(1,"div",53),p._uU(2),p.ALo(3,"utcDate"),p.qZA(),p.TgZ(4,"div",54),p._uU(5),p.ALo(6,"utcDate"),p.qZA(),p.qZA()),2&e){const e=p.oxw().$implicit;p.xp6(2),p.Oqu(p.xi3(3,2,e.refDate,"dd")),p.xp6(3),p.Oqu(p.xi3(6,5,e.refDate,"E"))}}function it(e,t){if(1&e&&p._UZ(0,"span",55),2&e){const e=p.oxw().$implicit,t=p.oxw(3);p.Q6J("ngClass",t.getClassForStatusIcon(e))}}function nt(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div"),p.YNc(1,et,2,1,"div",44),p.TgZ(2,"div",45),p.YNc(3,tt,7,8,"div",46),p.TgZ(4,"div",47),p.YNc(5,it,1,1,"span",48),p.qZA(),p.TgZ(6,"div",49),p.TgZ(7,"app-absence-timeline-card",64),p.NdJ("onApprove",function(t){return p.CHM(e),p.oxw(3).openModal(t,!0)})("onReprove",function(t){return p.CHM(e),p.oxw(3).openModal(t,!1)}),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=p.oxw().$implicit,o=p.oxw(2);p.xp6(1),p.Q6J("ngIf",0==i),p.xp6(2),p.Q6J("ngIf",!o.isSameDate(e,n,i)),p.xp6(1),p.Q6J("ngClass",o.getClassForStatus(e)),p.xp6(1),p.Q6J("ngIf",!o.isApprovingStatus(e.status)||o.isAbsenceConflict(e)),p.xp6(2),p.Q6J("view",e)("conflictIsClickable",!1)("hasPermissionVacation",o.hasPermissionVacation)}}function ot(e,t){if(1&e&&(p.ynx(0),p.YNc(1,nt,8,7,"div",43),p.BQk()),2&e){const e=t.$implicit;p.xp6(1),p.Q6J("ngForOf",e.cardsView)}}function st(e,t){if(1&e&&(p.TgZ(0,"div",42),p.YNc(1,ot,2,1,"ng-container",43),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngForOf",e.conflictsMonths)}}var at=(()=>{return(e=at||(at={})).Acquisition="acquisition",e.Concessive="concessive",e.OnVacation="onVacation",at;var e})();let rt=class extends E.R{constructor(e,t,i,n,s,a,r,l,c,p,d,g){super(),this.fieldProperties=e,this.service=t,this.moment=i,this.appTranslateService=n,this.notificationService=s,this.teamEmployeesService=a,this.i18n=r,this.lastAccess=l,this.globals=c,this.windowUtilService=p,this.permissionSelectors=d,this.datepipe=g,this.initialized=!1,this.months=[],this.conflictsMonths=[],this.cacheAllMonths=[],this.filteredMonths=[],this.isModalOpened=!1,this.conflictAbsencesDialogIsVisible=!1,this.modalAction={action:()=>{this.confirm(this.actualCard)},label:"l-confirm"},this.advancedFilterLabels=new Map,this.selectOptions=[],this.conditionOptions=[],this.levelsOptions=[],this.monthInAdvanceOptions=[],this.teamSelect=[],this.roleSelect=[],this.advancedSearchExtra={},this.showCondition=!1,this.hasPermissionVacation=!1,this.currentFilter={},this.dashboardStatus=[],this.shouldSearchNameInMemory=!0,this.advancedSearchFormGroup=new o.cw({showIndirectSubordinates:new o.NI,name:new o.NI,initDate:new o.NI,endDate:new o.NI,status:new o.NI,condition:new o.NI,monthInAdvance:new o.NI,levelsBelow:new o.NI,team:new o.NI,role:new o.NI,period:new o.NI}),this.SELECT_EMPTY_VALUE_OPTION="undefined",this.hierarchicalLevels=[],this.absenceRecordsView=new L.i([])}get initDateFormControl(){return this.advancedSearchFormGroup.get("initDate")}get endDateFormControl(){return this.advancedSearchFormGroup.get("endDate")}get monthInAdvanceFormControl(){return this.advancedSearchFormGroup.get("monthInAdvance")}ngOnInit(){super.ngOnInit(),this.configure(),this.getAbsenceCount()}getHierarchicalLevels(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.hierarchicalLevelProps&&this.hierarchicalLevelProps.visible){const e=yield this.service.getHierarchicalLevels();this.hierarchicalLevels=e.items}})}getFirstPosition(){return this.hierarchicalLevels[0]?this.hierarchicalLevels[0].value:void 0}getLastPosition(){return this.hierarchicalLevels[this.hierarchicalLevels.length-1]?this.hierarchicalLevels[this.hierarchicalLevels.length-1].value:void 0}isWebView(){this.viewIsMobile=this.windowUtilService.isWebView()}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(N.ye,e.id)})}getHierarchicalLevel(e,t){let i;return i=t||(e?1:void 0),i}retrieveAndProccessAbsenceCards(e={}){var t,i,n;null!==(t=e.page)&&void 0!==t||(e.page=1),null!==(i=e.onlyVacationConflicts)&&void 0!==i||(e.onlyVacationConflicts=!1),null!==(n=e.isFilter)&&void 0!==n||(e.isFilter=!1),this.showIndirectSubordinates=e.showIndirectSubordinates,this.levelsBelow=e.levelsBelow;const o=this.getHierarchicalLevel(this.showIndirectSubordinates,this.levelsBelow),s=e.team&&e.team!==this.SELECT_EMPTY_VALUE_OPTION?e.team:void 0,a=e.role&&e.role!==this.SELECT_EMPTY_VALUE_OPTION?e.role:void 0,r=e.status&&e.status!==this.SELECT_EMPTY_VALUE_OPTION?e.status:void 0;this.service.getAllAbsences(D.N.loggedUser,e.page,this.absenceRecordsView.pageSize,e.initDate?new Date(e.initDate):void 0,e.endDate?new Date(e.endDate):void 0,s,a,void 0,o,r,e.onlyVacationConflicts,e.monthInAdvance,e.name,e.condition,e.period,!0).then(t=>{this.updateAbsenceRecordView(t,e.isFilter),this.processAbsences(this.absenceRecordsView.records),this.initialized=!0,this.cacheAllMonths=this.months,this.shouldSearchNameInMemory&&this.searchCardsByEmployeeNameInMemory()})}getMountYear(e){const t=e%100,i=new Date((e-t)/100,t-1,1,0,0,0,0);return this.moment.getInstance(i).format("MMMM, YYYY")}isSameDate(e,t,i){return!(0===i||!t.cardsView[i-1])&&t.cardsView[i-1].period.initDate.getDate()===e.period.initDate.getDate()}getClassForStatus(e){if(e.card.hasConflict)return"timeline-conflict-warning";switch(e.status){case k.u.StatusEnum.Approved:return"timeline-status-approved";case k.u.StatusEnum.Rejected:return"timeline-status-rejected";default:return"timeline-status-none"}}getClassForStatusIcon(e){if(e.card.hasConflict)return"po-icon-warning";switch(e.status){case k.u.StatusEnum.Approved:return"po-icon-ok";case k.u.StatusEnum.Rejected:return"po-icon-close";default:return""}}isApprovingStatus(e){return e===k.u.StatusEnum.Approving}confirm(e){if(this.justifyIsNullAndRequired()&&!this.isApprove)this.appTranslateService.getI18n("l-reason-required").then(e=>{this.notificationService.showNotification(e,l.ik9.Error)});else{let t;t=this.convertingToAbsenceInfo(e);const i=this.defineMessageReturnStatus();t.canApprove=!1,this.service.putAbsenceInfo(t).then(t=>{this.updateData(e,t),this.getAbsenceCount(),this.translateMessages(i,t)})}}isAbsenceConflict(e){return e.card.hasConflict}openModal(e,t){this.isModalOpened=!0,this.justify=void 0,this.actualCard=e,this.isApprove=t,this.modalTitle=t?"l-approve-absence":"l-reprove-absence",this.modal.open()}searchCardsByEmployeeNameInMemory(e){if(this.months=this.cacheAllMonths,(null==e?void 0:e.length)>=3){let t=[];this.months.forEach(i=>{t=t.concat(i.absenceCards.filter(t=>(t=>t.toUpperCase().includes(e.toUpperCase()))(t.name)))}),this.months=H.bk.initialize(t,this.moment,this.i18n)}}viewMore(){this.retrieveAndProccessAbsenceCards(Object.assign({page:this.absenceRecordsView.getNextPage()},this.absenceRecordsView.filter))}showConflicts(e){const t=this.getHierarchicalLevel(this.showIndirectSubordinates,this.levelsBelow);this.service.getAllAbsences(D.N.loggedUser,null,null,e.card.initDate,e.card.endDate,null,null,null,t,null,!0).then(e=>{this.conflictsMonths=H.bk.initialize(e.records,this.moment,this.i18n),this.openConflictAbsencesDialog()})}openConflictAbsencesDialog(){this.conflictAbsencesDialogIsVisible=!0}closeConflictAbsencesDialog(){this.conflictAbsencesDialogIsVisible=!1}onChangeDisclaimers(e){this.onAdvancedSearch(e.reduce((e,t)=>(e[t.property]=t.value,e),{}))}filterFromDashboard(e){e.quantity>0&&(this.advanceSearch.changeFilter(!0,!0,!0),this.dashboardStatus.forEach(t=>{t.name===e.name&&(t=e)}),e.select?(this.absenceRecordsView.filter={condition:e.type},this.onAdvancedSearch({condition:e.type})):(this.absenceRecordsView.filter=void 0,this.onAdvancedSearch({})))}filtersChange(e){this.clearDashboardStatus(),null!=e.new.quickFilter?this.onQuickSearch(e.new.quickFilter):this.onAdvancedSearch(e.new.advancedFiltersAsObject)}onQuickSearch(e){this.shouldSearchNameInMemory?this.searchCardsByEmployeeNameInMemory(e):(this.absenceRecordsView.filter={name:e},this.retrieveAndProccessAbsenceCards({name:e,isFilter:!0}))}onAdvancedSearch(e){e.period===at.OnVacation&&(e.condition?e.condition+=`,${k.u.ConditionEnum.OnVacation}`:e.condition=k.u.ConditionEnum.OnVacation),this.absenceRecordsView.filter=e,this.retrieveAndProccessAbsenceCards(Object.assign(Object.assign({},e),{isFilter:!0}))}getAbsenceCount(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.service.getAbsenceCount(D.N.loggedUser);this.initDashboard(e.onVacation,e.expiredVacation,e.vacationsToExpire,e.doubleExpiredVacation,e.doubleRisk)})}initDashboard(e,t,i,n,o){this.dashboardStatus=[{name:"l-on-vacation",quantity:null!=e?e:0,type:k.u.ConditionEnum.OnVacation,select:!1},{name:"l-expired",quantity:null!=t?t:0,type:k.u.ConditionEnum.ExpiredVacation,select:!1},{name:"l-to-expire",quantity:null!=i?i:0,type:k.u.ConditionEnum.VacationsToExpire,select:!1},{name:"l-double",quantity:null!=n?n:0,type:k.u.ConditionEnum.DoubleExpiredVacation,select:!1},{name:"l-double-risk",quantity:null!=o?o:0,type:k.u.ConditionEnum.DoubleRisk,select:!1}]}clearDashboardStatus(){this.dashboardStatus.forEach(e=>{e.select=!1})}updateAbsenceRecordView(e,t=!1){this.absenceRecordsView.records||(this.absenceRecordsView.records=[]),t?this.absenceRecordsView.records=e.records:(this.absenceRecordsView.records=this.absenceRecordsView.records.concat(e.records),this.absenceRecordsView.records=this.absenceRecordsView.records.sort((e,t)=>e.refDate>t.refDate?1:-1)),this.absenceRecordsView.actualPage=e.actualPage,this.absenceRecordsView.hasMoreRecords=e.hasMoreRecords}getProperties(){return(0,d.mG)(this,void 0,void 0,function*(){(yield this.fieldProperties.getFieldProperties("vacation")).forEach(e=>{switch(e.field){case"justify":this.justifyProps=e;break;case"hierarchicalLevel":this.hierarchicalLevelProps=e;break;case"indirectSubordinatesLevel":this.indirectEmployeesProps=e;break;case"monthInAdvance":this.monthInAdvanceProps=e;break;case"searchNameInDatabase":this.shouldSearchNameInMemory=!e||!e.visible;break;case"condition":this.showCondition=e&&e.visible;break;case"dashboard":this.dashboardProps=e&&e.visible}}),yield this.getHierarchicalLevels()})}translateLabelConfirm(){this.appTranslateService.getI18n(this.modalAction.label).then(e=>{this.modalAction.label=e})}processAbsences(e){this.months=H.bk.initialize(e,this.moment,this.i18n)}justifyIsNullAndRequired(){return!this.justify&&this.justifyProps&&this.justifyProps.required}translateMessages(e,t){this.appTranslateService.getI18n(e).then(e=>{this.actualCard.statusLabel=t.statusLabel,this.actualCard.status=t.status,this.actualCard.canApprove=t.canApprove,this.actualCard.approved=t.approved,this.notificationService.showNotification(e,l.ik9.Success),this.modal.close()})}updateData(e,t){this.absenceRecordsView&&this.absenceRecordsView.records&&this.absenceRecordsView.records.forEach(i=>{i.id===e.id&&i.employeeId===e.employeeId&&(i.statusLabel=t.statusLabel,i.canApprove=t.canApprove)})}defineMessageReturnStatus(){let e;return e=this.isApprove?"m-approved-request":"m-reprove-request",e}convertingToAbsenceInfo(e){let t;return e&&(t={id:e.id,approved:this.isApprove,canApprove:e.canApprove,type:e.type,absenceDays:e.quantity.days,status:e.status,endDate:e.period.endDate,initDate:e.period.initDate,vacationBonus:e.quantity.bonus,justify:this.justify,approvers:e.approvers,statusLabel:e.statusLabel,statusAbbr:e.statusAbbr,endConcessionPeriod:e.endConcessionPeriod,initConcessionPeriod:e.initConcessionPeriod}),t}initializeSelectFilters(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.teamEmployeesService.getTeams(D.N.loggedUser),t=[];e.forEach(e=>{t.push({label:e.name,value:e.id})}),this.teamSelect=t;const i=yield this.teamEmployeesService.getRoles(D.N.loggedUser),n=[];i.forEach(e=>{n.push({label:e.name,value:e.id})}),this.roleSelect=n,this.selectOptions=[{label:"l-unsolicited-plural",value:k.u.StatusEnum.Empty},{label:"l-approved-plural",value:k.u.StatusEnum.Approved},{label:"l-approving",value:k.u.StatusEnum.Approving},{label:"l-absence-closed",value:k.u.StatusEnum.Closed},{label:"l-calculated-plural",value:k.u.StatusEnum.Calculated}],R.ZP.isErpRM()||this.selectOptions.push({label:"l-rejected-plural",value:k.u.StatusEnum.Rejected}),this.selectOptions.forEach(e=>{this.appTranslateService.getI18n(e.label).then(t=>{e.label=t})}),this.conditionOptions=yield this.getConditionOptions(),this.monthInAdvanceOptions=[{label:yield this.appTranslateService.getI18n("l-select"),value:-1},...Array.from(Array(10)).map((e,t)=>({label:`${t+1}`,value:t+1}))],this.levelsOptions=this.getLevelsOptions()})}getLevelsOptions(){const e=[];for(let t=this.getFirstPosition();t<=this.getLastPosition();t++)e.push({label:t.toString(),value:t});return e}getConditionOptions(){return(0,d.mG)(this,void 0,void 0,function*(){return[{label:yield this.appTranslateService.getI18n("l-vacation-situation-expired"),value:k.u.ConditionEnum.ExpiredVacation},{label:yield this.appTranslateService.getI18n("l-vacation-situation-vacations-to-expire"),value:k.u.ConditionEnum.VacationsToExpire},{label:yield this.appTranslateService.getI18n("l-vacation-situation-double-expired"),value:k.u.ConditionEnum.DoubleExpiredVacation},{label:yield this.appTranslateService.getI18n("l-on-vacation"),value:k.u.ConditionEnum.OnVacation},{label:yield this.appTranslateService.getI18n("l-double-risk"),value:k.u.ConditionEnum.DoubleRisk},{label:yield this.appTranslateService.getI18n("l-scheduled-vacation"),value:k.u.ConditionEnum.ScheduledVacation},{label:yield this.appTranslateService.getI18n("l-vacations-taken"),value:k.u.ConditionEnum.VacationsTaken},{label:yield this.appTranslateService.getI18n("l-calculated-plural"),value:k.u.ConditionEnum.Calculated}]})}getConditionLabelByValue(e){return(0,d.mG)(this,void 0,void 0,function*(){return this.getLabelByValueAndOptions(e,this.conditionOptions)})}getStatusLabelByValue(e){return this.getLabelByValueAndOptions(e,this.selectOptions)}getTeamLabelByValue(e){return this.getLabelByValueAndOptions(e,this.teamSelect)}getRoleLabelByValue(e){return this.getLabelByValueAndOptions(e,this.roleSelect)}getDateByValue(e){return(0,d.mG)(this,void 0,void 0,function*(){return null==e?"":this.datepipe.transform(e,"shortDate")})}getLabelByValueAndOptions(e,t){return(0,d.mG)(this,void 0,void 0,function*(){return null==e||0===e.length?e:(e instanceof Array?e:[e]).map(e=>{var i;const n=t.find(t=>e==t.value);return null!==(i=null==n?void 0:n.label)&&void 0!==i?i:e}).join(", ")})}mountSearchLabels(){return(0,d.mG)(this,void 0,void 0,function*(){this.advancedFilterLabels.set("team",yield this.appTranslateService.getI18n("l-team")),this.advancedFilterLabels.set("role",yield this.appTranslateService.getI18n("l-role")),this.advancedFilterLabels.set("monthInAdvance",yield this.appTranslateService.getI18n("l-month-in-advance")),this.advancedFilterLabels.set("name",yield this.appTranslateService.getI18n("l-name")),this.advancedFilterLabels.set("status",yield this.appTranslateService.getI18n("l-vacation-situation")),this.advancedFilterLabels.set("condition",yield this.appTranslateService.getI18n("l-vacation-status")),this.advancedFilterLabels.set("initDate",yield this.appTranslateService.getI18n("l-initial-date")),this.advancedFilterLabels.set("endDate",yield this.appTranslateService.getI18n("l-end-date")),this.advancedFilterLabels.set("period",yield this.appTranslateService.getI18n("l-period")),this.advancedFilterLabels.set("showIndirectSubordinates",yield this.appTranslateService.getI18n("l-show-indirect-subordinates")),this.advancedFilterLabels.set("levelsBelow",yield this.appTranslateService.getI18n("l-level")),this.advancedSearchExtra.optionsLabelGetter=new Map,this.advancedSearchExtra.optionsLabelGetter.set("condition",this.getConditionLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("status",this.getStatusLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("team",this.getTeamLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("role",this.getRoleLabelByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("initDate",this.getDateByValue.bind(this)),this.advancedSearchExtra.optionsLabelGetter.set("endDate",this.getDateByValue.bind(this))})}configure(){return(0,d.mG)(this,void 0,void 0,function*(){this.absenceRecordsView=new L.i([],10),this.isWebView(),yield this.getProperties(),yield this.initializeSelectFilters(),this.getHierarchicalLevels(),this.translateLabelConfirm(),this.setCountLastAccess(),this.retrieveAndProccessAbsenceCards(),yield this.mountSearchLabels(),this.configureFormReactiveness(),this.checkPermissions()})}checkPermissions(){this.permissionSelectors.permissions$.pipe((0,g.t)(this)).subscribe(e=>{this.hasPermissionVacation=e.teamManagementVacation})}configureFormReactiveness(){this.monthInAdvanceFormControl.valueChanges.pipe((0,g.t)(this)).subscribe(e=>{-1!==e?null!=e?(this.initDateFormControl.enabled&&this.initDateFormControl.disable(),this.endDateFormControl.enabled&&this.endDateFormControl.disable(),this.initDateFormControl.value&&this.initDateFormControl.patchValue(null),this.endDateFormControl.value&&this.endDateFormControl.patchValue(null)):(this.initDateFormControl.disabled&&this.initDateFormControl.enable(),this.endDateFormControl.disabled&&this.endDateFormControl.enable()):this.monthInAdvanceFormControl.patchValue(null)}),(0,S.aj)([this.initDateFormControl.valueChanges.pipe((0,I.O)(null)),this.endDateFormControl.valueChanges.pipe((0,I.O)(null))]).pipe((0,g.t)(this)).subscribe(e=>{null!=e[0]||null!=e[1]?(this.monthInAdvanceFormControl.disable(),this.monthInAdvanceFormControl.value&&this.monthInAdvanceFormControl.patchValue(null)):this.monthInAdvanceFormControl.enable()})}};rt.\u0275fac=function(e){return new(e||rt)(p.Y36(Y.c),p.Y36(G.D),p.Y36(U.z),p.Y36(u.g),p.Y36(F.g),p.Y36(Q.s),p.Y36(u.g),p.Y36(N.Lx),p.Y36(V.O),p.Y36(J.g),p.Y36(z.eL),p.Y36(n.uU))},rt.\u0275cmp=p.Xpm({type:rt,selectors:[["app-absence"]],viewQuery:function(e,t){if(1&e&&(p.Gf(Ne,5),p.Gf(C,5)),2&e){let e;p.iGM(e=p.CRH())&&(t.modal=e.first),p.iGM(e=p.CRH())&&(t.advanceSearch=e.first)}},features:[p.qOj],decls:20,vars:22,consts:[[3,"pageTitle"],[3,"dashboardObject","filterEvent",4,"ngIf"],[1,"advanced-search",3,"advancedSearchFormGroup","placeholder","advancedFilterLabels","extra","filtersChange"],["advancedSearchDialog",""],["appAdvancedSearchContent","",3,"formGroup"],[1,"content"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",4,"ngIf"],["class","next-records",3,"click",4,"ngIf"],["class","no-vacation-records",4,"ngIf"],["p-click-out","true","p-size","lg",3,"p-primary-action","p-title"],["modal",""],["class","about-employee",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 justify-label no-padding",4,"ngIf"],["id","absence-conflict","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["pageTitle","l-absence-conflicts",3,"backIsVisible","backFunction"],[1,"timeline-center","scroll-dialog"],["class","timeline",4,"ngIf"],[3,"dashboardObject","filterEvent"],["class","po-sm-12",4,"ngIf"],["class","po-sm-12 po-mt-2",4,"ngIf"],[1,"po-row"],[1,"po-sm-12","po-md-6"],["formControlName","team",3,"p-label","p-options","p-placeholder"],["formControlName","role",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12","po-my-1"],[1,"po-row","po-mt-1"],["formControlName","initDate",3,"p-label","p-placeholder"],["formControlName","endDate",3,"p-label","p-placeholder"],["class","po-sm-6 po-lg-4",4,"ngIf"],["class","po-sm-12 po-md-6",4,"ngIf"],["formControlName","status",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12"],["formControlName","showIndirectSubordinates",3,"p-label"],["formControlName","levelsBelow",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12","po-mt-2"],["formControlName","name",3,"p-label","p-placeholder"],[1,"po-sm-6","po-lg-4"],[3,"title","info"],["formControlName","monthInAdvance",3,"p-options","p-placeholder"],["formControlName","condition",3,"p-label","p-options","p-placeholder"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],[1,"timeline"],[4,"ngFor","ngForOf"],["class","timeline-content timeline-month po-mb-2",4,"ngIf"],[1,"timeline-block"],["class","timeline-date",4,"ngIf"],[1,"timeline-status-indicator",3,"ngClass"],["class","po-icon center",3,"ngClass",4,"ngIf"],[1,"timeline-content"],[3,"view","hasPermissionVacation","onApprove","onReprove","onConflict"],[1,"timeline-content","timeline-month","po-mb-2"],[1,"timeline-date"],[1,"timeline-day"],[1,"timeline-day-of-week"],[1,"po-icon","center",3,"ngClass"],[1,"next-records",3,"click"],["id","link-more-records"],[1,"no-vacation-records"],[1,"about-employee"],[1,"name",3,"id"],[1,"role",3,"id"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","justify-label","no-padding"],["name","justify","p-maxlength","500",3,"p-disabled","ngModel","p-label","p-required","ngModelChange"],[3,"view","conflictIsClickable","hasPermissionVacation","onApprove","onReprove"]],template:function(e,t){1&e&&(p._UZ(0,"app-page-header",0),p.YNc(1,Ee,1,1,"app-status-dashboard",1),p.TgZ(2,"app-advanced-search",2,3),p.NdJ("filtersChange",function(e){return t.filtersChange(e)}),p.ALo(4,"translate"),p.YNc(5,Ye,25,37,"ng-template",4),p.qZA(),p.TgZ(6,"div",5),p.YNc(7,je,3,1,"div",6),p.qZA(),p.YNc(8,$e,4,3,"div",7),p.YNc(9,We,4,3,"div",8),p.TgZ(10,"po-modal",9,10),p.ALo(12,"translate"),p.YNc(13,Ke,9,8,"div",11),p.YNc(14,Xe,3,6,"div",12),p.qZA(),p.TgZ(15,"app-dialog",13),p.NdJ("closeDialogEvent",function(){return t.closeConflictAbsencesDialog()}),p.TgZ(16,"div",14),p.TgZ(17,"app-page-header",15),p.NdJ("backFunction",function(){return t.closeConflictAbsencesDialog()}),p.qZA(),p.TgZ(18,"div",16),p.YNc(19,st,2,1,"div",17),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("pageTitle",t.viewIsMobile?"l-absence-page-title-mobile":"l-absence-page-title"),p.xp6(1),p.Q6J("ngIf",t.dashboardProps),p.xp6(1),p.Q6J("advancedSearchFormGroup",t.advancedSearchFormGroup)("placeholder",p.lcZ(4,18,"l-name-search"))("advancedFilterLabels",t.advancedFilterLabels)("extra",t.advancedSearchExtra),p.xp6(3),p.Q6J("formGroup",t.advancedSearchFormGroup),p.xp6(2),p.Q6J("ngIf",t.absenceRecordsView.records&&t.absenceRecordsView.records.length>0),p.xp6(1),p.Q6J("ngIf",t.initialized&&t.absenceRecordsView.hasMoreRecords&&t.absenceRecordsView.records&&t.absenceRecordsView.records.length>0),p.xp6(1),p.Q6J("ngIf",t.initialized&&t.absenceRecordsView.records&&0==t.absenceRecordsView.records.length),p.xp6(1),p.MGl("p-title","",p.lcZ(12,20,t.modalTitle),"?"),p.Q6J("p-primary-action",t.modalAction),p.xp6(3),p.Q6J("ngIf",t.isModalOpened),p.xp6(1),p.Q6J("ngIf",t.justifyProps&&t.justifyProps.visible&&!t.isApprove),p.xp6(1),p.Q6J("isVisible",t.conflictAbsencesDialogIsVisible)("closeDialogButtonEnable",!t.viewIsMobile),p.xp6(2),p.Q6J("backIsVisible",t.viewIsMobile),p.xp6(2),p.Q6J("ngIf",t.absenceRecordsView.records&&t.absenceRecordsView.records.length>0))},directives:[B.q,n.O5,C,v,o.JL,o.sg,l.hmF,j.a,ee,l.r5_,o.JJ,o.u,l.Gk3,l.GWy,l.nrg,l.C9q,l.xxV,ne,n.sg,n.mk,Le,l.gJm,o.On],pipes:[r.X$,re.$,ae.r],styles:['@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{float:none;margin-top:unset}}[_nghost-%COMP%]     div.po-page div.po-page-content, [_nghost-%COMP%]     div.po-page{height:auto!important}@media screen and (min-width: 961px){[_nghost-%COMP%]     div.po-page{margin-left:0!important;height:auto!important}[_nghost-%COMP%]     div.po-page, [_nghost-%COMP%]     div.po-page div.po-page-content{width:100%!important}[_nghost-%COMP%]     div.po-page div.po-page-header, [_nghost-%COMP%]     div.po-page div.po-page-content{padding-left:8px!important;padding-right:8px!important}}.advanced-search[_ngcontent-%COMP%]{display:flex}.content[_ngcontent-%COMP%], .advanced-search[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}.avatar-align[_ngcontent-%COMP%]{margin-top:0;margin-right:8px}.timeline[_ngcontent-%COMP%]{position:relative;margin-top:1em;margin-bottom:2em;margin-left:10px!important}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:34px;height:100%;width:1.6px;background:#9de6f9}.profile[_ngcontent-%COMP%]{margin-bottom:24px}.timeline-block[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.timeline-block[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.timeline-block[_ngcontent-%COMP%]:first-child{margin-top:0}.timeline-block[_ngcontent-%COMP%]:last-child{margin-left:-8px}.timeline-date[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:0;width:30px;border-width:2px;text-align:center}@media (max-width: 960px){.timeline-date[_ngcontent-%COMP%]{-webkit-transform:none;transform:none;top:0}}.timeline-status-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:35px;width:16px;height:16px;border-radius:50%;border-width:2px;background:#1b92be;text-align:center;color:#fff}@media (max-width: 960px){.timeline-status-indicator[_ngcontent-%COMP%]{-webkit-transform:none;transform:none;top:15px}}.timeline-status-none[_ngcontent-%COMP%]{width:10px;height:10px;left:38px}.mr-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.button-filter[_ngcontent-%COMP%]{color:#0c9abe;display:table-cell;width:50px;position:relative;top:-20px}@media only screen and (min-width: 1367px){.button-filter[_ngcontent-%COMP%]{color:#0c9abe;display:table-cell;width:50px;position:relative;top:-25px}}.filter-input[_ngcontent-%COMP%]{display:table-cell;padding-left:1em;min-width:220px}.timeline-status-approved[_ngcontent-%COMP%]{background-color:#00bc82;display:flex;align-items:center;justify-items:center}.timeline-status-rejected[_ngcontent-%COMP%]{background-color:#ca3f3f;display:flex;align-items:center;justify-items:center}.timeline-conflict-warning[_ngcontent-%COMP%]{background-color:#ea9b3e;display:flex;align-items:center;justify-items:center}.timeline-picture[_ngcontent-%COMP%]{position:absolute;top:0;left:42px;width:40px;height:40px;border-radius:50%;border-color:#4a87ee;border-style:solid;border-width:2px;background:white}.timeline-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:100%;position:absolute;border-radius:50%}.justify-label[_ngcontent-%COMP%]{font-weight:bold}.justify[_ngcontent-%COMP%]{margin-top:10px}.text-area[_ngcontent-%COMP%]{font-weight:normal;border-radius:4%}.timeline-content[_ngcontent-%COMP%]{position:relative;margin-left:60px}.timeline-content[_ngcontent-%COMP%]:not(.timeline-month){margin-bottom:0}.timeline-content[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.timeline-month[_ngcontent-%COMP%]{color:#210;font-family:"NunitoSans-bold";font-size:.8em;margin-top:16px;text-transform:uppercase}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#fbfbfb}.timeline-day[_ngcontent-%COMP%]{font-size:140%;color:#000;font-weight:bolder}.timeline-day-of-week[_ngcontent-%COMP%]{font-size:70%;text-transform:uppercase;color:gray;font-weight:bolder}hr[_ngcontent-%COMP%]{margin:12px -16px -4px}.office[_ngcontent-%COMP%]{font-size:.8em;font-weight:bold;color:#9da7a9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}.no-vacation-records[_ngcontent-%COMP%]{font-weight:bold;padding-top:1em}.levels-below[_ngcontent-%COMP%]{color:#9da7a9;margin-left:10px}.filter-button[_ngcontent-%COMP%]{margin-top:10px}.filter[_ngcontent-%COMP%]{display:table}.absence-status[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:-6px;color:#9da7a9}.tag-container[_ngcontent-%COMP%] > .card-tag[_ngcontent-%COMP%]{margin-right:.3em;display:inline-block}.card-tag[_ngcontent-%COMP%]{margin-top:.5em;padding:.3em .6em;border-radius:3px;font-size:.8em;color:#fff;font-family:NunitoSans-bold}.tag-action[_ngcontent-%COMP%]:hover{cursor:pointer}.tag-absense-conflict[_ngcontent-%COMP%]{background-color:#ea9b3e}.tag-absense-alert[_ngcontent-%COMP%]{background-color:#c64840}.text-space[_ngcontent-%COMP%]{margin-right:.2em}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.scroll-dialog[_ngcontent-%COMP%]{overflow-y:auto}.scroll-dialog[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px}.scroll-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px!important}@media only screen and (min-width: 961px){.timeline-center[_ngcontent-%COMP%]{padding-left:12%;padding-right:12%}.scroll-dialog[_ngcontent-%COMP%]{max-height:450px!important;margin-right:-2.6%!important}[_nghost-%COMP%]     #absence-conflict .full-screen-dialog{max-height:auto!important}[_nghost-%COMP%]     #absence-conflict #tit-page-header{margin-left:0!important;margin-top:-4%!important}}@media only screen and (max-width: 767px){.scroll-dialog[_ngcontent-%COMP%]{max-height:570px!important;margin-right:-1%!important}[_nghost-%COMP%]     #absence-conflict .full-screen-dialog{overflow-y:hidden!important;max-height:100%!important}}@media (max-height: 480px){.scroll-dialog[_ngcontent-%COMP%]{max-height:100%!important}}[_nghost-%COMP%]     #absence-conflict #dialogCloseBtn{color:#1ea2c3;top:4px!important}@media (min-width: 481px){[_nghost-%COMP%]     #absence-conflict #dialogCloseBtn{margin-right:-4%!important}}[_nghost-%COMP%]     #absence-conflict .scroll-dialog{padding:0;margin-right:0!important}@media (min-width: 481px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .header .content{grid-template-columns:1fr 260px}}@media (max-width: 960px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .header .content{grid-template-columns:1fr 25px;grid-gap:20px;gap:20px}}[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .header .tags{display:none}@media (min-width: 481px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body{padding-top:1rem}}[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body .content .tags{display:flex}[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body .content .data{display:grid;flex-grow:1;grid-gap:16px 30px;gap:16px 30px;align-items:flex-start;grid-template-columns:repeat(3,minmax(0,1fr))}@media (max-width: 960px){[_nghost-%COMP%]     #absence-conflict .absence-timeline-card .body .content .data{grid-template-columns:repeat(1,minmax(0,1fr));grid-gap:4px;gap:4px}}[_nghost-%COMP%]     po-switch .po-field-container{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     po-switch .po-field-container .po-switch-label{display:none}[_nghost-%COMP%]     po-switch .po-field-container .po-switch-content{width:auto;margin-right:10px;margin-top:0}[_nghost-%COMP%]     .po-checkbox-group-label{word-break:break-word}@media (max-width: 960px){[_nghost-%COMP%]     .po-modal-overlay{height:calc(100% - 60px)}}.area-title[_ngcontent-%COMP%]{font-size:22px;font-family:"NunitoSans"}.advanced-search[_ngcontent-%COMP%]{padding-right:16px}']}),rt=(0,d.gn)([(0,g.c)(),(0,d.w6)("design:paramtypes",[Y.c,G.D,U.z,u.g,F.g,Q.s,u.g,N.Lx,V.O,J.g,z.eL,n.uU])],rt);const lt=[{path:"",component:rt}];let ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({providers:[G.D],imports:[[O.q,r.aw,n.ez,o.u5,l.JBz,s.KP,a.Bz.forChild(lt),c.Pu,M,P,T,A,_.F,q],a.Bz]}),e})()},85647:function(e,t,i){"use strict";i.d(t,{D:function(){return d}});var n=i(92340),o=i(21615),s=i(81483),a=i(33490),r=i(59708),l=i(81617),c=i(37716);const p="team/absence";let d=(()=>{class e{constructor(e){this.serviceGeneric=e}parseParams(e,t,i){i&&(e[t]=i)}getAllAbsences(e=n.N.loggedUser,t,i,o,s,r,c,p,d,g,u,h,m,f,v,b=!1){return new Promise(n=>{this.getAllAbsencesByEmployee(e,t,i,o,s,r,c,p,d,g,u,h,m,f,v,b).then(e=>{let i=[];const o=new a.i(i);e.items.forEach(e=>{e.absences&&e.absences.forEach(t=>{i.push(new l.yQ(e.employee,t))})}),i=i.sort((e,t)=>e.refDate>t.refDate?1:-1),o.actualPage=t,o.hasMoreRecords=e.hasNext,n(o)})})}getAllAbsencesByEmployee(e,t,i,n,o,s,a,r,l,c,d,g,u,h,m,f){const v=`${p}/all/${e}`,b=[];return this.parseParams(b,"page",t),this.parseParams(b,"pageSize",i),this.parseParams(b,"initView",n),this.parseParams(b,"endView",o),this.parseParams(b,"team",s),this.parseParams(b,"role",a),this.parseParams(b,"canApprove",r),this.parseParams(b,"hierarchicalLevel",l),this.parseParams(b,"status",c),this.parseParams(b,"onlyVacationConflicts",d),this.parseParams(b,"monthInAdvance",g),this.parseParams(b,"name",u),this.parseParams(b,"condition",h),this.parseParams(b,"period",m),f&&this.parseParams(b,"encodeEmployeeId",f),this.serviceGeneric.search(v,b,!1)}putAbsenceInfo(e){return this.serviceGeneric.put(p,e,!1)}getHierarchicalLevels(e=n.N.loggedUser){return this.serviceGeneric.get(`team/hierarchicalLevels/${e}`,!1)}getHomeAbsences(e=n.N.loggedUser,t,i,r){const c=new Date(t),p=s.Em.getDateUTCFormat(new Date(t.setMonth(t.getMonth()+3)));return new Promise(t=>{this.getAllAbsencesByEmployee(e,i,r,c,p).then(e=>{let i=[];const n=new a.i(i);e.items.forEach(e=>{e.absences&&e.absences.forEach(t=>{if(t.status===o.u.StatusEnum.Vacation||t.type===o.u.StatusEnum.Vacation){let n=new l.Y2;n.employeeId=e.employee.id,n.employeeName=e.employee.name,n.initVacation=t.initDate,n.endVacation=t.endDate,n.status=t.status,i.push(n)}})}),t(n)})})}getAbsenceCount(e){return this.serviceGeneric.get(`${p}/all/count/${e}`,!1,!1)}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(r.M))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})()},81617:function(e,t,i){"use strict";i.d(t,{bk:function(){return a},yQ:function(){return p},Y2:function(){return d}});var n=i(21615),o=i(81483),s=i(64634);class a{constructor(e){this.yearMonth=0,this.cards=[],this.views=[],this.yearMonth=o.Em.extractYearMonth(e.refDate),this.addCard(e)}get absenceCards(){return this.cards}get cardsView(){return this.views}static initialize(e,t,i){const n=[];if(a.MOMENT=t,a.I18N=i,e&&e.length>0){let t=0,i=-1;e.forEach(e=>{const s=o.Em.extractYearMonth(e.refDate);t===s?n[i].addCard(e):(t=s,n.push(new a(e)),i++)})}return n}addCard(e){this.cards.push(e),this.views.push(new c(e))}}class r{constructor(e,t){this.init="",this.end="",this.initDate=o.Em.getDateObject(e),this.init=a.MOMENT.getInstance(e).format("L"),t&&(this.endDate=o.Em.getDateObject(t),this.end=a.MOMENT.getInstance(t).format("L"))}}class l{constructor(e=0,t=0){this.days=e,this.bonus=t}get hasBonus(){return this.bonus>0}}class c{constructor(e){this.card=e,this.period=new r(e.initDate,e.endDate),!e.absenceDays&&this.period.endDate&&a.MOMENT&&(e.absenceDays=a.MOMENT.getInstance(this.period.endDate).diff(a.MOMENT.getInstance(this.period.initDate),"days")+1),this.quantity=new l(e.absenceDays,e.vacationBonus)}get canApprove(){return this.card.canApprove}get status(){return this.card.status}get statusLabel(){return this.card.statusLabel}get type(){return this.card.type}get id(){return this.card.id}get employeeId(){return this.card.employeeId}get name(){return this.card.name}get roleDescription(){return this.card.roleDescription}get refDate(){return this.card.refDate}get approved(){return this.card.approved}get approvers(){return this.card.approvers}get endConcessionPeriod(){return this.card.endConcessionPeriod}get statusAbbr(){return this.card.statusAbbr}get initConcessionPeriod(){return this.card.initConcessionPeriod}set statusLabel(e){this.card.statusLabel=e}set status(e){this.card.status=e}set canApprove(e){this.card.canApprove=e}set approved(e){this.card.approved=e}getStatusLabelKey(e){return"l-absence-"+s.m.camelToHyphen(e)}}class p{constructor(e,t){this.employeeId=e.id,this.name=e.name,this.roleDescription=e.roleDescription,this.id=t.id,this.type=t.type,this.status=t.status,this.statusAbbr=t.statusAbbr,this.statusLabel=t.statusLabel,this.initDate=t.initDate,this.endDate=t.endDate,this.refDate=t.type===n.u.TypeEnum.VacationLimit.toString()?t.endDate:t.initDate,this.absenceDays=t.absenceDays,this.initConcessionPeriod=t.initConcessionPeriod,this.endConcessionPeriod=t.endConcessionPeriod,this.vacationBonus=t.vacationBonus,this.approved=t.approved,this.approvers=t.approvers,this.justify=t.justify,this.canApprove=t.canApprove,this.hasConflict=t.hasConflict,this.condition=t.condition,this.takeVacationUntil=t.takeVacationUntil,this.initPeriod=t.initPeriod,this.endPeriod=t.endPeriod,this.balance=t.balance,this.canRequest=t.canRequest}}class d{}},21615:function(e,t,i){"use strict";i.d(t,{u:function(){return n}});var n=(()=>{return(e=n||(n={})).TypeEnum={Vacation:"vacation",VacationLimit:"vacationLimit",License:"license",Bonus:"bonus",Absence:"absence"},e.StatusEnum={Empty:"empty",Approving:"approving",Approved:"approved",Rejected:"rejected",Closed:"closed",Vacation:"vacation",Calculated:"calculated"},e.ConditionEnum={ExpiredVacation:"expiredVacation",VacationsToExpire:"vacationsToExpire",OnVacation:"onVacation",DoubleExpiredVacation:"doubleExpiredVacation",DoubleRisk:"doubleRisk",ScheduledVacation:"scheduledVacation",VacationsTaken:"vacationsTaken",Calculated:"calculated"},n;var e})()},2673:function(e,t,i){"use strict";i.d(t,{P:function(){return n}});var n=(()=>((n||(n={})).TypeEnum={Allowance:"allowance",Vacation:"vacation",Clocking:"clocking"},n))()},12194:function(e,t,i){"use strict";i.d(t,{R:function(){return n}});var n=(()=>((n||(n={})).TypeEnum={InitDate:"initDate",EndDate:"endDate",TotalHours:"totalHours",TotalDays:"totalDays",Justify:"justify",Reason:"reason",Status:"status",VacationBonus:"vacationBonus",Other:"other",Direction:"direction",InitHour:"initHour",EndHour:"endHour",InitVacationLimit:"initVacationLimit",EndVacationLimit:"endVacationLimit",HasAttachment:"hasAttachment",RequestId:"requestId"},n))()},24764:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});var n=(()=>{return(e=n||(n={})).RequestTypeEnum={Allowance:"allowance",Vacation:"vacation",Clocking:"clocking",Demission:"demission",Substitution:"substitution"},e.StatusEnum={Approved:"approved",Approving:"approving",Rejected:"rejected",Empty:"empty",Closed:"closed"},n;var e})()},42628:function(e,t,i){"use strict";i.d(t,{z:function(){return n}});var n=(()=>{return(e=n||(n={})).StatusEnum={Approved:"approved",Approving:"approving",Rejected:"rejected",Empty:"empty",Closed:"closed"},e.TypeEnum={Allowance:"allowance",Clocking:"clocking",Vacation:"vacation",Demission:"demission",Substitution:"substitution"},n;var e})()},3247:function(e,t,i){"use strict";i.d(t,{W:function(){return n}});var n=(()=>((n||(n={})).StatusEnum={Approved:"approved",Approving:"approving",Rejected:"rejected",Empty:"empty",Closed:"closed",Calculated:"calculated"},n))()},51110:function(e,t,i){"use strict";i.d(t,{P:function(){return r}});var n=i(64762),o=i(68014),s=i(37716),a=i(95987);let r=(()=>{class e{constructor(e,t){this.router=e,this.permissionSelector=t}canActivate(e,t){return(0,n.mG)(this,void 0,void 0,function*(){return!!(yield this.validPermission("root",t.url))||(this.router.navigate(["home"],{queryParams:{retUrl:t.url}}),!1)})}canActivateChild(e,t){return(0,n.mG)(this,void 0,void 0,function*(){return!!(yield this.validPermission("child",t.url))||(this.router.navigate(["home"],{queryParams:{retUrl:t.url}}),!1)})}validPermission(e,t){return(0,n.mG)(this,void 0,void 0,function*(){const i=yield this.permissionSelector.nextPermissionsNotNull(),n=[];let o=!0;return"root"===e?(n.push(["/profile","profile"]),n.push(["/teamManagement/profile","teamManagementProfile"]),n.push(["/timesheet/allowances","allowance"]),n.push(["/timesheet/allowances/request","allowance"]),n.push(["/teamManagement/timesheet/allowances","teamManagementAllowance"]),n.push(["/teamManagement/timesheet/allowances/request","teamManagementAllowance"]),n.push(["/timesheet/overtime-hours","overtimeHours"]),n.push(["/timesheet/requestOvertimeHours","overtimeHours"]),n.push(["/timesheet/clockings","timesheet"]),n.push(["/timesheet/clockingRegister","clockingRegister"]),n.push(["/timesheet/clockingsGeo/register","clockingGeoRegister"]),n.push(["/timesheet/clockingsGeo/view","clockingGeoView"]),n.push(["/teamManagement/timesheet/clockings","teamManagementTimesheet"]),n.push(["/timesheet/occurrences","timesheet"]),n.push(["/payments","payment"]),n.push(["/payments/report","payment"]),n.push(["/payment","payment"]),n.push(["/payment/report","payment"]),n.push(["/payment/annualReceipts","annualReceipt"]),n.push(["/teamManagement/payment/salaryHistory","teamManagementSalaryHist"]),n.push(["/teamManagement/payments","teamManagementPayments"]),n.push(["/payment/salaryHistory","salaryHistory"]),n.push(["/request/notifications/overtime","timesheet"]),n.push(["/request/notifications/overtime/pending","timesheet"]),n.push(["/requisitions","requisitions"]),n.push(["/demission","demission"]),n.push(["/demission/visualize","demission"]),n.push(["/demission/confirm","demission"]),n.push(["/demission/request","demissionRequest"]),n.push(["/substitution","substitution"]),n.push(["/teamManagement/managementOfDelaysAndAbsences/health/medicalCertificate","medicalCertificate"]),n.push(["/health/medicalCertificate","medicalCertificate"]),n.push(["/health/medicalCertificate/request","medicalCertificate"]),n.push(["/absence","absenceManager"]),n.push(["/substitutes","substituteRequest"]),n.push(["/substituteRequest","substituteRequest"]),n.push(["/teamManagement","teamManagement"]),n.push(["/teamManagement/overview","teamManagement"]),n.push(["/teamManagement/managementOfDelaysAndAbsences","managementOfDelaysAndAbsences"]),n.push(["/teamBalance","teamManagement"]),n.push(["/teamManagement/vacation","teamManagementVacation"]),n.push(["/vacation","vacation"]),n.push(["/vacation/details","vacation"]),n.push(["/vacation/receipt","vacation"]),n.push(["/teamManagement/vacation/receipt","teamManagementVacation"]),n.push(["/alterPassword","alterPassword"]),n.push(["/teamManagement/shifts","teamManagementShifts"]),n.push(["/shifts","teamManagementShifts"]),n.push(["/shifts/update","teamManagementShifts"]),n.push(["/workLeave","workLeave"]),n.push(["/benefits/dependentsBeneficiaries/dependents","dependents"]),n.push(["/benefits/dependentsBeneficiaries/beneficiaries","beneficiaries"]),n.push(["/workLeave/request","teamManagementWorkLeaveRequest"]),n.push(["/timesheet/onCall","onCall"]),n.push(["/timesheet/onCall/request","onCallRequest"]),n.push(["/teamManagement/timesheet/onCall/request","teamManagementOnCallRequest"]),n.push(["/teamManagement/timesheet/onCall","teamManagementOnCallRequest"]),n.push(["/request/notifications/oncall","notificationOnCall"]),n.push(["/employeeDataChange","employeeDataChange"])):"child"===e&&(n.push(["/substitution/visualize","substitution"]),n.push(["/substitution/confirm","substitution"]),n.push(["/payment/payment/detail","payment"]),n.push(["/payments/payment/detail","payment"]),n.push(["/vacation/request","vacationRegister"])),n.every(function(e,n){if(e[0]!==t)return!0;for(var[s,a]of Object.entries(i))if(s===e[1]&&!a){o=!1;break}return!!o&&void 0}),o})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.F0),s.LFG(o.eL))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},48681:function(e,t,i){"use strict";i.d(t,{e:function(){return r}});var n=i(64762),o=i(98348),s=i(68014),a=i(37716);let r=(()=>{class e{constructor(e){this.propertiesSelectors=e}getServerApiUrl(){return(0,n.mG)(this,void 0,void 0,function*(){return yield this.loadUrlService()})}getExternalApps(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.getPropertiesJSON()).EXTERNAL_APP_RESPONSE})}getRestMigrationControl(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.getPropertiesJSON()).DTSREST_PENDING_MIGRATION})}getRestDTSFrameworkLogin(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.getPropertiesJSON()).DTSREST_FRAMEWORK_LOGIN})}loadUrlService(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.getPropertiesJSON();try{e.ERP&&o.ZP.setErp(e.ERP),e.PROPS&&o.ZP.setProps(e.PROPS)}catch(t){console.error(t)}finally{return o.ZP.getBaseUrl(document.location.href)+"/"}})}getPropertiesJSON(){return(0,n.mG)(this,void 0,void 0,function*(){return yield this.propertiesSelectors.nextPropertiesNotNull()})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(s.Ub))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},47106:function(e,t,i){"use strict";i.d(t,{n:function(){return A}});var n=i(64762),o=i(37716),s=i(63114),a=i(53871),r=i(59708);let l=(()=>{class e{constructor(e){this.genericService=e}getFileAttachmentRequirements(){return this.genericService.get("file/attachmentRequirements",!1)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(r.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i(84479),p=i(65241),d=i(38583),g=i(44956),u=i(29790),h=i(69838);function m(e,t){if(1&e&&(o.ynx(0),o._uU(1),o.ALo(2,"translate"),o.BQk()),2&e){const e=o.oxw(5);o.xp6(1),o.Oqu(o.xi3(2,1,"l-supported-formats",e.supportedFilesI18n))}}function f(e,t){if(1&e&&(o.ynx(0),o._uU(1),o.ALo(2,"translate"),o.BQk()),2&e){const e=o.oxw(5);o.xp6(1),o.Oqu(o.xi3(2,1,"l-supported-formats-only-file",e.supportedFilesI18n))}}function v(e,t){if(1&e&&(o.ynx(0),o._uU(1),o.ALo(2,"translate"),o.BQk()),2&e){const e=o.oxw(5);o.xp6(1),o.Oqu(o.xi3(2,1,"l-supported-formats-only-image",e.supportedFilesI18n))}}function b(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1,"\xa0 "),o.YNc(2,m,3,4,"ng-container",8),o.YNc(3,f,3,4,"ng-container",8),o.YNc(4,v,3,4,"ng-container",8),o.qZA()),2&e){const e=o.oxw(4);o.xp6(2),o.Q6J("ngIf",null!=e.supportedFilesI18n.imageFormats&&null!=e.supportedFilesI18n.fileFormats),o.xp6(1),o.Q6J("ngIf",null==e.supportedFilesI18n.imageFormats&&null!=e.supportedFilesI18n.fileFormats),o.xp6(1),o.Q6J("ngIf",null!=e.supportedFilesI18n.imageFormats&&null==e.supportedFilesI18n.fileFormats)}}function x(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw(4);o.xp6(1),o.hij("\xa0",o.xi3(2,1,"l-size-limit",e.maxSizeI18n),"")}}function y(e,t){if(1&e&&(o.ynx(0),o.YNc(1,b,5,3,"span",8),o.YNc(2,x,3,4,"span",8),o.TgZ(3,"span"),o._uU(4,"."),o.qZA(),o.BQk()),2&e){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",null!=e.supportedFiles),o.xp6(1),o.Q6J("ngIf",null!=e.maxSize)}}function Z(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"p"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.YNc(5,y,5,2,"ng-container",8),o.qZA(),o.qZA()),2&e){const e=o.oxw(2);o.Gre("requirements ",e.requirementsCss,""),o.xp6(3),o.Oqu(o.lcZ(4,5,"l-file-readable")),o.xp6(2),o.Q6J("ngIf",null!=e.supportedFiles||null!=e.maxSize)}}function w(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"po-button",6),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().openSelectMedicalCertificateFileDialog()}),o.ALo(3,"translate"),o.qZA(),o.qZA(),o.YNc(4,Z,6,7,"div",7),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.Gre("attach-file-button ",e.attachFileButtonCss,""),o.s9C("p-label",o.lcZ(3,5,"l-attach-file")),o.xp6(2),o.Q6J("ngIf",e.showRequirements)}}function C(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",19),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).downloadAttachedFile()}),o.qZA()}}function M(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",9),o.TgZ(1,"div",10),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",11),o.TgZ(6,"div",12),o.TgZ(7,"div",13),o.TgZ(8,"div",14),o.YNc(9,C,1,0,"span",15),o.TgZ(10,"span",16),o._uU(11),o.qZA(),o.TgZ(12,"span",17),o._uU(13),o.ALo(14,"bytes"),o.qZA(),o.TgZ(15,"span",18),o.NdJ("click",function(){return o.CHM(e),o.oxw().excludeAttachedFile()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.hij("",o.lcZ(4,4,"l-attachment"),":"),o.xp6(6),o.Q6J("ngIf",null!=e.urlDownloadFile&&null!=e.attachedId),o.xp6(2),o.Oqu(e.attachedName),o.xp6(2),o.Oqu(o.lcZ(14,6,3*e.attachedFile.content.length/4))}}let A=(()=>{class e{constructor(e,t,i){this.windowUtilService=e,this.translateService=t,this.attachFileService=i,this.showRequirements=!0,this.requirementsCss="po-mt-1 po-sm-12 po-md-6 po-lg-5 po-xl-3 no-padding",this.attachFileButtonCss="po-sm-12 po-md-12 po-lg-2 po-xl-2 po-pt-1",this.attachedFileChange=new o.vpe}set attachedFile(e){this._attachedFile=e,this.obtainNameFromFileInfo(e)}get attachedFile(){return this._attachedFile}get supportedFiles(){return this._supportedFiles}set supportedFiles(e){this._supportedFiles=e,this.mountExtensionsI18n(e),this.mountMimeTypesStringFormat(e)}set maxSize(e){this._maxSize=e,this.mountMaxSizeI18n(e)}get maxSize(){return this._maxSize}ngOnInit(){this.loadRequirements()}fillFileInfo(e){e.content?(!e.name&&this.attachedFile.name&&(e.name=this.attachedFile.name),this.attachedFile=e):this.attachedFile=null,this.attachedFileChange.next(this.attachedFile)}openSelectMedicalCertificateFileDialog(){this.windowUtilService.isIOS()?this.selectFileDialog.openFileBrowser():this.selectFileDialog.openSelectFileDialog()}isAttachedFile(){return null!=this.attachedFile}excludeAttachedFile(){this.attachedFile=null,this.selectFileDialog.fileInfo=null,this.attachedFileChange.next(this.attachedFile)}downloadAttachedFile(){this.previewFileDialog.initializeComponent(this.urlDownloadFile,this.attachedFile,this.attachedId)}obtainNameFromFileInfo(e){if(e)if(null!=e.type&&null!=e.name){const t="."+e.type;this.attachedName=e.name.indexOf(t)===e.name.length-t.length?e.name:e.name+t}else this.attachedName=e.name;else this.attachedName=null;return this.attachedName}mountExtensionsI18n(e){return(0,n.mG)(this,void 0,void 0,function*(){this.supportedFilesI18n=e?{imageFormats:yield this.supportedFilesToString(e.filter(e=>0===e.mimeType.indexOf("image/"))),fileFormats:yield this.supportedFilesToString(e.filter(e=>-1===e.mimeType.indexOf("image/")))}:{}})}supportedFilesToString(e){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.translateService.getI18n("l-and-interval2"),i=e.map(e=>`.${e.extension.toUpperCase()}`).join(", ").replace(/,( \.\w+)$/,` ${t}$1`);return i.length>0?i:null})}mountMaxSizeI18n(e){this.maxSizeI18n=e?{size:e/1e3+" MB"}:{size:null}}mountMimeTypesStringFormat(e){this.mimeTypesStringFormat=e?e.map(e=>e.mimeType).join(", "):void 0}loadRequirements(){return(0,n.mG)(this,void 0,void 0,function*(){try{const t=null!=e.requirements?e.requirements:yield this.attachFileService.getFileAttachmentRequirements();e.requirements=t,this.supportedFiles=t.extensions,this.maxSize=t.maxFileSize}catch(t){this.loadDefaultRequirements()}})}loadDefaultRequirements(){this.supportedFiles=[{extension:"png",mimeType:"image/png"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"pdf",mimeType:"application/pdf"}],this.maxSize=void 0}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.g),o.Y36(p.g),o.Y36(l))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-attach-file"]],viewQuery:function(e,t){if(1&e&&(o.Gf(a.Q,5),o.Gf(s.K,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.selectFileDialog=e.first),o.iGM(e=o.CRH())&&(t.previewFileDialog=e.first)}},inputs:{attachedFile:"attachedFile",showRequirements:"showRequirements",urlDownloadFile:"urlDownloadFile",attachedId:"attachedId",requirementsCss:"requirementsCss",attachFileButtonCss:"attachFileButtonCss"},outputs:{attachedFileChange:"attachedFileChange"},decls:6,vars:4,consts:[[1,"attach-file-box"],["class","attach-without-file",4,"ngIf","ngIfElse"],["attachWithFile",""],[3,"mimeTypes","maxSize","closeSelectFileDialogEvent"],[1,"attach-without-file"],[1,"button-and-disclaimer"],["p-type","default",3,"p-label","p-click"],[3,"class",4,"ngIf"],[4,"ngIf"],[1,"attach-with-file"],[1,"title"],[1,"po-row"],[1,"box-wrapper","po-xl-6","po-lg-6","po-md-6","po-sm-12"],[1,"box"],[1,"inside"],["class","po-icon po-icon-attach download-attach",3,"click",4,"ngIf"],[1,"attach-name"],[1,"attach-file-size"],[1,"po-icon","po-icon-delete","remove-attach",3,"click"],[1,"po-icon","po-icon-attach","download-attach",3,"click"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.YNc(1,w,5,7,"div",1),o.YNc(2,M,16,8,"ng-template",null,2,o.W1O),o.qZA(),o.TgZ(4,"app-select-file",3),o.NdJ("closeSelectFileDialogEvent",function(e){return t.fillFileInfo(e)}),o.qZA(),o._UZ(5,"app-preview-file")),2&e){const e=o.MAs(3);o.xp6(1),o.Q6J("ngIf",!t.isAttachedFile())("ngIfElse",e),o.xp6(3),o.Q6J("mimeTypes",t.mimeTypesStringFormat)("maxSize",t.maxSize)}},directives:[d.O5,a.Q,s.K,g.bOz],pipes:[u.X$,h.$N_],styles:['.attach-file-box[_ngcontent-%COMP%]{padding:0 8px}.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .button-and-disclaimer[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .button-and-disclaimer[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     button{height:32px}@media screen and (min-width: 961px){.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .button-and-disclaimer[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]     button{height:48px}}.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;color:#707070;font-size:60%;text-align:center;line-height:16px}@media (min-width: 961px){.attach-file-box[_ngcontent-%COMP%]   .attach-without-file[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:80%;text-align:unset}}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"NunitoSans-bold";font-weight:400;margin-bottom:8px;color:#4a5c60}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]{padding-left:0}@media (max-width: 960px){.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]{padding-right:0}}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{border:1px solid #b6bdbf;border-radius:5px;padding:0 8px}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]{padding:12px 2px;display:flex;align-items:center}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .po-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:22px}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .attach-name[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;width:136px;white-space:nowrap}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .download-attach[_ngcontent-%COMP%]{color:#0c9abe;margin-right:13px}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .remove-attach[_ngcontent-%COMP%]{color:#d13f43}.attach-file-box[_ngcontent-%COMP%]   .attach-with-file[_ngcontent-%COMP%]   .box-wrapper[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]   .attach-file-size[_ngcontent-%COMP%]{margin-left:auto;margin-right:13px;color:#4a5c60;opacity:.87;font-size:10pt}[_nghost-%COMP%]     .attach-without-file .attach-file-button{padding:0}@media screen and (min-width: 961px){[_nghost-%COMP%]     .attach-without-file .attach-file-button{height:100%}[_nghost-%COMP%]     .attach-without-file .attach-file-button button{height:100%}}[_nghost-%COMP%]     .po-disclaimer-group{align-self:end;margin:0}[_nghost-%COMP%]     .po-disclaimer-group .po-disclaimer-group-title{display:none}[_nghost-%COMP%]     .po-disclaimer-group .po-disclaimer-group-disclaimer-align{margin:0}']}),e})()},20307:function(e,t,i){"use strict";i.d(t,{x:function(){return w}});var n=i(37716),o=i(38583),s=i(29790);function a(e,t){if(1&e&&(n.TgZ(0,"div",10),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Oqu(e.name)}}function r(e,t){if(1&e&&(n.TgZ(0,"div",11),n._uU(1),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Oqu(e.role)}}function l(e,t){1&e&&(n.TgZ(0,"span",18),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-n").toUpperCase()," "))}function c(e,t){1&e&&(n.TgZ(0,"span",19),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-d").toUpperCase()," "))}function p(e,t){1&e&&(n.TgZ(0,"span",20),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-a").toUpperCase()," "))}function d(e,t){1&e&&(n.TgZ(0,"span",21),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-f").toUpperCase()," "))}function g(e,t){1&e&&(n.TgZ(0,"span",22),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-t").toUpperCase()," "))}function u(e,t){if(1&e&&(n.TgZ(0,"div",12),n.YNc(1,l,3,3,"span",13),n.YNc(2,c,3,3,"span",14),n.YNc(3,p,3,3,"span",15),n.YNc(4,d,3,3,"span",16),n.YNc(5,g,3,3,"span",17),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.status&&"N"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"D"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"A"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"F"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"T"==e.status.toUpperCase())}}function h(e,t){if(1&e&&(n.TgZ(0,"div",23),n.TgZ(1,"div",10),n.TgZ(2,"strong"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA(),n.TgZ(5,"div",11),n._uU(6),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,2,"l-colaborator")),n.xp6(3),n.Oqu(e.name)}}function m(e,t){if(1&e&&(n.TgZ(0,"div",23),n.TgZ(1,"div",10),n.TgZ(2,"strong"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA(),n.TgZ(5,"div",11),n._uU(6),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,2,"l-role")),n.xp6(3),n.Oqu(e.role)}}function f(e,t){1&e&&(n.TgZ(0,"span",18),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-n").toUpperCase()," "))}function v(e,t){1&e&&(n.TgZ(0,"span",19),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-d").toUpperCase()," "))}function b(e,t){1&e&&(n.TgZ(0,"span",20),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-a").toUpperCase()," "))}function x(e,t){1&e&&(n.TgZ(0,"span",21),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-f").toUpperCase()," "))}function y(e,t){1&e&&(n.TgZ(0,"span",22),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.hij("",n.lcZ(2,1,"l-situation-t").toUpperCase()," "))}function Z(e,t){if(1&e&&(n.TgZ(0,"div",23),n.TgZ(1,"div",10),n.TgZ(2,"strong"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA(),n.TgZ(5,"div",12),n.YNc(6,f,3,3,"span",13),n.YNc(7,v,3,3,"span",14),n.YNc(8,b,3,3,"span",15),n.YNc(9,x,3,3,"span",16),n.YNc(10,y,3,3,"span",17),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,6,"l-situation")),n.xp6(3),n.Q6J("ngIf",e.status&&"N"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"D"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"A"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"F"==e.status.toUpperCase()),n.xp6(1),n.Q6J("ngIf",e.status&&"T"==e.status.toUpperCase())}}let w=(()=>{class e{constructor(){this.image="",this.name="",this.role="",this.status=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-card-employee"]],inputs:{image:"image",name:"name",role:"role",status:"status"},decls:12,vars:8,consts:[[1,"po-row","po-mb-1"],[1,"po-col-12","card-employee"],[1,"header"],[1,"avatar-container"],[1,"avatar","avatar-medium","avatar-align"],[1,"card-header-item","mobile","po-xs-12","po-sm-12","po-hidden-md","po-hidden-lg","po-hidden-xl"],["class","title",4,"ngIf"],["class","office",4,"ngIf"],["class","po-info-container-title",4,"ngIf"],["class","card-header-item po-hidden-xs po-hidden-sm po-md-12",4,"ngIf"],[1,"title"],[1,"office"],[1,"po-info-container-title"],["class","po-info-value situation-container situation-n",4,"ngIf"],["class","po-info-value situation-container situation-d",4,"ngIf"],["class","po-info-value situation-container situation-a",4,"ngIf"],["class","po-info-value situation-container situation-f",4,"ngIf"],["class","po-info-value situation-container situation-t",4,"ngIf"],[1,"po-info-value","situation-container","situation-n"],[1,"po-info-value","situation-container","situation-d"],[1,"po-info-value","situation-container","situation-a"],[1,"po-info-value","situation-container","situation-f"],[1,"po-info-value","situation-container","situation-t"],[1,"card-header-item","po-hidden-xs","po-hidden-sm","po-md-12"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._UZ(4,"div",4),n.qZA(),n.TgZ(5,"div",5),n.YNc(6,a,2,1,"div",6),n.YNc(7,r,2,1,"div",7),n.YNc(8,u,6,5,"div",8),n.qZA(),n.YNc(9,h,7,4,"div",9),n.YNc(10,m,7,4,"div",9),n.YNc(11,Z,11,8,"div",9),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Udp("background-image",t.image),n.xp6(2),n.Q6J("ngIf",t.name),n.xp6(1),n.Q6J("ngIf",t.role),n.xp6(1),n.Q6J("ngIf",t.status),n.xp6(1),n.Q6J("ngIf",t.name),n.xp6(1),n.Q6J("ngIf",t.role),n.xp6(1),n.Q6J("ngIf",t.status))},directives:[o.O5],pipes:[s.X$],styles:["[_nghost-%COMP%]     .card-employee{flex:1;margin-top:10px;box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:16px;margin-bottom:8px;background:#ffffff}[_nghost-%COMP%]     .card-employee .header{display:flex;align-items:flex-start;justify-content:flex-start}[_nghost-%COMP%]     .card-employee .header .avatar-container{align-self:center}[_nghost-%COMP%]     .card-employee .header .card-header-item{margin:1em 2em 1em .75em}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container{border-radius:5px;color:#fff;padding:0 4px;display:inline-block}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-a{background:#c64840}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-d{background:#530e09}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-f{background:#ea9a3e}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-n{background:#00b28e}[_nghost-%COMP%]     .card-employee .header .card-header-item .situation-container.situation-t{background:#666}[_nghost-%COMP%]     .card-employee .header .card-header-item .title{font-size:10pt;font-weight:bold;color:#666}[_nghost-%COMP%]     .card-employee .header .card-header-item.mobile{align-self:center}[_nghost-%COMP%]     .card-employee .header .card-header-item.mobile .title{font-size:12pt;font-weight:bold;color:#666}[_nghost-%COMP%]     .card-employee .header .card-header-item.mobile .office{font-size:10pt;color:#888}"]}),e})()},82832:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});var n=i(37716),o=i(38583);const s=[[["","card-header",""]],[["","card-body",""]],[["","card-footer",""]]],a=["[card-header]","[card-body]","[card-footer]"];let r=(()=>{class e{constructor(){this.colorAll="#021B44",this.letterAll="#fff",this.letterTimesheet="#000",this.colorTimesheet="#fff",this.letterVacation="#000",this.colorVacation="#fff",this.defaultCssClass="card-well",this.cardCssClass="card-well po-xl-12 po-lg-12 po-md-12 po-sm-12",this.avatarImage="",this.employeeName="",this.office="",this.acceptEvent=new n.vpe,this.declineEvent=new n.vpe}set cssClass(e){this.cardCssClass=`${this.defaultCssClass} ${e}`}get cssClass(){return this.cardCssClass}ngOnInit(){}accept(){this.acceptEvent.emit()}decline(){this.declineEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-card"]],inputs:{avatarImage:"avatarImage",employeeName:"employeeName",office:"office",cssClass:"cssClass"},outputs:{acceptEvent:"acceptEvent",declineEvent:"declineEvent"},ngContentSelectors:a,decls:4,vars:1,consts:[[3,"ngClass"]],template:function(e,t){1&e&&(n.F$t(s),n.TgZ(0,"div",0),n.Hsn(1),n.Hsn(2,1),n.Hsn(3,2),n.qZA()),2&e&&n.Q6J("ngClass",t.cssClass)},directives:[o.mk],styles:[".card-well[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1;border-radius:6px;padding:16px;margin-bottom:8px;position:relative;background:#ffffff}.space[_ngcontent-%COMP%]{margin-bottom:180px}.card-request-vacation-active[_ngcontent-%COMP%]{background:url(flipflops-transparent.cb0b519ffc6e3558040f.svg),linear-gradient(to top right,#0c7cbe 0%,#0cb8be 100%);min-height:90px;background-repeat:no-repeat;background-position:center center}.card-request-active[_ngcontent-%COMP%]{background:linear-gradient(to top right,#0c7cbe 0%,#0cb8be 100%);min-height:90px;background-repeat:no-repeat;background-position:center center;color:#fff}.card-count-active[_ngcontent-%COMP%]{background:#ceeaf2}"]}),e})()},44677:function(e,t,i){"use strict";i.d(t,{d:function(){return a}});var n=i(38583),o=i(29790),s=i(37716);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,o.aw]]}),e})()},66163:function(e,t,i){"use strict";i.d(t,{J:function(){return n}});class n{constructor(){this.employee=void 0,this.image=void 0,this.originComponent=""}}},81483:function(e,t,i){"use strict";i.d(t,{XB:function(){return r},Em:function(){return l}});var n=i(16738),o=i(37716);const s=6e4,a=new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$"),r=(new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$|24:00"),new RegExp("^([0-9]|0[0-9]|1[0-9]|2[0-3])[0-5][0-9]$|24:00"));let l=(()=>{class e{constructor(){}static extractYearMonth(e){return"string"==typeof e&&(e=new Date(e)),100*e.getUTCFullYear()+e.getUTCMonth()+1}static calculateDifferenceTime(t,i){if(!t||!i)throw new TypeError("Invalid parameters");if(a.test(t)&&a.test(i)){const n=e.getHours(t),o=e.getMinutes(t),s=e.getHours(i),a=e.getMinutes(i),r=e.getDefaultTime(new Date,n,o),l=e.getDefaultTime(new Date,s,a);let c=l.getTime()-r.getTime();return c<=0&&(l.setDate(l.getDate()+1),c=l.getTime()-r.getTime()),e.getHoursByMilliseconds(c)}}static getDefaultTime(e,t,i){const n=new Date(e);return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getDate(),t,i,0)}static getHours(e){return a.test(e)?+e.split(":")[0]:(console.error("Formato de hora invalido"),0)}static formatUTCDate(t){const i=e.getDateUTCFormat(t);return new Date(i.getTime())}static getMinutes(e){return a.test(e)?+e.split(":")[1]:(console.error("Formato de hora invalido"),0)}static getTotalMinutes(e){let t;return a.test(e)?(t=60*+e.split(":")[0]+ +e.split(":")[1],t):(console.error("Formato de hora invalido"),0)}static getTotalMilliseconds(t){return(t?e.getTotalMinutes(t):0)*s}static getDateUTCFormat(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}static getHoursByMilliseconds(e,t=!0){if(e){let i=!1;Number(e)<0&&(e=-1*Number(e),i=!0);const n="string"==typeof e?parseFloat(e):e,o=Math.floor(n/s%60);let a=Math.floor(n/(60*s));t&&(a%=24);const r=a<10?"0"+a:a,l=o<10?"0"+o:o;return i?`-${r}:${l}`:`${r}:${l}`}return"00:00"}static getDateWithoutTimezone(t){const i=e.getDateWithoutTimezoneAndDontUseString(t);return i.setUTCHours(0,0,0,0),i}static getDateWithoutTimezoneAndDontUseString(e){if(!e)throw new TypeError("Invalid date format");return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}static isEqual(t,i){return e.getDateWithoutTimezone(t).toISOString()===e.getDateWithoutTimezone(i).toISOString()}static diffInYears(e,t){return t||(t=new Date),new Date(t.getTime()-e.getTime()).getUTCFullYear()-1970}static getDateObject(e){return"string"==typeof e?new Date(e):new Date(e.getTime())}static momentFormat(e,t){let i=localStorage.getItem("usedLanguage")||"pt";"pt"===i&&(i="pt-br");let o="L";return"weekday"===t?o="dddd":"dayMonth"===t&&(o="DD/MM"),n(e).locale(i).format(o).toLowerCase()}static changeHour(e){return 2===e.length&&(Number(e[0])<2||2===Number(e[0])&&Number(e[1])<=3?e+="00":e="0"+e+"0"),3===e.length&&(Number(e[0])<=2?e+="0":e="0"+e),e}static convertHourToMilliseconds(e){return""!==e?this.getTotalMilliseconds((t=e).includes(":")?t:t.substr(0,2).concat(":").concat(t.substr(2,3))):0;var t}static returnDateStringPODatepicker(e){const t=new Date(e),i=("0"+t.getUTCDate()).slice(-2),n=("0"+(t.getUTCMonth()+1)).slice(-2);return t.getUTCFullYear()+"-"+n+"-"+i+"T05:00:00-00:00"}static diffInDays(e,t,i){e=this.getDateObject(e),t=this.getDateObject(t);const n=Math.floor((t-e)/864e5);return i?Math.abs(n):n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},62439:function(e,t,i){"use strict";i.d(t,{C:function(){return a}});var n=i(64762),o=i(37716),s=i(65241);let a=(()=>{class e{constructor(e){this.translateService=e}getWeekDayLabel(e){return(0,n.mG)(this,void 0,void 0,function*(){switch(e){case 1:return yield this.translateService.getI18n("l-monday");case 2:return yield this.translateService.getI18n("l-tuesday");case 3:return yield this.translateService.getI18n("l-wednesday");case 4:return yield this.translateService.getI18n("l-thursday");case 5:return yield this.translateService.getI18n("l-friday");case 6:return yield this.translateService.getI18n("l-saturday");case 0:return yield this.translateService.getI18n("l-sunday");default:return""}})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.g))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},57706:function(e,t,i){"use strict";i.d(t,{a:function(){return u}});var n=i(37716),o=i(40469),s=i(38583);const a=function(e){return{backgroundColor:e}};function r(e,t){if(1&e&&n._UZ(0,"div",2),2&e){const e=n.oxw();n.Q6J("ngClass",n.VKq(1,a,e.isVisible))}}function l(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",5),n.NdJ("click",function(){return n.CHM(e),n.oxw(2).closeDialog()}),n._uU(1,"\xd7"),n.qZA()}}const c=function(e){return{"full-screen-dialog":e}};function p(e,t){if(1&e&&(n.TgZ(0,"div",3),n.YNc(1,l,2,0,"a",4),n.Hsn(2,0,["class","overlay-content"]),n.qZA()),2&e){const e=n.oxw();n.Q6J("ngClass",n.VKq(2,c,e.isVisible)),n.xp6(1),n.Q6J("ngIf",e.closeDialogButtonEnable)}}const d=[[["","dialog-content",""]]],g=["[dialog-content]"];let u=(()=>{class e{constructor(e){this.menuApplicationService=e,this.isVisible=!1,this.closeDialogEvent=new n.vpe,this.closeDialogButtonEnable=!1,this.menuIsVisible=!1}ngOnInit(){this.hideMenu()}ngOnDestroy(){this.showMenu()}hideMenu(){this.menuIsVisible||this.menuApplicationService.hideMenu()}showMenu(){this.menuApplicationService.showMenu()}closeDialog(){this.isVisible=!1,this.closeDialogEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(o.Kv))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-dialog"]],inputs:{isVisible:"isVisible",closeDialogButtonEnable:"closeDialogButtonEnable",menuIsVisible:"menuIsVisible"},outputs:{closeDialogEvent:"closeDialogEvent"},ngContentSelectors:g,decls:2,vars:2,consts:[["class","overlay",3,"ngClass",4,"ngIf"],["id","dialog","class","dialog overlay",3,"ngClass",4,"ngIf"],[1,"overlay",3,"ngClass"],["id","dialog",1,"dialog","overlay",3,"ngClass"],["id","dialogCloseBtn","class","closebtn",3,"click",4,"ngIf"],["id","dialogCloseBtn",1,"closebtn",3,"click"]],template:function(e,t){1&e&&(n.F$t(d),n.YNc(0,r,1,3,"div",0),n.YNc(1,p,3,4,"div",1)),2&e&&(n.Q6J("ngIf",t.isVisible),n.xp6(1),n.Q6J("ngIf",t.isVisible))},directives:[s.O5,s.mk],styles:[".overlay[_ngcontent-%COMP%]{height:0%;width:100%;position:fixed;top:0;left:0;background-color:#fff;transition:1.5s;z-index:1000;border-radius:0;padding:0 16px}.overlay-content[_ngcontent-%COMP%]{position:relative;top:25%;width:100%;text-align:center;margin-top:30px}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px;text-decoration:none;font-size:36px;color:#818181;display:block;transition:.3s}.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#f1f1f1}.overlay[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:-11px;right:5px;cursor:pointer}.backgroundColor[_ngcontent-%COMP%]{z-index:200;background-color:rgba(5,45,62,.7);height:100%}.full-screen-dialog[_ngcontent-%COMP%]{height:100%;overflow:auto}@media only screen and (max-width: 480px){.full-screen-dialog[_ngcontent-%COMP%]{height:100vh;overflow:auto;padding-bottom:76px}}@media (min-width: 961px){.full-screen-dialog[_ngcontent-%COMP%]{height:auto;top:50%;left:50%;width:640px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-bottom:1.5em;border-radius:3px;overflow:unset}}@media (min-width: 480px){.overlay[_ngcontent-%COMP%]   .closebtn[_ngcontent-%COMP%]{position:absolute;top:30px;right:35px;cursor:pointer}}"]}),e})()},46526:function(e,t,i){"use strict";i.d(t,{x:function(){return r}});var n=i(56185),o=i(94405),s=i(37716),a=i(38583);let r=(()=>{class e{constructor(e,t){this.fileManipulationService=e,this.datePipe=t}generateExcel(e,t,i,o){let s=new n.Workbook,a=s.addWorksheet(e);a.addRow([t]).font={size:16,bold:!0},a.addRow([]),a.addRow([this.datePipe.transform(new Date,"medium")]),a.addRow([]),a.addRow(i),o.forEach(e=>{a.addRow(e)}),this.generateExcelFile(s,e)}generateExcelVersion(e,t,i,o,s){const a=new n.Workbook,r=a.addWorksheet(e);r.addRow([t]).font={size:16,bold:!0},r.addRow([]),r.addRow([this.datePipe.transform(new Date,"medium")]),r.addRow([]),r.addRow(s),r.addRow([]),r.addRow(i),o.forEach(e=>{r.addRow(e)}),this.generateExcelFile(a,e)}generateExcelBalance(e,t,i,o){let s=new n.Workbook,a=s.addWorksheet(e);var r,l,c;a.addRow([t]).font={name:"Calibri",family:4,size:16,bold:!0},a.addRow([]),a.addRow([this.datePipe.transform(new Date,"medium")]),a.addRow([]),a.addRow(i).eachCell((e,t)=>{e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),o.forEach(e=>{c=a.addRow(e),l=c.getCell(3),r=l.text.includes("-")?"FF9999":"00:00"===l.text?"FFFFFF":"FF99FF99",l.fill={type:"pattern",pattern:"solid",fgColor:{argb:r}},l=c.getCell(4),r=l.text.includes("-")?"FF9999":"00:00"===l.text?"FFFFFF":"FF99FF99",l.fill={type:"pattern",pattern:"solid",fgColor:{argb:r}},l=c.getCell(5),r=l.text.includes("-")?"FF9999":"00:00"===l.text?"FFFFFF":"FF99FF99",l.fill={type:"pattern",pattern:"solid",fgColor:{argb:r}}}),a.getColumn(1).width=40,a.getColumn(2).width=30,a.getColumn(3).width=20,a.getColumn(4).width=20,a.getColumn(5).width=20,a.addRow([]),this.generateExcelFile(s,e)}generateExcelFile(e,t){t=this.fileManipulationService.formatFilenameReport([t],".xlsx"),e.xlsx.writeBuffer().then(e=>{let i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});this.fileManipulationService.saveAs(i,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",t)})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.e),s.LFG(a.uU))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},10690:function(e,t,i){"use strict";i.d(t,{c:function(){return l}});var n=i(37716),o=i(44956),s=i(38583);const a=[[["","card-header",""]],[["","card-body",""]]],r=["[card-header]","[card-body]"];let l=(()=>{class e{constructor(){this.iconClass="po-icon-arrow-down",this.iconClassCollapsed="po-icon-arrow-up"}get ngClass(){const e={};return e[this.iconClass]=!this.collapsed,e[this.iconClassCollapsed]=this.collapsed,e}ngOnInit(){}collapsedBody(){this.collapsed=!this.collapsed}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-expansion-card"]],inputs:{collapsed:"collapsed",iconClass:"iconClass",iconClassCollapsed:"iconClassCollapsed"},ngContentSelectors:r,decls:7,vars:2,consts:[["id","expansion-card-header"],[1,"icon-collapsed"],[1,"po-icon","pull-right",3,"ngClass","click"],["id","expansion-card-body",3,"hidden"]],template:function(e,t){1&e&&(n.F$t(a),n.TgZ(0,"po-container"),n.TgZ(1,"div",0),n.Hsn(2),n.TgZ(3,"div",1),n.TgZ(4,"span",2),n.NdJ("click",function(){return t.collapsedBody()}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"div",3),n.Hsn(6,1),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Q6J("ngClass",t.ngClass),n.xp6(1),n.Q6J("hidden",!t.collapsed))},directives:[o.PJf,s.mk],styles:[".icon-collapsed[_ngcontent-%COMP%]{color:#0c9abe;font-size:25px;z-index:2;position:absolute;right:25px}"]}),e})()},43743:function(e,t,i){"use strict";i.d(t,{Y:function(){return a}});var n=i(38583),o=i(44956),s=i(37716);let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.ez,o.JBz]]}),e})()},94405:function(e,t,i){"use strict";i.d(t,{e:function(){return l}});var n=i(64762),o=i(59708),s=i(49457),a=(()=>((a||(a={})).TypeEnum={Png:"png",Jpg:"jpg",Gif:"gif",Bmp:"bmp",XMsBmp:"x-ms-bmp",Pdf:"pdf"},a))(),r=i(37716);let l=(()=>{class e{constructor(e){this.serviceGeneric=e}openFile(e,t,i,n){return this.serviceGeneric.setResponseType("blob"),n?this.serviceGeneric.search(e,n,!1).then(e=>{this.saveAs(e,i,t)}).catch(e=>{this.serviceGeneric.setResponseType("json"),console.error(`Error: ${e.message}`)}):this.serviceGeneric.get(e,!1).then(e=>{this.saveAs(e,i,t)}).catch(e=>{this.serviceGeneric.setResponseType("json"),console.error(`Error: ${e.message}`)})}openFileFromFileInfo(e,t,i){return(0,n.mG)(this,void 0,void 0,function*(){const n=yield this.base64ToBlob(e,t);this.serviceGeneric.setResponseType("blob"),this.saveAs(n,i,t)})}saveAs(e,t,i){const n=new Blob([e],{type:t});(0,s.saveAs)(n,i),this.serviceGeneric.setResponseType("json")}formatFilenameReport(e,t=".pdf"){let i;return i=e&&e.length>0?e.join("_").replace(/\s/g,"_")+t:this.generateRandomFilename()+t,i}generateRandomFilename(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,12)}returnExtensionByMediaType(e){switch(e){case"image/jpeg":return a.TypeEnum.Jpg;case"image/png":return a.TypeEnum.Png;case"image/bmp":return a.TypeEnum.Bmp;case"image/x-ms-bmp":return a.TypeEnum.XMsBmp;case"application/pdf":return a.TypeEnum.Pdf}}returnMediaTypeByExtension(e){switch(e){case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"xmsbmp":return"image/x-ms-bmp";case"pdf":return"application/pdf"}}getPictureBase64FromCanvas(e,t="image/jpeg"){const i=e.toDataURL(t);return this.removeMIMEInfoFromBase64(i)}removeMIMEInfoFromBase64(e){return e.replace(/^data:(image|application)\/(png|jpeg|jpg|bmp|x-ms-bmp|pdf);base64,/,"")}createMIMEBase64InfoByExtension(e){let t="data:";return t+=this.returnMediaTypeByExtension(e),t+";base64,"}blobToBase64(e){return(0,n.mG)(this,void 0,void 0,function*(){return new Promise((t,i)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e)})})}base64ToBlob(e,t){return(0,n.mG)(this,void 0,void 0,function*(){return(yield fetch(`data:image/${e.type||"png"};base64,${e.content}`)).blob()})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},62393:function(e,t,i){"use strict";i.d(t,{c:function(){return s}});var n=i(64762),o=i(37716);let s=(()=>{class e{bufferFileonStorage(e){return(0,n.mG)(this,void 0,void 0,function*(){let t=[],i=0;for(;i<=e.length;){let n={storagename:"StoreFileId-"+t.length,partfile:e.substr(i,1e4)};t.push(n),i+=1e4}return t})}saveBase64onStorage(e){return(0,n.mG)(this,void 0,void 0,function*(){e.forEach(e=>{localStorage.setItem(e.storagename,e.partfile)})})}nameListBas64onStorage(e){return(0,n.mG)(this,void 0,void 0,function*(){let t=[];return e.forEach(e=>{t.push(e.storagename)}),t})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},72212:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});class n{static isVisible(e,t){return!e||!e.some(e=>e.field===t&&!e.visible)}static isEditable(e,t){return e&&e.some(e=>e.field===t&&e.editable)}static isEditableStandardTrue(e,t){return!e||!e.some(e=>e.field===t&&!e.editable)}static isRequired(e,t){return e&&e.some(e=>e.field===t&&e.required)}static scrollToElement(e,t,i){setTimeout(()=>{t.hash(e),i()},550)}}},33490:function(e,t,i){"use strict";i.d(t,{i:function(){return n}});class n{constructor(e,t=10){this.hasMoreRecords=!1,this.actualPage=0,this.pageSize=0,this.records=e,this.pageSize=t}getNextPage(){return this.actualPage+=1,this.actualPage}}},56365:function(e,t,i){"use strict";i.d(t,{q:function(){return D}});var n=i(80521),o=i(38583),s=i(3679),a=i(90171),r=i(39075),l=i(95987),c=i(29790),p=i(44956),d=i(69838),g=i(64275),u=i(97185),h=i(37716);let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[o.ez,c.aw]]}),e})();var f=i(44677),v=i(62439),b=i(94405),x=i(33224),y=i(88044),Z=i(14833),w=i(35734),C=i(99329),M=i(64383),A=i(44852),P=i(11530),O=i(30343);let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[O.V]}),e})();var T=i(16338),_=i(71904),S=i(65241),I=i(84479);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[Z.Lx,S.g,C.e,I.g,{provide:r.ok,useClass:_.f},I.g,x._,y.l,A._,P.H,M.z,b.e,g.q,w.y,T.t,v.C,u.$],imports:[[o.ez,c.aw,s.u5,f.d,m,q,p.hOC,n.ud,a.To,p.JBz,d.ggn,l.Bz],c.aw,s.u5,p.JBz,f.d,m,q,n.ud]}),e})()},33224:function(e,t,i){"use strict";i.d(t,{_:function(){return o}});var n=i(37716);let o=(()=>{class e{getPosition(e,t){navigator.geolocation.getCurrentPosition(e,e=>{let i="";switch(e.code){case e.PERMISSION_DENIED:i="l-permision-geo-denied";break;case e.POSITION_UNAVAILABLE:i="l-position-unavailable";break;case e.TIMEOUT:i="l-timeout-geo"}t&&t(new TypeError(i))},{enableHighAccuracy:!0})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},18494:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});var n=i(26215),o=i(97983),s=i(37716),a=i(39075);let r=(()=>{class e{constructor(e,t){this.sanitization=e,this.profileService=t}getImage(e,t){return t[e]||this.getImageStyle(e).subscribe(i=>t[e]=i),t[e]}getImageStyle(e){const t=new n.X(this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"));return this.profileService.getImageBase64(e).then(e=>{e&&e.content&&t.next(this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(e.type||"png")+";base64,"+e.content})`))}).finally(()=>{t.closed||t.complete()}),t.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.H7),s.LFG(o.H))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},88044:function(e,t,i){"use strict";i.d(t,{l:function(){return o},g:function(){return s}});var n=i(37716);let o=(()=>{class e{constructor(){this.initialize()}initialize(){void 0===document.IonicExternalEvents&&(document.IonicExternalEvents=[])}emit(e){const t=document.IonicExternalEvents;return e.id=Date.now().toString(),e.captured=!1,t.push(e),e}getArrayEvents(){return document.IonicExternalEvents}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var s=(()=>{return(e=s||(s={}))[e.DownloadFile=0]="DownloadFile",e[e.DownloadAndOpenFile=1]="DownloadAndOpenFile",e[e.OpenFile=2]="OpenFile",e[e.ShareFile=3]="ShareFile",e[e.RequestGeolocationPermission=4]="RequestGeolocationPermission",e[e.SystemBrowser=5]="SystemBrowser",e[e.RequestGelocationCoordinates=6]="RequestGelocationCoordinates",e[e.Camera=7]="Camera",e[e.FilePicker=8]="FilePicker",e[e.Logout=9]="Logout",e[e.OpenClockInApp=10]="OpenClockInApp",e[e.TokenChange=11]="TokenChange",e[e.RateApp=12]="RateApp",e[e.ClearPassword=13]="ClearPassword",e[e.ShowBlastAdvertising=14]="ShowBlastAdvertising",e[e.MustShowBlastAdvertisingCard=15]="MustShowBlastAdvertisingCard",e[e.TransferFile=16]="TransferFile",s;var e})()},85385:function(e,t,i){"use strict";i.d(t,{j:function(){return u}});var n=i(64762),o=i(37716),s=i(44956),a=i(65241),r=i(96054),l=i(38583),c=i(3679),p=i(29790);function d(e,t){if(1&e&&(o.TgZ(0,"span",3),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Oqu(e.modalText)}}function g(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-textarea",4),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().justifyReprovedReason=t}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw();o.s9C("p-label",o.lcZ(1,2,"l-reason")),o.Q6J("ngModel",e.justifyReprovedReason)}}let u=(()=>{class e{constructor(e,t){this.appTranslateService=e,this.notificationService=t,this.justifyReprovedReason="",this.sendRequest=!1,this.isReprove=!1,this.reprovedReason=new o.vpe}ngOnInit(){this.getModalActions()}openModal(){this.poModal.open()}closeModal(){this.poModal.close(),this.justifyReprovedReason=""}translateString(e){return this.appTranslateService.getI18n(e)}getModalActions(){return(0,n.mG)(this,void 0,void 0,function*(){this.confirmActionModal={action:()=>(0,n.mG)(this,void 0,void 0,function*(){if(yield this.hasRequiredValue()){const e=yield this.appTranslateService.getI18n("l-reason-required");this.notificationService.showNotification(e,s.ik9.Error)}else this.sendRequest=!0,this.reprovedReason.emit(this.sendRequest)}),label:(yield this.translateString("l-confirm")).toString()},this.closeActionModal={action:()=>(0,n.mG)(this,void 0,void 0,function*(){this.sendRequest=!1,this.reprovedReason.emit(this.sendRequest)}),label:(yield this.translateString("l-cancel-title")).toString(),danger:!0}})}hasRequiredValue(){return!(!this.isReprove||!this.reasonFieldProps.required||0!==this.justifyReprovedReason.length)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.g),o.Y36(r.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-justify-notification"]],viewQuery:function(e,t){if(1&e&&o.Gf(s.hmF,7),2&e){let e;o.iGM(e=o.CRH())&&(t.poModal=e.first)}},inputs:{title:"title",primaryAction:"primaryAction",secondaryAction:"secondaryAction",modalText:"modalText",reasonRequired:"reasonRequired",reasonFieldProps:"reasonFieldProps"},outputs:{reprovedReason:"reprovedReason"},decls:3,vars:5,consts:[["p-size","md",3,"p-title","p-primary-action","p-secondary-action"],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12",4,"ngIf"],["class","po-lg-12 po-xl-12 po-md-12 po-sm-12","name","textarea",3,"ngModel","p-label","ngModelChange",4,"ngIf"],[1,"po-lg-12","po-xl-12","po-md-12","po-sm-12"],["name","textarea",1,"po-lg-12","po-xl-12","po-md-12","po-sm-12",3,"ngModel","p-label","ngModelChange"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.YNc(1,d,2,1,"span",1),o.YNc(2,g,2,4,"po-textarea",2),o.qZA()),2&e&&(o.Q6J("p-title",t.title)("p-primary-action",t.confirmActionModal)("p-secondary-action",t.closeActionModal),o.xp6(1),o.Q6J("ngIf",t.modalText),o.xp6(1),o.Q6J("ngIf",t.reasonRequired&&(null==t.reasonFieldProps?null:t.reasonFieldProps.visible)))},directives:[s.hmF,l.O5,s.gJm,c.JJ,c.On],pipes:[p.X$],styles:[".po-modal{z-index:1000!important}"]}),e})()},78662:function(e,t,i){"use strict";i.d(t,{Pz:function(){return o},nd:function(){return s},Mt:function(){return a},im:function(){return r},g5:function(){return l}});var n=i(37716);const o="DemissionlKey",s="SubstitutionKey",a="DataChangeKey",r="requisitionsKey";let l=(()=>{class e{constructor(){}setLastAccess(e,t){const i=e+t;localStorage.setItem(i,(this.getKeyLastAccess(i)+1).toString())}getKeyLastAccess(e){return Number(localStorage.getItem(e))}getLastAccessMenuItems(e){const t=[o,s],i=[];for(let n=0;n<t.length;n++){const o=this.getKeyLastAccess(t[n]+e);+o>0&&i.push({id:t[n],cont:o,featuredIcon:"",featuredLabel:"",featuredRoute:""})}return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},14833:function(e,t,i){"use strict";i.d(t,{ye:function(){return o},R1:function(){return s},jY:function(){return a},w9:function(){return r},Mo:function(){return l},dG:function(){return c},iF:function(){return p},uB:function(){return d},Ux:function(){return g},jh:function(){return u},SP:function(){return h},uI:function(){return m},HV:function(){return f},cr:function(){return v},to:function(){return b},Ye:function(){return x},Pz:function(){return y},im:function(){return Z},j8:function(){return w},mw:function(){return C},c5:function(){return M},Lx:function(){return A}});var n=i(37716);const o="absenceKey",s="vacationKey",a="medicalKey",r="paymentsKey",l="annualReceiptKey",c="profileKey",p="substitutesKey",d="allowanceKey",g="clockingGeolocationKey",u="clockingGeolocationViewKey",h="clockingKey",m="clockInKey",f="loanStatementsKey",v="dependentsBeneficiaries",b="teamManagementKey",x="workLeaveKey",y="demissionKey",Z="requisitionsKey",w="salaryHistoryKey",C="overtimeHoursKey",M="reportsKey";let A=(()=>{class e{constructor(){}setLastAccess(e,t){const i=e+t;localStorage.setItem(i,(Number(this.getKeyLastAccess(i))+1).toString())}getKeyLastAccess(e){return localStorage.getItem(e)}getLastAccessMenuItems(e){const t=[u,a,r,l,s,c,p,d,g,h,o,m,f,v,b,x,y,Z,w,C,M],i=[];for(let n=0;n<t.length;n++){const o=this.getKeyLastAccess(t[n]+e);+o>0&&i.push({id:t[n],cont:+o,featuredIcon:"",featuredLabel:"",featuredRoute:""})}return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},35734:function(e,t,i){"use strict";i.d(t,{y:function(){return o}});var n=i(37716);let o=(()=>{class e{constructor(){this.browser=navigator,this.setDefaultConstraints()}start(e,t=this.constraints){this.video=e,this.browser.getUserMedia=this.browser.getUserMedia||this.browser.webkitGetUserMedia||this.browser.mozGetUserMedia||this.browser.msGetUserMedia,this.browser.mediaDevices.getUserMedia(t).then(e=>{this.currentStream=e,this.video.srcObject=e,this.video.play()})}drawImageFromVideoOnCanvas(e,t=640,i){const n=this.video.videoWidth/this.video.videoHeight;e.width=t,e.height=i||e.width/n,e.getContext("2d").drawImage(this.video,0,0,e.width,e.height)}stop(){this.video&&(this.video.pause(),this.video.srcObject=null,this.currentStream&&this.currentStream.getTracks().forEach(e=>e.stop()))}pause(){this.video&&this.video.pause()}resume(){this.video&&this.video.play()}isActive(){return this.video&&!this.video.ended&&!this.video.paused}setDefaultConstraints(){this.constraints={audio:!1,video:{facingMode:"environment"}}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},99329:function(e,t,i){"use strict";i.d(t,{e:function(){return d}});var n=i(44956),o=(()=>((o||(o={})).TypeEnum={Danger:"danger",Error:"error",Warning:"warning",Info:"info",Success:"success"},o))(),s=i(98348),a=i(68014),r=i(37716),l=i(96054),c=i(84479),p=i(37503);let d=(()=>{class e{constructor(e,t,i,n){this.notificationService=e,this.windowUtilService=t,this.globals=i,this.loggedDispatchers=n}processErrorMessage(e){if(s.ZP.isErpProtheus())this.processErrorMessageProtheus(e);else if([0,401].indexOf(e.status)>=0||302===e.status&&s.ZP.isErpDatasul())this.loggedDispatchers.setIsLogged(!1),this.globals.clearLocalStorage();else if(e.error&&e.error.messages||e.messages){let t;t=this.getMessageError(e,t),this.processErrorMessagePatternTHFOne(t)}else e.error&&e.error.message&&-1===[0,400,401].indexOf(e.status)?this.processErrorMessagePatternTotvsApi(e.error):e.error&&400===e.status&&this.processValidationMessagePatternTotvsApi(e.error)}getMessageError(e,t){return e.error&&e.error.messages?e.error:e}processErrorMessageProtheus(e){if(e.error&&[0,401].indexOf(e.status)>=0)this.globals.canLoadApp=!1,this.globals.clearTokenStorage(),this.windowUtilService.changeHref(s.ZP.getRootContext(location.origin)+"logout.html"),this.loggedDispatchers.setIsLogged(!1);else if(e.error){let t;t=t?{code:e.error.code,message:e.error.message,detailedMessage:void 0}:{code:e.error.errorCode,message:e.error.errorMessage,detailedMessage:void 0},this.processErrorMessagePatternTotvsApi(t)}else e.messages?this.processErrorMessagePatternTHFOne(e):void 0!==e.status&&e.message&&-1===[0,400,401].indexOf(e.status)&&this.processErrorMessagePatternTotvsApi(e)}processValidationMessagePatternTotvsApi(e){e&&e.items&&e.items.forEach(e=>{switch(e.type){case o.TypeEnum.Danger:case o.TypeEnum.Error:this.notificationService.showNotification(e.detail,n.ik9.Error);break;case o.TypeEnum.Info:this.notificationService.showNotification(e.detail,n.ik9.Information);break;case o.TypeEnum.Warning:this.notificationService.showNotification(e.detail,n.ik9.Warning);break;case o.TypeEnum.Success:this.notificationService.showNotification(e.detail,n.ik9.Success)}})}processErrorMessagePatternTHFOne(e){e&&e.messages&&e.messages.forEach(e=>{this.handleToastr(e)})}processErrorMessagePatternTotvsApi(e){e&&(this.handleToastr({code:e.code,detail:e.message,type:o.TypeEnum.Error}),console.error(e.details),e.details&&e.details.length>0&&e.details.forEach(e=>{this.handleToastr({code:e.code,detail:e.message,type:o.TypeEnum.Error}),console.error(e.details)}))}handleToastr(e){e.type===o.TypeEnum.Error?this.notificationService.showNotification(e.detail,n.ik9.Error):e.type===o.TypeEnum.Warning?this.notificationService.showNotification(e.detail,n.ik9.Warning):e.type===o.TypeEnum.Info&&this.notificationService.showNotification(e.detail,n.ik9.Information)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l.g),r.LFG(c.g),r.LFG(p.O),r.LFG(a.pG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},81059:function(e,t,i){"use strict";i.d(t,{R:function(){return a}});var n=i(26215),o=i(84479),s=i(37716);let a=(()=>{class e{constructor(){this.viewIsMobile=!1,this.subject=new n.X(this.viewIsMobile),this.subjectMobileOrTablet=new n.X(this.viewIsMobileOrTablet),this.viewIsMobile$=this.subject.asObservable(),this.viewIsMobileOrTablet$=this.subjectMobileOrTablet.asObservable()}ngOnInit(){this.defineIsMobile(window.innerWidth,window.innerHeight)}ngOnDestroy(){this.subject.complete(),this.subjectMobileOrTablet.complete()}onResize(e){this.defineIsMobile(e.target.innerWidth,e.target.innerHeight)}defineIsMobile(e,t){this.viewIsMobile=o.g.isMobile(e,t),this.viewIsMobileOrTablet=o.g.mdDeviceOrSmaller(e),setTimeout(()=>{this.subject.next(this.viewIsMobile),this.subjectMobileOrTablet.next(this.viewIsMobileOrTablet)},0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,hostBindings:function(e,t){1&e&&s.NdJ("resize",function(e){return t.onResize(e)},!1,s.Jf7)}}),e})()},64383:function(e,t,i){"use strict";i.d(t,{z:function(){return a}});var n=i(16738),o=(i(40328),i(66117),i(37716)),s=i(29790);let a=(()=>{class e{constructor(e){this.translateService=e,n.locale(e.getBrowserCultureLang())}getInstance(e,t){return n(e,t)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.sK))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},44852:function(e,t,i){"use strict";i.d(t,{_:function(){return d}});var n=i(79765),o=i(88044),s=i(59708),a=i(64634),r=i(37716),l=i(95987),c=i(84479),p=i(65241);let d=(()=>{class e{constructor(e,t,i,o,s){this.ionicUtilsService=e,this.router=t,this.windowUtilService=i,this.appTranslateService=o,this.serviceGeneric=s,this.reloadContextSource=new n.xQ,this.reloadContextSourceObservable=this.reloadContextSource.asObservable()}goToNextPage(e){const t=e.split("/");let i=0,n="";t.forEach(e=>{i>2&&(n+=i!==t.length-1?e+"/":e),i++}),this.router.navigate([n])}nextContext(){this.reloadContextSource.next()}doNavigation(e,t){if("string"==typeof e)return void(t?this.router.navigate([e],t):this.router.navigate([e]));const i=e;i&&i.externalApp?this.redirectToExternalApp(i):i&&i.url.indexOf("PortalMeuRH")>0&&this.goToNextPage(i.url)}redirectToExternalApp(e){this.getExternalAuthenticationToken(e.id,e.externalAppStagingEnvironment).then(t=>{const i=new Map;t&&i.set("{token}",t.token);const n=a.m.replaceKeyValueString(i,e.url);this.appTranslateService.getI18n("l-confirm-external-redirect-operation").then(e=>{this.confirm(e)&&(this.windowUtilService.isWebView()?this.ionicUtilsService.emit({args:{url:n},type:o.g.SystemBrowser}):this.open(n))})})}open(e){window.open(e,"_blank")}confirm(e){return window.confirm(e)}getExternalAuthenticationToken(e,t){const i=`integration/token/${e}/{current}`,n=[];return t&&(n.stagingEnvironment=t),this.serviceGeneric.search(i,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.l),r.LFG(l.F0),r.LFG(c.g),r.LFG(p.g),r.LFG(s.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},48582:function(e,t,i){"use strict";i.d(t,{b:function(){return c}});var n=i(37716),o=i(38583),s=i(44956);function a(e,t){if(1&e){const e=n.EpF();n.ynx(0),n._UZ(1,"img",3),n.TgZ(2,"h2",4),n._uU(3),n.qZA(),n.TgZ(4,"h5",5),n._uU(5),n.qZA(),n.TgZ(6,"po-button",6),n.NdJ("click",function(){return n.CHM(e),n.oxw().action()}),n.qZA(),n.BQk()}if(2&e){const e=n.oxw();n.xp6(3),n.Oqu(e.title),n.xp6(2),n.Oqu(e.subtitle),n.xp6(1),n.s9C("p-label",e.newRecord)}}function r(e,t){1&e&&n._UZ(0,"po-loading-icon",8)}function l(e,t){if(1&e&&n.YNc(0,r,1,0,"po-loading-icon",7),2&e){const e=n.oxw();n.Q6J("ngIf",e.shouldShowSpinner)}}let c=(()=>{class e{constructor(){this.loading=!1,this.shouldShowSpinner=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-no-record"]],inputs:{title:"title",subtitle:"subtitle",newRecord:"newRecord",loading:"loading",shouldShowSpinner:"shouldShowSpinner",action:"action"},decls:4,vars:2,consts:[[1,"no-records","text-center"],[4,"ngIf","ngIfElse"],["loadingBlock",""],["src","assets/img/payroll-loan-empty-statement.svg",1,"image-empty"],[1,"po-mt-5","title"],[1,"po-mt-2","po-mb-4","subtitle"],["p-primary","true","p-type","primary",1,"new-record","po-sm-12",3,"p-label","click"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(e,t){if(1&e&&(n.TgZ(0,"div",0),n.YNc(1,a,7,3,"ng-container",1),n.qZA(),n.YNc(2,l,1,1,"ng-template",null,2,n.W1O)),2&e){const e=n.MAs(3);n.xp6(1),n.Q6J("ngIf",!t.loading)("ngIfElse",e)}},directives:[o.O5,s.bOz,s.AR0],styles:['.no-records[_ngcontent-%COMP%]   .image-empty[_ngcontent-%COMP%]{width:100%;height:30vh}@media (min-width: 481px){.no-records[_ngcontent-%COMP%]   .image-empty[_ngcontent-%COMP%]{height:305px}}.no-records[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem}@media (min-width: 481px){.no-records[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem}}.no-records[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem}@media (min-width: 481px){.no-records[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.25rem}}.no-records[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .no-records[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:"NunitoSans-Light";font-weight:normal;text-overflow:unset;white-space:unset}.no-records[_ngcontent-%COMP%]   .new-record[_ngcontent-%COMP%]     button{padding:9px 0;height:auto;margin-bottom:10px}.no-records[_ngcontent-%COMP%]   .new-record[_ngcontent-%COMP%]     button .po-button-label{font-size:16px}@media (min-width: 961px){.no-records[_ngcontent-%COMP%]   .new-record[_ngcontent-%COMP%]     button{padding:9px 70px;width:auto}}.no-records[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:flex;justify-content:center}']}),e})()},96054:function(e,t,i){"use strict";i.d(t,{g:function(){return s}});var n=i(37716),o=i(44956);let s=(()=>{class e{constructor(e){this.poNotificationService=e}showNotification(e,t){return this.poNotification={message:e},{0:this.poNotificationService.error.bind(this.poNotificationService,this.poNotification),1:this.poNotificationService.information.bind(this.poNotificationService,this.poNotification),2:this.poNotificationService.success.bind(this.poNotificationService,this.poNotification),3:this.poNotificationService.warning.bind(this.poNotificationService,this.poNotification)}[t]()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.fRI))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},11530:function(e,t,i){"use strict";i.d(t,{H:function(){return s}});var n=i(37716),o=i(65241);let s=(()=>{class e{constructor(e){this.translateService=e}simpleReverseGeocoding(e,t){return this.getJson(e,t).then(e=>e.json().then(e=>{if(e.address){const t={city:this.parseUndefinedValue(e.address.city),road:this.parseUndefinedValue(e.address.road),country:this.parseUndefinedValue(e.address.country),number:this.parseUndefinedValue(e.address.house_number),state:this.parseUndefinedValue(e.address.state),neighborhood:this.parseUndefinedValue(e.address.suburb)};return this.fillLocationString(t)}}))}getJson(e,t){return fetch("https://nominatim.openstreetmap.org/reverse?format=json&lon="+e+"&lat="+t)}parseUndefinedValue(e){return e||""}fillLocationString(e){return this.translateService.getI18n("location-string",e).then(e=>e&&e.replace(/,,/g,",").replace(/\-\-/g,"-").replace(/[ ]+[,|\-]/g," ").replace(/^[,|\-]/g,"").replace(/[,|\-]$/g,"").trim())}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.g))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},36812:function(e,t,i){"use strict";i.d(t,{q:function(){return d}});var n=i(37716),o=i(84479),s=i(38583),a=i(29790);function r(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",4),n.TgZ(1,"div",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().back()}),n.qZA(),n.qZA()}}const l=[[["","title",""]],[["","sub-title",""]]],c=function(e){return{"no-back":e}},p=["[title]","[sub-title]"];let d=(()=>{class e{constructor(e){this.windowUtilService=e,this.backFunction=new n.vpe,this.backIsVisible=!1,this.pageTitle="",this.subTitleIsDayAndWeekDay=!1,this.subTitleIsPeriod=!1,this.dateIsDay=!1,this.dateIsWeekDay=!1,this.date="",this.initPeriod="",this.endPeriod="",this.isDialog=!1}get viewIsMobile(){return this.windowUtilService.isWebView()}ngOnInit(){this.backIsVisible=this.backIsVisible||this.viewIsMobile}back(){this.backFunction.observers.length>0?this.backFunction.emit(!1):this.windowUtilService.back()}titleForDialog(){return this.isDialog?"":"max-width-page-title"}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(o.g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-page-header"]],inputs:{backIsVisible:"backIsVisible",pageTitle:"pageTitle",subTitleIsDayAndWeekDay:"subTitleIsDayAndWeekDay",subTitleIsPeriod:"subTitleIsPeriod",dateIsDay:"dateIsDay",dateIsWeekDay:"dateIsWeekDay",date:"date",initPeriod:"initPeriod",endPeriod:"endPeriod",isDialog:"isDialog"},outputs:{backFunction:"backFunction"},ngContentSelectors:p,decls:9,vars:8,consts:[[1,"general",3,"ngClass"],["class","mouse-pointer header-back",4,"ngIf"],["id","tit-page-header",1,"header-content","po-font-title",3,"ngClass"],[1,"po-font-subtitle","sub-title"],[1,"mouse-pointer","header-back"],["id","btn-back",1,"image-return","po-icon","po-icon-arrow-left",3,"click"]],template:function(e,t){1&e&&(n.F$t(l),n.TgZ(0,"div",0),n.YNc(1,r,2,0,"a",1),n.TgZ(2,"h2",2),n._uU(3),n.ALo(4,"translate"),n.Hsn(5),n.qZA(),n.TgZ(6,"div"),n.TgZ(7,"h4",3),n.Hsn(8,1),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.Q6J("ngClass",n.VKq(6,c,!t.backIsVisible)),n.xp6(1),n.Q6J("ngIf",t.backIsVisible),n.xp6(1),n.Q6J("ngClass",t.titleForDialog()),n.xp6(1),n.hij(" ",n.lcZ(4,4,t.pageTitle),""))},directives:[s.mk,s.O5],pipes:[a.X$],styles:['.image-return[_ngcontent-%COMP%]{font-size:2rem}.mouse-pointer[_ngcontent-%COMP%]{text-align:center}.max-width-page-title[_ngcontent-%COMP%]{padding-left:8px}.po-font-title[_ngcontent-%COMP%]{margin:0;padding-left:0}@media screen and (min-width: 320px) and (max-width: 481px){.po-font-title[_ngcontent-%COMP%]{width:calc(100vw - 80px)}}@media screen and (max-width: 320px){.po-font-title[_ngcontent-%COMP%]{width:calc(100vw - 100px)}}.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:11px;font-size:16px}.header-back[_ngcontent-%COMP%]{grid-area:header-back}.header-content[_ngcontent-%COMP%]{grid-area:header-content}.general[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header-back header-content";grid-template-columns:40px 1fr;align-items:center;padding:40px 0 10px}.general.no-back[_ngcontent-%COMP%]{grid-template-areas:"header-content";grid-template-columns:1fr}.day[_ngcontent-%COMP%]{color:#28303e;float:left;margin-right:10px}.week-day[_ngcontent-%COMP%]{color:#9da7a9;margin-bottom:0;margin-top:0}@media only screen and (max-width: 960px){.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:0!important;font-size:16px}}@media screen and (min-width: 961px) and (max-width: 1366px){.max-width-page-title[_ngcontent-%COMP%]{max-width:calc(100vw - 158px)}}@media only screen and (min-width: 1201px) and (max-width: 1502px){.max-width-page-title[_ngcontent-%COMP%]{max-width:calc(100vw - 158px);padding-left:0}}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:40px;font-size:16px}}@media only screen and (-webkit-min-device-pixel-ratio: 3),only screen and (min--moz-device-pixel-ratio: 3),only screen and (-o-min-device-pixel-ratio: 3/1){.image-return[_ngcontent-%COMP%]{float:left;margin-left:0;margin-right:8px}.sub-title[_ngcontent-%COMP%]{padding:0;margin-left:48px;font-size:16px}}']}),e})()},18648:function(e,t,i){"use strict";i.d(t,{P:function(){return s}});var n=i(81483),o=i(37716);let s=(()=>{class e{transform(e,t=!0){if(null!=e)return n.Em.getHoursByMilliseconds(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"formatMillisecondsAsHour",type:e,pure:!0}),e})()},13235:function(e,t,i){"use strict";i.d(t,{r:function(){return s}});var n=i(64634),o=i(37716);let s=(()=>{class e{transform(e){return n.m.toTitleCase(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"titleCase",type:e,pure:!0}),e})()},32268:function(e,t,i){"use strict";i.d(t,{$:function(){return a}});var n=i(38583),o=i(81483),s=i(37716);let a=(()=>{class e extends n.uU{static getDateUTCFormat(e){return o.Em.getDateUTCFormat(e)}transform(t,i){if(!t)return"";const n=new Date(t),o=e.getDateUTCFormat(n);return super.transform(o,i)}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(e)))(i||e)}}(),e.\u0275pipe=s.Yjl({name:"utcDate",type:e,pure:!0}),e})()},63114:function(e,t,i){"use strict";i.d(t,{K:function(){return m}});var n=i(64762),o=i(44956),s=i(48681),a=i(98348),r=i(94405),l=i(88044),c=i(59708),p=i(30343),d=i(37716),g=i(84479),u=i(29790);const h=["canvas"];let m=(()=>{class e{constructor(e,t,i,n,o,s){this.fileManipulationService=e,this.ionicUtilService=t,this.windowUtilService=i,this.serviceGeneric=n,this.spinnerService=o,this.configurationService=s}initializeComponent(e,t,i){this.fileUrlDownload=e,this.id=i,this.fileInfo=t,this.downloadFile()}openPreviewFileDialog(){this.previewFileDialog.open(),this.drawImageOnCanvas()}closePreviewFileDialog(){this.previewFileDialog.close()}drawImageOnCanvas(e=640,t=640){return(0,n.mG)(this,void 0,void 0,function*(){this.canvas.nativeElement.width=e,this.canvas.nativeElement.height=t;const i=new Image;i.src=this.fileManipulationService.createMIMEBase64InfoByExtension(this.fileInfo.type)+this.fileInfo.content,this.canvas.nativeElement.getContext("2d").drawImage(i,0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height)})}getUrlFileDownload(){return(0,n.mG)(this,void 0,void 0,function*(){if(a.ZP.isErpDatasul()){const e=yield this.serviceGeneric.resolveUrl(0,this.fileUrlDownload);return`${document.location.origin}${e}${this.fileUrlDownload}/${this.id}/${this.fileInfo.type}`}return new Promise(e=>{e(this.configurationService.getServerApiUrl().then(e=>(0,n.mG)(this,void 0,void 0,function*(){return a.ZP.isErpNode()||a.ZP.isErpProtheus()?`${e}${this.fileUrlDownload}/${this.id}/${this.fileInfo.type}`:`${document.location.origin}${e}${this.fileUrlDownload}/${this.id}/${this.fileInfo.type}`})))})})}openFile(){const e=this.fileManipulationService.returnMediaTypeByExtension(this.fileInfo.type);this.fileManipulationService.openFileFromFileInfo(this.fileInfo,this.fileInfo.name+"."+this.fileInfo.type,e)}downloadFile(){this.fileInfo.name=this.fileManipulationService.generateRandomFilename(),this.windowUtilService.isWebView()?(this.spinnerService.show(),this.getUrlFileDownload().then(e=>{const t={args:{openAfterDownload:!0,url:e,filename:this.fileInfo.name,fileMIMEtype:this.fileManipulationService.returnMediaTypeByExtension(this.fileInfo.type)},type:l.g.DownloadAndOpenFile};this.ionicUtilService.emit(t)}).catch(e=>{this.spinnerService.hide()})):this.openFile()}callbackIonicExternalEvent(e){e.detail.event.type===l.g.DownloadAndOpenFile&&this.spinnerService.hide()}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(r.e),d.Y36(l.l),d.Y36(g.g),d.Y36(c.M),d.Y36(p.V),d.Y36(s.e))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-preview-file"]],viewQuery:function(e,t){if(1&e&&(d.Gf(o.hmF,5),d.Gf(h,5)),2&e){let e;d.iGM(e=d.CRH())&&(t.previewFileDialog=e.first),d.iGM(e=d.CRH())&&(t.canvas=e.first)}},hostBindings:function(e,t){1&e&&d.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,d.evT)},decls:11,vars:9,consts:[["p-size","auto",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[1,"canvas-format"],["canvas",""],[1,"modal-select-file-options"],["p-small","true","p-type","default",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-icon","po-icon po-icon-download","p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"]],template:function(e,t){1&e&&(d.TgZ(0,"po-modal",0,1),d.ALo(2,"translate"),d.TgZ(3,"div"),d._UZ(4,"canvas",2,3),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"po-button",5),d.NdJ("p-click",function(){return t.closePreviewFileDialog()}),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"po-button",6),d.NdJ("p-click",function(){return t.downloadFile()}),d.ALo(10,"translate"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.s9C("p-title",d.lcZ(2,3,"l-visualization")),d.xp6(7),d.s9C("p-label",d.lcZ(8,5,"l-close")),d.xp6(2),d.s9C("p-label",d.lcZ(10,7,"l-download")))},directives:[o.hmF,o.bOz],pipes:[u.X$],styles:[".modal-select-file-options[_ngcontent-%COMP%]{overflow:auto;margin-top:35px;margin-bottom:25px}.canvas-format[_ngcontent-%COMP%]{height:400px;width:320px}[_nghost-%COMP%]     .po-modal-title{font-size:20px}[_nghost-%COMP%]     .po-modal-header-close-button{padding-left:95px}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),e})()},53871:function(e,t,i){"use strict";i.d(t,{Q:function(){return y}});var n=i(64762),o=i(37716),s=i(44956),a=i(88044),r=i(94405),l=i(38583),c=i(35734),p=i(84479),d=i(96054),g=i(65241),u=i(29790);const h=["video"],m=["canvas"],f=["fileInput"];function v(e,t){if(1&e&&(o.TgZ(0,"div"),o._UZ(1,"video",6,7),o._UZ(3,"canvas",8,9),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.ekj("show-component",e.showVideoCapture),o.xp6(2),o.ekj("show-component",!e.showVideoCapture)}}function b(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"po-button",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().openFileBrowser()}),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"po-button",11),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().takePicture()}),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-search-file")),o.xp6(2),o.s9C("p-label",o.lcZ(4,4,"l-take-picture")))}function x(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"po-button",12),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().startCamera()}),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"po-button",13),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().saveSnapshot()}),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(4,4,"l-confirm")))}let y=(()=>{class e{constructor(e,t,i,n,s,a,r){this.cameraService=e,this.windowUtilService=t,this.ionicUtilService=i,this.fileManipulationService=n,this.notificationService=s,this.translateService=a,this.locale=r,this.closeSelectFileDialogEvent=new o.vpe,this.mimeTypes="image/png, image/jpeg, application/pdf",this.showErrorWhenExceedingLimit=!0,this.showErrorWhenInvalidFormat=!0}ngOnInit(){this.showVideoCapture=!0}ngOnDestroy(){this.isWebView()||this.cameraService.stop()}openSelectFileDialog(){this.selectFileDialog.open(),this.isWebView()||this.startCamera()}startCamera(){this.showVideoCapture=!0,this.isWebView()||this.cameraService.start(this.video.nativeElement)}startCameraDevice(){this.fileInfo=null,this.ionicUtilService.emit({args:{},type:a.g.Camera})}closeSelectFileDialog(){this.selectFileDialog.close(),this.stopCamera(),this.closeSelectFileDialogEvent.emit(this.fileInfo)}openFileBrowser(){this.stopCamera(),this.fileInput.nativeElement.click()}onFileChange(e){return(0,n.mG)(this,void 0,void 0,function*(){if(0!==e.target.files.length){const t=e.target.files[0],i=yield this.formatIsInvalid(t),n=yield this.isExceedingLimit(t);if(i||n)return void(this.fileInput.nativeElement.value=null);const o=new FileReader;let s;o.readAsDataURL(t),o.onloadend=()=>{s=o.result.toString(),s&&(this.initializeFileProperties(s,t.name,t.type),this.closeSelectFileDialog())}}})}takePicture(){this.isWebView()?this.startCameraDevice():this.isCameraActivated()?(this.showTakenPicture(),this.showVideoCapture=!1,this.stopCamera()):this.startCamera()}stopCamera(){!this.isWebView()&&this.isCameraActivated()&&this.cameraService.stop()}isCameraActivated(){return this.cameraService.isActive()}showTakenPicture(){this.cameraService.drawImageFromVideoOnCanvas(this.canvas.nativeElement,640,640)}showButtonsConfirmSnapshot(){return!this.showVideoCapture}saveSnapshot(){this.initializeFileProperties(this.fileManipulationService.getPictureBase64FromCanvas(this.canvas.nativeElement),this.fileManipulationService.generateRandomFilename()+".jpg","image/jpeg"),this.closeSelectFileDialog()}isWebView(){return this.windowUtilService.isWebView()}initializeFileProperties(e,t,i){const n=this.fileManipulationService.returnExtensionByMediaType(i);this.fileInfo={content:this.fileManipulationService.removeMIMEInfoFromBase64(e),name:t,type:n}}normalizeBase64BigFiles(){"="!==this.fileInfo.content.charAt(this.fileInfo.content.length-1)&&this.fileInfo.content.length%4!=0&&(this.fileInfo.content+="=")}callbackIonicExternalEvent(e){e.detail.event.type===a.g.Camera&&(e.detail.success?(this.initializeFileProperties(e.detail.returnObject.imgBase64,e.detail.returnObject.fileName,e.detail.returnObject.mediaType),this.closeSelectFileDialog()):this.fileInfo=null)}formatIsInvalid(e){return(0,n.mG)(this,void 0,void 0,function*(){if(null!=this.mimeTypes&&this.mimeTypes.length>0){if(this.mimeTypes.includes(e.type)){const o=yield e.arrayBuffer();for(var t=new Uint8Array(o).subarray(0,4),i="",n=0;n<t.length;n++)i+=t[n].toString(16);switch(i){case"25504446":case"89504e47":case"ffd8ffe0":case"ffd8ffee":case"ffd8ffe1":case"ffd8ffe8":case"ffd8ffe2":case"ffd8ffe3":return!1}}return this.showErrorWhenInvalidFormat&&this.notificationService.showNotification(yield this.translateService.getI18n("l-invalid-format"),s.ik9.Error),!0}return!1})}isExceedingLimit(e){return(0,n.mG)(this,void 0,void 0,function*(){if(null!=this.maxSize&&e.size/1e3>this.maxSize){if(this.showErrorWhenExceedingLimit){const t="1.0-2",i=yield this.translateService.getI18n("l-exceeding-limit",{size:`${(0,l.uf)(e.size/1e6,this.locale,t)} MB`,maxSize:`${(0,l.uf)(this.maxSize/1e3,this.locale,t)} MB`});this.notificationService.showNotification(i,s.ik9.Error)}return!0}return!1})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.y),o.Y36(p.g),o.Y36(a.l),o.Y36(r.e),o.Y36(d.g),o.Y36(g.g),o.Y36(o.soG))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-select-file"]],viewQuery:function(e,t){if(1&e&&(o.Gf(s.hmF,5),o.Gf(h,5),o.Gf(m,5),o.Gf(f,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.selectFileDialog=e.first),o.iGM(e=o.CRH())&&(t.video=e.first),o.iGM(e=o.CRH())&&(t.canvas=e.first),o.iGM(e=o.CRH())&&(t.fileInput=e.first)}},hostBindings:function(e,t){1&e&&o.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,o.evT)},inputs:{mimeTypes:"mimeTypes",maxSize:"maxSize",showErrorWhenExceedingLimit:"showErrorWhenExceedingLimit",showErrorWhenInvalidFormat:"showErrorWhenInvalidFormat"},outputs:{closeSelectFileDialogEvent:"closeSelectFileDialogEvent"},decls:9,vars:7,consts:[["p-size","auto",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[4,"ngIf"],["type","file","name","myFile",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-file",3,"accept","change"],["fileInput",""],[1,"modal-select-file-options"],["muted","",1,"video-format"],["video",""],[1,"video-format"],["canvas",""],["p-small","true","p-type","default",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","click"],["p-icon","po-icon po-icon-camera","p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-small","true","p-type","default",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0,1),o.ALo(2,"translate"),o.YNc(3,v,5,4,"div",2),o.TgZ(4,"input",3,4),o.NdJ("change",function(e){return t.onFileChange(e)}),o.qZA(),o.TgZ(6,"div",5),o.YNc(7,b,5,6,"div",2),o.YNc(8,x,5,6,"div",2),o.qZA(),o.qZA()),2&e&&(o.s9C("p-title",o.lcZ(2,5,"l-select-image")),o.xp6(3),o.Q6J("ngIf",!t.isWebView()),o.xp6(1),o.Q6J("accept",t.mimeTypes),o.xp6(3),o.Q6J("ngIf",!t.showButtonsConfirmSnapshot()),o.xp6(1),o.Q6J("ngIf",t.showButtonsConfirmSnapshot()))},directives:[s.hmF,l.O5,s.bOz],pipes:[u.X$],styles:[".modal-select-file-options[_ngcontent-%COMP%]{overflow:auto;margin-top:35px;margin-bottom:25px}.input-file[_ngcontent-%COMP%]{display:none}.video-format[_ngcontent-%COMP%]{height:320px;width:320px;display:none}@media only screen and (max-width: 320px){.video-format[_ngcontent-%COMP%]{height:180px;width:260px;display:none}}.show-component[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]     .po-modal-title{font-size:20px}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),e})()},59708:function(e,t,i){"use strict";i.d(t,{M:function(){return m}});var n=i(64762),o=i(91841),s=i(48681),a=i(98348),r=i(64275),l=i(99329),c=i(30343),p=i(64634),d=i(37716),g=i(84479),u=i(69505),h=(()=>{return(e=h||(h={}))[e.GET=0]="GET",e[e.POST=1]="POST",e[e.PUT=2]="PUT",e[e.DELETE=3]="DELETE",h;var e})();let m=(()=>{class e{constructor(e,t,i,n,o,s,a){this.http=e,this.configurationService=t,this.messageService=i,this.spinnerService=n,this.restMigrationControl=o,this.windowUtilService=s,this.refreshTokenService=a,this.initialize()}initialize(){this.headers=new o.WM,this.setAuthorizationToken(),this.withCredentials=!0,this.options={headers:this.headers,withCredentials:this.withCredentials,responseType:"json"}}processHttpResponse(e,t=!0){if(t&&this.spinnerService.hide(),e){const t=this.tryGetLegacyData(e);if(t)return t;this.handleMessage(e)}return e}resolveUrl(e,t){return(0,n.mG)(this,void 0,void 0,function*(){let i;return i=a.ZP.isTomcatAppServer()&&(t.indexOf("/api/rh/v1/login/auth/")>-1||t.indexOf("/totvs-login/logout")>-1)?"":a.ZP.isErpDatasul()?yield this.restMigrationControl.getBaseUrlDts(Number(e),t):yield this.configurationService.getServerApiUrl(),i})}httpRequest(e,t,i,n,o=!0,s=!0){return this.resolveUrl(e,t).then(a=>this.processHttpRequest(e,t,a,i,n,o,s))}processHttpRequest(e,t,i,n,o,s=!0,a=!0){return this.requestOptions(e,t,i,n,o,s,a)}requestOptions(e,t,i,n,o,s=!0,a=!0){let r,l=i+t;switch(n&&(l=p.m.concatQueryParam(l,n)),this.setAppErp(t),this.setProtheusHeaders(l),a&&this.spinnerService.show(),l.includes("storage.googleapis.com")&&this.options.headers.delete("Authorization"),e){case h.GET:r=this.http.get(l,this.options);break;case h.POST:r=this.http.post(l,o,this.options);break;case h.PUT:r=this.http.put(l,o,this.options);break;case h.DELETE:r=this.http.delete(l,this.options)}return r.toPromise().then(e=>"html"===this.options.responseType?this.handleHtmlResponse(null==e?void 0:e.toString()):this.processHttpResponse(e,a)).catch(e=>(a&&this.spinnerService.hide(),s?this.handleError(e):Promise.reject(e)))}setProtheusHeaders(e){a.ZP.isErpProtheus()&&((this.windowUtilService.isIosDevice()||this.windowUtilService.isSafariBrowser()||this.windowUtilService.isFirefoxBrowser())&&!this.options.headers.get("x-protheus-connection")&&(this.options.headers=this.options.headers.append("x-protheus-connection","close")),this.options.headers=this.options.headers.get("Accept-Language")?this.options.headers.set("Accept-Language","pt-BR"):this.options.headers.append("Accept-Language","pt-BR"),e.includes("logout")&&this.setWithCredencials(!1))}setAppErp(e){if(!this.options.headers.get("x-totvs-app")){let t;switch(a.ZP.getErp()){case a.Ld.RM:t="0533";break;case a.Ld.PROTHEUS:t="0200";const i=this.options.responseType;this.options=this.isAuthService(e)?{headers:this.headers,responseType:i}:{headers:this.headers,withCredentials:!1,responseType:i};break;case a.Ld.DTS:t="5200";break;case a.Ld.NODE:t="9999"}this.options.headers=this.options.headers.append("x-totvs-app",t)}}isAuthService(e){return e.toUpperCase().includes("auth/".toUpperCase())}post(e,t,i,n){return this.httpRequest(h.POST,e,void 0,t,i,n)}postWithQP(e,t,i,n,o){return this.httpRequest(h.POST,e,i,t,n,o)}put(e,t,i,n){return this.httpRequest(h.PUT,e,void 0,t,i,n)}putWithQP(e,t,i,n,o){return this.httpRequest(h.PUT,e,i,t,n,o)}delete(e,t,i){return this.httpRequest(h.DELETE,e,void 0,void 0,t,i)}tryGetLegacyData(e){return e.data}get(e,t,i=!0){return this.httpRequest(h.GET,e,void 0,void 0,t,i)}search(e,t,i,n){return this.httpRequest(h.GET,e,t,void 0,i,n)}handleError(e){return this.handleMessage(e),Promise.reject(e)}handleHtmlResponse(e){return Promise.resolve(e)}parseParams(e,t,i){i&&(e[t]=i)}handleMessage(e){e&&this.messageService.processErrorMessage(e)}parseObjectToUrlEncoded(e){return Object.keys(e).reduce((t,i,n)=>0===n?`${i}=${e[i]}`:`${t}&${i}=${e[i]}`,e[0])}setAuthorizationToken(){(a.ZP.isErpProtheus()||a.ZP.isErpRM())&&(this.token=localStorage.getItem("token"),this.token&&(this.options={headers:this.headers.append("Authorization","Bearer "+this.token),responseType:"json",withCredentials:this.withCredentials}))}setWithCredencials(e){this.options.withCredentials=e}setResponseType(e){this.options.responseType=e}setHeaderField(e,t){this.options.headers=this.options.headers.set(e,t)}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(o.eN),d.LFG(s.e),d.LFG(l.e),d.LFG(c.V),d.LFG(r.q),d.LFG(g.g),d.LFG(u.$))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e})()},69505:function(e,t,i){"use strict";i.d(t,{$:function(){return s}});var n=i(37716),o=i(91841);let s=(()=>{class e{constructor(e){this.http=e}refreshToken(e,t,i=""){return this.http.post(e+"auth/login/refreshToken",{apiUri:i,refreshTokenKey:t})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},30343:function(e,t,i){"use strict";i.d(t,{V:function(){return s}});var n=i(79765),o=i(37716);class s{constructor(){this.spinnerObservable=s.spinnerSource.asObservable()}show(){s.numberOfSpinners++,s.spinnerSource.next(!0)}hide(){s.numberOfSpinners--,s.numberOfSpinners<=0&&s.spinnerSource.next(!1)}resetSpinnerCount(){s.numberOfSpinners=0}}s.spinnerSource=new n.xQ,s.numberOfSpinners=0,s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac})},91956:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var n=i(64762),o=i(88229),s=i(28049);class a{constructor(){this.state=new o.t(1),this.state$=this.state.asObservable(),this.state$.subscribe(e=>this.currentState=e)}getCurrentState(){return(0,n.mG)(this,void 0,void 0,function*(){return this.state$.pipe((0,s.P)()).toPromise()})}setCurrentState(e){return(0,n.mG)(this,void 0,void 0,function*(){return this.state.next(e),e})}}},64634:function(e,t,i){"use strict";i.d(t,{m:function(){return o}});var n=i(81483);class o{static isEmpty(e){return null==e||""===e.trim()}static concatQueryParam(e,t){e+="?";const i=[];for(const o in t)if(null!=t[o]){const e=t[o]instanceof Date?n.Em.getDateWithoutTimezone(t[o]).toISOString():t[o];i.push(o+"="+e)}return e+i.join("&")}static isString(e){return"string"==typeof e}static replaceKeyValueString(e,t){return e.forEach((e,i)=>{t=t.replace(i,e)}),t}static camelToHyphen(e){return e&&e.toString().replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}static mask(e,t){if(!e)return e;let i,n,o,s="",a=0;for(i=0;i<t.length;i++)if(n=t.charAt(i),"9"===n||"A"===n||"*"===n){if(o=e.charAt(a++),"9"===n)for(;!/[0-9]/.test(o);){if(a>=e.length)return s;o=e.charAt(a++)}if(s+=o,a>=e.length)return s}else s+=n;return s}static toTitleCase(e){return e&&e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}}},24165:function(e,t,i){"use strict";i.d(t,{V:function(){return l}});var n=i(37716),o=i(38583),s=i(57706),a=i(29790);function r(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-dialog",1),n.NdJ("closeDialogEvent",function(){return n.CHM(e),n.oxw().closeDialog()}),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n.NdJ("click",function(){return n.CHM(e),n.oxw().closeDialog()}),n.TgZ(3,"div",4),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.NdJ("click",function(){return n.CHM(e),n.oxw().closeDialog()}),n.qZA(),n.qZA(),n.TgZ(6,"strong"),n.TgZ(7,"h4",6),n.NdJ("click",function(){return n.CHM(e),n.oxw().closeDialog()}),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("isVisible",e.dialogIsVisible)("closeDialogButtonEnable",!0),n.xp6(8),n.hij(" ",n.lcZ(9,3,e.message)," ")}}let l=(()=>{class e{constructor(){this.message="",this.closeDialogEvent=new n.vpe}ngOnInit(){this.dialogIsVisible=!0}closeDialog(){this.dialogIsVisible=!1,this.closeDialogEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-success-dialog"]],inputs:{message:"message"},outputs:{closeDialogEvent:"closeDialogEvent"},decls:1,vars:1,consts:[[3,"isVisible","closeDialogButtonEnable","closeDialogEvent",4,"ngIf"],[3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-content"],[1,"message","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"]],template:function(e,t){1&e&&n.YNc(0,r,10,5,"app-dialog",0),2&e&&n.Q6J("ngIf",t.dialogIsVisible)},directives:[o.O5,s.a],pipes:[a.X$],styles:[".dialog-content[_ngcontent-%COMP%]{height:350px}.message[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:0 30px}.image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}"]}),e})()},16338:function(e,t,i){"use strict";i.d(t,{t:function(){return s}});var n=i(37716),o=i(65241);let s=(()=>{class e{constructor(e){this.translateService=e}getSufix(e,t){if("en"!==this.translateService.getCurrentLang().toLowerCase())return"pt"===this.translateService.getCurrentLang().toLowerCase()?0===t||6===t?"\xba":"\xaa":"\xba";switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.g))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},71904:function(e,t,i){"use strict";i.d(t,{f:function(){return s}});var n=i(39075),o=i(37716);let s=(()=>{class e extends n.hm{constructor(){super(...arguments),this.overrides={pan:{direction:30}}}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(e)))(i||e)}}(),e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},65241:function(e,t,i){"use strict";i.d(t,{g:function(){return s}});var n=i(37716),o=i(29790);let s=(()=>{class e{constructor(e){this.translateService=e}getI18n(e,t){let i;return this.translateService.get(e,t).toPromise().then(e=>i=e)}getCurrentLang(){return this.translateService.currentLang}get onLangChange(){return this.translateService.onLangChange}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.sK))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},84479:function(e,t,i){"use strict";i.d(t,{g:function(){return a}});var n=i(37716),o=i(38583),s=i(80521);let a=(()=>{class e{constructor(e,t){this.location=e,this.platform=t}static isMobile(t,i){return t<=e.MOBILE_WIDTH&&i<=e.MOBILE_HEIGHT}static mdDeviceOrSmaller(t){return t<=e.MD_WIDTH}back(){this.location.back()}go(e){window.history.go(e)}reloadPage(){location.reload()}getHref(){return window.location.href}changeHref(e){window.location.href=e}locationAssign(e){window.location.assign(e)}goToOrigin(){window.location.href=window.location.origin}scrollToTop(){window.scrollTo(0,0)}getDevice(){const e=window.localStorage.getItem("device");return null==e?"":e}isIOS(){return"ios"===this.getDevice().toLowerCase()}isAndroid(){return this.getDevice()&&"android"===this.getDevice().toLowerCase()}isWebView(){return"android"===this.getDevice().toLowerCase()||"ios"===this.getDevice().toLowerCase()}isSafariBrowser(){return this.platform.SAFARI}isFirefoxBrowser(){return this.platform.FIREFOX}isIosDevice(){return this.platform.IOS}isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}}return e.MOBILE_WIDTH=767,e.MOBILE_HEIGHT=812,e.MD_WIDTH=960,e.\u0275fac=function(t){return new(t||e)(n.LFG(o.Ye),n.LFG(s.t4))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})()},37503:function(e,t,i){"use strict";i.d(t,{O:function(){return r}});var n=i(79765),o=i(66163),s=i(98348),a=i(37716);let r=(()=>{class e{constructor(){this.urlHistory=[],this.employeeSummarySubject=new n.xQ,this.employeeSummaryPrivate=null,this.paramKeyString=new Map,this._canLoadApp=!1,this.employeeCard=new o.J,this.employeePermission=void 0}get canLoadApp(){return this._canLoadApp}set canLoadApp(e){this._canLoadApp=e}getUser(){return this.user?this.user:localStorage.getItem("loggedUser")}setUser(e){this.user=e,localStorage.setItem("loggedUser",e)}getEmployeeCard(){return this.employeeCard}setEmployeeCard(e,t,i){this.employeeCard={employee:e,image:t,originComponent:i}}cleanEmployeeCard(){this.employeeCard={employee:void 0,image:void 0,originComponent:""}}getEmployeeSummary(){return new Promise((e,t)=>{this.employeeSummaryPrivate?e(this.employeeSummaryPrivate):this.employeeSummarySubject.asObservable().subscribe(t=>{e(t)})})}setEmployeeSummary(e){this.employeeSummaryPrivate=e,this.employeeSummarySubject.next(this.employeeSummaryPrivate)}getParamKeyString(){return this.paramKeyString}setParamKeyString(e,t){this.paramKeyString.set(e,t)}clearTokenStorage(){this.existsTokenInStorage()&&localStorage.removeItem("token")}clearSessionTomcat(){this.existsSessionTomcat()&&localStorage.removeItem("sessionTomcat")}setToken(e){localStorage.setItem("token",e)}getToken(){return localStorage.getItem("token")}isNewApiModelRM(){return null!==localStorage.getItem("newApiModelRM")}enableNewApiModelRM(){localStorage.setItem("newApiModelRM","true")}clearLocalStorage(){const e=!(this.existsIonic5Key()&&(s.ZP.isErpDatasul()||s.ZP.isTomcatAppServer()));this.clearTokenStorage(),e&&(this.clearSessionTomcat(),this.clearSessionJboss(),this.clearIonic5Key()),this.clearUserLoggedInfo()}clearUserLoggedInfo(){this.existsUserLoggedInfo()&&localStorage.removeItem("loggedUser")}existsUserLoggedInfo(){return null!==localStorage.getItem("loggedUser")}setRefreshToken(e){localStorage.setItem("refreshToken",e)}cleanEmployeeSummary(){this.setEmployeeSummary(null)}existsSessionTomcat(){return null!==localStorage.getItem("sessionTomcat")}existsSessionJboss(){return null!==localStorage.getItem("sessionJboss")}getSessionTomcat(){return localStorage.getItem("sessionTomcat")}getSessionJboss(){return localStorage.getItem("sessionJboss")}clearSessionJboss(){this.existsSessionJboss()&&localStorage.removeItem("sessionJboss")}clearIonic5Key(){this.existsIonic5Key()&&localStorage.removeItem("ionic5")}getFlagShowBlastAdvertising(){return localStorage.getItem("showBlastAdvertising")}existsFlagShowBlastAdvertising(){return null!==localStorage.getItem("showBlastAdvertising")}setFlagShowBlastAdvertising(e){localStorage.setItem("showBlastAdvertising",e)}existsTokenInStorage(){return null!==this.getToken()}existsIonic5Key(){return null!==localStorage.getItem("ionic5")}setIsLogged(e="true"){localStorage.setItem("isLogged",e)}getEmployeePermission(){return this.employeePermission}setEmployeePermission(e){this.employeePermission=e}clearEmployeePermission(){this.employeePermission&&(this.employeePermission=void 0)}shuffleString(e){if(!e||e.length<3)return e;const t=["<||$&%||>",">[/;-=","&%#@>.<"];let i,n,o=[],s=[],a=[],r="";for(e&&e.length>=1?s=e.split("").reverse():s.push(e),a=[],i=s.length<=10?2:Math.round(.15*s.length);o.length<=i;){let e=Math.floor(Math.random()*s.length);o.includes(e)||o.push(e)}n=0;for(let l=0;l<s.length;l++)n<i&&o.includes(l)?(a[l]=t[Math.floor(Math.random()*t.length)]+s[l],n++):a[l]=s[l];return r=a.join(""),btoa(r)}unscrambleString(e){let t,i;return e=atob(e),["<||$&%||>",">[/;-=","&%#@>.<"].forEach(t=>{e=e.replace(t,"")}),e&&e.length>=1?t=e.split("").reverse():t.push(e),i=t.join(""),i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},87451:function(e,t,i){"use strict";i.d(t,{z:function(){return c},m:function(){return p}});var n=i(64762),o=i(89019),s=i(33490),a=i(59708),r=i(37716);const l="health/medicalcertificate/";let c=(()=>{class e{constructor(e){this.genericService=e}getCids(e,t,i){t=t||10;const n={};return this.parseParams(n,"page",e=e||1),this.parseParams(n,"pageSize",t),this.parseParams(n,"filter",i),this.genericService.search("health/cid",n)}getTypes(){return(0,n.mG)(this,void 0,void 0,function*(){const e=`${l}type`;return(yield this.genericService.get(e)).items})}getReasons(e,t,i){return(0,n.mG)(this,void 0,void 0,function*(){const n=`${l}reasons`;e=e||null,t=t||null;const o={};return this.parseParams(o,"filter",i),this.parseParams(o,"page",e),this.parseParams(o,"pageSize",t),this.genericService.search(n,o)})}deleteMedicalCertificate(e,t=o.N.loggedUser){return this.genericService.delete(`${l}${t}/${e}`)}saveMedicalCertificate(e,t=o.N.loggedUser){return this.genericService.post(l+t,e,!1)}updateMedicalCertificate(e,t=o.N.loggedUser){if(void 0===e.id)throw"The medical certificate must have one id to be updated.";return this.genericService.put(l+t,e,!1)}getMedicalCertificateRequests(e=o.N.loggedUser,t=null,i,n){const s="health/medicalcertificate/"+e,a={};return this.parseParams(a,"page",i),this.parseParams(a,"pageSize",n),this.parseParams(a,"status",t),this.genericService.search(s,a)}getMedicalCertificateRequest(e=o.N.loggedUser,t){return this.genericService.get(`${l}${e}/${t}`)}getMedicalCertificateAttachedFile(e){return this.genericService.get(`${l}file/info/${e}`)}getMedicalCertificateRequestsHistory(e=o.N.loggedUser,t,i){return(0,n.mG)(this,void 0,void 0,function*(){const n=new s.i([]),o=yield this.getMedicalCertificateRequests(e,p.NotPending,t,i);return o&&(n.records=o.items,n.hasMoreRecords=o.hasNext),n.actualPage=t,n})}parseParams(e,t,i){null!=i&&(e[t]=i)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=(()=>{return(e=p||(p={})).Pending="pending",e.NotPending="notpending",p;var e})()},91195:function(e,t,i){"use strict";i.d(t,{O:function(){return ee}});var n=i(64762),o=i(37716),s=i(44956),a=i(88002),r=i(89019),l=i(33490),c=i(14833),p=i(81059),d=i(44852),g=i(63114),u=i(36227),h=i(9789),m=i(87451),f=i(65241),v=i(38583),b=i(29790),x=i(32268);function y(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",2),o.TgZ(2,"span",3),o.TgZ(3,"div",4),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",5),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",6),o.TgZ(9,"span",3),o.TgZ(10,"div",4),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"div",5),o._uU(14),o.ALo(15,"utcDate"),o.qZA(),o.qZA(),o.TgZ(16,"span",3),o.TgZ(17,"div",4),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"div",5),o._uU(21),o.ALo(22,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,6,"l-type-of-removal")),o.xp6(3),o.Oqu(e.medicalCertificate.type.name),o.xp6(4),o.Oqu(o.lcZ(12,8,"l-start")),o.xp6(3),o.Oqu(o.xi3(15,10,e.medicalCertificate.begin,"shortDate")),o.xp6(4),o.Oqu(o.lcZ(19,13,"l-end-2")),o.xp6(3),o.Oqu(o.xi3(22,15,e.medicalCertificate.end,"shortDate"))}}let Z=(()=>{class e{constructor(e,t){this.appTranslateService=e,this.healthService=t,this.deleted=new o.vpe,this.confirmAction={label:"l-delete",action:()=>this.excludeMedicalCertificateRequest()},this.cancelAction={label:"l-cancel",action:()=>this.excludeDialog.close()}}ngOnInit(){this.translateActionLabels()}translateActionLabels(){for(let e of[this.confirmAction,this.cancelAction])this.appTranslateService.getI18n(e.label).then(t=>{e.label=t})}openDialog(){return(0,n.mG)(this,void 0,void 0,function*(){this.excludeDialog.open()})}excludeMedicalCertificateRequest(){return(0,n.mG)(this,void 0,void 0,function*(){try{this.medicalCertificate.id&&(yield this.healthService.deleteMedicalCertificate(this.medicalCertificate.id),this.deleted.emit())}finally{this.excludeDialog.close()}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(f.g),o.Y36(m.z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-exclude-medical-certificate"]],viewQuery:function(e,t){if(1&e&&o.Gf(s.hmF,5),2&e){let e;o.iGM(e=o.CRH())&&(t.excludeDialog=e.first)}},inputs:{medicalCertificate:"medicalCertificate"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row","second-row"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.ALo(1,"translate"),o.YNc(2,y,23,18,"div",1),o.qZA()),2&e&&(o.s9C("p-title",o.lcZ(1,4,"l-want-delete-request")),o.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),o.xp6(2),o.Q6J("ngIf",void 0!==t.medicalCertificate))},directives:[s.hmF,v.O5],pipes:[b.X$,x.$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),e})();var w=i(37503),C=i(95987),M=i(36812),A=i(20307),P=i(82832),O=i(90171),q=i(48582),T=i(18648);const _=["rejectionJustifyTextArea"];function S(e,t){if(1&e&&o._UZ(0,"app-card-employee",13),2&e){const e=o.oxw(2);o.Q6J("image",e.imageAvatar)("name",null==e.employeeData?null:e.employeeData.name)("role",null==e.employeeData?null:e.employeeData.roleDescription)("status",null==e.employeeData?null:e.employeeData.employeeStatus)}}function I(e,t){if(1&e&&(o.TgZ(0,"span",25),o.TgZ(1,"div",26),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",27),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-medical-certificate-type")),o.xp6(3),o.Oqu(e.type.name)}}function D(e,t){if(1&e&&(o.TgZ(0,"span",25),o.TgZ(1,"div",26),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",27),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-medical-certificate-reason")),o.xp6(3),o.Oqu(e.reason)}}function k(e,t){if(1&e&&(o.TgZ(0,"span",25),o.TgZ(1,"div",26),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",27),o._uU(5),o.ALo(6,"formatMillisecondsAsHour"),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-initial-hour")),o.xp6(3),o.Oqu(o.lcZ(6,4,e.initHour))}}function L(e,t){if(1&e&&(o.TgZ(0,"span",25),o.TgZ(1,"div",26),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",27),o._uU(5),o.ALo(6,"formatMillisecondsAsHour"),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-final-hour")),o.xp6(3),o.Oqu(o.lcZ(6,4,e.endHour))}}function N(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-card",14),o.TgZ(1,"div",15),o.TgZ(2,"h2",16),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"span",17),o._UZ(6,"span",18),o.TgZ(7,"ul",19),o._UZ(8,"div",20),o.TgZ(9,"li",21),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).goToEditRequestMedicalCertificatePage(t.id)}),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"li",21),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).openExcludeDialog(t)}),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",22),o.TgZ(16,"div",23),o.YNc(17,I,6,4,"span",24),o.YNc(18,D,6,4,"span",24),o.TgZ(19,"span",25),o.TgZ(20,"div",26),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.TgZ(23,"div",27),o._uU(24),o.ALo(25,"utcDate"),o.qZA(),o.qZA(),o.TgZ(26,"span",25),o.TgZ(27,"div",26),o._uU(28),o.ALo(29,"translate"),o.qZA(),o.TgZ(30,"div",27),o._uU(31),o.ALo(32,"utcDate"),o.qZA(),o.qZA(),o.YNc(33,k,7,6,"span",24),o.YNc(34,L,7,6,"span",24),o.TgZ(35,"span",25),o.TgZ(36,"div",26),o._uU(37),o.ALo(38,"translate"),o.qZA(),o.TgZ(39,"div",27),o._uU(40),o.ALo(41,"translate"),o.qZA(),o.qZA(),o.TgZ(42,"span",25),o.TgZ(43,"po-button",28),o.NdJ("p-click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).getMedicalCertificateAttachedFile(t.id)}),o.ALo(44,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(2);o.Q6J("cssClass","card-request-active po-xl-12 po-lg-12 po-md-12 po-sm-12"),o.xp6(3),o.hij(" ",o.lcZ(4,15,"l-medical-certificate-requested")," "),o.xp6(7),o.hij(" ",o.lcZ(11,17,"l-adjust")," "),o.xp6(3),o.hij(" ",o.lcZ(14,19,"l-delete")," "),o.xp6(4),o.Q6J("ngIf",i.medicalCertificateTypeProperties&&i.medicalCertificateTypeProperties.visible),o.xp6(1),o.Q6J("ngIf",i.medicalCertificateReasonProperties&&i.medicalCertificateReasonProperties.visible&&e.reason),o.xp6(3),o.Oqu(o.lcZ(22,21,"l-start")),o.xp6(3),o.Oqu(o.xi3(25,23,e.begin,"shortDate")),o.xp6(4),o.Oqu(o.lcZ(29,26,"l-end-2")),o.xp6(3),o.Oqu(o.xi3(32,28,e.end,"shortDate")),o.xp6(2),o.Q6J("ngIf",e.initHour&&e.endHour),o.xp6(1),o.Q6J("ngIf",e.initHour&&e.endHour),o.xp6(3),o.Oqu(o.lcZ(38,31,"l-status")),o.xp6(3),o.Oqu(o.lcZ(41,33,i.translateStatus(e.status))),o.xp6(3),o.MGl("p-label","\xa0",o.lcZ(44,35,"l-view-medical-certificate"),"")}}function E(e,t){1&e&&o._UZ(0,"div",50)}function U(e,t){1&e&&o._UZ(0,"div",51)}function F(e,t){1&e&&o._UZ(0,"span",52)}function J(e,t){1&e&&o._UZ(0,"span",53)}function V(e,t){if(1&e&&(o.TgZ(0,"span"),o._UZ(1,"hr",43),o.TgZ(2,"div",44),o.TgZ(3,"span",45),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"span",46),o._uU(7),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(4),o.Oqu(o.lcZ(5,2,"l-type")),o.xp6(3),o.Oqu(e.type.name)}}function R(e,t){if(1&e&&(o.TgZ(0,"span"),o._UZ(1,"hr",43),o.TgZ(2,"div",44),o.TgZ(3,"span",45),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"span",46),o._uU(7),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(4),o.Oqu(o.lcZ(5,2,"l-medical-certificate-reason")),o.xp6(3),o.Oqu(e.reason)}}function Y(e,t){1&e&&o._UZ(0,"hr",43)}function z(e,t){if(1&e&&(o.TgZ(0,"div",44),o.TgZ(1,"span",45),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",46),o._uU(5),o.ALo(6,"formatMillisecondsAsHour"),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-initial-hour")),o.xp6(3),o.Oqu(o.lcZ(6,4,e.initHour))}}function Q(e,t){1&e&&o._UZ(0,"hr",43)}function G(e,t){if(1&e&&(o.TgZ(0,"div",44),o.TgZ(1,"span",45),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",46),o._uU(5),o.ALo(6,"formatMillisecondsAsHour"),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"l-final-hour")),o.xp6(3),o.Oqu(o.lcZ(6,4,e.endHour))}}function H(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o._UZ(1,"hr",43),o.TgZ(2,"div",44),o.TgZ(3,"a",54),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(3).openDialog(t.id,t.rejectionJustify)}),o.TgZ(4,"span",55),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"l-see-reason-for-rejection")))}function B(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"mat-expansion-panel",33,34),o.TgZ(2,"mat-expansion-panel-header",35),o.TgZ(3,"mat-panel-title"),o.TgZ(4,"div"),o.YNc(5,E,1,0,"div",36),o.YNc(6,U,1,0,"div",37),o.TgZ(7,"span",38),o._uU(8),o.ALo(9,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"mat-panel-description",39),o.TgZ(11,"div",40),o.YNc(12,F,1,0,"span",41),o.YNc(13,J,1,0,"span",42),o.qZA(),o.qZA(),o.qZA(),o._UZ(14,"hr",43),o.TgZ(15,"div",44),o.TgZ(16,"span",45),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"span",46),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.qZA(),o.YNc(22,V,8,4,"span",12),o.YNc(23,R,8,4,"span",12),o._UZ(24,"hr",43),o.TgZ(25,"div",44),o.TgZ(26,"span",45),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.TgZ(29,"span",46),o._uU(30),o.ALo(31,"utcDate"),o.qZA(),o.qZA(),o._UZ(32,"hr",43),o.TgZ(33,"div",44),o.TgZ(34,"span",45),o._uU(35),o.ALo(36,"translate"),o.qZA(),o.TgZ(37,"span",46),o._uU(38),o.ALo(39,"utcDate"),o.qZA(),o.qZA(),o.YNc(40,Y,1,0,"hr",47),o.YNc(41,z,7,6,"div",48),o.YNc(42,Q,1,0,"hr",47),o.YNc(43,G,7,6,"div",48),o._UZ(44,"hr",43),o.TgZ(45,"div",44),o.TgZ(46,"span",45),o._uU(47),o.ALo(48,"translate"),o.qZA(),o.TgZ(49,"span",46),o._uU(50),o.ALo(51,"utcDate"),o.qZA(),o.qZA(),o._UZ(52,"hr",43),o.TgZ(53,"div",44),o.TgZ(54,"span",45),o._uU(55),o.ALo(56,"translate"),o.qZA(),o.TgZ(57,"span",49),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(3).getMedicalCertificateAttachedFile(t.id)}),o.TgZ(58,"a"),o._uU(59),o.ALo(60,"translate"),o.qZA(),o.qZA(),o.qZA(),o.YNc(61,H,7,3,"div",12),o.qZA()}if(2&e){const e=t.$implicit,i=o.MAs(1),n=o.oxw(3);o.xp6(5),o.Q6J("ngIf",n.isApproved(e.status)),o.xp6(1),o.Q6J("ngIf",n.isRejected(e.status)),o.xp6(2),o.Oqu(o.xi3(9,22,e.begin,"dd/MM/yyyy")),o.xp6(4),o.Q6J("ngIf",i.expanded),o.xp6(1),o.Q6J("ngIf",!i.expanded),o.xp6(4),o.Oqu(o.lcZ(18,25,"l-status")),o.xp6(3),o.Oqu(o.lcZ(21,27,n.translateStatus(e.status))),o.xp6(2),o.Q6J("ngIf",n.medicalCertificateTypeProperties&&n.medicalCertificateTypeProperties.visible),o.xp6(1),o.Q6J("ngIf",n.medicalCertificateReasonProperties&&n.medicalCertificateReasonProperties.visible&&e.reason),o.xp6(4),o.Oqu(o.lcZ(28,29,"l-start")),o.xp6(3),o.Oqu(o.xi3(31,31,e.begin,"dd/MM/yyyy")),o.xp6(5),o.Oqu(o.lcZ(36,34,"l-end")),o.xp6(3),o.Oqu(o.xi3(39,36,e.end,"dd/MM/yyyy")),o.xp6(2),o.Q6J("ngIf",e.initHour&&e.endHour),o.xp6(1),o.Q6J("ngIf",e.initHour&&e.endHour),o.xp6(1),o.Q6J("ngIf",e.initHour&&e.endHour),o.xp6(1),o.Q6J("ngIf",e.initHour&&e.endHour),o.xp6(4),o.Oqu(o.lcZ(48,39,"l-submission")),o.xp6(3),o.Oqu(o.xi3(51,41,e.sent,"dd/MM/yyyy")),o.xp6(5),o.Oqu(o.lcZ(56,44,"l-attached-file")),o.xp6(4),o.Oqu(o.lcZ(60,46,"l-view")),o.xp6(2),o.Q6J("ngIf",n.isRejected(e.status)&&e.id&&e.canEdit)}}function j(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",56),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).viewMoreHistory()}),o.TgZ(1,"a",null,57),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(3),o.hij("",o.lcZ(4,1,"l-load-more")," "))}function $(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2",29),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"mat-accordion",30),o.YNc(5,B,62,48,"mat-expansion-panel",31),o.qZA(),o.YNc(6,j,5,3,"div",32),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.hij(" ",o.lcZ(3,3,"l-last-submissions")," "),o.xp6(3),o.Q6J("ngForOf",e.medicalCertificateHistoryView.records),o.xp6(1),o.Q6J("ngIf",e.medicalCertificateHistoryView.hasMoreRecords)}}const W=function(e){return{"table-card":e}};function K(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.YNc(1,S,1,4,"app-card-employee",8),o.TgZ(2,"div",9),o.TgZ(3,"po-button",10),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().openMedicalCertificateRequest()}),o.ALo(4,"translate"),o.qZA(),o.YNc(5,N,45,37,"app-card",11),o.YNc(6,$,7,5,"div",12),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.employeeData),o.xp6(1),o.Q6J("ngClass",o.VKq(7,W,e.employeeData)),o.xp6(1),o.s9C("p-label",o.lcZ(4,5,"l-request-new-medical-certificate")),o.xp6(2),o.Q6J("ngForOf",e.medicalCertificateRequests),o.xp6(1),o.Q6J("ngIf",e.medicalCertificateHistoryView.records&&e.medicalCertificateHistoryView.records.length)}}function X(e,t){if(1&e&&(o._UZ(0,"app-no-record",58),o.ALo(1,"translate"),o.ALo(2,"translate"),o.ALo(3,"translate")),2&e){const e=o.oxw();o.s9C("title",o.lcZ(1,5,"l-no-medical-certificate")),o.s9C("subtitle",o.lcZ(2,7,"l-click-below-to-send")),o.s9C("newRecord",o.lcZ(3,9,"l-request-medical-certificate")),o.Q6J("loading",!e.dataFinished)("action",e.openMedicalCertificateRequest.bind(e))}}let ee=(()=>{class e extends p.R{constructor(e,t,i,n,s,a,c,p,d){super(),this.service=e,this.appTranslateService=t,this.navigationUtilService=i,this.fieldProperties=n,this.lastAccess=s,this.teamManagementService=a,this.globals=c,this.activatedRoute=p,this.router=d,this.medicalCertificateRequests=[],this.medicalCertificateHistoryView=new l.i([]),this.medicalCertificateId="",this.employeeId=r.N.loggedUser,this.viewIsTeamManagement=!1,this.firstViewTeamManagement=!1,this.dataFinished=!1,this.shouldKeepEmployee=!1,this.close=new o.vpe}ngOnInit(){super.ngOnInit(),this.subscribeToActivatedRoute()}ngOnDestroy(){this.viewIsTeamManagement&&!this.shouldKeepEmployee&&this.teamManagementService.cleanEmployeeCard(),null!=this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}openDialog(e,t){this.medicalCertificateId=e,this.rejectionJustifyTextArea.nativeElement.value=t,this.rejectionJustifyDialog.open()}init(){return(0,n.mG)(this,void 0,void 0,function*(){this.loadFieldProperties(),this.initRejectionJustifyModalActions(),this.setCountLastAccess(),yield this.getData()})}initRejectionJustifyModalActions(){this.appTranslateService.getI18n("l-resend").then(e=>{this.editAction={action:()=>this.goToEditRequestMedicalCertificatePage(),label:e}}),this.appTranslateService.getI18n("l-cancel").then(e=>{this.cancelAction={action:()=>this.rejectionJustifyDialog.close(),label:e}})}getData(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.getMedicalCertificateRequests(),yield this.getMedicalCertificateRequestsHistory(this.medicalCertificateHistoryView.getNextPage(),this.medicalCertificateHistoryView.pageSize),this.dataFinished=!0})}getMedicalCertificateRequests(){return(0,n.mG)(this,void 0,void 0,function*(){try{const e=yield this.service.getMedicalCertificateRequests(this.employeeId,m.m.Pending);if(e)return void(this.medicalCertificateRequests=e.items)}catch(e){console.error(e)}})}getMedicalCertificateAttachedFile(e){return(0,n.mG)(this,void 0,void 0,function*(){try{const t=yield this.service.getMedicalCertificateAttachedFile(e);t&&this.initializeFilePreviewDialog("health/medicalcertificate/file/download",t,e)}catch(t){console.error(t)}})}getMedicalCertificateRequestsHistory(e,t){return(0,n.mG)(this,void 0,void 0,function*(){try{const i=yield this.service.getMedicalCertificateRequestsHistory(this.employeeId,e,t);if(i)return this.updateMedicalCertificateRequestsHistory(i)}catch(i){console.error(i)}this.medicalCertificateHistoryView.hasMoreRecords=!1})}updateMedicalCertificateRequestsHistory(e){this.medicalCertificateHistoryView.records||(this.medicalCertificateHistoryView.records=[]),this.medicalCertificateHistoryView.records=this.medicalCertificateHistoryView.records.concat(e.records),this.medicalCertificateHistoryView.hasMoreRecords=e.hasMoreRecords}goToEditRequestMedicalCertificatePage(e){this.shouldKeepEmployee=!0,!this.medicalCertificateId&&e&&(this.medicalCertificateId=e),this.medicalCertificateId&&this.navigationUtilService.doNavigation(`/health/medicalCertificate/request/${this.medicalCertificateId}`)}viewMoreHistory(){this.getMedicalCertificateRequestsHistory(this.medicalCertificateHistoryView.getNextPage(),this.medicalCertificateHistoryView.pageSize)}isApproved(e){return"approved"===e}isRejected(e){return"rejected"===e}translateStatus(e){switch(e){case"pending":return"l-status-pending";case"rejected":return"l-rejected";case"approved":return"l-status-approved"}return""}initializeFilePreviewDialog(e,t,i){this.previewFileDialog.initializeComponent(e,t,i)}onDoneEditRequest(){this.medicalCertificateId="",this.init()}openExcludeDialog(e){this.medicalCertificate=e,this.excludeDialog.openDialog()}teamManagementMedicalCertificate(){const{employee:e,image:t}=this.teamManagementService.getEmployeeCard();this.employeeData=e,this.employeeId=e.id,this.imageAvatar=t,this.medicalCertificateHistoryView.actualPage=0,this.medicalCertificateHistoryView.records=[],this.firstViewTeamManagement=!0}loadFieldProperties(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.fieldProperties.getFieldProperties("medicalCertificate");null!=e&&e.forEach(e=>{"type"===e.field&&(this.medicalCertificateTypeProperties=e),"reason"===e.field&&(this.medicalCertificateReasonProperties=e)})})}subscribeToActivatedRoute(){this.routeDataSubscription=this.activatedRoute.data.pipe((0,a.U)(e=>e.management)).subscribe(e=>{if(this.viewIsTeamManagement=e,e){if(!this.teamManagementService.getEmployeeCard().employee)return void this.router.navigateByUrl("teamManagement");this.teamManagementMedicalCertificate()}this.init()})}existsMedicalCertificate(){return this.medicalCertificateRequests.length>0||this.medicalCertificateHistoryView.records.length>0}openMedicalCertificateRequest(){this.shouldKeepEmployee=!0,this.navigationUtilService.doNavigation("/health/medicalCertificate/request")}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(c.jY,e.id)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(m.z),o.Y36(f.g),o.Y36(d._),o.Y36(u.c),o.Y36(c.Lx),o.Y36(h.C),o.Y36(w.O),o.Y36(C.gz),o.Y36(C.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-medical-certificate"]],viewQuery:function(e,t){if(1&e&&(o.Gf(s.hmF,5),o.Gf(_,5),o.Gf(g.K,5),o.Gf(Z,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.rejectionJustifyDialog=e.first),o.iGM(e=o.CRH())&&(t.rejectionJustifyTextArea=e.first),o.iGM(e=o.CRH())&&(t.previewFileDialog=e.first),o.iGM(e=o.CRH())&&(t.excludeDialog=e.first)}},outputs:{close:"close"},features:[o.qOj],decls:11,vars:10,consts:[["pageTitle","l-medical-certificate",1,"po-field-title","po-pl-1",3,"backIsVisible"],[4,"ngIf","ngIfElse"],["p-click-out","true",3,"p-title","p-primary-action","p-secondary-action"],["modal",""],[1,"text-area","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"disabled"],["rejectionJustifyTextArea",""],[3,"medicalCertificate","deleted"],["noRecord",""],[3,"image","name","role","status",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","spacing",3,"ngClass"],["p-primary","true","p-type","primary",1,"request-substitute-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-click"],[3,"cssClass",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"image","name","role","status"],[3,"cssClass"],["card-header","",1,"mr-card-header"],[1,"po-sm-11","po-md-11","po-lg-11","po-xl-11","title-label"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],[1,"dropdown-arrow"],[1,"dropdown-menu-itens",3,"click"],["card-body",""],[1,"po-row"],["class","po-sm-6 po-md-3 po-mt-2 panel-item-group",4,"ngIf"],[1,"po-sm-6","po-md-3","po-mt-2","panel-item-group"],[1,"requested-label"],[1,"requested-value"],["p-primary","true","p-type","primary","p-type","link","p-icon","po-icon po-icon-download",3,"p-label","p-click"],[1,"latest-requests","po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-3","po-mb-2"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","true",4,"ngFor","ngForOf"],["class","next-records po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"click",4,"ngIf"],["hideToggle","true"],["dropdown",""],[1,"dropdown-history-header"],["class","circleBase type1",4,"ngIf"],["class","circleBase type2",4,"ngIf"],[1,"historic-label","historic-label-title"],[1,"specific-class"],[1,"right-align"],["class","po-icon ico-minus ico-color",4,"ngIf"],["class","po-icon ico-plus ico-color",4,"ngIf"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],["class","line",4,"ngIf"],["class","historic-content",4,"ngIf"],[1,"historic-value","link",3,"click"],[1,"circleBase","type1"],[1,"circleBase","type2"],[1,"po-icon","ico-minus","ico-color"],[1,"po-icon","ico-plus","ico-color"],[3,"click"],[1,"historic-label-link"],[1,"next-records","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"click"],["linkMoreRecords",""],[3,"title","subtitle","newRecord","loading","action"]],template:function(e,t){if(1&e&&(o._UZ(0,"app-page-header",0),o.YNc(1,K,7,9,"ng-container",1),o._UZ(2,"app-preview-file"),o.TgZ(3,"po-modal",2,3),o.ALo(5,"translate"),o._UZ(6,"textarea",4,5),o.qZA(),o.TgZ(8,"app-exclude-medical-certificate",6),o.NdJ("deleted",function(){return t.onDoneEditRequest()}),o.qZA(),o.YNc(9,X,4,11,"ng-template",null,7,o.W1O)),2&e){const e=o.MAs(10);o.Q6J("backIsVisible",t.viewIsTeamManagement),o.xp6(1),o.Q6J("ngIf",t.existsMedicalCertificate())("ngIfElse",e),o.xp6(2),o.s9C("p-title",o.lcZ(5,8,"l-reason-for-rejection")),o.Q6J("p-primary-action",t.editAction)("p-secondary-action",t.cancelAction),o.xp6(3),o.Q6J("disabled",!0),o.xp6(2),o.Q6J("medicalCertificate",t.medicalCertificate)}},directives:[M.q,v.O5,g.K,s.hmF,Z,v.mk,s.bOz,v.sg,A.x,P.A,O.pp,O.ib,O.yz,O.yK,O.u4,q.b],pipes:[b.X$,x.$,T.P],styles:['.right-align[_ngcontent-%COMP%]{position:relative;width:100%}.right-align[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:0}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.dropdown-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-content[_ngcontent-%COMP%]{padding:0 24px}.historic-value[_ngcontent-%COMP%]{float:right;color:#2b3639}.historic-label[_ngcontent-%COMP%]{color:#4a5c60}.historic-label-link[_ngcontent-%COMP%]{cursor:pointer;color:#0c9abe}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}.container[_ngcontent-%COMP%]{margin-top:25px;padding:0}.title-label[_ngcontent-%COMP%]{color:#fff;margin-top:0;padding-left:8px;font-size:18px;font-weight:bold}.subtitle-opacity[_ngcontent-%COMP%]{opacity:.7}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7;font-size:12px;font-weight:0}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.requested-value[_ngcontent-%COMP%]{font-weight:bold;font-size:12px}.request-substitute-btn[_ngcontent-%COMP%]{padding:0;margin-bottom:10px}[_nghost-%COMP%]     .po-button{height:42px}[_nghost-%COMP%]     .panel-item-group{padding-bottom:0}[_nghost-%COMP%]     .mat-expansion-panel-header-description{margin-right:0}.ico-color[_ngcontent-%COMP%]{color:#0c9abe}.circleBase[_ngcontent-%COMP%]{border-radius:50%}.type1[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:15px;height:15px;background:#c64840}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px}.link[_ngcontent-%COMP%]{cursor:pointer;font-weight:bold!important;color:#0c9abe!important}[_nghost-%COMP%]     .po-button-link{border-color:#fff;color:#fff;border:1px solid}[_nghost-%COMP%]     .glyphicon-paperclip{font-family:"Glyphicons Halflings"!important}@media only screen and (max-width: 960px){[_nghost-%COMP%]     .po-button-link{margin-top:5px}}.text-area[_ngcontent-%COMP%]{height:200px;background-color:#fff;color:#0c9abe}.dropdown-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:-3px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:50%;position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;color:#0c9abe;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}.card-employee[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]     .card-employee{margin-bottom:-10px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}']}),e})()},40469:function(e,t,i){"use strict";i.d(t,{Kv:function(){return P}});var n=i(64762),o=i(79765),s=i(48681);const a={id:"home",labelKeyShort:"home",labelKeyLong:"home",url:"../PortalMeuRH/index.html#/home",imagePath:"ico-home",checkPermission:!1},r={id:"medicalCertificate",labelKeyShort:"l-medical-certificate",labelKeyLong:"l-request-medical-certificate",url:"../PortalMeuRH/index.html#/health/medicalCertificate",imagePath:"icon-medical-briefcase",checkPermission:!0},l={id:"vacation",labelKeyShort:"im-vacation",labelKeyLong:"im-vacation",url:"../PortalMeuRH/index.html#/vacation",imagePath:"ico-sun",checkPermission:!0},c={id:"timesheetSubMenu",labelKeyShort:"im-timesheet",labelKeyLong:"im-timesheet",url:"../PortalMeuRH/index.html#/menu/timesheetSubMenu/l-timesheet",imagePath:"ico-clocking-register",checkPermission:!1,children:[{id:"timesheet",labelKeyShort:"im-timesheet",labelKeyLong:"im-timesheetLong",url:"../PortalMeuRH/index.html#/timesheet/clockings",imagePath:"ico-timesheet-2",checkPermission:!0},{id:"allowance",labelKeyShort:"im-allowance",labelKeyLong:"im-allowanceLong",url:"../PortalMeuRH/index.html#/timesheet/allowances",imagePath:"ico-allowance",checkPermission:!0},{id:"clockingGeoRegister",labelKeyShort:"im-clocking-register",labelKeyLong:"im-clocking-register",url:"../PortalMeuRH/index.html#/timesheet/clockingsGeo/register",imagePath:"ico-clocking-register",checkPermission:!0},{id:"externalClockIn",labelKeyShort:"im-clockin-short",labelKeyLong:"im-clockin",url:"../PortalMeuRH/index.html#/timesheet/externalClockIn",imagePath:"assets/img/face_recog.svg",checkPermission:!0,hideOnIosIonic3:!0,onlyMobile:!0},{id:"overtimeHours",labelKeyLong:"im-overtime-hours",labelKeyShort:"im-overtime-hours",url:"../PortalMeuRH/index.html#/timesheet/overtimeHours",imagePath:"ico-overtime",checkPermission:!0},{id:"onCall",labelKeyShort:"l-on-call",labelKeyLong:"l-on-call",url:"../PortalMeuRH/index.html#/timesheet/onCall",imagePath:"ico-on-call",checkPermission:!0}],grouper:!0},p={id:"manager",labelKeyShort:"im-manager",labelKeyLong:"im-manager",url:"../PortalMeuRH/index.html#/menu/manager/im-manager",imagePath:"ico-team",checkPermission:!1,children:[{id:"absenceManager",labelKeyShort:"im-vacation",labelKeyLong:"im-vacationLong",url:"../PortalMeuRH/index.html#/absence",imagePath:"icon-sun-checked",checkPermission:!0},{id:"clockingGeoView",labelKeyShort:"im-clocking-geo-view",labelKeyLong:"im-clocking-geo-view",url:"../PortalMeuRH/index.html#/timesheet/clockingsGeo/view",imagePath:"ico-map-pin",checkPermission:!0},{id:"substituteRequest",labelKeyShort:"l-substitute",labelKeyLong:"l-substitute-request",url:"../PortalMeuRH/index.html#/substitutes",imagePath:"ico-user-plus",checkPermission:!0},{id:"teamManagement",labelKeyShort:"l-teamManagement",labelKeyLong:"l-teamManagement",url:"../PortalMeuRH/index.html#/teamManagement",imagePath:"ico-team",checkPermission:!0,onlyLargeScreen:!0},{id:"teamManagement",labelKeyShort:"l-teamManagement",labelKeyLong:"l-teamManagement",url:"../PortalMeuRH/index.html#/teamManagement/overview",imagePath:"ico-team",checkPermission:!0,onlySmallScreen:!0},{id:"requisitions",labelKeyShort:"l-requisitions",labelKeyLong:"l-requisitions",url:"../PortalMeuRH/index.html#/requisitions",imagePath:"po-icon po-icon-archive",checkPermission:!0},{id:"managementOfDelaysAndAbsences",labelKeyShort:"im-management-of-delays-and-absences",labelKeyLong:"im-management-of-delays-and-absences",url:"../PortalMeuRH/index.html#/teamManagement/managementOfDelaysAndAbsences",imagePath:"ico-how-to-reg",checkPermission:!0,onlySmallScreen:!0},{id:"teamManagementOnCallRequest",labelKeyShort:"im-management-request-on-call-short",labelKeyLong:"im-management-request-on-call",url:"../PortalMeuRH/index.html#/teamManagement/managementRequestOnCall",imagePath:"ico-on-call",checkPermission:!0,onlySmallScreen:!0}],grouper:!0},d={id:"paymentSubMenu",labelKeyShort:"im-payments",labelKeyLong:"im-statementLong",url:"../PortalMeuRH/index.html#/menu/paymentSubMenu/l-payment",imagePath:"ico-wallet",checkPermission:!1,children:[{id:"payment",labelKeyShort:"im-payments",labelKeyLong:"im-paymentsLong",url:"../PortalMeuRH/index.html#/payments",imagePath:"ico-wallet",checkPermission:!0},{id:"annualReceipt",labelKeyShort:"im-annualReceipt",labelKeyLong:"im-annualReceiptLong",url:"../PortalMeuRH/index.html#/payment/annualReceipts",imagePath:"ico-bar-chart",checkPermission:!0},{id:"salaryHistory",labelKeyShort:"im-salaryHistory",labelKeyLong:"im-salaryHistoryLong",url:"../PortalMeuRH/index.html#/payment/salaryHistory",imagePath:"ico-dollar-sign",checkPermission:!0},{id:"dependents && beneficiaries",labelKeyShort:"l-dependents-beneficiaries",labelKeyLong:"l-dependents-beneficiaries",url:"../PortalMeuRH/index.html#/benefits/dependentsBeneficiaries/dependents",imagePath:"ico-benefits",operatorsOnId:!0,checkPermission:!0},{id:"dependents && !beneficiaries",labelKeyShort:"l-dependents",labelKeyLong:"l-dependents",url:"../PortalMeuRH/index.html#/benefits/dependentsBeneficiaries/dependents",imagePath:"ico-benefits",operatorsOnId:!0,checkPermission:!0},{id:"beneficiaries && !dependents",labelKeyShort:"l-beneficiaries",labelKeyLong:"l-beneficiaries",url:"../PortalMeuRH/index.html#/benefits/dependentsBeneficiaries/beneficiaries",imagePath:"ico-benefits",operatorsOnId:!0,checkPermission:!0}],grouper:!0},g={id:"reports",labelKeyShort:"l-reports",labelKeyLong:"l-reportsLong",url:"../PortalMeuRH/index.html#/reports",imagePath:"ico-clock",checkPermission:!0},u={id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-my-requests",labelKeyLong:"l-totvs-payroll-loan-my-requests",url:"../PortalMeuRH/index.html#/payrollLoan/myRequests",imagePath:"po-icon po-icon-clock",checkPermission:!0},h={id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-statements",labelKeyLong:"l-totvs-payroll-loan-statements",url:"../PortalMeuRH/index.html#/payrollLoan/loanStatements",imagePath:"po-icon po-icon-list",checkPermission:!0},m={id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-use-of-personal-data",labelKeyLong:"l-totvs-payroll-loan-use-of-personal-data",url:"../PortalMeuRH/index.html#/payrollLoan/revokePersonalData",imagePath:"po-icon po-icon-security-guard",checkPermission:!0},f={id:"payrollLoanSimulation",labelKeyShort:"l-totvs-payroll-loan-new-request",labelKeyLong:"l-totvs-payroll-loan-new-request",url:"../PortalMeuRH/index.html#/payrollLoan/simulation",imagePath:"po-icon po-icon-finance",checkPermission:!0},v={id:"workLeave",labelKeyShort:"l-work-leaves",labelKeyLong:"l-work-leaves",url:"../PortalMeuRH/index.html#/workLeave",imagePath:"po-icon po-icon-user-delete",checkPermission:!0},b=[a,d,c,l,p,{id:"more",labelKeyShort:"l-more",labelKeyLong:"l-more",url:"../PortalMeuRH/index.html#/menu/more/l-more",imagePath:"po-icon po-icon-menu",checkPermission:!1,children:[g,r,v,{id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-title",labelKeyLong:"l-totvs-payroll-loan-title",url:"../PortalMeuRH/index.html#/menu/payrollLoan/l-explanatory-label/explanatory",imagePath:"po-icon po-icon-finance",checkPermission:!0,children:[u,h,m],featured:f}],grouper:!0}],x=[a,d,c,l,p,g,r,v,{id:"payrollLoan",labelKeyShort:"l-totvs-payroll-loan-title",labelKeyLong:"l-totvs-payroll-loan-title",url:"../PortalMeuRH/index.html#/menu/payrollLoan/l-totvs-payroll-loan-title",imagePath:"po-icon po-icon-finance",checkPermission:!0,children:[f,u,h,m]}];var y=i(64634),Z=i(84479),w=i(76857),C=i(68014),M=i(37716),A=i(37503);let P=(()=>{class e{constructor(e,t,i,n,s){this.permissionService=e,this.configurationService=t,this.globals=i,this.windowUtilService=n,this.permissionSelectors=s,this.menuApplicationServiceSource=new o.xQ,this.menuApplicationServiceObservable=this.menuApplicationServiceSource.asObservable()}parseMenuPermissions(e,t){const i=[],n=JSON.parse(JSON.stringify(e)),o=Z.g.mdDeviceOrSmaller(window.innerWidth);return n.forEach(e=>{if(e.checkPermission||e.grouper)if(e.operatorsOnId)this.validatePermissionWithOperatorsOnId(e,t)&&i.push(e);else if(e.grouper&&e.children&&e.children.length>0){let n=!1;e.children=e.children.filter(e=>{if((t[e.id]||this.isExternalApp(e)||e.operatorsOnId&&this.validatePermissionWithOperatorsOnId(e,t))&&(!e.hideOnIos||!this.windowUtilService.isIOS())&&(!e.hideOnIosIonic3||!this.windowUtilService.isIOS()||this.globals.existsIonic5Key())&&(!e.onlyLargeScreen||!o)&&(!e.onlySmallScreen||o)&&(!e.onlyMobile||this.windowUtilService.isWebView()))return n=!!e.externalApp&&e.externalApp,e}),n?i.push(e):1===e.children.length?i.push(e.children[0]):e.children.length>1&&i.push(e)}else t[e.id]&&i.push(e);else i.push(e);this.setStaticPermissions(t)}),i}isExternalApp(e){return e.externalApp&&!0===e.externalApp}validatePermissionWithOperatorsOnId(e,t){let i;const n=/(?<not>!)?(?<permission>\w+)(?<operator>((\|\|)|(\&\&)))?/gi;let o;const s=[],a=[];for(;null!==(o=n.exec(e.id.replace(/\s/,"")));)o.groups&&(o.groups.permission&&s.push({permission:o.groups.permission,not:null!=o.groups.not}),o.groups.operator&&a.push(o.groups.operator));if(a.length>=s.length)throw new Error("Existem mais operadores que o necess\xe1rio");for(let l=0;l<s.length;l++){let e=t[s[l].permission];s[l].not&&(e=!e),0===l?i=e:l-1<a.length&&(i="&&"===a[l-1]?i&&e:i||e)}const r=e.id.split("||");return(t[r[0]]||t[r[1]])&&(i=!0),i}setStaticPermissions(t){e.permissions=t}getPluginPermissions(e){return this.permissionService.getPluginsPermissions(e,"{current}")}getMenus(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.permissionSelectors.nextPermissionsNotNull(),t=this.windowUtilService.isMobileDevice()?b:x;return this.applyPermissionsOnMenu(t,e)})}applyPermissionsOnMenu(e,t){return this.configurationService.getExternalApps().then(i=>(i.forEach(t=>{t.enabled&&e.forEach(e=>{if(e.grouper&&e.id===t.grouperId){const i=t.useStagingEnvironment?t.urlStaging:t.url,n={externalApp:!0,externalAppStagingEnvironment:t.useStagingEnvironment,id:t.id,imagePath:t.icon,labelKeyLong:t.nameLong[localStorage.getItem("usedLanguage")],labelKeyShort:t.nameShort[localStorage.getItem("usedLanguage")],url:y.m.replaceKeyValueString(this.globals.getParamKeyString(),i)};let o=!1;e.children.forEach(e=>{e.id===n.id&&(o=!0)}),o||e.children.push(n)}})}),this.parseMenuPermissions(e,t))).catch(()=>this.parseMenuPermissions(e,t))}showMenu(){this.menuApplicationServiceSource.next(!0)}hideMenu(){this.menuApplicationServiceSource.next(!1)}}return e.\u0275fac=function(t){return new(t||e)(M.LFG(w.$),M.LFG(s.e),M.LFG(A.O),M.LFG(Z.g),M.LFG(C.eL))},e.\u0275prov=M.Yz7({token:e,factory:e.\u0275fac}),e})()},91061:function(e,t,i){"use strict";i.d(t,{G:function(){return c}});var n=i(38583),o=i(29790),s=i(44956),a=i(56365),r=i(3679),l=i(37716);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,a.q,o.aw,s.JBz,r.u5]]}),e})()},68358:function(e,t,i){"use strict";i.d(t,{a:function(){return N}});var n=i(64762),o=i(92340),s=(()=>((s||(s={})).TypeEnum={Proceeds:"proceeds",Deductions:"deductions",NetValue:"net-value",Others:"others",TaxBase:"tax-base",Starred:"starred"},s))(),a=i(81483),r=i(94405),l=i(88044),c=i(30343),p=i(97983),d=i(98348),g=i(36227),u=i(85561),h=i(25523),m=i(88002),f=i(9789),v=i(37716),b=i(95987),x=i(84479),y=i(49344),Z=i(65241),w=i(37503),C=i(62393),M=i(36812),A=i(38583),P=i(20307),O=i(32268),q=i(29790);function T(e,t){if(1&e&&v._UZ(0,"app-card-employee",12),2&e){const e=v.oxw();v.Q6J("image",e.imageAvatar)("name",null==e.employeeData?null:e.employeeData.name)}}function _(e,t){1&e&&(v.TgZ(0,"span",16),v._uU(1),v.ALo(2,"translate"),v.qZA()),2&e&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"l-download")," "))}function S(e,t){if(1&e){const e=v.EpF();v.TgZ(0,"span",13),v.NdJ("click",function(){v.CHM(e);const t=v.oxw();return t.downloadPaymentDetail(null==t.payment.paymentSummarySelected?null:t.payment.paymentSummarySelected.id)}),v._UZ(1,"span",14),v.YNc(2,_,3,3,"span",15),v.qZA()}if(2&e){const e=v.oxw();v.xp6(2),v.Q6J("ngIf",!e.isWebView())}}function I(e,t){if(1&e){const e=v.EpF();v.TgZ(0,"span",17),v.NdJ("click",function(){v.CHM(e);const t=v.oxw();return t.sharePaymentDetail(null==t.payment.paymentSummarySelected?null:t.payment.paymentSummarySelected.id)}),v.qZA()}}function D(e,t){1&e&&v._UZ(0,"hr",31)}function k(e,t){if(1&e&&(v.TgZ(0,"li"),v.TgZ(1,"div",27),v.YNc(2,D,1,0,"hr",28),v.TgZ(3,"p",29),v._uU(4),v.qZA(),v.TgZ(5,"p",30),v.TgZ(6,"strong"),v._uU(7),v.ALo(8,"number"),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&e){const e=t.$implicit,i=t.index;v.xp6(2),v.Q6J("ngIf",0!=i),v.xp6(2),v.Oqu(e.description),v.xp6(3),v.Oqu(v.xi3(8,3,e.value,"1.2-2"))}}function L(e,t){if(1&e&&(v.TgZ(0,"div",18),v.TgZ(1,"div",19),v.TgZ(2,"div",20),v.TgZ(3,"h4",21),v.TgZ(4,"strong"),v._uU(5),v.qZA(),v.qZA(),v.qZA(),v.TgZ(6,"div",22),v.TgZ(7,"h4",21),v.TgZ(8,"strong",23),v._uU(9),v.ALo(10,"number"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(11,"div",24),v.TgZ(12,"ul",25),v.YNc(13,k,9,6,"li",26),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&e){const e=t.$implicit;v.xp6(3),v.s9C("id",e.description),v.xp6(2),v.Oqu(e.description),v.xp6(2),v.MGl("id","",e.description,"-value"),v.xp6(1),v.Q6J("ngClass",("proceeds"===e.type||"net-value"===e.type)&&e.subtotal>0?"column-value-positive":e.subtotal<0?"column-value-negative":"column-value-default"),v.xp6(1),v.hij(" ",v.xi3(10,6,e.subtotal,"1.2-2")," "),v.xp6(4),v.Q6J("ngForOf",e.events)}}let N=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l,c,p,d,g,u,h){this.paymentResource=e,this.router=t,this.windowUtilService=i,this.ionicUtilService=n,this.toastsManager=o,this.appTranslateService=s,this.fieldProperties=a,this.profileService=r,this.fileManipulationService=l,this.payment=c,this.spinnerService=p,this.globals=d,this.fileTransferService=g,this.teamManagementService=u,this.route=h,this.paymentDetailGrouped=[],this.employeeName="",this.canDownloadFile=!1,this.canShareFile=!1,this.transferFile=""}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}initializeComponent(){return(0,n.mG)(this,void 0,void 0,function*(){if(this.payment.paymentSummarySelected){this.windowUtilService.scrollToTop(),this.getPaymentDetail(),yield this.getProperties(),this.checkIfFileCanBeDownloaded(),this.checkIfFileCanBeShared(),this.subscribeToActivatedRoute();const e=this.employeeData?this.employeeData.id:o.N.loggedUser,t=yield this.profileService.getEmployeeSummary(e);this.employeeName=t.name}else this.goPayments()})}subscribeToActivatedRoute(){this.routeDataSubscription=this.route.data.pipe((0,m.U)(e=>e.management)).subscribe(e=>{if(this.viewIsTeamManagement=e,e){if(null==this.teamManagementService.getEmployeeCard().employee)return void this.router.navigateByUrl("teamManagement");this.teamManagementPaymentsDetail()}})}teamManagementPaymentsDetail(){const{employee:e,image:t}=this.teamManagementService.getEmployeeCard();this.employeeData=e,this.imageAvatar=t}getPaymentDetail(){this.paymentResource.getPayment(this.payment.paymentSummarySelected.id).then(e=>{this.setPaymentDetailGrouped(e)})}downloadPaymentDetail(e){return(0,n.mG)(this,void 0,void 0,function*(){let t=this.fileManipulationService.formatFilenameReport(this.getPaymentFileName());if(this.isWebView()&&!d.ZP.isTomcatAppServer())this.spinnerService.show(),this.paymentResource.getReportDownloadUrl(o.N.loggedUser,e).then(e=>{this.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:t,fileMIMEtype:"application/pdf"},type:l.g.DownloadAndOpenFile})}).catch(e=>{this.spinnerService.hide()});else if(this.isWebView()&&d.ZP.isTomcatAppServer()){this.spinnerService.show(),yield this.getAndSetBase64String(e);let i=yield this.fileTransferService.bufferFileonStorage(this.transferFile);yield this.fileTransferService.saveBase64onStorage(i);const n={args:{keyStorage:yield this.fileTransferService.nameListBas64onStorage(i),filename:t,fileMIMEtype:"application/pdf",isShare:!1},type:l.g.TransferFile};this.ionicUtilService.emit(n),this.paymentResource.setDefaulResponseType()}else this.paymentResource.openPaymentDetailService(o.N.loggedUser,e,t)})}getAndSetBase64String(e){return(0,n.mG)(this,void 0,void 0,function*(){this.transferFile="",yield this.paymentResource.getBlobReport(o.N.loggedUser,e).then(e=>(0,n.mG)(this,void 0,void 0,function*(){yield this.fileManipulationService.blobToBase64(e).then(e=>this.transferFile=e)}))})}sharePaymentDetail(e){return(0,n.mG)(this,void 0,void 0,function*(){let t=this.fileManipulationService.formatFilenameReport(this.getPaymentFileName());if(this.isWebView()&&!d.ZP.isTomcatAppServer())this.spinnerService.show(),this.paymentResource.getReportDownloadUrl(o.N.loggedUser,e).then(e=>{this.appTranslateService.getI18n("l-payment-description").then(i=>{this.ionicUtilService.emit({args:{url:e,filename:t,subject:i},type:l.g.ShareFile})})}).catch(e=>{this.spinnerService.hide()});else if(this.isWebView()&&d.ZP.isTomcatAppServer()){this.spinnerService.show(),yield this.getAndSetBase64String(e);let i=yield this.fileTransferService.bufferFileonStorage(this.transferFile);yield this.fileTransferService.saveBase64onStorage(i);const n=yield this.fileTransferService.nameListBas64onStorage(i);this.appTranslateService.getI18n("l-payment-description").then(e=>{this.ionicUtilService.emit({args:{keyStorage:n,filename:t,fileMIMEtype:"application/pdf",isShare:!0,subject:e},type:l.g.TransferFile}),this.paymentResource.setDefaulResponseType()})}else this.appTranslateService.getI18n("m-not-web-view-device").then(e=>{this.toastsManager.info(e)})})}isIOS(){return this.windowUtilService.isIOS()}isWebView(){return this.windowUtilService.isWebView()}goPayments(){this.router.navigate(["payments"])}getPaymentFileName(){return[this.employeeName,a.Em.extractYearMonth(this.payment.paymentSummarySelected.referenceDate).toString()]}setPaymentDetailGrouped(e){e&&e.subtotals&&e.subtotals.forEach(t=>{const i=[];let n=t.value;e.events.forEach(e=>{t.type.toString().indexOf(e.type.toString())>-1&&(e.description=e.id.trim()+"-"+e.description.trim(),t.type===s.TypeEnum.Deductions&&(e.value=-1*e.value),i.push(e))}),t.type===s.TypeEnum.Deductions&&(n*=-1),this.paymentDetailGrouped.push({description:t.description,subtotal:n,type:t.type,events:i})})}getProperties(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.fieldProperties.getFieldProperties("payment");this.propertiesDownloadAndShare=e[0]})}checkIfFileCanBeDownloaded(){var e;this.canDownloadFile=(null===(e=this.propertiesDownloadAndShare)||void 0===e?void 0:e.visible)&&(!this.isIOS()||this.globals.existsIonic5Key())}checkIfFileCanBeShared(){var e;this.canShareFile=(null===(e=this.propertiesDownloadAndShare)||void 0===e?void 0:e.visible)&&this.isWebView()}callbackIonicExternalEvent(e){(e.detail.event.type===l.g.DownloadAndOpenFile||e.detail.event.type===l.g.ShareFile||e.detail.event.type===l.g.TransferFile)&&this.spinnerService.hide()}}return e.\u0275fac=function(t){return new(t||e)(v.Y36(h.t),v.Y36(b.F0),v.Y36(x.g),v.Y36(l.l),v.Y36(y._W),v.Y36(Z.g),v.Y36(g.c),v.Y36(p.H),v.Y36(r.e),v.Y36(u.A),v.Y36(c.V),v.Y36(w.O),v.Y36(C.c),v.Y36(f.C),v.Y36(b.gz))},e.\u0275cmp=v.Xpm({type:e,selectors:[["app-payment-detail"]],hostBindings:function(e,t){1&e&&v.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,v.evT)},decls:23,vars:19,consts:[["backIsVisible","true","pageTitle",""],[3,"image","name",4,"ngIf"],["title",""],["id","paymentDetailDateMonthYearReference",2,"text-transform","capitalize"],["sub-title",""],[1,"subtitle-description"],[1,"subtitle-description-date"],["id","paymentDetailDateReference"],["class","download-container",3,"click",4,"ngIf"],["class","pull-right ico-share-2 icon-color-totvs mouse-pointer share-icon waves-effect waves-base icon-size download-container",3,"click",4,"ngIf"],["class","header-divider po-lg-12 po-md-12 po-sm-12",4,"ngFor","ngForOf"],[1,"end-adjustment"],[3,"image","name"],[1,"download-container",3,"click"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base","icon-size"],["class","subtitle-download",4,"ngIf"],[1,"subtitle-download"],[1,"pull-right","ico-share-2","icon-color-totvs","mouse-pointer","share-icon","waves-effect","waves-base","icon-size","download-container",3,"click"],[1,"header-divider","po-lg-12","po-md-12","po-sm-12"],[1,"line-divider"],[1,"po-lg-9","po-md-9","po-sm-8"],[1,"spacing-adjustment",3,"id"],[1,"po-md-3","po-lg-3","po-sm-4","text-right"],[3,"ngClass"],[1,"po-row","spacing-adjustment"],[1,"list-unstyled","clearfix"],[4,"ngFor","ngForOf"],[1,"po-row","no-padding"],["class","line po-lg-11 po-md-11 po-sm-11",4,"ngIf"],[1,"po-lg-8","po-md-8","po-sm-8","p-adjustment"],[1,"po-lg-4","po-md-4","po-sm-4","text-right","p-adjustment"],[1,"line","po-lg-11","po-md-11","po-sm-11"]],template:function(e,t){1&e&&(v.TgZ(0,"app-page-header",0),v.YNc(1,T,1,2,"app-card-employee",1),v.TgZ(2,"span",2),v.TgZ(3,"span",3),v._uU(4),v.ALo(5,"utcDate"),v.qZA(),v.qZA(),v.qZA(),v.TgZ(6,"span",4),v.TgZ(7,"h4",5),v._uU(8),v.ALo(9,"translate"),v.TgZ(10,"span"),v._uU(11),v.qZA(),v.qZA(),v.TgZ(12,"p",6),v._uU(13),v.ALo(14,"translate"),v.TgZ(15,"span",7),v._uU(16),v.ALo(17,"utcDate"),v.qZA(),v.YNc(18,S,3,1,"span",8),v.YNc(19,I,1,0,"span",9),v.qZA(),v.qZA(),v.YNc(20,L,14,9,"div",10),v.TgZ(21,"div",11),v._uU(22,"\xa0"),v.qZA()),2&e&&(v.xp6(1),v.Q6J("ngIf",t.employeeData),v.xp6(3),v.Oqu(v.xi3(5,9,t.payment.paymentSummarySelected.referenceDate,"MMMM yyyy")),v.xp6(4),v.hij(" ",v.lcZ(9,12,"l-payment-paymentDate")," "),v.xp6(3),v.Oqu(t.payment.paymentSummarySelected.type),v.xp6(2),v.hij(" ",v.lcZ(14,14,"l-payment-releasedDate")," "),v.xp6(3),v.Oqu(v.xi3(17,16,t.payment.paymentSummarySelected.paymentDate,"shortDate")),v.xp6(2),v.Q6J("ngIf",t.canDownloadFile),v.xp6(1),v.Q6J("ngIf",t.canShareFile&&!t.isIOS()),v.xp6(1),v.Q6J("ngForOf",t.paymentDetailGrouped))},directives:[M.q,A.O5,A.sg,P.x,A.mk],pipes:[O.$,q.X$,A.JJ],styles:["h4[_ngcontent-%COMP%]{font-size:16px;margin-bottom:0}p[_ngcontent-%COMP%]{padding:0 4px}.p-adjustment[_ngcontent-%COMP%]{margin:0;font-size:15px}.line[_ngcontent-%COMP%]{border-color:#dddfdf;padding-right:7%}.column-value-positive[_ngcontent-%COMP%]{color:#00b28e}.share-icon[_ngcontent-%COMP%]{margin-right:12px}.download-icon[_ngcontent-%COMP%]{margin-left:24px}.column-value-negative[_ngcontent-%COMP%]{color:#d84141}.column-value-default[_ngcontent-%COMP%]{color:#333}.end-adjustment[_ngcontent-%COMP%]{height:16px;float:left}.header-divider[_ngcontent-%COMP%]{padding:8px 0}.header-divider[_ngcontent-%COMP%]   .line-divider[_ngcontent-%COMP%]{margin-top:9px;margin-bottom:-9px}.po-row[_ngcontent-%COMP%]{padding:0;margin:0;display:block}.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.spacing-adjustment[_ngcontent-%COMP%]{padding:0 8px}.subtitle-description[_ngcontent-%COMP%]{color:#333;font-family:NunitoSans-Bold;padding-top:4px}.subtitle-download[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 720px){.subtitle-download[_ngcontent-%COMP%]{color:#0c9abe;font-family:NunitoSans-Bold;padding-left:10px;cursor:pointer;font-size:16px;display:inline-block;margin-top:-4px}}.icon-size[_ngcontent-%COMP%]{font-size:16px;font-weight:bold}.download-container[_ngcontent-%COMP%]{display:inline-flex;color:#0c9abe;float:right;font-size:18px;cursor:pointer;margin-top:-7px;margin-right:10px}.subtitle-description-date[_ngcontent-%COMP%]{color:#333;font-family:NunitoSans;font-size:12px;padding-left:0;margin-bottom:-8px}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.end-adjustment[_ngcontent-%COMP%]{height:41px!important}}"]}),e})()},85561:function(e,t,i){"use strict";i.d(t,{A:function(){return A}});var n=i(95987),o=i(45435),s=i(88002),a=i(9789),r=i(92340),l=i(14833),c=i(81059),p=i(25523);class d{constructor(){this.payments=[]}static merge(e,t){return e.payments.push(t),e}static initialize(e){const t=new d;return t.month=new Date(e.referenceDate).getUTCMonth(),t.reference=new Date(e.referenceDate),t.payments.push(e),t}}class g{constructor(){this.paymentsMonth=[]}static merge(e,t){let i=!0;for(let n=0;n<e.paymentsMonth.length;n++)if(e.paymentsMonth[n].month===new Date(t.referenceDate).getUTCMonth()){e.paymentsMonth[n]=d.merge(e.paymentsMonth[n],t),i=!1;break}return i&&e.paymentsMonth.push(d.initialize(t)),e}static initialize(e){const t=new g;return t.year=new Date(e.referenceDate).getUTCFullYear(),t.paymentsMonth.push(d.initialize(e)),t}}var u=i(37716),h=i(37503);function m(e,t){if(1&e&&u._UZ(0,"app-card-employee",4),2&e){const e=u.oxw(2);u.Q6J("image",e.imageAvatar)("name",null==e.employeeData?null:e.employeeData.name)}}function f(e,t){if(1&e&&(u.TgZ(0,"td",31),u.ALo(1,"utcDate"),u._uU(2),u.ALo(3,"utcDate"),u.qZA()),2&e){const e=u.oxw(2).$implicit;u.MGl("id","lbl-desktop-payment-reference-month-",u.xi3(1,3,e.reference,"MM-yyyy"),""),u.uIk("rowspan",e.payments.length),u.xp6(2),u.hij(" ",u.xi3(3,6,e.reference,"MMMM")," ")}}function v(e,t){if(1&e&&(u.TgZ(0,"td",32),u.ALo(1,"utcDate"),u._uU(2),u.ALo(3,"utcDate"),u.qZA()),2&e){const e=u.oxw(2).$implicit;u.MGl("id","lbl-mobile-payment-reference-month-",u.xi3(1,3,e.reference,"MM-yyyy"),""),u.uIk("rowspan",e.payments.length),u.xp6(2),u.hij(" ",u.xi3(3,6,e.reference,"MMM")," ")}}function b(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",21),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(5).goToPayments(t)}),u.YNc(1,f,4,9,"td",22),u.YNc(2,v,4,9,"td",23),u.TgZ(3,"td",24),u.TgZ(4,"a",25),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(5).goToPayments(t)}),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"td",26),u.ALo(7,"utcDate"),u._uU(8),u.ALo(9,"utcDate"),u.qZA(),u.TgZ(10,"td",27),u.ALo(11,"utcDate"),u._uU(12),u.ALo(13,"utcDate"),u.qZA(),u.TgZ(14,"td",28),u._uU(15),u.ALo(16,"number"),u.qZA(),u.TgZ(17,"td",29),u.TgZ(18,"span",30),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw(5).goToPayments(t)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=t.$implicit,i=t.index;u.xp6(1),u.Q6J("ngIf",i<1),u.xp6(1),u.Q6J("ngIf",i<1),u.xp6(3),u.Oqu(e.type),u.xp6(1),u.MGl("id","lbl-desktop-payment-date-",u.xi3(7,8,e.paymentDate,"dd-MM-yyyy"),""),u.xp6(2),u.hij(" ",u.xi3(9,11,e.paymentDate,"dd/MM/yyyy")," "),u.xp6(2),u.MGl("id","lbl-mobile-payment-date-",u.xi3(11,14,e.paymentDate,"dd-MM-yyyy"),""),u.xp6(2),u.hij(" ",u.xi3(13,17,e.paymentDate,"dd/MM")," "),u.xp6(3),u.Oqu(u.xi3(16,20,e.value,"1.2-2"))}}function x(e,t){if(1&e&&(u.TgZ(0,"tbody"),u.YNc(1,b,19,23,"tr",20),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.Q6J("ngForOf",e.payments)}}function y(e,t){if(1&e&&(u.TgZ(0,"tbody"),u.TgZ(1,"tr",8),u.TgZ(2,"td",18),u._uU(3),u.qZA(),u.qZA(),u.qZA(),u.YNc(4,x,2,1,"tbody",19)),2&e){const e=t.$implicit;u.xp6(3),u.Oqu(e.year),u.xp6(1),u.Q6J("ngForOf",e.paymentsMonth)}}function Z(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",33),u.TgZ(1,"a",34),u.NdJ("click",function(){return u.CHM(e),u.oxw(3).viewMore()}),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.qZA()}2&e&&(u.xp6(2),u.Oqu(u.lcZ(3,1,"l-payment-next-periods")))}function w(e,t){if(1&e&&(u.TgZ(0,"div",5),u.TgZ(1,"table",6),u.TgZ(2,"thead",7),u.TgZ(3,"tr",8),u.TgZ(4,"th",9),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"th",10),u._uU(8),u.ALo(9,"translate"),u.qZA(),u.TgZ(10,"th",11),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"th",12),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.TgZ(16,"th",10),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"th",13),u._uU(20),u.ALo(21,"translate"),u.qZA(),u.TgZ(22,"th",14),u._uU(23),u.ALo(24,"translate"),u.qZA(),u.TgZ(25,"th",15),u._uU(26),u.ALo(27,"translate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(28,y,5,2,"ng-template",16),u.qZA(),u.YNc(29,Z,4,3,"div",17),u.qZA()),2&e){const e=u.oxw(2);u.xp6(5),u.hij(" ",u.lcZ(6,10,"l-payment-referenceDate")," "),u.xp6(3),u.hij(" ",u.lcZ(9,12,"l-payment-referenceDate-mobile")," "),u.xp6(3),u.hij(" ",u.lcZ(12,14,"l-payment-paymentType")," "),u.xp6(3),u.hij(" ",u.lcZ(15,16,"l-payment-paymentDate")," "),u.xp6(3),u.hij(" ",u.lcZ(18,18,"l-payment-paymentDate-mobile")," "),u.xp6(3),u.hij(" ",u.lcZ(21,20,"l-payment-value")," "),u.xp6(3),u.hij(" ",u.lcZ(24,22,"l-payment-value-mobile")," "),u.xp6(3),u.hij(" ",u.lcZ(27,24,"l-view")," "),u.xp6(2),u.Q6J("ngForOf",e.paymentsGroup),u.xp6(1),u.Q6J("ngIf",e.showViewMore())}}function C(e,t){if(1&e&&(u.TgZ(0,"div"),u._UZ(1,"app-page-header",1),u.YNc(2,m,1,2,"app-card-employee",2),u.YNc(3,w,30,26,"div",3),u.qZA()),2&e){const e=u.oxw();u.xp6(1),u.Q6J("backIsVisible",!!e.employeeData),u.xp6(1),u.Q6J("ngIf",e.employeeData),u.xp6(1),u.Q6J("ngIf",e.paymentsGroup)}}function M(e,t){1&e&&(u.TgZ(0,"div"),u._UZ(1,"app-payment-detail"),u.qZA())}let A=(()=>{class e extends c.R{constructor(e,t,i,n,o,s){super(),this.paymentsService=e,this.router=t,this.activatedRoute=i,this.lastAccess=n,this.globals=o,this.teamManagementService=s,this.viewIsTeamManagement=!1}ngOnInit(){super.ngOnInit(),this.paymentSummaries=null,this.subscribeToActivatedRoute(),this.search(),this.setCountLastAccess(),this.changePaymentDetailView()}ngOnDestroy(){this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.routeDetailSubscription.unsubscribe()}changePaymentDetailView(){this.routeDetailSubscription=this.router.events.pipe((0,o.h)(e=>e instanceof n.m2)).subscribe(e=>{this.paymentDetailIsVisible="/payments/payment/detail"===e.url||"/teamManagement/payments/payment/detail"===e.url})}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(l.w9,e.id)})}goToPayments(e){this.paymentSummarySelected=e,e&&this.router.navigate(["payment/detail"],{relativeTo:this.activatedRoute})}subscribeToActivatedRoute(){this.routeDataSubscription=this.activatedRoute.data.pipe((0,s.U)(e=>e.management)).subscribe(e=>{if(this.viewIsTeamManagement=e,e){if(null==this.teamManagementService.getEmployeeCard().employee)return void this.router.navigateByUrl("teamManagement");this.teamManagementPaymentsSummary()}})}teamManagementPaymentsSummary(){const{employee:e,image:t}=this.teamManagementService.getEmployeeCard();this.paymentSummaries=[],this.employeeData=e,this.imageAvatar=t}readPeriodFromResult(){let e;this.paymentSummaries.forEach(t=>{(!e||e>=new Date(t.referenceDate))&&(e=new Date(t.referenceDate))}),this.definePeriod(e||new Date)}search(e=!1){this.paymentsService.getPayments(this.employeeData?this.employeeData.id:r.N.loggedUser,this.initDate,this.endDate).then(t=>{t&&(this.paymentSummaries=this.paymentSummaries&&e?this.paymentSummaries.concat(t):t,this.paymentsGroup=class{static showPaymentsGroup(e){const t=[];return e&&e.forEach(e=>{let i=!0;new Date(e.referenceDate).getUTCFullYear()&&(t.forEach(t=>{t.year===new Date(e.referenceDate).getUTCFullYear()&&(g.merge(t,e),i=!1)}),i&&t.push(g.initialize(e)))}),t.sort((e,t)=>e.year<t.year?1:-1)}}.showPaymentsGroup(this.paymentSummaries))})}definePeriod(e){this.endDate=e,this.endDate.setUTCDate(0),this.endDate.setHours(23,59,59,0),this.initDate=new Date(e),this.initDate.setDate(1),this.initDate.setMonth(this.initDate.getMonth()-5),this.initDate.setHours(0,0,0,0)}showViewMore(){return this.paymentSummaries.length>=6}viewMore(){this.paymentSummaries&&this.paymentSummaries.length>0&&(this.readPeriodFromResult(),this.search(!0))}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(p.t),u.Y36(n.F0),u.Y36(n.gz),u.Y36(l.Lx),u.Y36(h.O),u.Y36(a.C))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-payments-summary"]],features:[u.qOj],decls:2,vars:2,consts:[[4,"ngIf"],["pageTitle","l-payment-description",3,"backIsVisible"],[3,"image","name",4,"ngIf"],["class","panel-body header-divider poxl12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],[3,"image","name"],[1,"panel-body","header-divider","poxl12","po-lg-12","po-md-12","po-sm-12"],["ng-init","current = 0",1,"payment-panel","table"],[1,"column-header"],[1,"custom-tr"],["id","ReferenceDate",1,"payment-label-column","po-hidden-sm"],[1,"payment-label-column","po-hidden-md","po-hidden-lg","po-hidden-xl"],[1,"payment-label-column"],[1,"payment-label-column","po-hidden-sm"],[1,"payment-label-column","po-hidden-sm","text-right","column-value-payment"],[1,"payment-label-column","po-hidden-md","po-hidden-lg","po-hidden-xl","text-right","column-value-payment"],[1,"payment-label-column","po-hidden-sm","text-center"],["ngFor","",3,"ngForOf"],["class","next-periods",4,"ngIf"],["colspan","5",1,"year-agrupator"],[4,"ngFor","ngForOf"],["class","custom-tr hover-design mouse-pointer",3,"click",4,"ngFor","ngForOf"],[1,"custom-tr","hover-design","mouse-pointer",3,"click"],["class","month-agrupator po-hidden-sm",3,"id",4,"ngIf"],["class","month-agrupator po-hidden-md po-hidden-lg po-hidden-xl",3,"id",4,"ngIf"],[1,"column-type"],[1,"mouse-pointer",3,"click"],[1,"column-date","po-hidden-sm",3,"id"],[1,"column-date","po-hidden-md","po-hidden-lg","po-hidden-xl",3,"id"],[1,"column-value-payment"],[1,"po-hidden-sm","text-center"],[1,"po-icon","po-icon-eye","icons","mouse-pointer",3,"click"],[1,"month-agrupator","po-hidden-sm",3,"id"],[1,"month-agrupator","po-hidden-md","po-hidden-lg","po-hidden-xl",3,"id"],[1,"next-periods"],["id","linkViewMore",3,"click"]],template:function(e,t){1&e&&(u.YNc(0,C,4,3,"div",0),u.YNc(1,M,2,0,"div",0)),2&e&&(u.Q6J("ngIf",!t.paymentDetailIsVisible),u.xp6(1),u.Q6J("ngIf",t.paymentDetailIsVisible))},styles:["tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#e6f4f8}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px}.card-holder[_ngcontent-%COMP%]{margin-top:0;margin-bottom:4vh;height:100%;display:flex;flex-direction:column}.card-holder[_ngcontent-%COMP%]   .info-holder[_ngcontent-%COMP%]{display:flex}.card-holder[_ngcontent-%COMP%]   .mobile-info-holder[_ngcontent-%COMP%]{display:none}.card-holder[_ngcontent-%COMP%]   .mobile-info-holder[_ngcontent-%COMP%]   .title-name[_ngcontent-%COMP%]{font-weight:bold}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:12px;line-height:1;text-align:left;height:20px!important;padding:10px 8px}.month-agrupator[_ngcontent-%COMP%]{font-size:14px;font-weight:bold;line-height:3.5;text-align:left;color:#4a5c60;text-transform:capitalize}.year-agrupator[_ngcontent-%COMP%]{font-size:20px!important;line-height:2.4;text-align:left;color:#2b3639;background-color:#fff;padding:1rem 0 0 .75rem;height:40px!important}.payment-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;line-height:2;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;box-shadow:inset 0 1px #dbdedf;font-weight:bold;line-height:3;color:#0c9abe}.next-periods[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.column-value-payment[_ngcontent-%COMP%]{text-align:right!important}.column-date[_ngcontent-%COMP%]{color:#4a5c60}.column-type[_ngcontent-%COMP%]{color:#0c9abe}.panel-body[_ngcontent-%COMP%]{margin-bottom:16px!important;padding-bottom:0;float:none!important}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.panel-body[_ngcontent-%COMP%]{margin-bottom:41px!important;padding-bottom:0;float:none!important}}.payment-panel[_ngcontent-%COMP%]{margin-bottom:0!important}.icons[_ngcontent-%COMP%]{font-weight:bold;font-size:20px;color:#0c9abe}td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}"]}),e})()},53569:function(e,t,i){"use strict";i.r(t),i.d(t,{PaymentsSummaryModule:function(){return x}});var n=i(38583),o=i(3679),s=i(29790),a=i(44956),r=i(62393),l=i(56365),c=i(68358),p=i(95987),d=i(51110),g=i(85561),u=i(37716);const h=[{path:"",component:g.A,canActivate:[d.P]}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[p.Bz.forChild(h)],p.Bz]}),e})();var f=i(36812),v=i(20307),b=i(32268);let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[r.c],imports:[[n.ez,m,s.aw,l.q,a.JBz,o.u5]]}),e})();u.B6R(g.A,[n.O5,f.q,v.x,n.sg,c.a],[s.X$,b.$,n.JJ])},25523:function(e,t,i){"use strict";i.d(t,{b:function(){return l},t:function(){return c}});var n=i(48681),o=i(94405),s=i(59708),a=i(98348),r=i(37716);const l="payment";let c=(()=>{class e{constructor(e,t,i){this.serviceGeneric=e,this.fileManipulationService=t,this.configurationService=i}getPayments(e,t,i){const n=`${l}/payments/${e}`;let o;return t&&i&&(o=[],o.initView=t.toISOString(),o.endView=i.toISOString()),this.serviceGeneric.setResponseType("json"),this.serviceGeneric.search(n,o)}getPayment(e){const t=`${l}/detail/${e}`;return this.serviceGeneric.setResponseType("json"),this.serviceGeneric.get(t)}getReportDownloadUrl(e,t){return new Promise(i=>{let n="payments/report/";a.ZP.isErpDatasul()?(n=`${l}/${n}${encodeURIComponent(e)}/${t}`,this.serviceGeneric.resolveUrl(0,n).then(e=>{i(`${document.location.origin}${e}${n}`)})):i(this.configurationService.getServerApiUrl().then(i=>a.ZP.isErpNode()||a.ZP.isErpProtheus()?`${i}${l}/${n}${encodeURIComponent(e)}/${t}`:`${document.location.origin}${i}${l}/${n}${encodeURIComponent(e)}/${t}`))})}openPaymentDetailService(e,t,i){return this.fileManipulationService.openFile(`${l}/payments/report/${e}/${t}`,i,"application/pdf")}getBlobReport(e,t){const i=`${l}/payments/report/${e}/${t}`;return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.get(i,!1)}setDefaulResponseType(){this.serviceGeneric.setResponseType("json")}getPaymentAvailable(e,t,i){const n=`${l}/available/${e}`;let o;return t&&i&&(o=[],o.initView=t.toISOString(),o.endView=i.toISOString()),this.serviceGeneric.search(n,o)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s.M),r.LFG(o.e),r.LFG(n.e))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},29163:function(e,t,i){"use strict";i.d(t,{u:function(){return A}});var n=i(64762),o=i(37716),s=i(44956),a=i(28601),r=i(29790);let l=(()=>{class e{constructor(){this.authorizedPersonalData=new o.vpe}authorizedData(e){this.authorizedPersonalData.next(e),this.modal.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-personal-data-modal"]],viewQuery:function(e,t){if(1&e&&o.Gf(s.hmF,5),2&e){let e;o.iGM(e=o.CRH())&&(t.modal=e.first)}},outputs:{authorizedPersonalData:"authorizedPersonalData"},decls:3,vars:4,consts:[["p-click-out","true","p-size","md",3,"p-title"],[3,"renderedByModal","authorizedPersonalData","closeModal"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.ALo(1,"translate"),o.TgZ(2,"app-personal-data",1),o.NdJ("authorizedPersonalData",function(e){return t.authorizedData(e)})("closeModal",function(){return t.modal.close()}),o.qZA(),o.qZA()),2&e&&(o.Q6J("p-title",o.lcZ(1,2,"l-personal-data-title")),o.xp6(2),o.Q6J("renderedByModal",!0))},directives:[s.hmF,a.h],pipes:[r.X$],styles:["[_nghost-%COMP%]     .po-button-danger{background-color:transparent;border:1px solid #c64840;color:#c64840}[_nghost-%COMP%]     .po-modal-footer{display:none}[_nghost-%COMP%]     .po-text-ellipsis, [_nghost-%COMP%]     .po-text-nowrap{white-space:normal}[_nghost-%COMP%]     .po-modal-body{overflow-x:hidden;overflow-y:hidden;margin-bottom:21px}[_nghost-%COMP%]     .po-modal-content{margin-bottom:40px}[_nghost-%COMP%]     .po-modal-title{padding-left:16px}[_nghost-%COMP%]     .po-modal-content{padding-top:16px;padding-bottom:8px}[_nghost-%COMP%]     .po-icon{padding-top:16px}"]}),e})();var c=i(34668),p=i(84479),d=i(95987),g=i(38583),u=i(36812);function h(e,t){1&e&&o._UZ(0,"iframe",3)}function m(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"a",11),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).loadedExternalWebsite=!0}),o._uU(2),o.ALo(3,"lowercase"),o.ALo(4,"translate"),o.qZA(),o.BQk()}2&e&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,o.lcZ(4,3,"l-click-here")),". "))}function f(e,t){1&e&&(o.TgZ(0,"a",12),o._uU(1),o.ALo(2,"lowercase"),o.ALo(3,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,o.lcZ(3,3,"l-click-here")),". "))}function v(e,t){if(1&e&&(o.ynx(0),o._UZ(1,"app-page-header",4),o._UZ(2,"div",5),o.TgZ(3,"div",6),o._UZ(4,"h3",7),o.TgZ(5,"span",8),o._uU(6),o.YNc(7,m,5,5,"ng-container",9),o.YNc(8,f,4,5,"ng-template",null,10,o.W1O),o.qZA(),o.qZA(),o.BQk()),2&e){const e=o.MAs(9),t=o.oxw();o.xp6(1),o.Q6J("backIsVisible",!0),o.xp6(3),o.Q6J("innerHTML",t.title,o.oJD),o.xp6(2),o.hij(" ",t.description," "),o.xp6(1),o.Q6J("ngIf",t.windowUtilService.isMobileDevice())("ngIfElse",e)}}let b=(()=>{class e{constructor(e){this.windowUtilService=e,this.loadedExternalWebsite=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(p.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-explanatory-preload"]],inputs:{title:"title",description:"description"},decls:3,vars:2,consts:[[1,"clearfix"],["class","external-frame","name","externalFrame","frameborder","0",4,"ngIf"],[4,"ngIf"],["name","externalFrame","frameborder","0",1,"external-frame"],["pageTitle","l-totvs-payroll-loan-title",3,"backIsVisible"],[1,"body-container-image","po-md-12"],[1,"body-container"],[1,"body-container-title","po-md-12","po-mt-sm-3","po-mt-md-3","po-mt-lg-3",3,"innerHTML"],[1,"body-container-desciption","po-md-12","po-mt-sm-3","po-mb-sm-3","po-mt-md-3","po-mt-lg-3"],[4,"ngIf","ngIfElse"],["web",""],["href","https://www.totvs.com/techfin/consignado/","target","externalFrame",1,"clickable",3,"click"],["href","https://www.totvs.com/techfin/consignado/","target","_blank",1,"clickable"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,h,1,0,"iframe",1),o.YNc(2,v,10,5,"ng-container",2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",t.loadedExternalWebsite),o.xp6(1),o.Q6J("ngIf",!t.loadedExternalWebsite))},directives:[g.O5,u.q],pipes:[g.i8,r.X$],styles:['.general{padding-top:15px!important}  .po-page-content{overflow:hidden}.clearfix[_ngcontent-%COMP%]:after{content:"";display:table;clear:both;margin-bottom:50px}.body-container[_ngcontent-%COMP%]{text-align:center}.body-container-image[_ngcontent-%COMP%]{background:url(take-money.8a73e034577ed0b29ef6.svg) no-repeat center;width:100%;height:30vh;background-size:contain;background-repeat:no-repeat;background-position:center center;margin-bottom:2vh}.external-frame[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 108px);margin-left:-16px}@media only screen and (min-width: 961px){.body-container-image[_ngcontent-%COMP%]{height:50vh}.external-frame[_ngcontent-%COMP%]{height:calc(100vh - 48px)}}@media only screen and (max-width: 320px){.body-container-title[_ngcontent-%COMP%]{font-size:18px}.body-container-desciption[_ngcontent-%COMP%]{font-size:14px}}']}),e})();function x(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"h1",5),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"h2",6),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"p",5),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"h2",7),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"p",5),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"div",8),o.TgZ(17,"po-button",9),o.NdJ("p-click",function(){return o.CHM(e),o.oxw(3).personalData.modal.open()}),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.BQk()}2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,6,"l-explanatory-title")),o.xp6(3),o.Oqu(o.lcZ(6,8,"l-how-is")),o.xp6(3),o.Oqu(o.lcZ(9,10,"l-how-is-body")),o.xp6(3),o.Oqu(o.lcZ(12,12,"l-how-to")),o.xp6(3),o.Oqu(o.lcZ(15,14,"l-how-to-body")),o.xp6(3),o.Q6J("p-label",o.lcZ(18,16,"l-continue")))}function y(e,t){if(1&e&&o._UZ(0,"app-explanatory-preload",10),2&e){const e=o.oxw(3);o.Q6J("title",e.statusAccessTitle)("description",e.statusAccessDescription)}}function Z(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.YNc(1,x,19,18,"ng-container",2),o.YNc(2,y,1,2,"ng-template",null,3,o.W1O),o.TgZ(4,"app-personal-data-modal",4),o.NdJ("authorizedPersonalData",function(t){return o.CHM(e),o.oxw(2).isAuthorized=t}),o.qZA(),o.BQk()}if(2&e){const e=o.MAs(3),t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",1===t.statusAccess.code)("ngIfElse",e)}}function w(e,t){if(1&e&&(o.ynx(0),o.YNc(1,Z,5,2,"ng-container",2),o.BQk()),2&e){const e=o.oxw(),t=o.MAs(2);o.xp6(1),o.Q6J("ngIf",!e.isAuthorized)("ngIfElse",t)}}function C(e,t){1&e&&o.Hsn(0)}const M=["*"];let A=(()=>{class e{constructor(e,t,i,n){this.personalDataService=e,this.windowUtilService=t,this.router=i,this.translate=n,this.initialized=!1,this.labels=[],this.openByComponent=!1}ngOnInit(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.translateLabels(),this.statusAccess=yield this.personalDataService.getStatusAccess(),this.checkStatusAccess(),1===this.statusAccess.code&&(this.isAuthorized=yield this.personalDataService.getAuthorizedUsePersonalData(),this.viewIsMobile=this.windowUtilService.isMobileDevice(),this.isAuthorized&&this.viewIsMobile&&!this.openByComponent&&this.router.navigate(["menu","payrollLoan","l-totvs-payroll-loan-title"])),this.initialized=!0})}checkStatusAccess(){4===this.statusAccess.code?(this.statusAccessTitle=this.labels["l-totvs-payroll-loan-title"],this.statusAccessDescription=this.labels["l-preload-message"]):(3===this.statusAccess.code||2===this.statusAccess.code)&&(this.statusAccessTitle=this.labels["l-come-here-loan-title"],this.statusAccessDescription=this.labels["l-preload-working-message"])}translateLabels(){return(0,n.mG)(this,void 0,void 0,function*(){this.labels=yield this.translate.get(["l-totvs-payroll-loan-title","l-come-here-loan-title","l-preload-message","l-preload-working-message"]).toPromise()})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.l),o.Y36(p.g),o.Y36(d.F0),o.Y36(r.sK))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-explanatory"]],viewQuery:function(e,t){if(1&e&&o.Gf(l,5),2&e){let e;o.iGM(e=o.CRH())&&(t.personalData=e.first)}},inputs:{openByComponent:"openByComponent"},ngContentSelectors:M,decls:3,vars:1,consts:[[4,"ngIf"],["page",""],[4,"ngIf","ngIfElse"],["message",""],[3,"authorizedPersonalData"],[1,"po-md-12"],[1,"p-margin","po-md-12"],[1,"p-submargin","po-md-12"],[1,"p-submargin","fix-container","po-md-12"],["p-type","primary",1,"po-mb-ms-4","no-padding","po-sm-12","po-md-2",3,"p-label","p-click"],[3,"title","description"]],template:function(e,t){1&e&&(o.F$t(),o.YNc(0,w,2,2,"ng-container",0),o.YNc(1,C,1,0,"ng-template",null,1,o.W1O)),2&e&&o.Q6J("ngIf",t.initialized)},directives:[g.O5,l,s.bOz,b],pipes:[r.X$],styles:[".no-padding[_ngcontent-%COMP%]{padding:0}.fix-container[_ngcontent-%COMP%]{height:50px}.p-margin[_ngcontent-%COMP%]{margin-top:20px}.p-submargin[_ngcontent-%COMP%]{margin-top:15px}.message-error[_ngcontent-%COMP%]{font-weight:bold;margin-bottom:55px}.ico[_ngcontent-%COMP%]{color:#0c9abe;margin-right:5px}"]}),e})()},28601:function(e,t,i){"use strict";i.d(t,{h:function(){return h}});var n=i(64762),o=i(37716),s=i(44956),a=i(34668),r=i(84479),l=i(95987),c=i(96054),p=i(29790),d=i(38583);function g(e,t){1&e&&(o.TgZ(0,"h1",8),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"l-personal-data-title")))}function u(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",9),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().decline()}),o.ALo(1,"translate"),o.qZA()}2&e&&o.Q6J("p-label",o.lcZ(1,1,"l-deny"))}let h=(()=>{class e{constructor(e,t,i,n,s){this.service=e,this.windowUtilService=t,this.router=i,this.notificationService=n,this.translate=s,this.labels=[],this.renderedByModal=!1,this.authorizedPersonalData=new o.vpe,this.closeModal=new o.vpe}ngOnInit(){return(0,n.mG)(this,void 0,void 0,function*(){this.viewIsMobile=this.windowUtilService.isMobileDevice(),this.labels=yield this.translate.get(["l-success-authorized-personal-data","l-error-authorized-personal-data"]).toPromise()})}authorizePersonalData(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.service.authorizeUsePersonalData(),this.notificationService.showNotification(this.labels["l-success-authorized-personal-data"],s.ik9.Success),this.viewIsMobile?this.router.navigate(["menu","payrollLoan","l-totvs-payroll-loan-title"]):this.renderedByModal?this.authorizedPersonalData.next(!0):this.router.navigate(["payrollLoan","revokePersonalData"])})}decline(){this.notificationService.showNotification(this.labels["l-error-authorized-personal-data"],s.ik9.Error),this.closeModal.next()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(a.l),o.Y36(r.g),o.Y36(l.F0),o.Y36(c.g),o.Y36(p.sK))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-personal-data"]],inputs:{renderedByModal:"renderedByModal"},outputs:{authorizedPersonalData:"authorizedPersonalData",closeModal:"closeModal"},decls:50,vars:53,consts:[[1,"text-align","po-md-12"],["class","po-md-12",4,"ngIf"],[1,"po-md-12","po-font-text-large-bold",3,"innerHTML"],[1,"po-md-12",3,"innerHTML"],[1,"list-items","po-md-12"],[1,"highlighter","po-md-12"],["class","po-sm-6 po-md-3 po-lg-2 po-xl-2","p-type","danger",3,"p-label","p-click",4,"ngIf"],["p-type","primary",1,"po-sm-6","po-md-4","po-lg-3","po-xl-2",3,"p-label","p-click"],[1,"po-md-12"],["p-type","danger",1,"po-sm-6","po-md-3","po-lg-2","po-xl-2",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,g,3,3,"h1",1),o._UZ(2,"p",2),o.ALo(3,"translate"),o._UZ(4,"p",3),o.ALo(5,"translate"),o._UZ(6,"p",2),o.ALo(7,"translate"),o.TgZ(8,"div",4),o.TgZ(9,"ul",5),o.TgZ(10,"li"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"li"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"li"),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"li"),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"li"),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.qZA(),o.qZA(),o._UZ(25,"p",3),o.ALo(26,"translate"),o._UZ(27,"p",2),o.ALo(28,"translate"),o.TgZ(29,"div",4),o.TgZ(30,"ul",5),o.TgZ(31,"li"),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"li"),o._uU(35),o.ALo(36,"translate"),o.qZA(),o.TgZ(37,"li"),o._uU(38),o.ALo(39,"translate"),o.qZA(),o.TgZ(40,"li"),o._uU(41),o.ALo(42,"translate"),o.qZA(),o.qZA(),o.qZA(),o._UZ(43,"p",3),o.ALo(44,"translate"),o._UZ(45,"p",3),o.ALo(46,"translate"),o.YNc(47,u,2,3,"po-button",6),o.TgZ(48,"po-button",7),o.NdJ("p-click",function(){return t.authorizePersonalData()}),o.ALo(49,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",!t.renderedByModal),o.xp6(1),o.Q6J("innerHTML",o.lcZ(3,19,"l-personal-data-consent-subtitle"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(5,21,"l-personal-data-body"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(7,23,"l-personal-data-consent"),o.oJD),o.xp6(5),o.hij("",o.lcZ(12,25,"l-cpf"),";"),o.xp6(3),o.hij("",o.lcZ(15,27,"l-functional-registration"),";"),o.xp6(3),o.hij("",o.lcZ(18,29,"l-admission-date"),";"),o.xp6(3),o.hij("",o.lcZ(21,31,"l-monthly-salary"),";"),o.xp6(3),o.hij("",o.lcZ(24,33,"l-consignable-margin"),"."),o.xp6(2),o.Q6J("innerHTML",o.lcZ(26,35,"l-personal-data-body2"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(28,37,"l-personal-data-body3"),o.oJD),o.xp6(5),o.Oqu(o.lcZ(33,39,"l-personal-data-body4")),o.xp6(3),o.Oqu(o.lcZ(36,41,"l-personal-data-body5")),o.xp6(3),o.Oqu(o.lcZ(39,43,"l-personal-data-body6")),o.xp6(3),o.Oqu(o.lcZ(42,45,"l-personal-data-body7")),o.xp6(2),o.Q6J("innerHTML",o.lcZ(44,47,"l-personal-data-body8"),o.oJD),o.xp6(2),o.Q6J("innerHTML",o.lcZ(46,49,"l-personal-data-body9"),o.oJD),o.xp6(2),o.Q6J("ngIf",t.renderedByModal),o.xp6(1),o.Q6J("p-label",o.lcZ(49,51,"l-authorize")))},directives:[d.O5,s.bOz],pipes:[p.X$],styles:[".highlighter[_ngcontent-%COMP%]{list-style-type:disc}.list-items[_ngcontent-%COMP%]{margin-left:10px}.p-margin[_ngcontent-%COMP%]{margin-top:15px}.text-align[_ngcontent-%COMP%]{text-align:justify}"]}),e})()},34668:function(e,t,i){"use strict";i.d(t,{l:function(){return l}});var n=i(64762),o=i(59708),s=i(91956),a=i(37716);const r="rh/payrollLoan/v1";let l=(()=>{class e{constructor(e){this.service=e,this.statusAccess=new s.Z}getAuthorizedUsePersonalData(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.service.get(`${r}/registrations/authorizedUsePersonalData`)).response})}authorizeUsePersonalData(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.service.put(`${r}/registrations/authorizeUsePersonalData`,!0)).response})}revokePersonalData(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.service.put(`${r}/registrations/revokeUsePersonalData`,!0)).response})}getStatusAccess(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.service.get(`${r}/registrations/status`);return this.statusAccess.setCurrentState(e),e})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.M))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},77859:function(e,t,i){"use strict";i.d(t,{d:function(){return wt}});var n=i(37716),o=i(88002),s=i(14833),a=i(81059),r=i(97983),l=i(66163),c=i(81483),p=i(37794),d=i(64762),g=i(36812),u=i(3679),h=i(38583),m=i(44956),f=i(29790);const v=["dddInput"],b=["phoneInput"],x=["extensionInput"],y=["dddInputNgModel"],Z=["phoneInputNgModel"],w=["extensionInputNgModel"];function C(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",4,5),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().DDDModel=t}),n.ALo(3,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.Tol(e.DDDClass),n.s9C("p-label",n.lcZ(3,7,"l-phone-area-code")),n.Q6J("name",e.DDDName)("p-required",e.DDDIsRequired())("p-disabled",e.DDDDisabled)("ngModel",e.DDDModel)}}function M(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",6,7),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().phoneModel=t}),n.qZA()}if(2&e){const e=n.oxw();n.Tol(e.phoneClass),n.Q6J("name",e.phoneName)("p-label",e.phoneLabel)("p-required",e.phoneIsRequired())("p-disabled",e.phoneDisabled)("ngModel",e.phoneModel)}}function A(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",8,9),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().extensionModel=t}),n.ALo(3,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.Tol(e.extensionClass),n.s9C("p-label",n.lcZ(3,7,"l-phone-ext")),n.Q6J("name",e.extensionName)("p-required",e.extensionRequired)("p-disabled",e.extensionDisabled)("ngModel",e.extensionModel)}}let P=(()=>{class e{constructor(){this.DDDModelChange=new n.vpe,this.phoneModelChange=new n.vpe,this.extensionModelChange=new n.vpe,this.onValidationChange=()=>{}}set DDDModel(e){this._dddModel=e,this.DDDModelChange.emit(e),this.validationChange()}set phoneModel(e){this._phoneModel=e,this.phoneModelChange.emit(e),this.validationChange()}set extensionModel(e){this._extensionModel=e,this.extensionModelChange.emit(e),this.validationChange()}get DDDModel(){return this._dddModel}get phoneModel(){return this._phoneModel}get extensionModel(){return this._extensionModel}DDDIsRequired(){return this.DDDRequired||this.showPhone&&null!=this.phoneModel&&""!==this.phoneModel}phoneIsRequired(){return this.phoneRequired||this.showDDD&&null!=this.DDDModel&&""!==this.DDDModel.toString()}validate(){const e=this.dddInput?this.dddInput.validate(this.dddInputNgModel.control):null,t=this.phoneInput?this.phoneInput.validate(this.phoneInputNgModel.control):null,i=this.extensionInput?this.extensionInput.validate(this.extensionInputNgModel.control):null;return e||t||i||null}registerOnValidatorChange(e){this.onValidationChange=e}registerOnChange(){}registerOnTouched(){}writeValue(){}setDisabledState(e){this.DDDDisabled=e,this.phoneDisabled=e,this.extensionDisabled=e}validationChange(){setTimeout(()=>{this.onValidationChange()},0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-phone-edit"]],viewQuery:function(e,t){if(1&e&&(n.Gf(v,5),n.Gf(b,5),n.Gf(x,5),n.Gf(y,5),n.Gf(Z,5),n.Gf(w,5)),2&e){let e;n.iGM(e=n.CRH())&&(t.dddInput=e.first),n.iGM(e=n.CRH())&&(t.phoneInput=e.first),n.iGM(e=n.CRH())&&(t.extensionInput=e.first),n.iGM(e=n.CRH())&&(t.dddInputNgModel=e.first),n.iGM(e=n.CRH())&&(t.phoneInputNgModel=e.first),n.iGM(e=n.CRH())&&(t.extensionInputNgModel=e.first)}},inputs:{showDDD:"showDDD",DDDName:"DDDName",DDDRequired:"DDDRequired",DDDDisabled:"DDDDisabled",DDDClass:"DDDClass",DDDModel:"DDDModel",showPhone:"showPhone",phoneName:"phoneName",phoneLabel:"phoneLabel",phoneRequired:"phoneRequired",phoneDisabled:"phoneDisabled",phoneClass:"phoneClass",phoneModel:"phoneModel",showExtension:"showExtension",extensionName:"extensionName",extensionRequired:"extensionRequired",extensionDisabled:"extensionDisabled",extensionClass:"extensionClass",extensionModel:"extensionModel"},outputs:{DDDModelChange:"DDDModelChange",phoneModelChange:"phoneModelChange",extensionModelChange:"extensionModelChange"},features:[n._Bn([{provide:u.JU,useExisting:(0,n.Gpc)(()=>e),multi:!0},{provide:u.Cf,useExisting:(0,n.Gpc)(()=>e),multi:!0}])],decls:4,vars:3,consts:[[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["p-clean","true","p-pattern","^\\d{2}$",3,"name","p-label","p-required","p-disabled","ngModel","class","ngModelChange",4,"ngIf"],["p-clean","true","p-pattern","^\\d{4,5}-?\\d{4}$","p-mask","99999?-9999",3,"name","p-label","p-required","p-disabled","ngModel","class","ngModelChange",4,"ngIf"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","class","ngModelChange",4,"ngIf"],["p-clean","true","p-pattern","^\\d{2}$",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"],["dddInput","","dddInputNgModel","ngModel"],["p-clean","true","p-pattern","^\\d{4,5}-?\\d{4}$","p-mask","99999?-9999",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"],["phoneInput","","phoneInputNgModel","ngModel"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"],["extensionInput","","extensionInputNgModel","ngModel"]],template:function(e,t){1&e&&(n.TgZ(0,"span",0),n.YNc(1,C,4,9,"po-input",1),n.YNc(2,M,3,7,"po-input",2),n.YNc(3,A,4,9,"po-input",3),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",t.showDDD),n.xp6(1),n.Q6J("ngIf",t.showPhone),n.xp6(1),n.Q6J("ngIf",t.showExtension))},directives:[h.O5,m.xxV,u.JJ,u.On],pipes:[f.X$],styles:[""]}),e})();function O(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-email",10),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().email.email=t}),n.ALo(1,"translate"),n.ALo(2,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.s9C("p-label",n.lcZ(1,5,"l-email")),n.s9C("p-error-pattern",n.lcZ(2,7,"m-email-invalid")),n.Q6J("p-required",e.email&&e.email.props&&e.email.props.required)("p-disabled",!(e.email&&e.email.props&&e.email.props.editable))("ngModel",e.email.email)}}let q=(()=>{class e{constructor(e,t){this.profileHelper=e,this.profileService=t,this.close=new n.vpe}ngOnInit(){this.createObjectEmpty(),this.processPhoneAndEmail()}createObjectEmpty(){this.phone||(this.phone={id:void 0,number:void 0,_default:void 0}),this.extension||(this.extension={id:void 0,number:void 0,_default:void 0})}processPhoneAndEmail(){this.profile&&this.profile.contacts&&(this.email=this.profileHelper.getDefaultEmail(this.profile.contacts.emails),this.phone=this.profileHelper.geDefaultPhoneAndExtension(this.profile.contacts.phones,!0),this.extension=this.profileHelper.geDefaultPhoneAndExtension(this.profile.contacts.phones,!1))}getPhoneProps(e,t){if(e&&e.props){let i=e.props.find(e=>e.field===t);return i||(i=this.getDefaultProps(t)),i}return this.getDefaultProps(t)}getDefaultProps(e){return{field:e,visible:!0,editable:!1,required:!1}}saveGeneral(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.profileHelper.getTeamEmployeeId();this.organizePhone(this.phone),this.organizePhone(this.extension),this.organizeEmail(),this.profileService.saveContacts(e,this.profile.contacts).then(()=>{this.profileHelper.showMessageSuccess("l-msg-save-success"),this.closeDialog(this.profile)}).catch(e=>{this.profileHelper.showMessageError(e.message)})})}organizePhone(e){if(e){const t=[];this.profile.contacts.phones.forEach(i=>{t.push(i.id===e.id?e:i)}),this.profile.contacts.phones=t}}organizeEmail(){if(this.email){const e=[];this.profile.contacts.emails.forEach(t=>{e.push(t.id===this.email.id?this.email:t)}),this.profile.contacts.emails=e}}closeDialog(e){this.close.emit(e)}phoneOrganize(e){return`(${e.ddd}) ${e.number}`}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.e),n.Y36(r.H))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-general-information-edit"]],inputs:{profile:"profile"},outputs:{close:"close"},decls:14,vars:24,consts:[["backIsVisible","true","pageTitle","l-general-information",3,"backFunction"],["generalEditForm","ngForm"],[1,"po-row"],[1,"panel-item-group"],["name","email","p-icon","","p-clean","true","class","po-sm-12 po-md-7 po-lg-7 po-xl-7",3,"p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["name","phone-edit","DDDClass","po-sm-5 po-md-3 po-lg-3 po-xl-3","DDDName","ddd","phoneClass","po-sm-7 po-md-6 po-lg-6 po-xl-6","phoneName","number","extensionClass","po-sm-12 po-md-3 po-lg-3 po-xl-3","extensionName","extension",3,"ngModel","showDDD","DDDRequired","DDDDisabled","DDDModel","showPhone","phoneRequired","phoneDisabled","phoneLabel","phoneModel","showExtension","extensionRequired","extensionDisabled","extensionModel","ngModelChange","DDDModelChange","phoneModelChange","extensionModelChange"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true",3,"p-label","p-disabled","p-click"],["name","email","p-icon","","p-clean","true",1,"po-sm-12","po-md-7","po-lg-7","po-xl-7",3,"p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(n.TgZ(0,"app-page-header",0),n.NdJ("backFunction",function(){return t.closeDialog()}),n.qZA(),n.TgZ(1,"form",null,1),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n.YNc(5,O,3,9,"po-email",4),n.TgZ(6,"span",5),n.TgZ(7,"app-phone-edit",6),n.NdJ("ngModelChange",function(e){return t.phone.number=e})("DDDModelChange",function(e){return t.phone&&(t.phone.ddd=e)})("phoneModelChange",function(e){return t.phone&&(t.phone.number=e)})("extensionModelChange",function(e){return t.extension&&(t.extension.number=e)}),n.ALo(8,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",7),n.TgZ(10,"po-button",8),n.NdJ("p-click",function(){return t.closeDialog()}),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"po-button",9),n.NdJ("p-click",function(){return t.saveGeneral()}),n.ALo(13,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(2);n.xp6(5),n.Q6J("ngIf",t.email&&t.email.props&&t.email.props.visible),n.xp6(2),n.s9C("phoneLabel",n.lcZ(8,18,"l-phone-work")),n.Q6J("ngModel",t.phone.number)("showDDD",t.getPhoneProps(t.phone,"ddd").visible)("DDDRequired",t.getPhoneProps(t.phone,"ddd").required)("DDDDisabled",!t.getPhoneProps(t.phone,"ddd").editable)("DDDModel",null==t.phone?null:t.phone.ddd)("showPhone",t.getPhoneProps(t.phone,"number").visible)("phoneRequired",t.getPhoneProps(t.phone,"number").required)("phoneDisabled",!t.getPhoneProps(t.phone,"number").editable)("phoneModel",null==t.phone?null:t.phone.number)("showExtension",t.getPhoneProps(t.extension,"number").visible)("extensionRequired",t.getPhoneProps(t.extension,"number").required)("extensionDisabled",!t.getPhoneProps(t.extension,"number").editable)("extensionModel",null==t.extension?null:t.extension.number),n.xp6(3),n.s9C("p-label",n.lcZ(11,20,"l-cancel")),n.xp6(2),n.s9C("p-label",n.lcZ(13,22,"l-confirm")),n.Q6J("p-disabled",!e.form.valid)}},directives:[g.q,u._Y,u.JL,u.F,h.O5,P,u.JJ,u.On,m.bOz,m.Tji],pipes:[f.X$],styles:[".label-edit[_ngcontent-%COMP%]{color:#4a5c60;margin-bottom:2px;margin-top:2px}.cancel-button[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]     po-field-container-bottom .po-field-container-bottom{height:auto!important}"]}),e})();var T=i(92340),_=i(9789),S=i(64383),I=i(95987),D=i(57706);function k(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",12),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().profileView.personalData.nickname=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.s9C("p-label",n.lcZ(1,4,"l-nickname")),n.Q6J("p-required",e.getPersonalDataProps(e.profile,"personalData.nickname").required)("p-disabled",!e.getPersonalDataProps(e.profile,"personalData.nickname").editable)("ngModel",e.profileView.personalData.nickname)}}function L(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",13),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().profileView.personalData.gender=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.s9C("p-label",n.lcZ(1,4,"l-gender")),n.Q6J("p-required",e.getPersonalDataProps(e.profile,"personalData.gender").required)("p-disabled",!e.getPersonalDataProps(e.profile,"personalData.gender").editable)("ngModel",e.profileView.personalData.gender)}}function N(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-datepicker",14),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().bornDate=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.s9C("p-label",n.lcZ(1,4,"l-born-date")),n.Q6J("p-required",e.getPersonalDataProps(e.profile,"personalData.bornDate").required)("p-disabled",!e.getPersonalDataProps(e.profile,"personalData.bornDate").editable)("ngModel",e.bornDate)}}function E(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",15),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().country=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.s9C("p-label",n.lcZ(1,4,"l-nacionality")),n.Q6J("p-required",e.getPersonalDataProps(e.profile,"personalData.nacionality").required)("p-disabled",!e.getPersonalDataProps(e.profile,"personalData.nacionality").editable)("ngModel",e.country)}}function U(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",16),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().profileView.personalData.bornCity.name=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.s9C("p-label",n.lcZ(1,4,"l-born-city")),n.Q6J("p-required",e.getPersonalDataProps(e.profile,"personalData.bornCity").required)("p-disabled",!e.getPersonalDataProps(e.profile,"personalData.bornCity").editable)("ngModel",e.profileView.personalData.bornCity.name)}}let F=(()=>{class e{constructor(e,t,i){this.profileHelper=e,this.profileService=t,this.momentService=i,this.personalDataEditable=!1,this.viewDialogIsVisible=!1,this.close=new n.vpe}ngOnInit(){this.profileView=this.profileHelper.clone(this.profile),this.profile.personalData.bornDate&&(this.bornDate=c.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.profile.personalData.bornDate))),this.country=this.getCountryName()}getCountryName(){return this.profileHelper.getCountryName(this.profileView.personalData.bornCity)}getFormatedDate(e){return this.momentService.getInstance(e).utc().format("L")}getPersonalDataProps(e,t){return this.profileHelper.getProps(e,t)}savePersonalData(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.profileHelper.getTeamEmployeeId();this.profileView.personalData.bornDate=this.bornDate,this.profileService.savePersonalData(e,this.profileView.personalData).then(e=>{this.profileView.personalData.bornDate=this.bornDate,this.profileHelper.showMessageSuccess("l-msg-save-success"),this.closeDialog(this.profileView)}).catch(e=>{this.profileHelper.showMessageError(e.message)})})}closeDialog(e){this.close.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.e),n.Y36(r.H),n.Y36(S.z))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-personal-edit"]],inputs:{profile:"profile"},outputs:{close:"close"},decls:15,vars:12,consts:[["backIsVisible","true","pageTitle","l-personal-data",3,"backFunction"],["personalDataEditForm","ngForm"],[1,"po-row"],[1,"panel-item-group"],["name","nickname","p-clean","true","class","po-sm-12 po-md-4 po-lg-4 po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","gender","p-clean","true","class","po-sm-12 po-md-4 po-lg-4 po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","bornDate","class","po-sm-12 po-md-4 po-lg-4 po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","nacionality","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","city","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true",3,"p-label","p-disabled","p-click"],["name","nickname","p-clean","true",1,"po-sm-12","po-md-4","po-lg-4","po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","gender","p-clean","true",1,"po-sm-12","po-md-4","po-lg-4","po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","bornDate",1,"po-sm-12","po-md-4","po-lg-4","po-xl-4",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","nacionality",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","city",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(n.TgZ(0,"app-page-header",0),n.NdJ("backFunction",function(){return t.closeDialog()}),n.qZA(),n.TgZ(1,"form",null,1),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n.YNc(5,k,2,6,"po-input",4),n.YNc(6,L,2,6,"po-input",5),n.YNc(7,N,2,6,"po-datepicker",6),n.YNc(8,E,2,6,"po-input",7),n.YNc(9,U,2,6,"po-input",8),n.qZA(),n.qZA(),n.TgZ(10,"div",9),n.TgZ(11,"po-button",10),n.NdJ("p-click",function(){return t.closeDialog()}),n.ALo(12,"translate"),n.qZA(),n.TgZ(13,"po-button",11),n.NdJ("p-click",function(){return t.savePersonalData()}),n.ALo(14,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(2);n.xp6(5),n.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.nickname").visible),n.xp6(1),n.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.gender").visible),n.xp6(1),n.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.bornDate").visible),n.xp6(1),n.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.nacionality").visible),n.xp6(1),n.Q6J("ngIf",t.getPersonalDataProps(t.profile,"personalData.bornCity").visible),n.xp6(2),n.s9C("p-label",n.lcZ(12,8,"l-cancel")),n.xp6(2),n.s9C("p-label",n.lcZ(14,10,"l-confirm")),n.Q6J("p-disabled",!e.form.valid)}},directives:[g.q,u._Y,u.JL,u.F,h.O5,m.bOz,m.xxV,u.JJ,u.On,m.GWy],pipes:[f.X$],styles:[".cancel-button[_ngcontent-%COMP%]{margin-right:16px}"]}),e})();const J=["personalDataEdit"];function V(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",11),n.TgZ(1,"div",12),n.NdJ("click",function(){return n.CHM(e),n.oxw().openPersonalDataEdit()}),n._UZ(2,"span",13),n._uU(3,"\xa0 "),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"l-edit-information")))}let R=(()=>{class e{constructor(e,t){this.profileHelper=e,this.momentService=t,this.personalDataEditable=!1,this.viewDialogIsVisible=!1}ngOnInit(){this.processFieldProperties(),this.profile.personalData.bornDate&&(this.bornDate=this.getFormatedDate(this.profile.personalData.bornDate))}getCountryName(e){return e?this.profileHelper.getCountryName(e):null}getFormatedDate(e){return this.momentService.getInstance(e).utc().format("L")}processFieldProperties(){this.profile&&this.profile.props&&this.profile.props.forEach(e=>{this.personalDataEditable||e.editable&&(this.personalDataEditable=!0)})}getPersonalDataProps(e,t){return this.profileHelper.getProps(e,t)}openPersonalDataEdit(){this.viewDialogIsVisible=!0,this.personalDataEdit.ngOnInit()}closeDialog(e){this.viewDialogIsVisible=!1,e&&(this.profile=e)}editEnabled(e){return e&&this.profileHelper.editEnabled(e,["personalData.nickname","personalData.gender","personalData.bornDate","personalData.nacionality","personalData.bornCity"])}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.e),n.Y36(S.z))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-personal"]],viewQuery:function(e,t){if(1&e&&n.Gf(J,5),2&e){let e;n.iGM(e=n.CRH())&&(t.personalDataEdit=e.first)}},inputs:{profile:"profile"},decls:44,vars:32,consts:[[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation"],[1,"panel-heading"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"panel-body"],[1,"po-sm-6","po-md-3","po-lg-3","po-xl-3","panel-item-group",3,"hidden"],["class","panel-footer",4,"ngIf"],["id","personalData-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"profile","close"],["personalDataEdit",""],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"div",0),n.TgZ(8,"span",5),n.TgZ(9,"div"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"div"),n._uU(13),n.qZA(),n.qZA(),n.TgZ(14,"span",5),n.TgZ(15,"div"),n._uU(16),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"div"),n._uU(19),n.qZA(),n.qZA(),n.TgZ(20,"span",5),n.TgZ(21,"div"),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.TgZ(24,"span"),n._uU(25),n.qZA(),n.qZA(),n.qZA(),n.TgZ(26,"div",0),n.TgZ(27,"span",5),n.TgZ(28,"div"),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"div"),n._uU(32),n.qZA(),n.qZA(),n.TgZ(33,"span",5),n.TgZ(34,"div"),n._uU(35),n.ALo(36,"translate"),n.qZA(),n.TgZ(37,"div"),n._uU(38),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.YNc(39,V,7,3,"div",6),n.qZA(),n.qZA(),n.TgZ(40,"app-dialog",7),n.NdJ("closeDialogEvent",function(){return t.closeDialog()}),n.TgZ(41,"div",8),n.TgZ(42,"app-personal-edit",9,10),n.NdJ("close",function(e){return t.closeDialog(e)}),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(n.lcZ(5,20,"l-personal-data")),n.xp6(4),n.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.nickname").visible),n.xp6(2),n.Oqu(n.lcZ(11,22,"l-nickname")),n.xp6(3),n.Oqu(t.profile.personalData.nickname?t.profile.personalData.nickname:"-"),n.xp6(1),n.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.gender").visible),n.xp6(2),n.Oqu(n.lcZ(17,24,"l-gender")),n.xp6(3),n.Oqu(t.profile.personalData.gender?t.profile.personalData.gender:"-"),n.xp6(1),n.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.bornDate").visible),n.xp6(2),n.Oqu(n.lcZ(23,26,"l-born-date")),n.xp6(3),n.Oqu(t.profile.personalData.bornDate?t.getFormatedDate(t.profile.personalData.bornDate):"-"),n.xp6(2),n.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.nacionality").visible),n.xp6(2),n.Oqu(n.lcZ(30,28,"l-nacionality")),n.xp6(3),n.Oqu(t.profile.personalData.bornCity?t.getCountryName(t.profile.personalData.bornCity):"-"),n.xp6(1),n.Q6J("hidden",!t.getPersonalDataProps(t.profile,"personalData.bornCity").visible),n.xp6(2),n.Oqu(n.lcZ(36,30,"l-born-city")),n.xp6(3),n.Oqu(t.profile.personalData.bornCity.name?t.profile.personalData.bornCity.name:"-"),n.xp6(1),n.Q6J("ngIf",t.editEnabled(t.profile)),n.xp6(1),n.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),n.xp6(2),n.Q6J("profile",t.profile))},directives:[h.O5,D.a,F],pipes:[f.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e})();var Y=i(65241),z=i(49344),Q=i(84479);function G(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"app-phone-edit",10),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.number=t})("DDDModelChange",function(t){return n.CHM(e),n.oxw().$implicit.ddd=t})("phoneModelChange",function(t){return n.CHM(e),n.oxw().$implicit.number=t}),n.qZA()}if(2&e){const e=n.oxw(),t=e.index,i=e.$implicit,o=n.oxw(2);let s,a;n.MGl("name","phone-edit-",t,""),n.MGl("DDDName","ddd-",t,""),n.MGl("phoneName","number-",t,""),n.Q6J("ngModel",i.number)("showDDD",null==(s=o.getPhoneProps(i,"ddd"))?null:s.visible)("DDDRequired",o.getPhoneProps(i,"ddd").required)("DDDDisabled",!o.getPhoneProps(i,"ddd").editable)("DDDModel",i.ddd)("showPhone",null==(a=o.getPhoneProps(i,"number"))?null:a.visible)("phoneRequired",o.getPhoneProps(i,"number").required)("phoneDisabled",!o.getPhoneProps(i,"number").editable)("phoneLabel",i.label)("phoneModel",i.number)}}function H(e,t){if(1&e&&(n.ynx(0),n.TgZ(1,"span",8),n.YNc(2,G,1,13,"app-phone-edit",9),n.qZA(),n.BQk()),2&e){const e=t.$implicit;n.xp6(2),n.Q6J("ngIf","ext"!=e.type&&0==e.default)}}function B(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-email",12),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.email=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit;n.MGl("name","email-",e.index,""),n.s9C("p-error-pattern",n.lcZ(1,6,"m-email-invalid")),n.Q6J("p-label",t.label)("p-required",t.props.required)("p-disabled",!t.props.editable)("ngModel",t.email)}}function j(e,t){if(1&e&&(n.ynx(0),n.YNc(1,B,2,8,"po-email",11),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",(null==e.props?null:e.props.visible)&&!e.default)}}function W(e,t){if(1&e&&(n.ynx(0),n.YNc(1,H,3,1,"ng-container",7),n.YNc(2,j,2,1,"ng-container",7),n.BQk()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.contactsView.phones),n.xp6(1),n.Q6J("ngForOf",null==e.contactsView?null:e.contactsView.emails)}}let K=(()=>{class e{constructor(e,t,i,o,s){this.profileHelper=e,this.profileService=t,this.appTranslateService=i,this.toastr=o,this.windowUtilService=s,this.close=new n.vpe}ngOnInit(){this.contactsView=this.profileHelper.clone(this.contacts)}getPhoneProps(e,t){return this.profileHelper.getProps(e,t)}saveContacts(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.profileHelper.getTeamEmployeeId();this.profileService.saveContacts(e,this.contactsView).then(e=>{this.profileHelper.showMessageSuccess("l-msg-save-success"),this.closeDialog(this.contactsView),this.windowUtilService.reloadPage()}).catch(e=>{this.profileHelper.showMessageError(e.message)})})}closeDialog(e){this.close.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.e),n.Y36(r.H),n.Y36(Y.g),n.Y36(z._W),n.Y36(Q.g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-contacts-edit"]],inputs:{contacts:"contacts"},outputs:{close:"close"},decls:10,vars:8,consts:[["backIsVisible","true","pageTitle","l-contacts",3,"backFunction"],["contactsEditForm","ngForm"],[1,"po-row"],[4,"ngIf"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true","p-type","primary",3,"p-label","p-disabled","p-click"],[4,"ngFor","ngForOf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["DDDClass","po-sm-5 po-md-3 po-lg-3 po-xl-3","phoneClass","po-sm-7 po-md-6 po-lg-6 po-xl-6 label-overflow",3,"ngModel","name","showDDD","DDDName","DDDRequired","DDDDisabled","DDDModel","showPhone","phoneName","phoneRequired","phoneDisabled","phoneLabel","phoneModel","ngModelChange","DDDModelChange","phoneModelChange",4,"ngIf"],["DDDClass","po-sm-5 po-md-3 po-lg-3 po-xl-3","phoneClass","po-sm-7 po-md-6 po-lg-6 po-xl-6 label-overflow",3,"ngModel","name","showDDD","DDDName","DDDRequired","DDDDisabled","DDDModel","showPhone","phoneName","phoneRequired","phoneDisabled","phoneLabel","phoneModel","ngModelChange","DDDModelChange","phoneModelChange"],["p-icon","","p-clean","true","class","po-sm-12 po-md-7 po-lg-7 po-xl-7",3,"name","p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["p-icon","","p-clean","true",1,"po-sm-12","po-md-7","po-lg-7","po-xl-7",3,"name","p-label","p-error-pattern","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(n.TgZ(0,"app-page-header",0),n.NdJ("backFunction",function(){return t.closeDialog()}),n.qZA(),n.TgZ(1,"form",null,1),n.TgZ(3,"div",2),n.YNc(4,W,3,2,"ng-container",3),n.qZA(),n.TgZ(5,"div",4),n.TgZ(6,"po-button",5),n.NdJ("p-click",function(){return t.closeDialog()}),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"po-button",6),n.NdJ("p-click",function(){return t.saveContacts()}),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(2);n.xp6(4),n.Q6J("ngIf",t.contactsView&&(null==t.contactsView?null:t.contactsView.phones)),n.xp6(2),n.s9C("p-label",n.lcZ(7,4,"l-cancel")),n.xp6(2),n.s9C("p-label",n.lcZ(9,6,"l-confirm")),n.Q6J("p-disabled",!e.form.valid)}},directives:[g.q,u._Y,u.JL,u.F,h.O5,m.bOz,h.sg,P,u.JJ,u.On,m.Tji],pipes:[f.X$],styles:[".ddd[_ngcontent-%COMP%]{padding-right:8px!important}.label-edit[_ngcontent-%COMP%]{padding-left:8px}.cancel-button[_ngcontent-%COMP%]{margin-right:16px}[_nghost-%COMP%]     po-field-container-bottom .po-field-container-bottom{height:auto!important}"]}),e})();const X=["contactsEdit"];function ee(e,t){if(1&e&&(n.TgZ(0,"span",13),n.TgZ(1,"div"),n._uU(2),n.qZA(),n.TgZ(3,"a",14),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.Oqu(e.label),n.xp6(1),n.MGl("href","tel: ",t.formatPhone(e)," ? ''",n.LSH),n.xp6(2),n.Oqu(e.number?t.formatPhone(e):"-")}}function te(e,t){if(1&e&&(n.ynx(0),n.YNc(1,ee,6,3,"span",12),n.BQk()),2&e){const e=t.$implicit,i=n.oxw(2);let o;n.xp6(1),n.Q6J("ngIf","ext"!=e.type&&0==e.default&&(null==(o=i.getPhoneProps(e,"number"))?null:o.visible))}}function ie(e,t){if(1&e&&(n.TgZ(0,"span",13),n.TgZ(1,"div"),n._uU(2),n.qZA(),n.TgZ(3,"a",14),n.TgZ(4,"div",15),n._uU(5),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.label),n.xp6(1),n.MGl("href","mailto: ",e.email,"",n.LSH),n.xp6(2),n.Oqu(e.email?e.email:"-")}}function ne(e,t){if(1&e&&(n.ynx(0),n.YNc(1,ie,6,3,"span",12),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",(null==e.props?null:e.props.visible)&&!e.default)}}function oe(e,t){if(1&e&&(n.TgZ(0,"div",10),n.YNc(1,te,2,1,"ng-container",11),n.YNc(2,ne,2,1,"ng-container",11),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.contacts.phones),n.xp6(1),n.Q6J("ngForOf",e.contacts.emails)}}function se(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",16),n.TgZ(1,"div",17),n.NdJ("click",function(){return n.CHM(e),n.oxw().openContactEdit()}),n._UZ(2,"span",18),n._uU(3,"\xa0 "),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"l-edit-information")))}let ae=(()=>{class e{constructor(e){this.profileHelper=e,this.viewDialogIsVisible=!1}ngOnInit(){this.parsePhoneLabel(),this.parseEmailLabel()}parseEmailLabel(){this.contacts&&this.contacts.emails&&this.contacts.emails.forEach(e=>{this.profileHelper.getDefaultTypeLabel("email-"+e.type,e.label).then(t=>e.label=t)})}parsePhoneLabel(){this.contacts&&this.contacts.phones&&this.contacts.phones.forEach(e=>{this.profileHelper.getDefaultTypeLabel("phone-"+e.type,e.label).then(t=>e.label=t)})}formatPhone(e){return this.profileHelper.formatPhone(e)}openContactEdit(){this.viewDialogIsVisible=!0,this.contactsEdit.ngOnInit()}closeDialog(e){this.viewDialogIsVisible=!1,e&&(this.contacts=e)}getPhoneProps(e,t){return this.profileHelper.getProps(e,t)}editEnabled(e){if(!e)return!1;const t=e.phones&&e.phones.filter(e=>!e.default).some(e=>this.profileHelper.editEnabled(e,["number","ddd"])),i=e.emails&&e.emails.filter(e=>!e.default).some(e=>e.props&&e.props.editable);return t||i}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.e))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-contacts"]],viewQuery:function(e,t){if(1&e&&n.Gf(X,5),2&e){let e;n.iGM(e=n.CRH())&&(t.contactsEdit=e.first)}},inputs:{contacts:"contacts"},decls:12,vars:8,consts:[[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation"],[1,"panel-heading"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["class","panel-body po-row",4,"ngIf"],["class","panel-footer",4,"ngIf"],["id","contacts-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"contacts","close"],["contactsEdit",""],[1,"panel-body","po-row"],[4,"ngFor","ngForOf"],["class","po-sm-6 po-md-4 po-lg-3 po-xl-3 panel-item-group",4,"ngIf"],[1,"po-sm-6","po-md-4","po-lg-3","po-xl-3","panel-item-group"],[3,"href"],[1,"fit-text"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"span",3),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.YNc(6,oe,3,2,"div",4),n.YNc(7,se,7,3,"div",5),n.qZA(),n.qZA(),n.TgZ(8,"app-dialog",6),n.NdJ("closeDialogEvent",function(){return t.closeDialog()}),n.TgZ(9,"div",7),n.TgZ(10,"app-contacts-edit",8,9),n.NdJ("close",function(e){return t.closeDialog(e)}),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(n.lcZ(5,6,"l-contacts")),n.xp6(2),n.Q6J("ngIf",t.contacts&&t.contacts.phones),n.xp6(1),n.Q6J("ngIf",t.editEnabled(t.contacts)),n.xp6(1),n.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),n.xp6(2),n.Q6J("contacts",t.contacts))},directives:[h.O5,D.a,K,h.sg],pipes:[f.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e})();var re=i(98348),le=i(2187),ce=i(92060),pe=i(69030);function de(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",19),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.addressType.name=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-address-type")),n.Q6J("p-required",e.getAddressProps(e.addressView,"addressType").required)("p-disabled",!e.getAddressProps(e.addressView,"addressType").editable)("ngModel",e.addressView.addressType.name)}}function ge(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",20),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.name=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-address")),n.Q6J("p-required",e.getAddressProps(e.addressView,"name").required)("p-disabled",!e.getAddressProps(e.addressView,"name").editable)("ngModel",e.addressView.name)}}function ue(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",21),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.number=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-number")),n.Q6J("p-required",e.getAddressProps(e.addressView,"number").required)("p-disabled",!e.getAddressProps(e.addressView,"number").editable)("ngModel",e.addressView.number)}}function he(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",22),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.complement=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-complement")),n.Q6J("p-required",e.getAddressProps(e.addressView,"complement").required)("p-disabled",!e.getAddressProps(e.addressView,"complement").editable)("ngModel",e.addressView.complement)}}function me(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",23),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.neighborhood=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-neighborhood")),n.Q6J("p-required",e.getAddressProps(e.addressView,"neighborhood").required)("p-disabled",!e.getAddressProps(e.addressView,"neighborhood").editable)("ngModel",e.addressView.neighborhood)}}function fe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",24),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.zipcode=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-zip-code")),n.Q6J("p-required",e.getAddressProps(e.addressView,"zipCode").required)("p-disabled",!e.getAddressProps(e.addressView,"zipCode").editable)("ngModel",e.addressView.zipcode)}}function ve(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-combo",25),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).country=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,5,"l-country")),n.Q6J("p-required",e.getAddressProps(e.addressView,"city.state.country").required)("p-disabled",!e.getAddressProps(e.addressView,"city.state.country").editable)("ngModel",e.country)("p-filter-service",e.countryComboService)}}function be(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-combo",26),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.city.state.id=t})("p-change",function(){return n.CHM(e),n.oxw(2).changeState()}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,6,"l-state")),n.Q6J("p-required",e.getAddressProps(e.addressView,"city.state").required)("p-disabled",!e.getAddressProps(e.addressView,"city.state").editable)("ngModel",e.addressView.city.state.id)("p-filter-service",e.stateComboService)("p-filter-params",e.country)}}function xe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-combo",27),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.city.id=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,5,"l-city")),n.Q6J("p-required",e.getAddressProps(e.addressView,"city").required)("p-disabled",!e.getAddressProps(e.addressView,"city").editable)("ngModel",e.addressView.city.id)("p-options",e.cityOptions)}}function ye(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",28),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw(2).addressView.city.name=t}),n.ALo(1,"translate"),n.qZA()}if(2&e){const e=n.oxw(2);n.s9C("p-label",n.lcZ(1,4,"l-city")),n.Q6J("p-required",e.getAddressProps(e.addressView,"city").required)("p-disabled",!e.getAddressProps(e.addressView,"city").editable)("ngModel",e.addressView.city.name)}}function Ze(e,t){if(1&e&&(n.TgZ(0,"div",7),n.TgZ(1,"div",8),n.YNc(2,de,2,6,"po-input",9),n.YNc(3,ge,2,6,"po-input",10),n.YNc(4,ue,2,6,"po-input",11),n.YNc(5,he,2,6,"po-input",12),n.YNc(6,me,2,6,"po-input",13),n.YNc(7,fe,2,6,"po-input",14),n.YNc(8,ve,2,7,"po-combo",15),n.YNc(9,be,2,8,"po-combo",16),n.YNc(10,xe,2,7,"po-combo",17),n.YNc(11,ye,2,6,"po-input",18),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Q6J("ngIf",e.getAddressProps(e.addressView,"addressType").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"name").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"number").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"complement").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"neighborhood").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"zipCode").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"city.state.country").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"city.state").visible),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"city").visible&&e.isDatasul()),n.xp6(1),n.Q6J("ngIf",e.getAddressProps(e.addressView,"city").visible&&!e.isDatasul())}}let we=(()=>{class e{constructor(e,t,i,o,s){this.countryComboService=e,this.stateComboService=t,this.localeService=i,this.profileService=o,this.profileHelper=s,this.close=new n.vpe,this.employeeCard=new l.J,this.cityOptions=[],this.countryOptions=[],this.stateOptions=[]}ngOnInit(){this.addressView=this.profileHelper.clone(this.address),this.createObjectEmpty(),this.country=void 0,this.address&&this.address.city&&(this.country=this.getCountry(this.address.city)),this.countryComboService.getFilteredData({value:""}).subscribe(e=>{this.countryOptions=e}),this.stateComboService.getFilteredData({value:""},this.country).subscribe(e=>{this.stateOptions=e}),this.isDatasul()&&this.changeState()}isDatasul(){return re.ZP.isErpDatasul()}viewIsDefined(){return void 0!==this.addressView}getAddressProps(e,t){return this.profileHelper.getProps(e,t)}getCountry(e){return this.profileHelper.getCountryId(e)}closeDialog(e,t){t||(this.country="",this.addressView.city.state.id="",this.addressView.city.id=""),this.close.emit(e)}changeCountry(){return(0,d.mG)(this,void 0,void 0,function*(){this.country||(this.addressView.city.state.id="",this.addressView.city.name="")})}changeState(){return(0,d.mG)(this,void 0,void 0,function*(){this.localeService.getCities(void 0,void 0,void 0,this.addressView.city.state.id).then(e=>{var t,i;if(e.items){const n=null===(i=null===(t=this.addressView)||void 0===t?void 0:t.city)||void 0===i?void 0:i.id;this.cityOptions=e.items.map(e=>({value:e.id,label:e.name})),this.addressView.city.id=null,setTimeout(()=>{this.addressView.city.id=n},0)}})})}saveAddress(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.profileHelper.getTeamEmployeeId();this.validateAddress()&&(this.checkAddressType(),this.profileHelper.processState(this.addressView.city).then(e=>this.addressView.city=e).then(()=>this.profileHelper.processCountry(this.addressView.city,this.country)).then(e=>this.addressView.city=e).then(()=>{this.isDatasul()&&this.profileHelper.processCity(this.addressView.city)}).then(()=>{this.isDatasul()&&this.addressView.city&&(this.addressView.city.name=this.cityOptions.filter(e=>e.value===this.addressView.city.id)[0].label),this.profileService.saveAddress(e,this.addressView).then(()=>{this.profileHelper.showMessageSuccess("l-msg-save-success"),this.closeDialog(this.addressView,!0)}).catch(e=>{this.profileHelper.showMessageError(e.message)})}))})}checkAddressType(){this.addressView&&this.addressView.addressType&&void 0===this.addressView.addressType.id&&(this.addressView.addressType=void 0)}createObjectEmpty(){this.addressView.addressType||(this.addressView.addressType={name:void 0,id:void 0}),this.addressView.city||(this.addressView.city={id:void 0,name:void 0,state:{id:void 0,abbr:void 0,name:void 0}})}validateAddress(){var e,t,i;return null==this.addressView?(this.profileHelper.showMessageError("l-address-required"),!1):this.country?null!=(null===(e=this.addressView.city)||void 0===e?void 0:e.state)&&(null===(t=this.addressView.city)||void 0===t?void 0:t.state.id)&&(null===(i=this.addressView.city)||void 0===i?void 0:i.state.id.trim())?(!this.isDatasul()||null!=this.addressView.city&&this.addressView.city.id)&&!!(this.isDatasul()||null!=this.addressView.city&&this.addressView.city.name&&this.addressView.city.name.trim())||(this.profileHelper.showMessageError("l-city-required"),!1):(this.profileHelper.showMessageError("l-state-required"),!1):(this.profileHelper.showMessageError("l-country-required"),!1)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(le.p),n.Y36(pe.H),n.Y36(ce.O),n.Y36(r.H),n.Y36(p.e))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-address-edit"]],inputs:{address:"address"},outputs:{close:"close"},decls:10,vars:8,consts:[["backIsVisible","true","pageTitle","l-address",3,"backFunction"],["addressEditForm","ngForm"],["class","po-row",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"pull-right"],[1,"cancel-button",3,"p-label","p-click"],["p-primary","true","p-type","primary",3,"p-disabled","p-label","p-click"],[1,"po-row"],[1,"panel-item-group"],["name","address-type","p-clean","true","class","po-sm-12 po-md-3 po-lg-3 po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","address","p-clean","true","class","po-sm-12 po-md-9 po-lg-9 po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","number","p-clean","true","class","po-sm-12 po-md-3 po-lg-3 po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","complement","p-clean","true","class","po-sm-12 po-md-9 po-lg-9 po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","neighborhood","p-clean","true","class","po-sm-12 po-md-9 po-lg-9 po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","zipcode","p-clean","true","class","po-sm-12 po-md-6 po-lg-3 po-xl-3","p-pattern","^\\d{8}$",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","combo-country","p-field-label","name","p-field-value","id","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","ngModelChange",4,"ngIf"],["name","combo-state","p-field-label","name","p-field-value","id","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","p-filter-params","ngModelChange","p-change",4,"ngIf"],["name","combo-city","p-filter-minlength","3","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-options","ngModelChange",4,"ngIf"],["name","city","class","po-sm-12 po-md-6 po-lg-6 po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["name","address-type","p-clean","true",1,"po-sm-12","po-md-3","po-lg-3","po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","address","p-clean","true",1,"po-sm-12","po-md-9","po-lg-9","po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","number","p-clean","true",1,"po-sm-12","po-md-3","po-lg-3","po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","complement","p-clean","true",1,"po-sm-12","po-md-9","po-lg-9","po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","neighborhood","p-clean","true",1,"po-sm-12","po-md-9","po-lg-9","po-xl-9",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","zipcode","p-clean","true","p-pattern","^\\d{8}$",1,"po-sm-12","po-md-6","po-lg-3","po-xl-3",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"],["name","combo-country","p-field-label","name","p-field-value","id",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","ngModelChange"],["name","combo-state","p-field-label","name","p-field-value","id",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-filter-service","p-filter-params","ngModelChange","p-change"],["name","combo-city","p-filter-minlength","3",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","p-options","ngModelChange"],["name","city",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(n.TgZ(0,"app-page-header",0),n.NdJ("backFunction",function(){return t.closeDialog()}),n.qZA(),n.TgZ(1,"form",null,1),n.YNc(3,Ze,12,10,"div",2),n.TgZ(4,"div",3),n.TgZ(5,"div",4),n.TgZ(6,"po-button",5),n.NdJ("p-click",function(){return t.closeDialog()}),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"po-button",6),n.NdJ("p-click",function(){return t.saveAddress()}),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(2);n.xp6(3),n.Q6J("ngIf",t.viewIsDefined()),n.xp6(3),n.s9C("p-label",n.lcZ(7,4,"l-cancel")),n.xp6(2),n.s9C("p-label",n.lcZ(9,6,"l-confirm")),n.Q6J("p-disabled",!e.form.valid)}},directives:[g.q,u._Y,u.JL,u.F,h.O5,m.bOz,m.xxV,u.JJ,u.On,m.ZZR],pipes:[f.X$],styles:[".cancel-button[_ngcontent-%COMP%]{margin-right:16px}"]}),e})();const Ce=["addressEdit"];function Me(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-zip-code")),n.xp6(3),n.Oqu(e.zipcode?e.zipcode:"-")}}function Ae(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-address-type")),n.xp6(3),n.Oqu(e.addressType&&e.addressType.name?e.addressType.name:"-")}}function Pe(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-address")),n.xp6(3),n.Oqu(e.name?e.name:"-")}}function Oe(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-number")),n.xp6(3),n.Oqu(e.number?e.number:"-")}}function qe(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-complement")),n.xp6(3),n.Oqu(e.complement?e.complement:"-")}}function Te(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-neighborhood")),n.xp6(3),n.Oqu(e.neighborhood?e.neighborhood:"-")}}function _e(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-city")),n.xp6(3),n.Oqu(e.city.name?e.city.name:"-")}}function Se(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"l-state")),n.xp6(3),n.hij(" ",e.city&&e.city.state&&e.city.state.name?e.city.state.name:"-"," ")}}function Ie(e,t){if(1&e&&(n.TgZ(0,"span",12),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit,t=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-country")),n.xp6(3),n.Oqu(t.getCountry(e.city)?t.getCountry(e.city):"-")}}function De(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",13),n.TgZ(1,"div",14),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw().openAddressEdit(t)}),n._UZ(2,"span",15),n._uU(3,"\xa0 "),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"l-edit-information")))}function ke(e,t){if(1&e&&(n.TgZ(0,"div",6),n.TgZ(1,"div",7),n.TgZ(2,"span",8),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.qZA(),n.TgZ(5,"div",9),n.YNc(6,Me,6,4,"span",10),n.YNc(7,Ae,6,4,"span",10),n.YNc(8,Pe,6,4,"span",10),n.YNc(9,Oe,6,4,"span",10),n.YNc(10,qe,6,4,"span",10),n.YNc(11,Te,6,4,"span",10),n.YNc(12,_e,6,4,"span",10),n.YNc(13,Se,6,4,"span",10),n.YNc(14,Ie,6,4,"span",10),n.qZA(),n.YNc(15,De,7,3,"div",11),n.qZA()),2&e){const e=t.$implicit,i=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,11,"l-address")),n.xp6(3),n.Q6J("ngIf",i.getAddressProps(e,"zipcode").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"addressType").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"name").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"number").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"complement").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"neighborhood").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"city").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"city.state").visible),n.xp6(1),n.Q6J("ngIf",i.getAddressProps(e,"city.state.country").visible),n.xp6(1),n.Q6J("ngIf",i.editEnabled(e))}}let Le=(()=>{class e{constructor(e){this.profileHelper=e,this.viewDialogIsVisible=!1}getCountry(e){if(e)return this.profileHelper.getCountryName(e)}openAddressEdit(e){this.viewDialogIsVisible=!0,this.addressEdit.address=e,this.addressEdit.ngOnInit()}getAddressProps(e,t){return this.profileHelper.getProps(e,t)}closeDialog(e){if(e){const t=[];this.addresses.forEach(i=>{t.push(i.id===e.id?e:i)}),this.addresses=t}this.viewDialogIsVisible=!1}editEnabled(e){return this.profileHelper.editEnabled(e,["addressType","name","number","complement","neighborhood","zipcode","city.state.country","city.state","city"])}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(p.e))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-address"]],viewQuery:function(e,t){if(1&e&&n.Gf(Ce,5),2&e){let e;n.iGM(e=n.CRH())&&(t.addressEdit=e.first)}},inputs:{addresses:"addresses"},decls:6,vars:3,consts:[[1,"po-row"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 panel panel-default-box-shadow fadein-animation",4,"ngFor","ngForOf"],["id","address-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"close"],["addressEdit",""],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation"],[1,"panel-heading"],[1,"po-sm-12"],[1,"panel-body","po-row"],["class","po-sm-6 po-md-4 po-lg-3 po-xl-3 panel-item-group",4,"ngIf"],["class","panel-footer",4,"ngIf"],[1,"po-sm-6","po-md-4","po-lg-3","po-xl-3","panel-item-group"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.YNc(1,ke,16,13,"div",1),n.qZA(),n.TgZ(2,"app-dialog",2),n.NdJ("closeDialogEvent",function(){return t.closeDialog()}),n.TgZ(3,"div",3),n.TgZ(4,"app-address-edit",4,5),n.NdJ("close",function(e){return t.closeDialog(e)}),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",t.addresses),n.xp6(1),n.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1))},directives:[h.sg,D.a,we,h.O5],pipes:[f.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e})();const Ne=["generalEdit"];function Ee(e,t){if(1&e&&(n.TgZ(0,"span",23),n.TgZ(1,"div",24),n._uU(2),n.qZA(),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(e.profile.summary.name),n.xp6(2),n.Oqu(e.checkingScreenInformation(e.profile.summary.roleDescription))}}function Ue(e,t){if(1&e&&(n.TgZ(0,"span",25),n.TgZ(1,"div",24),n._uU(2),n.qZA(),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(e.profile.summary.name),n.xp6(2),n.Oqu(e.checkingScreenInformation(e.profile.summary.roleDescription))}}function Fe(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-level")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.profile.positionLevel))}}function Je(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-registry")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.profile.registry))}}function Ve(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-age")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.age))}}function Re(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-department")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.profile.department))}}function Ye(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"l-team")))}function ze(e,t){if(1&e&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&e){const e=t.$implicit,i=n.oxw(2);n.xp6(1),n.Oqu(i.checkingScreenInformation(e.name))}}function Qe(e,t){if(1&e&&(n.TgZ(0,"span",26),n.YNc(1,Ye,3,3,"div",27),n.YNc(2,ze,2,1,"div",27),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.profile.teams),n.xp6(1),n.Q6J("ngForOf",e.profile.teams)}}function Ge(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-boss")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.profile.coordinator.name))}}function He(e,t){if(1&e&&(n.TgZ(0,"span",28),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"a",29),n.TgZ(5,"div",30),n._uU(6),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,3,"l-email")),n.xp6(2),n.MGl("href","mailto: ",e.email.email,"",n.LSH),n.xp6(2),n.Oqu(e.checkingScreenInformation(e.email.email))}}function Be(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"a",29),n.TgZ(5,"div"),n._uU(6),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,3,"l-phone-work")),n.xp6(2),n.MGl("href","tel: ",e.phoneOrganize(e.phone)," ? ''",n.LSH),n.xp6(2),n.Oqu(e.phoneOrganize(e.checkingScreenInformation(e.phone)))}}function je(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-phone-ext")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.extension.number))}}function $e(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(n.lcZ(3,2,"l-admission-date")),n.xp6(3),n.Oqu(e.checkingScreenInformation(e.getFormatedDate(e.profile.admissionDate)))}}function We(e,t){1&e&&n._UZ(0,"img",35)}function Ke(e,t){1&e&&n._UZ(0,"img",36)}function Xe(e,t){if(1&e&&(n.TgZ(0,"a",29),n._uU(1),n.qZA()),2&e){const e=n.oxw().$implicit;n.s9C("href",e.url,n.LSH),n.xp6(1),n.Oqu(e.type)}}function et(e,t){if(1&e&&(n.TgZ(0,"span",26),n.TgZ(1,"div"),n.YNc(2,We,1,0,"img",32),n.YNc(3,Ke,1,0,"img",33),n.YNc(4,Xe,2,2,"a",34),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.xp6(2),n.Q6J("ngIf",e.type&&"fluig"===e.type),n.xp6(1),n.Q6J("ngIf",e.type&&"linkedin"===e.type),n.xp6(1),n.Q6J("ngIf",e.type)}}function tt(e,t){if(1&e&&(n.TgZ(0,"span",0),n.YNc(1,et,5,3,"span",31),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.profile.webReferences)}}function it(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",37),n.TgZ(1,"div",38),n.NdJ("click",function(){return n.CHM(e),n.oxw().openGeneralEdit()}),n._UZ(2,"span",39),n._uU(3,"\xa0 "),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"l-edit-information")))}function nt(e,t){if(1&e&&n._UZ(0,"app-personal",40),2&e){const e=n.oxw();n.Q6J("profile",e.profile)}}function ot(e,t){if(1&e&&n._UZ(0,"app-contacts",41),2&e){const e=n.oxw();n.Q6J("contacts",e.profile.contacts)}}function st(e,t){if(1&e&&n._UZ(0,"app-address",42),2&e){const e=n.oxw();n.Q6J("addresses",e.profile.addresses)}}const at=function(e){return{"background-image":e}};let rt=(()=>{class e{constructor(e,t,i,n,o){this.profileService=e,this.profileHelper=t,this.teamManagementService=i,this.momentService=n,this.router=o,this.viewDialogIsVisible=!1,this.employeeId=T.N.loggedUser,this.employeeCard=new l.J}ngOnInit(){this.initializeComponent()}initializeComponent(){this.getEmployee(),this.getProfile(),this.getImage()}getEmployee(){this.employeeCard=this.teamManagementService.getEmployeeCard(),this.employeeCard&&this.employeeCard.employee&&(this.employeeId=this.employeeCard.employee.id)}getImage(){this.avatarImage="./assets/img/empty_user.png",this.profileService.getImageBase64(this.employeeId).then(e=>{e&&e.content&&(this.avatarImage="data:image/"+(e.type||"png")+";base64,"+e.content)})}getProfile(){this.profileService.getProfile(this.employeeId).then(e=>{e&&(this.profile=e,this.age=c.Em.diffInYears(new Date(e.personalData.bornDate)),this.email=this.profileHelper.getDefaultEmail(e.contacts.emails),this.phone=this.profileHelper.geDefaultPhoneAndExtension(e.contacts.phones,!0),this.extension=this.profileHelper.geDefaultPhoneAndExtension(e.contacts.phones,!1))}).catch(()=>{this.router.navigateByUrl("/home")})}phoneOrganize(e){return this.profileHelper.formatPhone(e)}openGeneral(){this.initializeComponent()}openGeneralEdit(){this.viewDialogIsVisible=!0,this.generalEdit.ngOnInit()}checkingScreenInformation(e){return e||"-"}closeDialog(e){this.viewDialogIsVisible=!1,e&&(this.profile=e)}getPhoneProps(e,t){return this.profileHelper.getProps(e,t)}getTeamProps(e,t){return this.profileHelper.getProps(e,t).visible}editEnabled(e){if(!e)return!1;const t=e.contacts&&e.contacts.emails&&this.profileHelper.getDefaultEmail(e.contacts.emails),i=e.contacts&&e.contacts.phones&&this.profileHelper.geDefaultPhoneAndExtension(e.contacts.phones,!0),n=e.contacts&&e.contacts.phones&&this.profileHelper.geDefaultPhoneAndExtension(e.contacts.phones,!1),o=t&&t.props&&t.props.editable,s=i&&i.props&&this.profileHelper.editEnabled(i,["number","ddd"]),a=n&&n.props&&this.profileHelper.editEnabled(n,["number"]);return o||s||a}getFormatedDate(e){return this.momentService.getInstance(e).utc().format("L")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.H),n.Y36(p.e),n.Y36(_.C),n.Y36(S.z),n.Y36(I.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-general-information"]],viewQuery:function(e,t){if(1&e&&n.Gf(Ne,5),2&e){let e;n.iGM(e=n.CRH())&&(t.generalEdit=e.first)}},decls:33,vars:29,consts:[[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","profile-box","fadein-animation"],[1,"panel-body","information-panel"],[1,"po-sm-12","po-md-3","panel-item-group","po-text-center","po-visible-sm","po-hidden-md"],[1,"avatar-big",3,"ngStyle"],[1,"po-sm-12","po-md-3","panel-item-group","po-hidden-md","po-visible-lg","po-visible-xl"],[1,"po-sm-12","po-md-3","panel-item-group","po-hidden-sm","po-visible-md","po-hidden-lg"],[1,"avatar-medium",3,"ngStyle"],[1,"po-sm-12","po-md-9","po-lg-9","po-xl-9"],["class","po-sm-12 panel-item-group po-text-center po-visible-sm po-hidden-md po-hidden-xl po-hidden-lg",4,"ngIf"],["class","po-md-12 po-xl-12 po-lg-12 panel-item-group po-visible-md po-visible-lg po-visible-xl po-hidden-sm",4,"ngIf"],[1,"space"],["class","po-sm-6 po-md-6 po-lg-4 po-xl-4 panel-item-group",4,"ngIf"],["class","po-sm-12 po-md-4 po-lg-4 po-xl-4 panel-item-group",4,"ngIf"],["class","po-row",4,"ngIf"],["class","panel-footer",4,"ngIf"],["id","genetal-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"profile","close"],["generalEdit",""],[3,"profile",4,"ngIf"],[3,"contacts",4,"ngIf"],[3,"addresses",4,"ngIf"],[1,"po-sm-12","panel-item-group","po-text-center","po-visible-sm","po-hidden-md","po-hidden-xl","po-hidden-lg"],[1,"title-profile"],[1,"po-md-12","po-xl-12","po-lg-12","panel-item-group","po-visible-md","po-visible-lg","po-visible-xl","po-hidden-sm"],[1,"po-sm-6","po-md-6","po-lg-4","po-xl-4","panel-item-group"],[4,"ngFor","ngForOf"],[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4","panel-item-group"],[3,"href"],[1,"fit-text"],["class","po-sm-6 po-md-6 po-lg-4 po-xl-4 panel-item-group",4,"ngFor","ngForOf"],["src","../../assets/img/fluig.jpg","alt","no-photo","width","50",4,"ngIf"],["src","../../assets/img/linkedin.png","alt","no-photo","width","50",4,"ngIf"],[3,"href",4,"ngIf"],["src","../../assets/img/fluig.jpg","alt","no-photo","width","50"],["src","../../assets/img/linkedin.png","alt","no-photo","width","50"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"],[3,"profile"],[3,"contacts"],[3,"addresses"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",0),n.TgZ(4,"div",3),n._UZ(5,"div",4),n.qZA(),n.TgZ(6,"div",5),n._UZ(7,"div",4),n.qZA(),n.TgZ(8,"div",6),n._UZ(9,"div",7),n.qZA(),n.TgZ(10,"div",8),n.YNc(11,Ee,5,2,"span",9),n.YNc(12,Ue,5,2,"span",10),n._UZ(13,"div",11),n.YNc(14,Fe,6,4,"span",12),n.YNc(15,Je,6,4,"span",12),n.YNc(16,Ve,6,4,"span",12),n.YNc(17,Re,6,4,"span",12),n.YNc(18,Qe,3,2,"span",12),n.YNc(19,Ge,6,4,"span",12),n.YNc(20,He,7,5,"span",13),n.YNc(21,Be,7,5,"span",12),n.YNc(22,je,6,4,"span",12),n.YNc(23,$e,6,4,"span",12),n.YNc(24,tt,2,1,"span",14),n.qZA(),n.qZA(),n.qZA(),n.YNc(25,it,7,3,"div",15),n.qZA(),n.qZA(),n.TgZ(26,"app-dialog",16),n.NdJ("closeDialogEvent",function(){return t.closeDialog()}),n.TgZ(27,"div",17),n.TgZ(28,"app-general-information-edit",18,19),n.NdJ("close",function(e){return t.closeDialog(e)}),n.qZA(),n.qZA(),n.qZA(),n.YNc(30,nt,1,1,"app-personal",20),n.YNc(31,ot,1,1,"app-contacts",21),n.YNc(32,st,1,1,"app-address",22)),2&e&&(n.xp6(5),n.Q6J("ngStyle",n.VKq(23,at,"url("+t.avatarImage+")")),n.xp6(2),n.Q6J("ngStyle",n.VKq(25,at,"url("+t.avatarImage+")")),n.xp6(2),n.Q6J("ngStyle",n.VKq(27,at,"url("+t.avatarImage+")")),n.xp6(2),n.Q6J("ngIf",t.profile&&t.profile.summary),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.summary),n.xp6(2),n.Q6J("ngIf",t.profile&&t.profile.positionLevel),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.registry),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.registry),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.admissionDate),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.teams&&t.getTeamProps(t.profile,"teams.name")),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.coordinator&&t.profile.coordinator.name),n.xp6(1),n.Q6J("ngIf",t.email&&t.email.email&&t.email.props&&t.email.props.visible),n.xp6(1),n.Q6J("ngIf",t.phone&&t.phone.number&&t.getPhoneProps(t.phone,"number").visible),n.xp6(1),n.Q6J("ngIf",t.extension&&t.extension.number&&t.getPhoneProps(t.extension,"number").visible),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.admissionDate),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.webReferences),n.xp6(1),n.Q6J("ngIf",t.editEnabled(t.profile)),n.xp6(1),n.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),n.xp6(2),n.Q6J("profile",t.profile),n.xp6(2),n.Q6J("ngIf",t.profile),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.contacts),n.xp6(1),n.Q6J("ngIf",t.profile&&t.profile.addresses))},directives:[h.PC,h.O5,D.a,q,h.sg,R,ae,Le],pipes:[f.X$],styles:[".general-header[_ngcontent-%COMP%]{margin-top:70px}.avatar-big[_ngcontent-%COMP%]{width:180px;height:180px;-webkit-border-radius:90px;-webkit-background-clip:padding-box;-moz-border-radius:90px;-moz-background-clip:padding;border-radius:90px;background-clip:padding-box;background-size:cover;background-position:center center;border:2px solid rgba(100,100,160,.1);margin-bottom:10px;margin-right:8px;margin-top:6px;display:inline-block}.avatar-medium[_ngcontent-%COMP%]{width:96px;height:96px;-webkit-border-radius:48px;-webkit-background-clip:padding-box;-moz-border-radius:48px;-moz-background-clip:padding;border-radius:48px;background-clip:padding-box;background-size:cover;background-position:center center;border:2px solid rgba(100,100,160,.1);margin-bottom:10px;margin-right:8px;margin-top:6px;display:inline-block}.general-label[_ngcontent-%COMP%]{font-weight:bold;color:#9b9b9b}.general-value[_ngcontent-%COMP%]{font-weight:bold}#div-profile-summary[_ngcontent-%COMP%]{font-size:17px}.name[_ngcontent-%COMP%]{font-weight:bold;color:#302462}.margin-top[_ngcontent-%COMP%]{margin-top:12px}.title-profile[_ngcontent-%COMP%]{font-family:NunitoSans-bold;font-size:18px;color:#2b3639}.space[_ngcontent-%COMP%]{display:block;height:16px;padding:0 8px;float:left;width:100%}.information-panel[_ngcontent-%COMP%]{margin-top:16px;font-size:14px}"]}),e})();var lt=i(37503),ct=i(64634),pt=i(96054);function dt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-input",9),n.NdJ("ngModelChange",function(t){return n.CHM(e),n.oxw().$implicit.value=t}),n.qZA()}if(2&e){const e=n.oxw(),t=e.$implicit;n.MGl("name","document-",e.index,""),n.Q6J("p-label",t.label)("p-required",t.props.required)("p-disabled",!t.props.editable)("ngModel",t.value)}}function gt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"po-datepicker",9),n.NdJ("ngModelChange",function(t){n.CHM(e);const i=n.oxw().index;return n.oxw().fieldsDateModel[i]=t}),n.qZA()}if(2&e){const e=n.oxw(),t=e.index,i=e.$implicit,o=n.oxw();n.MGl("name","document-",t,"-date"),n.Q6J("p-label",i.label)("p-required",i.props.required)("p-disabled",!i.props.editable)("ngModel",o.fieldsDateModel[t])}}function ut(e,t){if(1&e&&(n.TgZ(0,"div",7),n.YNc(1,dt,1,5,"po-input",8),n.YNc(2,gt,1,5,"po-datepicker",8),n.qZA()),2&e){const e=t.$implicit,i=n.oxw();n.xp6(1),n.Q6J("ngIf",e&&e.props&&e.props.visible&&!i.isDateField(e)),n.xp6(1),n.Q6J("ngIf",e&&e.props&&e.props.visible&&i.isDateField(e))}}let ht=(()=>{class e{constructor(e,t,i,o){this.profileService=e,this.profileHelper=t,this.appTranslateService=i,this.notificationService=o,this.employeeCard=new l.J,this.close=new n.vpe,this.fieldsDateModel=new Array}get document(){return this._document}set document(e){const t=$.extend(!0,{},e);this.fieldsDateModel=this.extractModelList(t),this._document=t}ngOnInit(){}saveDocument(){return(0,d.mG)(this,void 0,void 0,function*(){const e=yield this.profileHelper.getTeamEmployeeId();this._document=this.proccessModelList(this.document,this.fieldsDateModel),this.profileService.saveDocument(e,this._document).then(e=>{this.showMessageSuccess("l-msg-save-success"),this.closeDialog(this.document)}).catch(e=>{this.showMessageError(e.message)})})}showMessageError(e){this.appTranslateService.getI18n(e).then(e=>{this.notificationService.showNotification(e,m.ik9.Error)})}showMessageSuccess(e){this.appTranslateService.getI18n(e).then(e=>{this.notificationService.showNotification(e,m.ik9.Success)})}closeDialog(e){e?this.close.emit(e):this.close.emit()}isDateField(e){return this.isDateType(e)||this.isDateMask(e)}isDateType(e){return e&&e.type&&-1!==e.type.toString().toLocaleLowerCase().lastIndexOf("date")}isDateMask(e){return e&&e.mask&&0===e.mask.indexOf("date:")}extractModelList(e){let t;return e&&e.fields?(t=new Array(e.fields.length),e.fields.forEach((e,i)=>{this.isDateField(e)&&e.value&&(t[i]=c.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.value)))})):t=new Array,t}proccessModelList(e,t){if(e&&t){if(e.fields.length!==t.length)throw new TypeError("Mensagem Desenvolvedor: Lista de campos de edi\xe7\xe3o e lista espelho edi\xe7\xe3o com tamanho diferente");t.forEach((t,i)=>{t&&(e.fields[i].value="string"==typeof t?new Date(t.toString()).toISOString():t.toISOString())})}return e}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.H),n.Y36(p.e),n.Y36(Y.g),n.Y36(pt.g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-document-edit"]],inputs:{document:"document"},outputs:{close:"close"},decls:10,vars:8,consts:[["backIsVisible","true","pageTitle","l-documents",3,"backFunction"],["documentEditForm","ngForm"],[1,"po-row"],["class","po-sm-12 po-md-6 po-lg-6 po-xl-6 panel-item-group",4,"ngFor","ngForOf"],[1,"pull-right"],[1,"mx-3",3,"p-label","p-click"],["p-primary","true",3,"p-label","p-disabled","p-click"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","panel-item-group"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange",4,"ngIf"],["p-clean","true",3,"name","p-label","p-required","p-disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(n.TgZ(0,"app-page-header",0),n.NdJ("backFunction",function(){return t.closeDialog()}),n.qZA(),n.TgZ(1,"form",null,1),n.TgZ(3,"div",2),n.YNc(4,ut,3,2,"div",3),n.qZA(),n.TgZ(5,"div",4),n.TgZ(6,"po-button",5),n.NdJ("p-click",function(){return t.closeDialog(null)}),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"po-button",6),n.NdJ("p-click",function(){return t.saveDocument()}),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(2);n.xp6(4),n.Q6J("ngForOf",null==t.document?null:t.document.fields),n.xp6(2),n.s9C("p-label",n.lcZ(7,4,"l-cancel")),n.xp6(2),n.s9C("p-label",n.lcZ(9,6,"l-confirm")),n.Q6J("p-disabled",!e.form.valid)}},directives:[g.q,u._Y,u.JL,u.F,h.sg,m.bOz,h.O5,m.xxV,u.JJ,u.On,m.GWy],pipes:[f.X$],styles:[""]}),e})();const mt=["documentEditView"];function ft(e,t){if(1&e&&(n.TgZ(0,"span",13),n.TgZ(1,"div"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=n.oxw().$implicit,t=n.oxw(2);n.xp6(2),n.Oqu(n.lcZ(3,2,e.label)),n.xp6(3),n.Oqu(t.formatField(e))}}function vt(e,t){if(1&e&&(n.ynx(0),n.YNc(1,ft,6,4,"span",12),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf",e&&e.props&&e.props.visible)}}function bt(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",14),n.TgZ(1,"div",15),n.NdJ("click",function(){n.CHM(e);const t=n.oxw(),i=t.$implicit,o=t.index;return n.oxw().editDocument(i,o)}),n._UZ(2,"span",16),n._uU(3,"\xa0 "),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"l-edit-information")))}function xt(e,t){if(1&e&&(n.TgZ(0,"div",5),n.TgZ(1,"div",6),n.TgZ(2,"div",7),n.TgZ(3,"span",8),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"div",9),n.YNc(6,vt,2,1,"ng-container",10),n.qZA(),n.YNc(7,bt,7,3,"div",11),n.qZA(),n.qZA()),2&e){const e=t.$implicit,i=n.oxw();n.xp6(1),n.s9C("id",i.formatId(e.label)),n.xp6(3),n.Oqu(e.label),n.xp6(2),n.Q6J("ngForOf",e.fields),n.xp6(1),n.Q6J("ngIf",i.getDocumentEditable(e))}}let yt=(()=>{class e{constructor(e,t){this.momentJsService=e,this.profileHelper=t,this._viewDialogIsVisible=!1,this._selectedDocumentEditing=void 0,this._selectedIndexDocumentEditing=0,this._documentsView=new Array}get documentsView(){return this._documentsView}set documentsView(e){this._documentsView=e}get viewDialogIsVisible(){return this._viewDialogIsVisible}get selectedDocumentEditing(){return this._selectedDocumentEditing}get selectedIndexDocumentEditing(){return this._selectedIndexDocumentEditing}ngOnInit(){this.processDocuments()}processDocuments(){this.dataProfile&&this.dataProfile.documents&&(this.dataProfile.documents.forEach(e=>{const t=$.extend(!0,{},e);t.fields=[],this.profileHelper.getDefaultTypeLabel(e.type,e.label).then(e=>t.label=e),e.fields&&(e.fields.forEach(e=>{const i=$.extend(!0,{},e);this.profileHelper.getDefaultTypeLabel(e.type,e.label).then(e=>i.label=e),i.props=e.props?e.props:{field:i.type.toLocaleLowerCase(),visible:!0,editable:!1,required:!1},t.fields.push(i)}),t.fields.sort()),this.documentsView.push(t)}),this.documentsView.sort())}formatField(e){if(e&&-1!==e.type.toString().toLocaleLowerCase().lastIndexOf("date")&&e.value){const t=c.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.value));return this.momentJsService.getInstance(t).format("L")}if(e&&e.mask&&0===e.mask.indexOf("date:")&&e.value){const t=c.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.value));return this.momentJsService.getInstance(t).format(e.mask.split(":")[1].toUpperCase())}return e&&e.mask?ct.m.mask(e.value,e.mask):e&&e.value?e.value:"-"}getDocumentEditable(e){let t=!1;return e&&e.fields&&e.fields.forEach(e=>{e&&e.props&&e.props.editable&&!t&&(t=!0)}),t}editDocument(e,t){this._selectedDocumentEditing=e,this._selectedIndexDocumentEditing=t,this._viewDialogIsVisible=!0}closeDialog(e){e&&(this.documentsView[this._selectedIndexDocumentEditing]=e),this._viewDialogIsVisible=!1}formatId(e){return e.replace(/\s/g,"-").toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(S.z),n.Y36(p.e))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-document"]],viewQuery:function(e,t){if(1&e&&n.Gf(mt,5),2&e){let e;n.iGM(e=n.CRH())&&(t.documentEditView=e.first)}},inputs:{dataProfile:"dataProfile"},decls:5,vars:4,consts:[["class","po-row",4,"ngFor","ngForOf"],["id","document-edit","menuIsVisible","true",3,"isVisible","closeDialogButtonEnable"],["dialog-content",""],[3,"document","close"],["documentEditView",""],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow","fadein-animation",3,"id"],[1,"panel-heading"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-row","panel-body"],[4,"ngFor","ngForOf"],["class","panel-footer",4,"ngIf"],["class","po-sm-6 po-md-4 po-lg-3 po-xl-3 panel-item-group",4,"ngIf"],[1,"po-sm-6","po-md-4","po-lg-3","po-xl-3","panel-item-group"],[1,"panel-footer"],[1,"mouse-pointer",3,"click"],[1,"po-icon","po-icon-edit"]],template:function(e,t){1&e&&(n.YNc(0,xt,8,4,"div",0),n.TgZ(1,"app-dialog",1),n.TgZ(2,"div",2),n.TgZ(3,"app-document-edit",3,4),n.NdJ("close",function(e){return t.closeDialog(e)}),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.Q6J("ngForOf",t.documentsView),n.xp6(1),n.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1),n.xp6(2),n.Q6J("document",t.selectedDocumentEditing))},directives:[h.sg,D.a,ht,h.O5],pipes:[f.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e})();function Zt(e,t){if(1&e&&n._UZ(0,"app-document",4),2&e){const e=n.oxw();n.Q6J("dataProfile",e.dataProfile)}}let wt=(()=>{class e extends a.R{constructor(e,t,i,o,s,a){super(),this.profileService=e,this.lastAccess=t,this.teamManagementService=i,this.globals=o,this.activatedRoute=s,this.router=a,this.initialized=!1,this.viewIsTeamManagement=!1,this.employeeId=T.N.loggedUser,this.close=new n.vpe,super.ngOnInit()}ngOnInit(){this.subscribeToActivatedRoute()}ngOnDestroy(){this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}init(){this.loadProfileData(),this.setCountLastAccess()}getTabLabel(e){return this.viewIsMobile?e?"l-informations":"l-documents":e?"l-general-information":"l-my-documents"}teamManagementProfile(){const{employee:e}=this.teamManagementService.getEmployeeCard();this.cleanProfileInfo(),this.employeeId=e.id}subscribeToActivatedRoute(){this.routeDataSubscription=this.activatedRoute.data.pipe((0,o.U)(e=>e.management)).subscribe(e=>{if(this.viewIsTeamManagement=e,e){if(null==this.teamManagementService.getEmployeeCard().employee)return void this.router.navigateByUrl("teamManagement");this.teamManagementProfile()}this.init()})}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(s.dG,e.id)})}loadProfileData(){this.profileService.getProfile(this.employeeId).then(e=>{this.dataProfile=e,this.initialized=!0})}cleanProfileInfo(){this.dataProfile=void 0,this.generalInformation&&(this.generalInformation.age=void 0,this.generalInformation.avatarImage=void 0,this.generalInformation.email=void 0,this.generalInformation.employeeCard=void 0,this.generalInformation.employeeId=void 0,this.generalInformation.phone=void 0,this.generalInformation.profile=void 0)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.H),n.Y36(s.Lx),n.Y36(_.C),n.Y36(lt.O),n.Y36(I.gz),n.Y36(I.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-profile"]],viewQuery:function(e,t){if(1&e&&n.Gf(rt,5),2&e){let e;n.iGM(e=n.CRH())&&(t.generalInformation=e.first)}},outputs:{close:"close"},features:[n.qOj],decls:9,vars:11,consts:[[3,"backIsVisible","pageTitle"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-active","true",3,"p-label"],[3,"dataProfile",4,"ngIf"],[3,"dataProfile"]],template:function(e,t){1&e&&(n._UZ(0,"app-page-header",0),n.ALo(1,"translate"),n.TgZ(2,"po-tabs",1),n.TgZ(3,"po-tab",2),n.ALo(4,"translate"),n._UZ(5,"app-general-information"),n.qZA(),n.TgZ(6,"po-tab",2),n.ALo(7,"translate"),n.YNc(8,Zt,1,1,"app-document",3),n.qZA(),n.qZA()),2&e&&(n.s9C("pageTitle",n.lcZ(1,5,"l-perfil")),n.Q6J("backIsVisible",t.viewIsTeamManagement),n.xp6(3),n.s9C("p-label",n.lcZ(4,7,t.getTabLabel(!0))),n.xp6(3),n.s9C("p-label",n.lcZ(7,9,t.getTabLabel(!1))),n.xp6(2),n.Q6J("ngIf",t.initialized))},directives:[g.q,m.Gv4,m.w8F,rt,h.O5,yt],pipes:[f.X$],styles:[".panel[_ngcontent-%COMP%]{font-size:14px}"]}),e})()},37794:function(e,t,i){"use strict";i.d(t,{e:function(){return h}});var n=i(64762),o=i(44956),s=(()=>((s||(s={})).TypeEnum={Home:"home",Work:"work",Mobile:"mobile",Fax:"fax",Ext:"ext",Other:"other"},s))(),a=i(66163),r=i(64634),l=i(9789),c=i(92060),p=i(37716),d=i(65241),g=i(96054),u=i(37503);let h=(()=>{class e{constructor(e,t,i,n,o){this.translateService=e,this.teamManagementService=t,this.localeService=i,this.notificationService=n,this.globals=o}getDefaultTypeLabel(e,t){return(0,n.mG)(this,void 0,void 0,function*(){return e&&-1===e.indexOf("other")?yield this.translateService.getI18n("l-"+r.m.camelToHyphen(e)):t})}getCountry(e){return e&&e.state&&e.state.country?e.state.country:e&&e.country?e.country:void 0}getCountryName(e){const t=this.getCountry(e);if(t)return t.name}getCountryId(e){const t=this.getCountry(e);if(t)return t.id}getDefaultEmail(e){let t;return e.forEach(e=>{e.default&&!t&&(t=e)}),t}processCountry(e,t){return(0,n.mG)(this,void 0,void 0,function*(){if(t){const i=yield this.localeService.localeGet("country",t);e&&e.country&&(e.country=i),e&&e.state&&e.state.country&&(e.state.country=i),e&&!e.country&&e&&e.state&&!e.state.country&&(e.country=i,e.state.country=i)}else e&&(e.country=void 0,e.state&&(e.state.country=void 0));return e})}processState(e){return(0,n.mG)(this,void 0,void 0,function*(){if(e&&e.state){const t=yield this.localeService.localeGet("state",e.state.id);return e.state=t,e}})}processCity(e){return(0,n.mG)(this,void 0,void 0,function*(){return e&&e.id&&(e=yield this.localeService.localeGet("city",e.id)),e})}geDefaultPhoneAndExtension(e,t){let i,n;return e.forEach(e=>{e.default&&!i&&t&&(i=e),e.type===s.TypeEnum.Ext&&!n&&!t&&(n=e)}),t?i:n}getProps(e,t){if(e&&e.props){let i=e.props.find(e=>e.field===t);return i||(i=this.getDefaultProps(t)),i}return this.getDefaultProps(t)}getDefaultProps(e){return{field:e,visible:!0,editable:!1,required:!1}}formatPhone(e){let t="";return e.region&&(t=`+${e.region}`),e.ddd&&(t.length>0&&(t+=" "),t+=`(${e.ddd})`),e.number&&(t.length>0&&(t+=" "),t+=`${e.number}`),t}clone(e){const t={};for(const i in e)e[i]instanceof Array?(t[i]=[],e[i].forEach(e=>{t[i].push(this.clone(e))})):t[i]=e[i]instanceof Date?new Date(e[i].getTime()):"object"==typeof e[i]?this.clone(e[i]):e[i];return t}showMessageError(e){this.translateService.getI18n(e).then(e=>{this.notificationService.showNotification(e,o.ik9.Error)})}showMessageSuccess(e){this.translateService.getI18n(e).then(e=>{this.notificationService.showNotification(e,o.ik9.Success)})}editEnabled(e,t){return!e||t.map(t=>this.getProps(e,t)).some(e=>e.editable)}getTeamEmployeeId(){return(0,n.mG)(this,void 0,void 0,function*(){let e=yield this.globals.getEmployeeSummary(),t=new a.J;return t=this.teamManagementService.getEmployeeCard(),"profile"===t.originComponent&&t.employee&&(e=t.employee),e.id})}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(d.g),p.LFG(l.C),p.LFG(c.O),p.LFG(g.g),p.LFG(u.O))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},2187:function(e,t,i){"use strict";i.d(t,{p:function(){return a}});var n=i(69412),o=i(92060),s=i(37716);let a=(()=>{class e{constructor(e){this.localeService=e}getFilteredData(e){return(0,n.D)(this.localeService.localeGetArrays("country",void 0,e.value).then(e=>e.map(e=>({value:e.id,label:e.name}))))}getObjectByValue(e){let t="number"!=typeof e?parseInt(e.toString()):e;return t=isNaN(t)?-1:t,(0,n.D)(this.localeService.localeGet("country",t.toString()).then(e=>{if("object"==typeof e)return{value:e.id,label:e.name}}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.O))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},92060:function(e,t,i){"use strict";i.d(t,{O:function(){return s}});var n=i(59708),o=i(37716);let s=(()=>{class e{constructor(e){this.serviceGeneric=e}localeGetArrays(e,t,i,n,o,s,a,r){const l=`data/locale/${e}`;let c=[];return c=this.addParam(c,"init",a),c=this.addParam(c,"id",t),c=this.addParam(c,"name",i),c=this.addParam(c,"abbr",n),c=this.addParam(c,"contryId",o),c=this.addParam(c,"max",s),c=this.addParam(c,"stateId",r),this.serviceGeneric.search(l,c)}getCities(e,t,i,n){return this.localeGetArrays("city",void 0,void 0,void 0,e,t,i,n)}localeGet(e,t){return this.serviceGeneric.get(`data/locale/${e}/${t}`).then(e=>e)}addParam(e,t,i){return i&&(e[t]=i),e}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},97983:function(e,t,i){"use strict";i.d(t,{H:function(){return c}});var n=i(64762),o=i(89019),s=i(59708),a=i(37716),r=i(39075);const l="data/profile";let c=(()=>{class e{constructor(e,t){this.serviceGeneric=e,this.sanitizationService=t}getEmployeeSummary(e,t){const i=`${l}/summary/${e}/`,n=[];return t&&(n.encodeEmployeeId=!0),this.serviceGeneric.search(i,n)}getImageBase64(e){return this.serviceGeneric.get(`${l}/image/${e}/`)}getProfile(e){return this.serviceGeneric.get(`${l}/${e}/`)}savePersonalData(e,t){return this.serviceGeneric.put(`${l}/personalData/${e}/`,t)}saveAddress(e,t){return this.serviceGeneric.put(`${l}/address/${e}/`,t)}saveContacts(e,t){return this.serviceGeneric.put(`${l}/contacts/${e}/`,t)}saveDocument(e,t){return this.serviceGeneric.put(`${l}/document/${e}/`,t)}isCoordinator(e=o.N.loggedUser){return this.serviceGeneric.get(`${l}/isCoordinator/${e}/`)}getDefaultImageStyle(){return this.sanitizationService.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)")}getImageBase64Style(e=o.N.loggedUser){return(0,n.mG)(this,void 0,void 0,function*(){try{const t=yield this.getImageBase64(e);if(t&&t.content)return this.sanitizationService.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`)}catch(t){}return this.getDefaultImageStyle()})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(s.M),a.LFG(r.H7))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},69030:function(e,t,i){"use strict";i.d(t,{H:function(){return a}});var n=i(69412),o=i(92060),s=i(37716);let a=(()=>{class e{constructor(e){this.localeService=e}getFilteredData(e,t){return(0,n.D)(this.localeService.localeGetArrays("state",void 0,e.value,void 0,t).then(e=>e.map(e=>({value:e.id,label:e.name}))))}getObjectByValue(e){return(0,n.D)(this.localeService.localeGet("state",e.toString()).then(e=>{if("object"==typeof e)return{value:e.id,label:e.name}}))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.O))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},98348:function(e,t,i){"use strict";i.d(t,{Ld:function(){return o},ZP:function(){return s}});class n{}var o=(()=>{return(e=o||(o={}))[e.DTS=1]="DTS",e[e.RM=2]="RM",e[e.PROTHEUS=3]="PROTHEUS",e[e.NODE=4]="NODE",e[e.CORE=5]="CORE",e[e.EMPTY=6]="EMPTY",o;var e})();class s{static getProps(e){if(s.ERP||(s.ERP=this.getErpByUrl(e)),!s.PROPS)switch(s.PROPS=new n,s.ERP){case o.DTS:this.isTomcatAppServer()?(s.PROPS.baseUrl="/api/rh/meurh/v1",s.PROPS.rootContext=""):(s.PROPS.baseUrl="/dts/portal-hcm/rest",s.PROPS.rootContext="/dts/portal-hcm/PortalRHUnificado/");break;case o.RM:let t="/";const i=document.location.pathname.toLocaleLowerCase().indexOf("web/app/rh/portalmeurh");i>1&&(t=document.location.pathname.substring(0,i)),s.PROPS.baseUrl=t+"rm/api/rest",(null!==localStorage.getItem("newApiModelRM")||null!==localStorage.getItem("ionic5"))&&(s.PROPS.baseUrl+="/new"),s.PROPS.rootContext=e.toLowerCase().match("portalmeurh")?t+"web/app/RH/PortalMeuRH/":t+"web/app/RH/PortalRHUnificado/";break;case o.NODE:const n=e.substr(0,e.lastIndexOf(":")+1)+"5050/api";s.PROPS.baseUrl=n,s.PROPS.rootContext="";break;case o.PROTHEUS:if(localStorage&&null!==localStorage.getItem("baseUrl"))s.PROPS.baseUrl=localStorage.getItem("baseUrl"),s.PROPS.rootContext=localStorage.getItem("rootContext").replace("PortalMeuRH","PortalRHUnificado");else{const t=/http(s)*\:\/\/(.*):(\d*)\/(.*)\/*\?restPort=(\d*)/,i=e.replace(t,"http$1://$2:$5/rest$4").replace("/PortalMeuRH/index.html","");s.PROPS.baseUrl="/"!==i.substr(-1)?i:i.substr(0,i.length-1),s.PROPS.rootContext=e.replace(t,"/$4/").replace("/index.html","").replace("//","/")}break;default:s.PROPS.baseUrl="",s.PROPS.rootContext=""}return s.PROPS}static getBaseUrl(e){return this.getProps(e).baseUrl}static getRootContext(e){return this.getProps(e).rootContext}static setErp(e){s.ERP=e,s.PROPS=null}static setProps(e){s.PROPS=e}static getErp(){return s.ERP}static isErpProtheus(){return s.getErp()===o.PROTHEUS}static isErpDatasul(){return s.getErp()===o.DTS}static isErpRM(){return s.getErp()===o.RM}static isErpNode(){return s.getErp()===o.NODE}static isTomcatAppServer(){return window.location.pathname.indexOf("html-hcm")>=0}static shouldSendCompanyId(){return this.isErpDatasul()&&!this.isTomcatAppServer()}static getErpByUrl(e){return e.toLowerCase().indexOf("dts")>-1||e.toLowerCase().indexOf("html-hcm")>-1?o.DTS:e.toLowerCase().indexOf("web/app/rh")>-1?o.RM:e.indexOf("505")>-1?o.NODE:e.indexOf("5000")>-1?o.CORE:o.PROTHEUS}static checkIfEncode(e){return this.isErpRM()&&e&&"{current}"!==e?"".concat(e.split("|")[0]+"|"+btoa(e.split("|")[1])):e}static checkIfDecode(e){return s.isErpRM()&&e&&"{current}"!==e?"".concat(e.split("|")[0]+"|"+atob(e.split("|")[1])):e}}},54683:function(e,t,i){"use strict";i.d(t,{B:function(){return a}});var n=i(12194),o=i(81483);class s{constructor(e){e.forEach(e=>{switch(e.type){case n.R.TypeEnum.Direction:this.direction=e;break;case n.R.TypeEnum.InitDate:this.initDate=e;break;case n.R.TypeEnum.EndDate:this.endDate=e;break;case n.R.TypeEnum.InitHour:this.initHour=e,null!=this.initHour.value&&(this.hourInit=o.Em.getHoursByMilliseconds(this.initHour.value));break;case n.R.TypeEnum.EndHour:this.endHour=e,null!=this.endHour.value&&(this.hourEnd=o.Em.getHoursByMilliseconds(this.endHour.value));break;case n.R.TypeEnum.Justify:this.justify=e;break;case n.R.TypeEnum.Other:this.other=e;break;case n.R.TypeEnum.Reason:this.reason=e;break;case n.R.TypeEnum.Status:this.status=e;break;case n.R.TypeEnum.TotalDays:this.totalDays=e;break;case n.R.TypeEnum.TotalHours:this.totalHours=e;break;case n.R.TypeEnum.VacationBonus:this.vacationBonus=e;break;case n.R.TypeEnum.InitVacationLimit:this.initVacationLimit=e;break;case n.R.TypeEnum.EndVacationLimit:this.endVacationLimit=e;break;case n.R.TypeEnum.HasAttachment:this.hasAttachment=e;break;case n.R.TypeEnum.RequestId:this.requestId=e}})}}class a{constructor(e,t){this.approved=e.approved,this.canApprove=e.canApprove,this.employeeSummary=e.employeeSummary,this.fields=e.fields,this.id=e.id,this.type=e.type,t&&(this.image=t),this.fieldsView=new s(this.fields)}}},12994:function(e,t,i){"use strict";i.d(t,{T:function(){return h}});var n=i(64762),o=i(44956),s=i(92340),a=i(42628),r=i(59708),l=i(68014),c=i(37716),p=i(65241),d=i(49344),g=i(96054);const u="request/notifications";let h=(()=>{class e{constructor(e,t,i,n,o){this.serviceGeneric=e,this.appTranslateService=t,this.toastrService=i,this.notificationService=n,this.notificationsCountDispatchers=o}getNotificationsCount(e,t=!1){return this.serviceGeneric.get(`${u}/count/${e}`,void 0,t).then(e=>e)}getNotificationsQP(e,t,i,n,o,s,a){const r=`${u}/${e}`;i=i||1,n=n||20;const l=[];return this.serviceGeneric.parseParams(l,"type",t),this.serviceGeneric.parseParams(l,"page",i),this.serviceGeneric.parseParams(l,"pageSize",n),this.serviceGeneric.parseParams(l,"employeeName",o),this.serviceGeneric.parseParams(l,"date",s),this.serviceGeneric.parseParams(l,"tab",a),this.serviceGeneric.search(r,l)}saveNotifications(e,t){return this.serviceGeneric.put(`${u}/${e}`,t,!1)}createRequisitionsResponse(e,t,i,o){return(0,n.mG)(this,void 0,void 0,function*(){const n=[];let s;e.forEach(e=>{s={id:e.id,status:t?a.z.StatusEnum.Approved:a.z.StatusEnum.Rejected,type:e.object.type,reason:o},n.push(s)});const r={date:new Date,justify:o,approved:t,requisitions:n};yield this.sendPut(r,i)})}sendPut(e,t){return(0,n.mG)(this,void 0,void 0,function*(){try{yield this.saveNotifications(s.N.loggedUser,e);const i=yield this.appTranslateService.getI18n(t);this.notificationService.showNotification(i,o.ik9.Success),this.notificationsCountDispatchers.getNotificationsCount()}catch(i){}})}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(r.M),c.LFG(p.g),c.LFG(d._W),c.LFG(g.g),c.LFG(l.CV))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac}),e})()},21360:function(e,t,i){"use strict";i.d(t,{_:function(){return r}});var n=i(59708),o=i(89019),s=i(37716);const a="request";let r=(()=>{class e{constructor(e){this.serviceGeneric=e}getCountedRequisitions(e=o.N.loggedUser,t){const i=`${a}/count/${e}`,n=[];return t&&this.serviceGeneric.parseParams(n,"types",t),this.serviceGeneric.search(i,n)}getAllRequisitions(e=o.N.loggedUser,t,i,n,s,r,l,c){const p=`${a}/requisitions/${e}`;i=i||10;const d=[];return this.serviceGeneric.parseParams(d,"page",t=t||1),this.serviceGeneric.parseParams(d,"pageSize",i),this.serviceGeneric.parseParams(d,"name",n),this.serviceGeneric.parseParams(d,"requestId",s),this.serviceGeneric.parseParams(d,"startDate",r),this.serviceGeneric.parseParams(d,"status",l),this.serviceGeneric.parseParams(d,"types",c),this.serviceGeneric.search(p,d)}updateRequisitions(e=o.N.loggedUser,t,i=null){const n=`${a}/requisitions/${e}`,s=[];return null!=i?(this.serviceGeneric.parseParams(s,"stepCode",i),this.serviceGeneric.putWithQP(n,t,s)):this.serviceGeneric.put(n,t)}getNextStepRequisitions(e=o.N.loggedUser,t){return this.serviceGeneric.post(`${a}/requisitions/steps/${e}`,t)}getDemissionDetails(e=o.N.loggedUser,t){return this.serviceGeneric.get(`team/demission/${e}/${t}`)}getSubstitutionDetails(e=o.N.loggedUser,t){return this.serviceGeneric.get(`team/substitution/${e}/${t}`)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(n.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},64275:function(e,t,i){"use strict";i.d(t,{q:function(){return r}});var n=i(64762),o=i(48681),s=i(98348),a=i(37716);let r=(()=>{class e{constructor(e){this.configurationService=e,this.URL_FRAME="/totvs-login/",this.URL_JAVA="/dts/portal-hcm/rest/",this.URL_DTSREST="/dts/datasul-rest/resources/prg/rh/meurh/v1/",this.URL_DTSREST_TOMCAT="/api/rh/meurh/v1/"}getBaseUrlDts(e,t){return(0,n.mG)(this,void 0,void 0,function*(){const i=yield this.configurationService.getRestMigrationControl(),n=(yield this.configurationService.getRestDTSFrameworkLogin())[this.parseActionToMethodName(e)];let o,s;n&&(o=n.reduce((e,i)=>e||RegExp(i).test(t),!1));const a=i[this.parseActionToMethodName(e)];return a&&(s=a.reduce((e,i)=>e||RegExp(i).test(t),!1)),o?this.URL_FRAME:s?this.URL_JAVA:this.getURLDts()})}getURLDts(){return s.ZP.isTomcatAppServer()?this.URL_DTSREST_TOMCAT:this.URL_DTSREST}parseActionToMethodName(e){switch(e){case 0:return"GET";case 1:return"POST";case 2:return"PUT";case 3:return"DELETE"}}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.e))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},36227:function(e,t,i){"use strict";i.d(t,{c:function(){return a}});var n=i(64762),o=i(59708),s=i(37716);let a=(()=>{class e{constructor(e){this.serviceGeneric=e}getFieldProperties(e){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.serviceGeneric.get(`setting/fieldProperties/${e}`)).items})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},76857:function(e,t,i){"use strict";i.d(t,{$:function(){return r}});var n=i(79765),o=i(59708),s=i(37716),a=i(37503);let r=(()=>{class e{constructor(e,t){this.serviceGeneric=e,this.globals=t,this.permissionSource=new n.xQ,this.permissionObservable=this.permissionSource.asObservable()}getPermissions(e){return this.serviceGeneric.get(`setting/permissions/${e}`).then(e=>(this.permissionSource.next(e),e))}getPluginsPermissions(e,t){return this.serviceGeneric.get(`${e}/${t}`).then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.M),s.LFG(a.O))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},32170:function(e,t,i){"use strict";i.d(t,{YB:function(){return o},kr:function(){return c},Eq:function(){return r},gn:function(){return n},Cv:function(){return l},I3:function(){return s},Yg:function(){return a},QG:function(){return T},yk:function(){return S},rB:function(){return _}});var n={};i.r(n),i.d(n,{checkIfIsLogged:function(){return d},checkIfIsLoggedError:function(){return u},checkIfIsLoggedSuccess:function(){return g}});var o={};i.r(o),i.d(o,{setCompanyId:function(){return h}});var s={};i.r(s),i.d(s,{getNotificationsCount:function(){return m},getNotificationsCountError:function(){return v},getNotificationsCountSuccess:function(){return f}});var a={};i.r(a),i.d(a,{loadProperties:function(){return b},loadPropertiesError:function(){return y},loadPropertiesSuccess:function(){return x}});var r={};i.r(r),i.d(r,{loadIsCoordinator:function(){return Z},loadIsCoordinatorError:function(){return C},loadIsCoordinatorSuccess:function(){return w}});var l={};i.r(l),i.d(l,{setMobileVersion:function(){return M},setUnknowMobileVersion:function(){return A}});var c={};i.r(c),i.d(c,{getCompanySettings:function(){return P},getCompanySettingsError:function(){return q},getCompanySettingsSuccess:function(){return O}});var p=i(23065);const d=(0,p.PH)("[Logged] CHECK_IF_IS_LOGGED"),g=(0,p.PH)("[Logged] CHECK_IF_IS_LOGGED_SUCCESS",(0,p.Ky)()),u=(0,p.PH)("[Logged] CHECK_IF_IS_LOGGED_ERROR",(0,p.Ky)()),h=(0,p.PH)("[CompanyId] SET_COMPANY_ID",(0,p.Ky)()),m=(0,p.PH)("[NotificationsCount] GET_NOTIFICATIONS_COUNT",(0,p.Ky)()),f=(0,p.PH)("[NotificationsCount] GET_NOTIFICATIONS_COUNT_SUCCESS",(0,p.Ky)()),v=(0,p.PH)("[NotificationsCount] GET_NOTIFICATIONS_COUNT_ERROR"),b=(0,p.PH)("[Properties] LOAD_PROPERTIES"),x=(0,p.PH)("[Properties] LOAD_PROPERTIES_SUCCESS",(0,p.Ky)()),y=(0,p.PH)("[Properties] LOAD_PROPERTIES_ERROR",(0,p.Ky)()),Z=(0,p.PH)("[IsCoordinator] LOAD_IS_COORDINATOR",(0,p.Ky)()),w=(0,p.PH)("[IsCoordinator] LOAD_IS_COORDINATOR_SUCCESS",(0,p.Ky)()),C=(0,p.PH)("[IsCoordinator] LOAD_IS_COORDINATOR_ERROR",(0,p.Ky)()),M=(0,p.PH)("[MobileVersion] SET_MOBILE_VERSION",(0,p.Ky)()),A=(0,p.PH)("[MobileVersion] SET_UNKNOW_MOBILE_VERSION"),P=(0,p.PH)("[CompanySettings] GET_COMPANY_SETTINGS"),O=(0,p.PH)("[CompanySettings] GET_COMPANY_SETTINGS_SUCCESS",(0,p.Ky)()),q=(0,p.PH)("[CompanySettings] GET_COMPANY_SETTINGS_ERROR",(0,p.Ky)()),T=(0,p.PH)("[Permission] LOAD_PERMISSIONS",(0,p.Ky)()),_=(0,p.PH)("[Permission] LOAD_PERMISSIONS_SUCCESS",(0,p.Ky)()),S=(0,p.PH)("[Permission] LOAD_PERMISSIONS_ERROR",(0,p.Ky)())},68014:function(e,t,i){"use strict";i.d(t,{ab:function(){return j},P7:function(){return C},nF:function(){return te},m9:function(){return R},TM:function(){return X},V9:function(){return k},pG:function(){return B},ek:function(){return y},ZR:function(){return ee},QM:function(){return F},CV:function(){return W},S2:function(){return P},n3:function(){return a},eL:function(){return m},ZM:function(){return K},Ub:function(){return T}});var n=i(32170),o=i(37716),s=i(23065);let a=(()=>{class e{constructor(e){this.store=e}loadPermissions(e){this.store.dispatch(n.QG({employeeId:e}))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var r=i(64762),l=i(9112),c=i(45435),p=i(15257);const d=(0,s.ZF)("permissions"),g=(0,s.P1)(d,e=>e.permissions),u=(0,s.P1)(d,e=>e.loading),h=(0,s.P1)(d,e=>e.error);let m=(()=>{class e{constructor(e){this.store=e,this.permissions$=this.store.select(g),this.loading$=this.store.select(u),this.error$=this.store.select(h)}nextPermissionsNotNull(){return new Promise((e,t)=>{(0,l.aj)([this.permissions$,this.error$]).pipe((0,c.h)(e=>null!=e[0]||e[1])).pipe((0,p.q)(1)).subscribe(i=>{const n=i[0];i[1]?t():e(n)})})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const f=(0,s.ZF)("logged"),v=(0,s.P1)(f,e=>e.isLogged),b=(0,s.P1)(f,e=>e.loading),x=(0,s.P1)(f,e=>e);let y=(()=>{class e{constructor(e){this.store=e,this.isLogged$=this.store.select(v),this.loading$=this.store.select(b),this.state$=this.store.select(x)}nextIsLoggedNotNull(){return new Promise(e=>{this.state$.pipe((0,c.h)(e=>null!=e.isLogged)).pipe((0,p.q)(1)).subscribe(t=>{e(t.isLogged)})})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const Z=(0,s.ZF)("companyId"),w=(0,s.P1)(Z,e=>e);let C=(()=>{class e{constructor(e){this.store=e,this.state$=this.store.select(w)}nextIsCompanyIdDone(){return Promise.race([new Promise(e=>{this.state$.pipe((0,c.h)(e=>null==e?void 0:e.done)).pipe((0,p.q)(1)).subscribe(t=>{e(t.companyId)})}),new Promise(e=>{setTimeout(()=>{e(null)},1e4)})])}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();i(2673),i(12194),i(42628),new Date("01/10/2017"),new Date("01/10/2017"),new Date("01/10/2017");const M=(0,s.ZF)("notificationsCount"),A=(0,s.P1)(M,e=>e);let P=(()=>{class e{constructor(e){this.store=e,this.state$=this.store.select(A)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const O=(0,s.ZF)("properties"),q=(0,s.P1)(O,e=>e);(0,s.P1)(O,e=>e.properties),(0,s.P1)(O,e=>e.error);let T=(()=>{class e{constructor(e){this.store=e,this.state$=this.store.select(q)}nextPropertiesNotNull(){return new Promise((e,t)=>{this.state$.pipe((0,c.h)(e=>null!=e.properties||e.error)).pipe((0,p.q)(1)).subscribe(i=>{i.error?t():e(i.properties)})})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const _=(0,s.ZF)("isCoordinator"),S=(0,s.P1)(_,e=>e.isCoordinator),I=(0,s.P1)(_,e=>e.loading),D=(0,s.P1)(_,e=>e.error);let k=(()=>{class e{constructor(e){this.store=e,this.isCoordinator$=this.store.select(S),this.loading$=this.store.select(I),this.error$=this.store.select(D)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var L=i(88002);const N=(0,s.ZF)("mobileVersion"),E=(0,s.P1)(N,e=>e),U=(0,s.P1)(N,e=>e.done);let F=(()=>{class e{constructor(e){this.store=e,this.state$=this.store.select(E),this.done$=this.store.select(U)}nextMobileVersion(){return this.state$.pipe((0,c.h)(e=>e.done),(0,p.q)(1),(0,L.U)(e=>e.version)).toPromise()}shouldUseMessageReceiverForLogin(){return(0,r.mG)(this,void 0,void 0,function*(){return null!=(yield this.nextMobileVersion())})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const J=(0,s.ZF)("companySettings"),V=(0,s.P1)(J,e=>e);let R=(()=>{class e{constructor(e){this.store=e,this.state$=this.store.select(V)}nextCompanySettingsNotNull(){return new Promise(e=>{this.state$.pipe((0,c.h)(e=>null!=e.companySettings)).pipe((0,p.q)(1)).subscribe(t=>{e(t.companySettings)})})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var Y=i(98348),z=i(13353),Q=i(34902),G=i(37503);let H=(()=>{class e{constructor(e,t){this.messageReceiverService=e,this.globals=t}loginWithMessage(){return(0,r.mG)(this,void 0,void 0,function*(){const e=yield this.messageReceiverService.messages$.pipe((0,c.h)(e=>[z.E.LOGIN_WITH_TOKEN,z.E.LOGIN_WITH_CREDENTIALS].includes(null==e?void 0:e.type)),(0,p.q)(1)).toPromise();return e.type===z.E.LOGIN_WITH_TOKEN?this.loginTokenMessage(e):e.type===z.E.LOGIN_WITH_CREDENTIALS?this.loginCredentialsMessage(e):void 0})}loginTokenMessage(e){Y.ZP.isErpRM()&&this.globals.enableNewApiModelRM(),this.globals.setToken(e.token)}loginCredentialsMessage(e){}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Q.r),o.LFG(G.O))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),B=(()=>{class e{constructor(e,t,i){this.store=e,this.mobileVersionSelectors=t,this.messageReceiverLoginService=i}checkIfIsLogged(){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.mobileVersionSelectors.shouldUseMessageReceiverForLogin())&&(yield this.messageReceiverLoginService.loginWithMessage()),this.store.dispatch(n.gn.checkIfIsLogged())})}setIsLogged(e){this.store.dispatch(n.gn.checkIfIsLoggedSuccess({isLogged:e}))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh),o.LFG(F),o.LFG(H))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),j=(()=>{class e{constructor(e){this.store=e}setCompanyId(e){this.store.dispatch(n.YB.setCompanyId({companyId:e}))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var $=i(92340);let W=(()=>{class e{constructor(e){this.store=e}getNotificationsCount(){this.store.dispatch(n.I3.getNotificationsCount({employeeId:$.N.loggedUser}))}getNotificationsCountRespectingMinimumTime(){this.fiveMnutesPassed()&&this.store.dispatch(n.I3.getNotificationsCount({employeeId:$.N.loggedUser}))}fiveMnutesPassed(){const t=e.lastTimeDataWasObtained,i=new Date,n=null==t||i.getTime()-t.getTime()>=3e5;return n&&(e.lastTimeDataWasObtained=i),n}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),K=(()=>{class e{constructor(e){this.store=e}loadProperties(){this.store.dispatch(n.Yg.loadProperties())}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),X=(()=>{class e{constructor(e){this.store=e}loadIsCoordinator(e){this.store.dispatch(n.Eq.loadIsCoordinator({employeeId:e}))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),ee=(()=>{class e{constructor(e,t){this.store=e,this.mobileVersionSelectors=t}setVersionIfNotDone(e){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.mobileVersionSelectors.done$.pipe((0,p.q)(1)).toPromise())||this.store.dispatch(null!=e?n.Cv.setMobileVersion({version:e}):n.Cv.setUnknowMobileVersion())})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh),o.LFG(F))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),te=(()=>{class e{constructor(e){this.store=e}getCompanySettings(){this.store.dispatch(n.kr.getCompanySettings())}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.yh))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},97427:function(e,t,i){"use strict";i.d(t,{F:function(){return m}});var n=i(38583),o=i(3679),s=i(39075),a=i(29790),r=i(44956),l=i(32114),c=i(43743),p=i(56365),d=i(71904),g=i(93444),u=i(84259),h=i(37716);let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[g.w,u.v,{provide:s.ok,useClass:d.f}],imports:[[n.ez,a.aw,p.q,r.JBz,o.u5,l.Pu,c.Y]]}),e})()},93444:function(e,t,i){"use strict";i.d(t,{w:function(){return g}});var n=i(64762),o=i(59708),s=i(64383),a=i(44956),r=i(37716),l=i(65241),c=i(96054),p=i(84479);const d="team/onCall";let g=(()=>{class e{constructor(e,t,i,n,o){this.serviceGeneric=e,this.momentService=t,this.appTranslateService=i,this.notificationService=n,this.windowUtilService=o}getAll(e,t,i=!1){const n=`${d}/${e}`,o=[];if(t)for(const s of Object.keys(t))o[s]=["initDate","endDate"].includes(s)?this.momentService.getInstance(t[s]).toISOString():t[s];return null==o.page&&(o.page=1),null==o.pageSize&&(o.pageSize=10),i&&(o.encodeEmployeeId=i),this.serviceGeneric.search(n,o)}updateOnCalls(e,t){return this.serviceGeneric.put(`${d}/${e}`,t,!0)}createRequisitionsResponse(e,t,i,n,o,s){const a=[];let r,l;t.forEach(e=>{l=e.idName.split("|")[0],r=`${l}|${e.id}`,a.push(r)});const c={date:new Date,justify:o,approved:i,requisitions:a};return this.sendPut(e,c,n,s)}sendPut(e,t,i,o){return(0,n.mG)(this,void 0,void 0,function*(){try{yield this.updateOnCalls(e,t);const n=yield this.appTranslateService.getI18n(i);this.notificationService.showNotification(n,a.ik9.Success),o&&this.windowUtilService.reloadPage()}catch(n){this.notificationService.showNotification(n.message,a.ik9.Error)}})}deleteOnCall(e,t){return this.serviceGeneric.delete(`${d}/${e}?id=${t}`,!0)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.M),r.LFG(s.z),r.LFG(l.g),r.LFG(c.g),r.LFG(p.g))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},84259:function(e,t,i){"use strict";i.d(t,{v:function(){return a}});var n=i(64383),o=i(59708),s=i(37716);let a=(()=>{class e{constructor(e,t){this.serviceGeneric=e,this.momentService=t}getAll(e,t){const i=`team/oncallTotalizer/${e}`,n=[];if(t)for(const o of Object.keys(t))n[o]=["initDate","endDate"].includes(o)?this.momentService.getInstance(t[o]).toISOString():t[o];return null==n.page&&(n.page=1),null==n.pageSize&&(n.pageSize=10),this.serviceGeneric.search(i,n)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.M),s.LFG(n.z))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},42779:function(e,t,i){"use strict";i.d(t,{t:function(){return p}});var n=i(38583),o=i(3679),s=i(29790),a=i(44956),r=i(56365),l=i(82236),c=i(37716);let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[l.s],imports:[[n.ez,a.JBz,s.aw,r.q,o.u5]]}),e})()},82236:function(e,t,i){"use strict";i.d(t,{s:function(){return a}});var n=i(59708),o=i(37716);const s="team/demission/";let a=(()=>{class e{constructor(e){this.serviceGeneric=e}getEmployees(e,t,i=!1,n){const o=`team/employees/${e}`,s=[];return s.page=t.page,s.pageSize=t.pageSize,s.hierarchicalLevel=t.hierarchicalLevel,s.isGetResignedEmployees=i||!1,n&&(s.encodeEmployeeId=!0),t.name&&(s.name=t.name),this.serviceGeneric.search(o,s)}getTeams(e,t,i){const n=`team/teams/${e}`,o=[];return o.id=t,o.name=i,this.serviceGeneric.search(n,o)}getRoles(e,t,i){const n=`team/roles/${e}`,o=[];return o.id=t,o.name=i,this.serviceGeneric.search(n,o)}getEmployeesByCoordinator(e){return this.serviceGeneric.search(`team/birthdates/${e}`,[])}getDemissionIniciatives(){return this.serviceGeneric.search(`${s}iniciatives`)}getDemissionTypes(){return this.serviceGeneric.search(`${s}types`)}getDemissionNoticeTypes(){return this.serviceGeneric.search(`${s}noticetypes`)}getDemissionReasonTypes(){return this.serviceGeneric.search(`${s}reasons`)}setCollaboratorDemission(e,t){return this.serviceGeneric.post(`${s}${e}`,t)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()},14323:function(e,t,i){"use strict";i.d(t,{$:function(){return n}});class n extends class{constructor(e,t){this.page=e||1,this.pageSize=t||20}}{constructor(e,t,i,n,o,s,a){super(e,t),this.hierarchicalLevel=i||0,this.name=n,this.registry=o,this.branch=s,this.employeeIds=a}}},9789:function(e,t,i){"use strict";i.d(t,{C:function(){return a}});var n=i(59708),o=i(66163),s=i(37716);class a{constructor(e){this.serviceGeneric=e}getEmployeeCard(){return a.employeeCard}setEmployeeCard(e,t,i){a.employeeCard={employee:e,image:t,originComponent:i}}cleanEmployeeCard(){a.employeeCard={employee:void 0,image:void 0,originComponent:""}}getEmployees(e,t){const i=`team/employees/${e}`,n=[];return n.page=t.page,n.pageSize=t.pageSize,n.hierarchicalLevel=t.hierarchicalLevel,n.encodeEmployeeId=!0,t.name&&(n.name=t.name),this.serviceGeneric.parseParams(n,"employeeIds",t.employeeIds),t.registry&&(n.registry=t.registry),t.branch&&(n.branch=t.branch),this.serviceGeneric.search(i,n)}}a.employeeCard=new o.J,a.\u0275fac=function(e){return new(e||a)(s.LFG(n.M))},a.\u0275prov=s.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})},24999:function(e,t,i){"use strict";i.d(t,{$:function(){return p}});var n=i(38583),o=i(3679),s=i(29790),a=i(44956),r=i(56365),l=i(49512),c=i(37716);let p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[l.n],imports:[[n.ez,o.u5,s.aw,a.JBz,r.q]]}),e})()},49512:function(e,t,i){"use strict";i.d(t,{n:function(){return c}});var n=i(64762),o=i(92340),s=i(33490),a=i(59708),r=i(37716);const l="timesheet";let c=(()=>{class e{constructor(e){this.serviceGeneric=e}getAllowancesTypes(){return this.serviceGeneric.get(`${l}/allowancesTypes`).then(e=>e.items)}saveAllowances(e,t){return this.serviceGeneric.post(`${l}/allowances/${e}`,t,!1)}getAllowanceRequestsHistory(e=o.N.loggedUser,t,i,a){return(0,n.mG)(this,void 0,void 0,function*(){const n=new s.i([],a),o=`${l}/allowances/${e}`,r=[];this.serviceGeneric.parseParams(r,"page",i),this.serviceGeneric.parseParams(r,"pageSize",a),this.serviceGeneric.parseParams(r,"status",t),n.actualPage=i,n.hasMoreRecords=!1;const c=yield this.serviceGeneric.search(o,r);return c&&(n.records=c.items,n.hasMoreRecords=c.hasNext),n})}deleteAllowance(e,t=o.N.loggedUser){return this.serviceGeneric.delete(`${l}/allowances/${t}/${e}`)}updateAllowance(e=o.N.loggedUser,t,i){return this.serviceGeneric.put(`${l}/allowances/${e}/${t}`,i,!1)}getAttachedFile(e){return this.serviceGeneric.get(`${l}/allowances/file/info/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a.M))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},90889:function(e,t,i){"use strict";i.d(t,{X:function(){return g}});var n=i(64762),o=i(92340),s=i(48681),a=i(94405),r=i(59708),l=i(64634),c=i(98348),p=i(37716);const d="timesheet";let g=(()=>{class e{constructor(e,t,i){this.serviceGeneric=e,this.fileManipulationService=t,this.configurationService=i,this.employeeName=""}getClockings(e=o.N.loggedUser,t,i,n){const s=`${d}/clockings/${e}/`,a=[];return this.serviceGeneric.parseParams(a,"initPeriod",t),this.serviceGeneric.parseParams(a,"endPeriod",i),this.serviceGeneric.parseParams(a,"isDivergent",n),this.serviceGeneric.search(s,a)}getPeriods(e=o.N.loggedUser,t,i){const n=`${d}/periods/${e}/`;let s;return t&&i&&(s=[],s.countPeriodsBefore=t,s.countPeriodsAfter=i),this.serviceGeneric.search(n,s)}getBalanceSummaries(e=o.N.loggedUser,t,i){const n=`${d}/balanceSummary/${e}/`;let s;return t&&i&&(s=[],s.initPeriod=t,s.endPeriod=i),this.serviceGeneric.search(n,s)}getReportDownloadUrl(e=o.N.loggedUser,t,i){return(0,n.mG)(this,void 0,void 0,function*(){if(c.ZP.isErpDatasul()){const n=yield this.serviceGeneric.resolveUrl(0,`$${d}/clockings/report/`);let o=`${document.location.origin}${n}${d}/clockings/report/${encodeURIComponent(e)}`;if(t&&i){const e=[];e.initPeriod=t,e.endPeriod=i,o=l.m.concatQueryParam(o,e)}return o}return new Promise(n=>{let o;t&&i&&(o=[],o.initPeriod=t,o.endPeriod=i,n(this.configurationService.getServerApiUrl().then(t=>{let i=`${t}${d}/clockings/report/${encodeURIComponent(e)}`;return i=l.m.concatQueryParam(i,o),c.ZP.isErpNode()||c.ZP.isErpProtheus()?i:`${document.location.origin}${i}`})))})})}openClockingReport(e=o.N.loggedUser,t,i,n){let s;return t&&i&&(s=[],s.initPeriod=t,s.endPeriod=i),this.fileManipulationService.openFile(`${d}/clockings/report/${encodeURIComponent(e)}/`,n,"application/pdf",s)}getBlobReport(e=o.N.loggedUser,t,i){let n;t&&i&&(n=[],n.initPeriod=t,n.endPeriod=i);const s=`${d}/clockings/report/${encodeURIComponent(e)}/`;return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.search(s,n,!1)}setDefaulResponseType(){this.serviceGeneric.setResponseType("json")}getTeamBalanceSummaries(e,t,i){const n=`team/${d}/balanceSummary/${e}/`;let o;return t&&i&&(o=[],o.initPeriod=t,o.endPeriod=i),this.serviceGeneric.search(n,o,void 0,!1)}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(r.M),p.LFG(a.e),p.LFG(s.e))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac}),e})()},74570:function(e,t,i){"use strict";i.d(t,{x:function(){return o}});var n=i(32268);class o{constructor(e){this.period=e}static getPeriodsForSelectList(e){const t=new Array;return e&&e.forEach((e,i)=>{t.push({value:e.getValue(),label:e.getLabel()})}),t}static getPeriod(e){return JSON.parse(e)}getLabel(){return n.$.getDateUTCFormat(new Date(this.period.initDate)).toLocaleDateString()+" - "+n.$.getDateUTCFormat(new Date(this.period.endDate)).toLocaleDateString()}getValue(){return JSON.stringify(this.period)}}},97185:function(e,t,i){"use strict";i.d(t,{$:function(){return a}});var n=i(92340),o=i(59708),s=i(37716);let a=(()=>{class e{constructor(e){this.serviceGeneric=e}getOccurrencesOfDay(e=n.N.loggedUser,t){const i=`timesheet/occurrences/${e}`,o=[];return o.referenceDate=t.toISOString(),this.serviceGeneric.search(i,o)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})()},70636:function(e,t,i){"use strict";i.d(t,{W:function(){return u}});var n=i(64762),o=i(37716),s=i(44956),a=i(26847),r=i(92340),l=i(65241),c=i(38583),p=i(29790),d=i(32268);function g(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",2),o.TgZ(2,"span",3),o.TgZ(3,"div",4),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",5),o._uU(7),o.ALo(8,"lowercase"),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",6),o.TgZ(11,"span",3),o.TgZ(12,"div",4),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.TgZ(15,"div",5),o._uU(16),o.ALo(17,"utcDate"),o.qZA(),o.qZA(),o.TgZ(18,"span",3),o.TgZ(19,"div",4),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"div",5),o._uU(23),o.ALo(24,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,7,"l-days-vacation")),o.xp6(3),o.AsE("",e.vacation.days," ",o.lcZ(8,9,o.lcZ(9,11,"l-days")),""),o.xp6(6),o.Oqu(o.lcZ(14,13,"l-begin-vacation")),o.xp6(3),o.Oqu(o.xi3(17,15,e.vacation.initVacation,"shortDate")),o.xp6(4),o.Oqu(o.lcZ(21,18,"l-end-vacation")),o.xp6(3),o.Oqu(o.xi3(24,20,e.vacation.endVacation,"shortDate"))}}let u=(()=>{class e{constructor(e,t){this.appTranslateService=e,this.vacationService=t,this.isVisible=!1,this.deleted=new o.vpe,this.confirmAction={label:"l-delete",action:()=>this.excludeVacation()},this.cancelAction={label:"l-cancel",action:()=>this.excludeDialog.close()}}ngOnInit(){this.translateLabelConfirm()}translateLabelConfirm(){for(let e of[this.confirmAction,this.cancelAction])this.appTranslateService.getI18n(e.label).then(t=>{e.label=t})}openDialog(){this.excludeDialog.open()}excludeVacation(){return(0,n.mG)(this,void 0,void 0,function*(){if(this.employeeId||(this.employeeId=r.N.loggedUser),this.vacation.canAlter)try{yield this.vacationService.deleteVacation(this.vacation.id,this.employeeId),this.deleted.emit()}finally{this.excludeDialog.close()}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.g),o.Y36(a.P))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-vacation-exclude"]],viewQuery:function(e,t){if(1&e&&o.Gf(s.hmF,5),2&e){let e;o.iGM(e=o.CRH())&&(t.excludeDialog=e.first)}},inputs:{vacation:"vacation",employeeId:"employeeId"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row","second-row"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.ALo(1,"translate"),o.YNc(2,g,25,23,"div",1),o.qZA()),2&e&&(o.s9C("p-title",o.lcZ(1,4,"l-want-delete-request")),o.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),o.xp6(2),o.Q6J("ngIf",void 0!==t.vacation))},directives:[s.hmF,c.O5],pipes:[p.X$,c.i8,d.$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),e})()},11491:function(e,t,i){"use strict";i.d(t,{g:function(){return P}});var n=i(64762),o=i(98348),s=i(94405),a=i(88044),r=i(30343),l=i(97983),c=i(68014),p=i(26847),d=i(92340),g=i(44852),u=i(37716),h=i(29790),m=i(84479),f=i(62393),v=i(36812),b=i(38583),x=i(90171),y=i(32268);function Z(e,t){1&e&&(u.TgZ(0,"span",28),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&e&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"l-download")," "))}function w(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",25),u.NdJ("click",function(){return u.CHM(e),u.oxw().getDownloadReceipt()}),u._UZ(1,"span",26),u.YNc(2,Z,3,3,"span",27),u.qZA()}if(2&e){const e=u.oxw();u.xp6(2),u.Q6J("ngIf",!e.isWebView())}}function C(e,t){if(1&e&&(u.TgZ(0,"div",29),u.TgZ(1,"div",17),u.TgZ(2,"div",8),u._uU(3),u.qZA(),u.TgZ(4,"div",30),u._uU(5),u.ALo(6,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(3),u.hij(" ",null==e?null:e.description," "),u.xp6(2),u.Oqu(u.xi3(6,2,(null==e?null:e.value)||0,"1.2-2"))}}function M(e,t){if(1&e&&(u.TgZ(0,"div",29),u.TgZ(1,"div",17),u.TgZ(2,"div",8),u._uU(3),u.qZA(),u.TgZ(4,"div",31),u._uU(5),u.ALo(6,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(3),u.hij(" ",null==e?null:e.description," "),u.xp6(2),u.Oqu(u.xi3(6,2,(null==e?null:e.value)||0,"1.2-2"))}}function A(e,t){if(1&e&&(u.TgZ(0,"div",29),u.TgZ(1,"div",17),u.TgZ(2,"div",8),u._uU(3),u.qZA(),u.TgZ(4,"div",32),u._uU(5),u.ALo(6,"number"),u.qZA(),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(3),u.hij(" ",null==e?null:e.description," "),u.xp6(2),u.Oqu(u.xi3(6,2,(null==e?null:e.value)||0,"1.2-2"))}}let P=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l,c){this.vacationService=e,this.translateService=t,this.navigationUtilService=i,this.windowUtilService=n,this.fileManipulationService=o,this.profileService=s,this.ionicUtilService=a,this.spinnerService=r,this.permissionSelectors=l,this.fileTransferService=c,this.vacationId="0",this.loggedUser=d.N.loggedUser,this.proceeds=[],this.deductions=[],this.taxBase=[],this.totalProceedValue=0,this.totalTaxBaseValue=0,this.totalDeductionValue=0,this.isCurrentVacation=!1,this.employeeName="",this.employeeId="",this.showDownloadButton=!1,this.transferFile=""}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}initializeComponent(){this.getVariablesParam(),this.getVacationInfo(),this.getVacationReceipt(),this.getEmployeeName(),this.getDeviceInfo(),this.getPermission()}getEmployeeName(){this.employeeName||this.profileService.getEmployeeSummary(this.employeeId).then(e=>{this.employeeName=e.name})}getVariablesParam(){const e=JSON.parse(window.localStorage.getItem("vacationDetails"));this.vacationId=e.vacationId,this.isCurrentVacation=e.isCurrentVacation,this.employeeId=e.employeeId}getVacationInfo(){this.isCurrentVacation?o.ZP.isErpRM()?this.vacationService.getVacationInfo(this.employeeId).then(e=>{this.vacationInfo=e.filter(e=>e.id.toString()===this.vacationId.toString())[0]}):this.vacationService.getVacationProcess(this.employeeId).then(e=>{this.vacationInfo=e.filter(e=>e.id.toString()===this.vacationId.toString())[0]}):this.vacationService.getVacationHistory(this.employeeId,0,5,!0).then(e=>{e&&(this.vacationInfo=e.records.filter(e=>e.id===this.vacationId.toString())[0])})}getStatus(e){if(e.statusLabel)return e.statusLabel;let t;return this.translateService.get("l-unsolicited").subscribe(e=>{t=e}),t}getVacationReceipt(){this.vacationService.getVacationReceipt(this.employeeId,this.vacationId).then(e=>{this.detailedResponse=e.data?e.data:e,this.deductions=this.detailedResponse.events.filter(e=>{if(-1!==e.type.toLowerCase().indexOf("deduction"))return this.totalDeductionValue+=e.value,!0}),this.taxBase=this.detailedResponse.events.filter(e=>{if(-1!==e.type.toLowerCase().indexOf("tax"))return this.totalTaxBaseValue+=e.value,!0}),this.proceeds=this.detailedResponse.events.filter(e=>{if(-1!==e.type.toLowerCase().indexOf("proceeds"))return this.totalProceedValue+=e.value,!0})})}isWebView(){return this.windowUtilService.isWebView()}getDeviceInfo(){this.isMobileDevice=this.windowUtilService.isMobileDevice()}getDownloadReceipt(){return(0,n.mG)(this,void 0,void 0,function*(){const e=this.fileManipulationService.formatFilenameReport([this.employeeName]);if(this.isWebView()&&!o.ZP.isTomcatAppServer())this.spinnerService.show(),this.vacationService.getReportDownloadUrl(this.employeeId,this.vacationId).then(t=>{this.ionicUtilService.emit({args:{openAfterDownload:!0,url:t,filename:e,fileMIMEtype:"application/pdf"},type:a.g.DownloadAndOpenFile})}).catch(e=>{this.spinnerService.hide()});else if(this.isWebView()&&o.ZP.isTomcatAppServer()){this.spinnerService.show(),yield this.getAndSetBase64String(this.employeeId,this.vacationId);let t=yield this.fileTransferService.bufferFileonStorage(this.transferFile);yield this.fileTransferService.saveBase64onStorage(t);const i={args:{keyStorage:yield this.fileTransferService.nameListBas64onStorage(t),filename:e,fileMIMEtype:"application/pdf",isShare:!1},type:a.g.TransferFile};this.ionicUtilService.emit(i)}else this.vacationService.openVacationReport(this.employeeId,this.vacationId,e)})}getAndSetBase64String(e,t){return(0,n.mG)(this,void 0,void 0,function*(){this.transferFile="",yield this.vacationService.getBlobReportReceipt(e,t).then(e=>(0,n.mG)(this,void 0,void 0,function*(){yield this.fileManipulationService.blobToBase64(e).then(e=>this.transferFile=e),this.vacationService.setDefaulResponseType()}))})}back(){this.navigationUtilService.doNavigation(this.employeeId!==this.loggedUser?"teamManagement":"vacation")}isIOS(){return this.windowUtilService.isIOS()}getPermission(){this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(e=>{this.showDownloadButton=e.downloadVacationReceipt})}callbackIonicExternalEvent(e){(e.detail.event.type===a.g.DownloadAndOpenFile||e.detail.event.type===a.g.TransferFile)&&this.spinnerService.hide()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(p.P),u.Y36(h.sK),u.Y36(g._),u.Y36(m.g),u.Y36(s.e),u.Y36(l.H),u.Y36(a.l),u.Y36(r.V),u.Y36(c.eL),u.Y36(f.c))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-vacation-receipt"]],hostBindings:function(e,t){1&e&&u.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,u.evT)},decls:129,vars:112,consts:[["backIsVisible","true","pageTitle","l-vacation-receipt",3,"backFunction"],["class","download-container",3,"click",4,"ngIf"],[1,"vacation-main","vacation-component","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"hideToggle"],["expanded","true","hideToggle","true",1,"custom-border",3,"disabled"],[1,"vacation-history-header"],[1,"vacation-main-content"],[1,"line"],[1,"historic-content","a"],[1,"historic-label"],[1,"historic-value"],[1,"historic-content","b"],[1,"historic-content","c"],[1,"historic-content","d"],[1,"historic-content","e"],[1,"historic-content","f"],[1,"historic-content","g"],[1,"vacation-component","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],[1,"historic-content"],[1,"historic-value","green"],[1,"historic-title"],["class","content-holder",4,"ngFor","ngForOf"],[1,"historic-value","red"],[1,"historic-content","paddingTop15px"],[1,"historic-label","bold","font16px"],[1,"historic-value","bold","green"],[1,"download-container",3,"click"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base","icon-size"],["class","button-download",4,"ngIf"],[1,"button-download"],[1,"content-holder"],[1,"historic-value","green","bold"],[1,"historic-value","bold","red"],[1,"historic-value","bold"]],template:function(e,t){1&e&&(u.TgZ(0,"app-page-header",0),u.NdJ("backFunction",function(){return t.back()}),u.qZA(),u.YNc(1,w,3,1,"div",1),u.TgZ(2,"mat-accordion",2),u.TgZ(3,"mat-expansion-panel",3),u.TgZ(4,"mat-expansion-panel-header",4),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"div",5),u._UZ(8,"hr",6),u.TgZ(9,"div",7),u.TgZ(10,"div",8),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"div",9),u._uU(14),u.qZA(),u.qZA(),u._UZ(15,"hr",6),u.TgZ(16,"div",10),u.TgZ(17,"div",8),u._uU(18),u.ALo(19,"translate"),u.qZA(),u.TgZ(20,"div",9),u._uU(21),u.ALo(22,"utcDate"),u.qZA(),u.qZA(),u._UZ(23,"hr",6),u.TgZ(24,"div",11),u.TgZ(25,"div",8),u._uU(26),u.ALo(27,"translate"),u.qZA(),u.TgZ(28,"div",9),u._uU(29),u.ALo(30,"utcDate"),u.qZA(),u.qZA(),u._UZ(31,"hr",6),u.TgZ(32,"div",12),u.TgZ(33,"div",8),u._uU(34),u.ALo(35,"translate"),u.qZA(),u.TgZ(36,"div",9),u._uU(37),u.qZA(),u.qZA(),u._UZ(38,"hr",6),u.TgZ(39,"div",13),u.TgZ(40,"div",8),u._uU(41),u.ALo(42,"translate"),u.qZA(),u.TgZ(43,"div",9),u._uU(44),u.ALo(45,"lowercase"),u.ALo(46,"translate"),u.qZA(),u.qZA(),u._UZ(47,"hr",6),u.TgZ(48,"div",14),u.TgZ(49,"div",8),u._uU(50),u.ALo(51,"translate"),u.qZA(),u.TgZ(52,"div",9),u._uU(53),u.ALo(54,"utcDate"),u.qZA(),u.qZA(),u._UZ(55,"hr",6),u.TgZ(56,"div",15),u.TgZ(57,"div",8),u._uU(58),u.ALo(59,"translate"),u.qZA(),u.TgZ(60,"div",9),u._uU(61),u.ALo(62,"utcDate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(63,"mat-accordion",16),u.TgZ(64,"mat-expansion-panel",3),u.TgZ(65,"mat-expansion-panel-header",4),u._uU(66),u.ALo(67,"translate"),u.qZA(),u.TgZ(68,"div",17),u.TgZ(69,"div",8),u._uU(70),u.ALo(71,"translate"),u.qZA(),u.TgZ(72,"div",9),u._uU(73),u.ALo(74,"utcDate"),u.qZA(),u.qZA(),u.TgZ(75,"div",17),u.TgZ(76,"div",8),u._uU(77),u.ALo(78,"translate"),u.qZA(),u.TgZ(79,"div",9),u._uU(80),u.ALo(81,"utcDate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(82,"mat-accordion",16),u.TgZ(83,"mat-expansion-panel",3),u.TgZ(84,"mat-expansion-panel-header",4),u._uU(85),u.ALo(86,"translate"),u.qZA(),u.TgZ(87,"div",17),u.TgZ(88,"div",8),u._uU(89),u.ALo(90,"translate"),u.qZA(),u.TgZ(91,"div",18),u._uU(92),u.ALo(93,"number"),u.qZA(),u.qZA(),u.TgZ(94,"h2",19),u._uU(95),u.ALo(96,"translate"),u.qZA(),u.YNc(97,C,7,5,"div",20),u.qZA(),u.qZA(),u.TgZ(98,"mat-accordion",16),u.TgZ(99,"mat-expansion-panel",3),u.TgZ(100,"mat-expansion-panel-header",4),u._uU(101),u.ALo(102,"translate"),u.qZA(),u.TgZ(103,"div",17),u.TgZ(104,"div",8),u._uU(105),u.ALo(106,"translate"),u.qZA(),u.TgZ(107,"div",21),u._uU(108),u.ALo(109,"number"),u.qZA(),u.qZA(),u.TgZ(110,"h2",19),u._uU(111),u.ALo(112,"translate"),u.qZA(),u.YNc(113,M,7,5,"div",20),u.qZA(),u.qZA(),u.TgZ(114,"mat-accordion",16),u.TgZ(115,"mat-expansion-panel",3),u.TgZ(116,"mat-expansion-panel-header",4),u._uU(117),u.ALo(118,"translate"),u.qZA(),u.YNc(119,A,7,5,"div",20),u.qZA(),u.TgZ(120,"mat-accordion",16),u.TgZ(121,"mat-expansion-panel",3),u.TgZ(122,"div",22),u.TgZ(123,"div",23),u._uU(124),u.ALo(125,"translate"),u.qZA(),u.TgZ(126,"div",24),u._uU(127),u.ALo(128,"number"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngIf",t.showDownloadButton),u.xp6(1),u.Q6J("hideToggle",!0),u.xp6(1),u.Q6J("disabled",!0),u.xp6(2),u.hij(" ",u.lcZ(6,43,"l-requested-vacation")," "),u.xp6(6),u.hij(" ",u.lcZ(12,45,"l-vacation-numofdays")," "),u.xp6(3),u.Oqu((null==t.vacationInfo?null:t.vacationInfo.days)||0),u.xp6(4),u.Oqu(u.lcZ(19,47,"l-vacation-init-period")),u.xp6(3),u.Oqu(u.xi3(22,49,null==t.vacationInfo?null:t.vacationInfo.initVacation,"shortDate")),u.xp6(5),u.Oqu(u.lcZ(27,52,"l-vacation-end-period")),u.xp6(3),u.Oqu(u.xi3(30,54,null==t.vacationInfo?null:t.vacationInfo.endVacation,"shortDate")),u.xp6(5),u.Oqu(u.lcZ(35,57,"l-vacation-status")),u.xp6(3),u.Oqu(null==t.vacationInfo?null:t.getStatus(t.vacationInfo)),u.xp6(4),u.Oqu(u.lcZ(42,59,"l-vacation-expired-days")),u.xp6(3),u.AsE("",null==t.vacationInfo?null:t.vacationInfo.balance," ",u.lcZ(45,61,u.lcZ(46,63,"l-days")),""),u.xp6(6),u.Oqu(u.lcZ(51,65,"l-vacation-init-acquisition")),u.xp6(3),u.Oqu(u.xi3(54,67,null==t.vacationInfo?null:t.vacationInfo.initPeriod,"shortDate")),u.xp6(5),u.Oqu(u.lcZ(59,70,"l-vacation-end-acquisition")),u.xp6(3),u.Oqu(u.xi3(62,72,null==t.vacationInfo?null:t.vacationInfo.endPeriod,"shortDate")),u.xp6(3),u.Q6J("disabled",!0),u.xp6(2),u.hij(" ",u.lcZ(67,75,"l-vacation-receipt")," "),u.xp6(4),u.hij(" ",u.lcZ(71,77,"l-vacation-receipt-payment")," "),u.xp6(3),u.Oqu(u.xi3(74,79,null==t.detailedResponse?null:t.detailedResponse.payDate,"shortDate")),u.xp6(4),u.Oqu(u.lcZ(78,82,"l-vacation-receipt-notice")),u.xp6(3),u.Oqu(u.xi3(81,84,null==t.detailedResponse?null:t.detailedResponse.noticeDate,"shortDate")),u.xp6(3),u.Q6J("disabled",!0),u.xp6(2),u.hij(" ",u.lcZ(86,87,"l-vacation-earnings")," "),u.xp6(4),u.hij(" ",u.lcZ(90,89,"l-vacation-earnings-total")," "),u.xp6(3),u.Oqu(u.xi3(93,91,t.totalProceedValue||0,"1.2-2")),u.xp6(3),u.hij(" ",u.lcZ(96,94,"l-vacation-description")," "),u.xp6(2),u.Q6J("ngForOf",t.proceeds),u.xp6(2),u.Q6J("disabled",!0),u.xp6(2),u.hij(" ",u.lcZ(102,96,"l-vacation-deduction")," "),u.xp6(4),u.hij(" ",u.lcZ(106,98,"l-vacation-deduction-total")," "),u.xp6(3),u.Oqu(u.xi3(109,100,t.totalDeductionValue||0,"1.2-2")),u.xp6(3),u.hij(" ",u.lcZ(112,103,"l-vacation-description")," "),u.xp6(2),u.Q6J("ngForOf",t.deductions),u.xp6(2),u.Q6J("disabled",!0),u.xp6(2),u.hij(" ",u.lcZ(118,105,"l-vacation-taxbase")," "),u.xp6(2),u.Q6J("ngForOf",t.taxBase),u.xp6(2),u.Q6J("disabled",!0),u.xp6(3),u.hij(" ",u.lcZ(125,107,"l-vacation-total")," "),u.xp6(3),u.hij(" ",u.xi3(128,109,t.totalProceedValue-t.totalDeductionValue||0,"1.2-2")," "))},directives:[v.q,b.O5,x.pp,x.ib,x.yz,b.sg],pipes:[h.X$,y.$,b.i8,b.JJ],styles:['.vacation-label[_ngcontent-%COMP%]{margin-top:0}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block}.vacation-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639;cursor:default}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.downloader-holder[_ngcontent-%COMP%]{float:right;margin:10px 0;font-weight:bold}.historic-label[_ngcontent-%COMP%]{display:inline-block;font-weight:bold;color:#4a5c60}.historic-title[_ngcontent-%COMP%]{margin:0 24px;padding:15px 0 5px;border-bottom:1px solid #cacaca;font-size:14px;font-weight:bold}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}@media (max-width: 767px){.historic-content[_ngcontent-%COMP%]{padding:0 24px;display:flow-root}}@media (min-width: 767px){.historic-content[_ngcontent-%COMP%]{padding:5px 24px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.vacation-label[_ngcontent-%COMP%]{padding-left:8px}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;right:5px;min-width:90px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .thf-button-link{border-color:#fff;color:#fff}@media screen and (max-width: 425px){[_nghost-%COMP%]     .thf-button-link{width:100%}}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.vacation[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 992px) and (max-width: 1199px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}.vacation-link[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 425px){.vacation-actions[_ngcontent-%COMP%]{text-align:right}}@media (max-width: 425px){.vacation-notes[_ngcontent-%COMP%]{width:40%;margin-left:-5px}}@media screen and (min-width: 425px){.vacation-notes[_ngcontent-%COMP%]{margin-right:10px}}@media (max-width: 425px){.vacation-download[_ngcontent-%COMP%]{width:55%;float:right;margin-right:20px}}.vacation-warning[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:3px 8px;background-color:#ea9b3e;border-radius:5px;color:#fff}.vacation-main[_ngcontent-%COMP%]   .a[_ngcontent-%COMP%]{grid-area:a}.vacation-main[_ngcontent-%COMP%]   .b[_ngcontent-%COMP%]{grid-area:b}.vacation-main[_ngcontent-%COMP%]   .c[_ngcontent-%COMP%]{grid-area:c}.vacation-main[_ngcontent-%COMP%]   .d[_ngcontent-%COMP%]{grid-area:d}.vacation-main[_ngcontent-%COMP%]   .e[_ngcontent-%COMP%]{grid-area:e}.vacation-main[_ngcontent-%COMP%]   .f[_ngcontent-%COMP%]{grid-area:f}.vacation-main[_ngcontent-%COMP%]   .g[_ngcontent-%COMP%]{grid-area:g}@media (min-width: 767px){.vacation-main[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:none}}@media (min-width: 767px){.vacation-main-content[_ngcontent-%COMP%]{display:grid}}@media (min-width: 767px){.vacation-main-content[_ngcontent-%COMP%]{grid-template-areas:"a b c d" "e f g ."}}@media (min-width: 991px){.vacation-main-content[_ngcontent-%COMP%]{grid-template-areas:"a b c d" "e f g ."}}@media (min-width: 1199px){.vacation-main-content[_ngcontent-%COMP%]{grid-template-areas:"a b c d e f g";grid-template-columns:4fr 4fr 5fr 4fr 4fr 6fr 6fr}}@media (min-width: 767px){.vacation-main-content[_ngcontent-%COMP%]   .historic-label[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:bold}}.vacation-main-content[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{float:none;float:initial;text-align:left}.vacation-component[_ngcontent-%COMP%]{margin-bottom:20px}.vacation-button[_ngcontent-%COMP%]{font-family:NunitoSans-Bold,sans-serif;font-size:16px;line-height:24px;background-color:transparent;border:1px solid #0c9abe;border-radius:3px;color:#0c9abe;display:inline-block;height:44px;padding:0 16px;text-align:center}.vacation[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{font-weight:bold}@media (min-width: 767px){.vacation[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{float:none;float:initial;text-align:left}}.text-total[_ngcontent-%COMP%]{float:right}.content-holder[_ngcontent-%COMP%]:last-child   .line[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .vacation-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .vacation-history-header .mat-content{font-size:14px}}.green[_ngcontent-%COMP%]{color:#00b28e}.red[_ngcontent-%COMP%]{color:rgba(190,39,12,.973)}.bold[_ngcontent-%COMP%]{font-weight:bold}.paddingTop15px[_ngcontent-%COMP%]{padding-top:15px}.font16px[_ngcontent-%COMP%]{font-size:16px}.download-holder[_ngcontent-%COMP%]{margin:15px 8px}.text-download-item[_ngcontent-%COMP%]{color:#0c9abe}.download-container[_ngcontent-%COMP%]{display:inline-flex;float:right;font-size:24px;cursor:pointer;margin-bottom:20px!important}.download-icone[_ngcontent-%COMP%]{padding-right:3px}.download-texto[_ngcontent-%COMP%]{color:#0c9abe}.button-download[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 720px){.button-download[_ngcontent-%COMP%]{color:#0c9abe;font-family:NunitoSans-Bold;cursor:pointer;font-size:16px;display:inline-block;padding-left:8px!important;margin-top:-4px}}.icon-size[_ngcontent-%COMP%]{font-size:18px;font-weight:bold}']}),e})()},81621:function(e,t,i){"use strict";i.d(t,{U:function(){return f}});var n=i(64762),o=i(89019),s=i(81483),a=i(83614),r=i(7633),l=i(37716),c=i(95987),p=i(38583),d=i(44956),g=i(29790),u=i(32268);function h(e,t){1&e&&(l.TgZ(0,"div",9),l.TgZ(1,"span",10),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,1,"l-warn-request-go-to-approvation")))}function m(e,t){1&e&&(l.TgZ(0,"div",11),l.TgZ(1,"span"),l._UZ(2,"span",12),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Oqu(l.lcZ(4,1,"l-warning-message-vacation")))}let f=(()=>{class e{constructor(e,t,i,n){this.router=e,this.route=t,this.vacationRequestService=i,this.vacation=n,this.employeeId=o.N.loggedUser,this.employeeCard={employee:void 0,image:void 0,originComponent:""}}ngOnInit(){var e,t;this.getEmployee(),this.checkPreviewInfosToInit(),this.vacationMessageWarningIsVisible=null===(t=null===(e=this.vacation)||void 0===e?void 0:e.vacationInfo)||void 0===t?void 0:t.vacationProportional}save(){return(0,n.mG)(this,void 0,void 0,function*(){this.vacation.vacationInfo.initPeriod=s.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initPeriod)),this.vacation.vacationInfo.endPeriod=s.Em.formatUTCDate(new Date(this.vacation.vacationInfo.endPeriod)),this.vacation.vacationInfo.initVacation=s.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initVacation)),this.vacation.vacationInfo.endVacation=s.Em.formatUTCDate(new Date(this.vacation.vacationInfo.endVacation)),this.vacation.isEdit?yield this.vacationRequestService.putVacationRequest(this.employeeId,this.vacation.vacationInfo):yield this.vacationRequestService.insertVacationRequest(this.employeeId,this.vacation.vacationInfo),this.nextStep()})}getLabelSellVacationOption(e){return e>0?"l-yes-sell-vacation":"l-no"}getLabelAdvanceOption(e){return e?"l-yes":"l-no"}nextStep(){this.router.navigate(["../requestDone"],{relativeTo:this.route})}checkPreviewInfosToInit(){this.vacation.vacationInfo||this.router.navigate(["vacation"])}getEmployee(){this.vacation.employeeCard&&this.vacation.employeeCard.employee&&(this.employeeId=this.vacation.employeeCard.employee.id)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.F0),l.Y36(c.gz),l.Y36(r.D),l.Y36(a.w))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-confirm-request"]],decls:45,vars:44,consts:[[1,"container-title"],[1,"title"],[1,"container-content-list"],[1,"content-list","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],[1,"ask-content-list","pull-left"],[1,"awsner-content-list","pull-right"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 bottom-message",4,"ngIf"],["class","po-row bottom-message-warning",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","bottom-message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-row","bottom-message-warning"],[1,"po-icon","po-icon-warning","warning-message"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h2",1),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"div",3),l.TgZ(6,"span",4),l._uU(7),l.ALo(8,"translate"),l.qZA(),l.TgZ(9,"span",5),l._uU(10),l.ALo(11,"lowercase"),l.ALo(12,"translate"),l.qZA(),l.qZA(),l.TgZ(13,"div",3),l.TgZ(14,"span",4),l._uU(15),l.ALo(16,"translate"),l.qZA(),l.TgZ(17,"span",5),l._uU(18),l.ALo(19,"utcDate"),l.qZA(),l.qZA(),l.TgZ(20,"div",3),l.TgZ(21,"span",4),l._uU(22),l.ALo(23,"translate"),l.qZA(),l.TgZ(24,"span",5),l._uU(25),l.ALo(26,"utcDate"),l.qZA(),l.qZA(),l.TgZ(27,"div",3),l.TgZ(28,"span",4),l._uU(29),l.ALo(30,"translate"),l.qZA(),l.TgZ(31,"span",5),l._uU(32),l.ALo(33,"translate"),l.qZA(),l.qZA(),l.TgZ(34,"div",3),l.TgZ(35,"span",4),l._uU(36),l.ALo(37,"translate"),l.qZA(),l.TgZ(38,"span",5),l._uU(39),l.ALo(40,"translate"),l.qZA(),l.qZA(),l.qZA(),l.YNc(41,h,4,3,"div",6),l.YNc(42,m,5,3,"div",7),l.TgZ(43,"po-button",8),l.NdJ("p-click",function(){return t.save()}),l.ALo(44,"translate"),l.qZA()),2&e&&(l.xp6(2),l.Oqu(l.lcZ(3,15,"l-check-out-your-vacation-request")),l.xp6(5),l.Oqu(l.lcZ(8,17,"l-vacations-day")),l.xp6(3),l.AsE("",null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.days," ",l.lcZ(11,19,l.lcZ(12,21,"l-days")),""),l.xp6(5),l.Oqu(l.lcZ(16,23,"l-start")),l.xp6(3),l.Oqu(l.xi3(19,25,null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.initVacation,"dd/MM/yyyy")),l.xp6(4),l.Oqu(l.lcZ(23,28,"l-end")),l.xp6(3),l.Oqu(l.xi3(26,30,null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.endVacation,"dd/MM/yyyy")),l.xp6(4),l.Oqu(l.lcZ(30,33,"l-sell-one-third-vacation")),l.xp6(3),l.Oqu(l.xi3(33,35,t.getLabelSellVacationOption(null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.vacationBonus),t.vacation.vacationInfo)),l.xp6(4),l.Oqu(l.lcZ(37,38,"l-advance")),l.xp6(3),l.hij("",l.lcZ(40,40,t.getLabelAdvanceOption(null==t.vacation.vacationInfo?null:t.vacation.vacationInfo.hasAdvance))," "),l.xp6(2),l.Q6J("ngIf",!t.vacationMessageWarningIsVisible),l.xp6(1),l.Q6J("ngIf",t.vacationMessageWarningIsVisible),l.xp6(1),l.s9C("p-label",l.lcZ(44,42,"l-finalize-requisition")))},directives:[p.O5,d.bOz],pipes:[g.X$,p.i8,u.$],styles:[".container-title[_ngcontent-%COMP%]{padding:15px 30px 0}.container-content-list[_ngcontent-%COMP%]{padding:0 15px}.title[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal;margin-bottom:20%}.sub-content[_ngcontent-%COMP%]{text-align:center;color:#9da7a9;font-weight:bold}.content-list[_ngcontent-%COMP%]{margin-top:12px}.ask-content-list[_ngcontent-%COMP%]{font-weight:bold;font-size:16px}.awsner-content-list[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}.warning-message[_ngcontent-%COMP%]{font-size:37px;position:absolute;top:-8px;margin-left:-30px}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.bottom-message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:83%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}.bottom-message-warning[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:83%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#ffc107}@media only screen and (max-width: 320px){.bottom-message[_ngcontent-%COMP%]{top:75%;padding:0 7%}.bottom-message-warning[_ngcontent-%COMP%]{top:75%;padding:0 7%}[_nghost-%COMP%]     .po-button{height:60px}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}.title[_ngcontent-%COMP%]{margin-bottom:12%}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),e})()},48655:function(e,t,i){"use strict";i.d(t,{d:function(){return O}});var n=i(64762),o=i(92340),s=i(3247),a=i(81483),r=i(64383),l=i(98348),c=i(68014),p=i(26847),d=i(83614),g=i(37716),u=i(95987),h=i(49344),m=i(65241),f=i(38583),v=i(44956),b=i(3679),x=i(29790),y=i(32268);const Z=["daysField"];function w(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1),g.ALo(2,"translate"),g.ALo(3,"utcDate"),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.AsE("",g.lcZ(2,2,"l-ends-in")," ",g.xi3(3,4,e.vacation.vacationInfo.endVacation,"dd/MM/yyyy"),"")}}const C=function(e){return{balance:e}};function M(e,t){if(1&e&&(g.TgZ(0,"span",10),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Oqu(g.xi3(2,1,"l-you-have-until-days-to-vacation-request",g.VKq(4,C,e.balanceIgnoringCurrent)))}}function A(e,t){if(1&e&&(g.TgZ(0,"span",10),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Oqu(g.xi3(2,1,"l-you-can-request-up-to-days-vacation",g.VKq(4,C,e.balanceIgnoringCurrent)))}}function P(e,t){if(1&e&&(g.TgZ(0,"span",11),g._uU(1),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Oqu(e.messageProtheus)}}let O=(()=>{class e{constructor(e,t,i,n,s,a,r,l){this.vacation=e,this.router=t,this.route=i,this.moment=n,this.toastr=s,this.appTranslateService=a,this.vacationService=r,this.permissionSelectors=l,this.loggedUser=o.N.loggedUser,this.employeeId=o.N.loggedUser,this.vacationBonusViewAllowed=!0,this.teamManagementVacationBonusViewAllowed=!0}ngOnInit(){return(0,n.mG)(this,void 0,void 0,function*(){this.balanceIsAready=!1,this.vacation.checkPreviewInfosToInit(this.vacation),this.validateVacationDays(this.vacation.vacationInfo.vacationProportional),this.balanceIgnoringCurrent=this.calculateBalanceIgnoringCurrent(this.vacation.vacationInfo),this.getEmployee(),this.getPermissions(),yield this.validateBalanceAux(this.vacation.vacationInfo.vacationProportional)})}ngOnDestroy(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}isErpProtheus(){return l.ZP.isErpProtheus()}isErpDatasul(){return l.ZP.isErpDatasul()}hasEndVacation(){return this.isErpDatasul()?this.validateAcceptBelowFiveDaysDts():!!(this.vacation.vacationInfo&&this.vacation.vacationInfo.endVacation&&Number(this.vacationDays)>=5)}calcEndDateVacation(){if(!this.vacation.vacationInfo.vacationProportional||this.balanceIsAready)if(this.vacationDays>=0&&this.hasEnoughBalance()&&this.validateBalance()){let e=new Date(this.vacation.vacationInfo.initVacation);e.setDate(e.getDate()+Number(this.vacationDays)-1),this.vacation.vacationInfo.endVacation=e,this.endVacation=this.moment.getInstance(e).format("YYYY-MM-DD"),this.vacation.vacationInfo.days=Number(this.vacationDays)}else this.vacation.vacationInfo.endVacation=void 0,this.vacation.vacationInfo.days=0,this.vacationDays=void 0}hasEnoughBalance(){return!(this.vacationDays>this.balanceIgnoringCurrent&&(this.appTranslateService.getI18n("l-do-not-enough-balance").then(e=>{this.toastr.warning(e)}),1))}nextStep(){this.employeeId===this.loggedUser?Number(this.vacation.vacationInfo.days)!==this.balanceIgnoringCurrent&&this.vacationBonusViewAllowed&&this.validateBonusDate()?this.router.navigate(["../sellDays"],{relativeTo:this.route}):(this.vacation.vacationInfo.vacationBonus=0,this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route})):Number(this.vacation.vacationInfo.days)!==this.balanceIgnoringCurrent&&this.teamManagementVacationBonusViewAllowed&&this.validateBonusDate()?this.router.navigate(["../sellDays"],{relativeTo:this.route}):(this.vacation.vacationInfo.vacationBonus=0,this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route}))}validateBalance(){let e=0;return e=this.vacation.vacationInfo.vacationProportional&&this.isErpProtheus()?30-this.vacationDays:this.balanceIgnoringCurrent-this.vacationDays,!(!this.isErpDatasul()&&e>0&&e<5&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(e=>{this.toastr.warning(e)}),1))}validateBalanceAux(e){return(0,n.mG)(this,void 0,void 0,function*(){e&&(yield this.getBalanceAux(),this.isErpProtheus()&&(this.balanceProtheus={aux:this.vacation.vacationInfo.balanceAux-this.vacation.vacationInfo.balance,value:this.balanceIgnoringCurrent},this.messageProtheus=yield this.appTranslateService.getI18n("l-according-to-the-chosen-date-you-have-more-days",this.balanceProtheus)),this.vacationDays=this.vacation.vacationInfo.days)})}validateVacationDays(e){this.vacationDays=e?0:this.vacation.vacationInfo.days}getBalanceAux(){return(0,n.mG)(this,void 0,void 0,function*(){if(this.isErpProtheus()){const e=a.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initVacation)).toISOString(),t=a.Em.formatUTCDate(new Date(this.vacation.vacationInfo.initPeriod)).toISOString();this.balanceAux=yield this.vacationService.getBalanceAux(this.employeeId,e,t),this.vacation.vacationInfo.balanceAux=this.balanceAux.balanceAux,this.balanceIsAready=!0,this.setBalanceAux()}else this.balanceAux={balanceAux:this.vacation.vacationInfo.balanceAux},this.balanceIsAready=!0,this.setBalanceAux()})}setBalanceAux(){this.vacation.vacationInfo.balanceAux&&(this.balanceIgnoringCurrent=this.vacation.vacationInfo.balanceAux)}calculateBalanceIgnoringCurrent(e){let t=e.balance;return e.status!==s.W.StatusEnum.Empty&&e.vacationBonus&&(t+=e.vacationBonus),t}getPermissions(){this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(e=>{this.vacationBonusViewAllowed=this.validatePermissionUndefined(e.vacationBonusView),this.teamManagementVacationBonusViewAllowed=this.validatePermissionUndefined(e.teamManagementVacationBonusView)})}getEmployee(){this.employeeId=this.vacation.employeeCard&&this.vacation.employeeCard.employee?this.vacation.employeeCard.employee.id:"{current}"}validatePermissionUndefined(e){return void 0===e||e}validateBonusDate(){if(this.vacation.vacationInfo.limitVacationBonusDate){const e=new Date(this.vacation.vacationInfo.endPeriod),t=new Date;return a.Em.diffInDays(new Date(t.getFullYear(),t.getMonth(),t.getDate()),new Date(e.valueOf()+6e4*e.getTimezoneOffset()),!1)>=15}return!0}validateAcceptBelowFiveDaysDts(){return this.vacation.vacationInfo&&this.vacation.vacationInfo.endVacation&&Number(this.vacationDays)>0}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(d.w),g.Y36(u.F0),g.Y36(u.gz),g.Y36(r.z),g.Y36(h._W),g.Y36(m.g),g.Y36(p.P),g.Y36(c.eL))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-days-vacation"]],viewQuery:function(e,t){if(1&e&&g.Gf(Z,5),2&e){let e;g.iGM(e=g.CRH())&&(t.daysField=e.first)}},decls:18,vars:20,consts:[[1,"container-content"],[1,"title"],[1,"sub-content","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[4,"ngIf"],[1,"input-days","po-sm-2","po-md-1","po-lg-1","po-xl-1"],["p-maxlength","2","p-minlength","1","p-auto-focus","true","p-required","true","p-placeholder","0",3,"ngModel","ngModelChange","p-change-model"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","bottom-message"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 message-protheus",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message-protheus"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g._uU(2),g.ALo(3,"translate"),g.qZA(),g.TgZ(4,"div",2),g._uU(5),g.ALo(6,"translate"),g.ALo(7,"utcDate"),g._UZ(8,"br"),g.YNc(9,w,4,7,"span",3),g.qZA(),g.TgZ(10,"div",4),g.TgZ(11,"po-number",5),g.NdJ("ngModelChange",function(e){return t.vacationDays=e})("p-change-model",function(){return t.calcEndDateVacation()}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",6),g.YNc(13,M,3,6,"span",7),g.YNc(14,A,3,6,"span",7),g.YNc(15,P,2,1,"span",8),g.qZA(),g.TgZ(16,"po-button",9),g.NdJ("p-click",function(){return t.nextStep()}),g.ALo(17,"translate"),g.qZA()),2&e&&(g.xp6(2),g.Oqu(g.lcZ(3,10,"l-how-many-days-vacation")),g.xp6(3),g.AsE(" ",g.xi3(6,12,"l-init-in",t.vacation.vacationInfo)," ",g.xi3(7,15,t.vacation.vacationInfo.initVacation,"dd/MM/yyyy"),""),g.xp6(4),g.Q6J("ngIf",t.hasEndVacation()),g.xp6(2),g.Q6J("ngModel",t.vacationDays),g.xp6(2),g.Q6J("ngIf",!t.vacation.vacationInfo.vacationProportional),g.xp6(1),g.Q6J("ngIf",t.vacation.vacationInfo.vacationProportional&&!t.isErpProtheus()),g.xp6(1),g.Q6J("ngIf",t.vacation.vacationInfo.vacationProportional&&t.isErpProtheus()),g.xp6(1),g.s9C("p-label",g.lcZ(17,18,"l-confirm")),g.Q6J("p-disabled",!t.hasEndVacation()))},directives:[f.O5,v.S5$,b.JJ,b.On,v.bOz],pipes:[x.X$,y.$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 30px 0}.title[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.sub-content[_ngcontent-%COMP%]{text-align:center;color:#9da7a9;font-weight:bold}.input-days[_ngcontent-%COMP%]{position:absolute;left:42%;top:50%}[_nghost-%COMP%]     .ng-valid .po-input:focus{border:none!important}[_nghost-%COMP%]     po-input.ng-invalid.ng-dirty .po-input{border:none!important;color:#000}[_nghost-%COMP%]     .po-input{font-size:25px;font-family:NunitoSans;width:80px;outline:none;border:none!important;box-shadow:none;margin-left:-7px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}.message-protheus[_ngcontent-%COMP%]{margin-top:-25px}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.bottom-message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 20%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}@media only screen and (max-width: 320px){.bottom-message[_ngcontent-%COMP%]{top:75%}[_nghost-%COMP%]     .po-button{height:60px}}@media only screen and (min-width: 480px){.input-days[_ngcontent-%COMP%]{left:45%}[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){.input-days[_ngcontent-%COMP%]{left:45%;top:45%}[_nghost-%COMP%]     .po-button{height:80px}}"]}),e})()},18399:function(e,t,i){"use strict";i.d(t,{d:function(){return p}});var n=i(83614),o=i(37716),s=i(95987),a=i(38583),r=i(44956),l=i(29790);const c=function(e){return{"button-selected":e}};let p=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.vacation=i,this.hasAdvance=void 0}ngOnInit(){this.vacation.checkPreviewInfosToInit(this.vacation),this.initHasAdvance(),this.validateHasAdvanced()}validateHasAdvanced(){this.vacation.hasAdvancedReceived.required||(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route}))}setAdvanceOption(e){this.hasAdvance=e}nextStep(){this.vacation.vacationInfo.hasAdvance=this.hasAdvance,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})}initHasAdvance(){this.vacation.isEdit&&(this.hasAdvance=this.vacation.vacationInfo.hasAdvance)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.F0),o.Y36(s.gz),o.Y36(n.w))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-has-advance"]],decls:16,vars:22,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-group"],[1,"buttons","mouse-pointer",3,"ngClass","click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"h2",1),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"span",3),o.NdJ("click",function(){return t.setAdvanceOption(!0)}),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"span",3),o.NdJ("click",function(){return t.setAdvanceOption(!1)}),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.qZA(),o.TgZ(11,"span",4),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"po-button",5),o.NdJ("p-click",function(){return t.nextStep()}),o.ALo(15,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,8,"l-receive-advance")),o.xp6(3),o.Q6J("ngClass",o.VKq(18,c,t.hasAdvance)),o.xp6(1),o.Oqu(o.lcZ(7,10,"l-yes")),o.xp6(2),o.Q6J("ngClass",o.VKq(20,c,!1===t.hasAdvance)),o.xp6(1),o.Oqu(o.lcZ(10,12,"l-no")),o.xp6(3),o.Oqu(o.lcZ(13,14,"l-you-can-anticipate-the-first-installment-of-the-advance")),o.xp6(2),o.s9C("p-label",o.lcZ(15,16,"l-confirm")),o.Q6J("p-disabled",void 0===t.hasAdvance))},directives:[a.mk,r.bOz],pipes:[l.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 15% 0}.question[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.button-group[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;margin-top:-25px;text-align:center;font-size:20px;color:#0c9abe}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}.button-selected[_ngcontent-%COMP%]{border:2px #0c9abe solid;border-radius:6px}.buttons[_ngcontent-%COMP%]{padding:10px;font-weight:bold}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.message[_ngcontent-%COMP%]{top:75%;padding:0 7%}.container-content[_ngcontent-%COMP%]{padding:0 10%}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),e})()},38050:function(e,t,i){"use strict";i.d(t,{j:function(){return m}});var n=i(44956),o=i(81483),s=i(64383),a=i(64634),r=i(83614),l=i(37716),c=i(95987),p=i(96054),d=i(29790),g=i(3679),u=i(38583);function h(e,t){if(1&e&&(l.TgZ(0,"span",5),l._uU(1),l.ALo(2,"translate"),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Oqu(l.xi3(2,1,"l-you-can-request-between-the-days",e.translate))}}let m=(()=>{class e{constructor(e,t,i,n,o,s){this.router=e,this.route=t,this.notificationService=i,this.translateService=n,this.moment=o,this.vacation=s,this.translate={},this.canValidPeriod=!1}ngOnInit(){this.vacation.checkPreviewInfosToInit(this.vacation),this.formatInitVacation(),this.translate={init:this.getMomentCalendar(new Date(this.vacation.vacationInfo.initPeriod)),end:this.vacation.vacationInfo.limitDate?this.getMomentCalendar(new Date(this.vacation.vacationInfo.limitDate)):""},this.canAbovePeriod()}nextStep(){new Date(this.initVacation)>=new Date&&(this.initVacation<=this.vacation.vacationInfo.limitDate||!this.vacation.vacationInfo.limitDate||this.canValidPeriod)?(this.vacation.vacationInfo.initVacation=this.initVacation,this.router.navigate(["../days"],{relativeTo:this.route})):this.toasterError(this.vacation.vacationInfo.limitDate&&this.initVacation>this.vacation.vacationInfo.limitDate?"l-selected-date-greater-than-limit-date":"l-selected-date-smaller-than-current-date")}canAbovePeriod(){this.vacation.vacationInfo.canValidPeriodGrant&&(this.canValidPeriod=this.vacation.vacationInfo.canValidPeriodGrant)}toasterError(e){this.translateService.get(e).subscribe(e=>{this.notificationService.showNotification(e,n.ik9.Error)})}getMomentCalendar(e){return e.setDate(e.getDate()+1),this.moment.getInstance(e).calendar()}formatInitVacation(){this.initVacation=this.vacation.vacationInfo.initVacation&&a.m.isString(this.vacation.vacationInfo.initVacation)?o.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.vacation.vacationInfo.initVacation)):this.vacation.vacationInfo.initVacation}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.F0),l.Y36(c.gz),l.Y36(p.g),l.Y36(d.sK),l.Y36(s.z),l.Y36(r.w))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-init-vacation"]],decls:9,vars:12,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],["p-clean","true","p-required","true","id","date","name","date",1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","datepicker",3,"ngModel","p-label","ngModelChange"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 period",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","period"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h2",1),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"po-datepicker",2),l.NdJ("ngModelChange",function(e){return t.initVacation=e}),l.ALo(5,"translate"),l.qZA(),l.YNc(6,h,3,4,"span",3),l.TgZ(7,"po-button",4),l.NdJ("p-click",function(){return t.nextStep()}),l.ALo(8,"translate"),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.hij(" ",l.lcZ(3,6,"l-which-day-would-you-like-to-start-your-vacation")," "),l.xp6(2),l.s9C("p-label",l.lcZ(5,8,"l-select-one-date")),l.Q6J("ngModel",t.initVacation),l.xp6(2),l.Q6J("ngIf",t.vacation.vacationInfo.limitDate&&!t.canValidPeriod),l.xp6(1),l.s9C("p-label",l.lcZ(8,10,"l-confirm")),l.Q6J("p-disabled",!t.initVacation))},directives:[n.GWy,g.JJ,g.On,u.O5,n.bOz],pipes:[d.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 30px 0}.question[_ngcontent-%COMP%]{text-align:center;margin-top:15px;white-space:normal}.datepicker[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;margin-top:-25px;font-size:28px}.button[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.period[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.period[_ngcontent-%COMP%]{position:absolute;left:0;top:75%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 767px){.datepicker[_ngcontent-%COMP%]{position:absolute;top:50%;left:25%;margin-top:-25px}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}.datepicker[_ngcontent-%COMP%]{position:absolute;top:50%;left:25%;margin-top:-25px}}"]}),e})()},25651:function(e,t,i){"use strict";i.d(t,{I:function(){return l}});var n=i(37716),o=i(83614),s=i(7633),a=i(44956),r=i(29790);let l=(()=>{class e{constructor(e,t){this.vacation=e,this.vacationRequestService=t,this.reloadVacationInfo=new n.vpe}ngOnInit(){this.vacation.backIsVisible=!1}backToVacationPage(){this.closeDialog()}closeDialog(){this.vacationRequestService.emitReloadVacationInfo()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(o.w),n.Y36(s.D))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-request-done"]],outputs:{reloadVacationInfo:"reloadVacationInfo"},decls:11,vars:9,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","background-container"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-confirm",3,"p-label","p-click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"h2",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n._UZ(4,"span",2),n.TgZ(5,"div",3),n.TgZ(6,"span",4),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"po-button",5),n.NdJ("p-click",function(){return t.backToVacationPage()}),n.ALo(10,"translate"),n.qZA()),2&e&&(n.xp6(2),n.Oqu(n.lcZ(3,3,"l-your-vacation-request-is-done")),n.xp6(5),n.Oqu(n.lcZ(8,5,"l-organize-yourself-to-enjoy-your-vacations")),n.xp6(2),n.s9C("p-label",n.lcZ(10,7,"l-close")))},directives:[a.bOz],pipes:[r.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 10% 0}.question[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.background-container[_ngcontent-%COMP%]{position:absolute;top:37%;left:0;margin-top:-25px;background:url(flipflops.0206ba2864ef92a10393.svg);min-height:35%;background-repeat:no-repeat;background-position:center center}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 15%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.message[_ngcontent-%COMP%]{top:75%;padding:0 7%}.container-content[_ngcontent-%COMP%]{padding:0 10%}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),e})()},53307:function(e,t,i){"use strict";i.d(t,{$:function(){return h}});var n=i(98348),o=i(26847),s=i(83614),a=i(37716),r=i(95987),l=i(49344),c=i(65241),p=i(38583),d=i(44956),g=i(29790);const u=function(e){return{"button-selected":e}};let h=(()=>{class e{constructor(e,t,i,n,o,s){this.router=e,this.route=t,this.toastr=i,this.appTranslateService=n,this.vacation=o,this.vacationService=s,this.vacationBonus=void 0}ngOnInit(){this.vacation.checkPreviewInfosToInit(this.vacation),this.initVacationBonus()}initVacationBonus(){this.vacation.isEdit&&(this.vacationBonus=this.vacation.vacationInfo.vacationBonus>0)}haveVacationBonus(e){let t=this.vacation.vacationInfo.balance-this.vacation.vacationInfo.days;n.ZP.isErpDatasul()&&t<5&&!this.vacation.acceptBelowFiveDay.visible&&!1===e?this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(e=>{this.toastr.warning(e)}):this.vacationBonus=e}nextStep(){(!this.vacation.vacationInfo.vacationBonus||!this.vacationBonus)&&(this.vacation.vacationInfo.vacationBonus=0),this.vacationBonus?this.router.navigate(["../vacationBonus"],{relativeTo:this.route}):(void 0===this.vacation.vacationInfo.vacationBonus&&(this.vacation.vacationInfo.vacationBonus=0),this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route}))}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.F0),a.Y36(r.gz),a.Y36(l._W),a.Y36(c.g),a.Y36(s.w),a.Y36(o.P))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-sell-days"]],decls:16,vars:22,consts:[[1,"container-content"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","question"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-group"],[1,"buttons","mouse-pointer",3,"ngClass","click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h2",1),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",2),a.TgZ(5,"span",3),a.NdJ("click",function(){return t.haveVacationBonus(!0)}),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"span",3),a.NdJ("click",function(){return t.haveVacationBonus(!1)}),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.qZA(),a.TgZ(11,"span",4),a._uU(12),a.ALo(13,"translate"),a.qZA(),a.TgZ(14,"po-button",5),a.NdJ("p-click",function(){return t.nextStep()}),a.ALo(15,"translate"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.hij(" ",a.lcZ(3,8,"l-would-like-to-sell-up-to-ten-days-of-you-vacation")," "),a.xp6(3),a.Q6J("ngClass",a.VKq(18,u,t.vacationBonus)),a.xp6(1),a.Oqu(a.lcZ(7,10,"l-yes")),a.xp6(2),a.Q6J("ngClass",a.VKq(20,u,!1===t.vacationBonus)),a.xp6(1),a.Oqu(a.lcZ(10,12,"l-no")),a.xp6(3),a.hij("",a.lcZ(13,14,"l-you-can-sell-one-third-of-your-vacation")," "),a.xp6(2),a.s9C("p-label",a.lcZ(15,16,"l-confirm")),a.Q6J("p-disabled",void 0===t.vacationBonus))},directives:[p.mk,d.bOz],pipes:[g.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 30px 0}.question[_ngcontent-%COMP%]{text-align:center;margin-top:15px;white-space:normal}.button-group[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;margin-top:-25px;text-align:center;font-size:20px;color:#0c9abe}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:98%;left:0;margin-top:-25px}.message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 20%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}.button-selected[_ngcontent-%COMP%]{border:2px #0c9abe solid;border-radius:6px}.buttons[_ngcontent-%COMP%]{padding:10px;font-weight:bold}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.message[_ngcontent-%COMP%]{top:75%;padding:0 7%}}@media only screen and (min-width: 480px){[_nghost-%COMP%]     .po-button{height:90px}.message[_ngcontent-%COMP%]{padding:0}}@media (min-width: 961px){[_nghost-%COMP%]     .po-button{height:80px}}"]}),e})()},8296:function(e,t,i){"use strict";i.d(t,{G:function(){return u}});var n=i(98348),o=i(26847),s=i(83614),a=i(37716),r=i(95987),l=i(49344),c=i(65241),p=i(44956),d=i(3679),g=i(29790);let u=(()=>{class e{constructor(e,t,i,o,s,a){this.router=e,this.route=t,this.toastr=i,this.appTranslateService=o,this.vacation=s,this.vacationService=a,this.isErpProtheus=n.ZP.isErpProtheus(),this.isErpDatasul=n.ZP.isErpDatasul(),this.isProportionalVacation=this.vacation.vacationInfo.vacationProportional}ngOnInit(){this.vacation.checkPreviewInfosToInit(this.vacation),this.vacationBonus=0===this.vacation.vacationInfo.vacationBonus?void 0:this.vacation.vacationInfo.vacationBonus}validateBonus(){null!=this.vacationBonus&&(this.validEnoughBonus(),this.isErpProtheus&&this.isProportionalVacation?(this.validateBalanceWithBonusProtheus(),this.validateBalanceWithTotalProtheus()):this.isErpDatasul&&this.isProportionalVacation?(this.validateBalanceWithBonusDatasul(),this.validateBalanceWithTotalProtheus()):(this.validateBalanceWithBonus(),this.validateBalanceWithTotal()))}nextStep(){this.vacation.vacationInfo.vacationBonus=Number(this.vacationBonus),this.vacation.vacationInfo.vacationBonus||(this.vacation.vacationInfo.vacationBonus=0),this.vacationService.vacationStartsOnDecember(this.vacation.vacationInfo)?(this.vacation.vacationInfo.hasAdvance=!1,this.router.navigate(["../confirmRequest"],{relativeTo:this.route})):this.router.navigate(["../hasAdvance"],{relativeTo:this.route})}validEnoughBonus(){this.vacationBonus>10&&(this.appTranslateService.getI18n("l-do-not-enough-bonus").then(e=>{this.toastr.warning(e)}),this.vacationBonus=void 0)}validateBalanceWithBonus(){let e=this.vacation.vacationInfo.balance-(this.vacation.vacationInfo.days+this.vacationBonus);(e>0&&e<5&&!n.ZP.isErpDatasul()||e<0&&this.vacation.acceptBelowFiveDay.visible||0!=e&&!this.vacation.acceptBelowFiveDay.visible)&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(e=>{this.toastr.warning(e)}),this.vacationBonus=void 0)}validateBalanceWithTotal(){this.vacation.vacationInfo.days+this.vacationBonus>this.vacation.vacationInfo.balance&&(this.appTranslateService.getI18n("l-do-not-total-days-balance").then(e=>{this.toastr.warning(e)}),this.vacationBonus=void 0)}validateBalanceWithBonusProtheus(){let e=30-(this.vacation.vacationInfo.days+this.vacationBonus);e>0&&e<5&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(e=>{this.toastr.warning(e)}),this.vacationBonus=void 0)}validateBalanceWithTotalProtheus(){this.vacation.vacationInfo.days+this.vacationBonus>this.vacation.vacationInfo.balanceAux&&(this.appTranslateService.getI18n("l-do-not-total-days-balance").then(e=>{this.toastr.warning(e)}),this.vacationBonus=void 0)}validateBalanceWithBonusDatasul(){const e=this.vacation.vacationInfo.balanceAux-(this.vacation.vacationInfo.days+this.vacationBonus);e>0&&e<5&&(this.appTranslateService.getI18n("l-do-not-enough-bonus-balance").then(e=>{this.toastr.warning(e)}),this.vacationBonus=void 0)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(r.F0),a.Y36(r.gz),a.Y36(l._W),a.Y36(c.g),a.Y36(s.w),a.Y36(o.P))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-vacation-bonus"]],decls:12,vars:11,consts:[[1,"container-content"],[1,"title-ask"],[1,"input-days","po-sm-2","po-md-1","po-lg-1","po-xl-1"],["p-maxlength","2","p-minlength","1","p-focus","true","p-required","true","p-placeholder","0",3,"ngModel","ngModelChange","p-change-model"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","bottom-message"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h2",1),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",2),a.TgZ(5,"po-number",3),a.NdJ("ngModelChange",function(e){return t.vacationBonus=e})("p-change-model",function(){return t.validateBonus()}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",4),a.TgZ(7,"span",5),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.qZA(),a.TgZ(10,"po-button",6),a.NdJ("p-click",function(){return t.nextStep()}),a.ALo(11,"translate"),a.qZA()),2&e&&(a.xp6(2),a.Oqu(a.lcZ(3,5,"l-how-many-days-sell")),a.xp6(3),a.Q6J("ngModel",t.vacationBonus),a.xp6(3),a.Oqu(a.lcZ(9,7,"l-have-maximum-ten-days-sold")),a.xp6(2),a.s9C("p-label",a.lcZ(11,9,"l-confirm")),a.Q6J("p-disabled",!t.vacationBonus))},directives:[p.S5$,d.JJ,d.On,p.bOz],pipes:[g.X$],styles:[".container-content[_ngcontent-%COMP%]{padding:15px 40px 0}.title-ask[_ngcontent-%COMP%]{font-size:20px;text-align:center;white-space:normal}.sub-content[_ngcontent-%COMP%]{text-align:center;color:#9da7a9;font-weight:bold}.input-days[_ngcontent-%COMP%]{position:absolute;left:42%;top:50%}[_nghost-%COMP%]     .ng-valid .po-input:focus{border:none!important}[_nghost-%COMP%]     po-input.ng-invalid.ng-dirty .po-input{border:none!important;color:#000}[_nghost-%COMP%]     .po-input{font-size:25px;font-family:NunitoSans;width:80px;outline:none;border:none!important;box-shadow:none;margin-left:-7px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;position:fixed;outline:none;bottom:0px;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.bottom-message[_ngcontent-%COMP%]{position:absolute;font-weight:bold;left:0;top:85%;padding:0 20%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}@media only screen and (max-width: 320px){.bottom-message[_ngcontent-%COMP%]{top:75%}[_nghost-%COMP%]     .po-button{height:60px}}@media only screen and (min-width: 480px){.available-days-text[_ngcontent-%COMP%]{position:absolute;text-align:center;top:82%;left:12%}.input-days[_ngcontent-%COMP%]{left:45%}[_nghost-%COMP%]     .po-button{height:90px}}@media (min-width: 961px){.available-days-text[_ngcontent-%COMP%]{position:absolute;text-align:center;top:70%;left:8%}.input-days[_ngcontent-%COMP%]{left:45%;top:45%}[_nghost-%COMP%]     .po-button{height:80px}}"]}),e})()},83614:function(e,t,i){"use strict";i.d(t,{w:function(){return u}});var n=i(64762),o=i(37716),s=i(98348),a=i(36227),r=i(57899),l=i(7633),c=i(95987),p=i(84479),d=i(57706),g=i(36812);let u=(()=>{class e{constructor(e,t,i,n,s,a){this.router=e,this.route=t,this.windowUtilService=i,this.vacationRequestService=n,this.fieldPropertiesService=s,this.vacation=a,this.backIsVisible=!0,this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.hasAdvancedReceived={required:!0,field:"hasAdvancedDays",editable:!0,visible:!0},this.acceptBelowFiveDay={required:!1,field:"acceptBelowFiveDays",editable:!1,visible:!1},this.closeDialogEvent=new o.vpe,this.vacationRequestService.emitReloadVacationInfoObservable.subscribe(()=>{this.closeDialogEmit()})}ngOnInit(){this.initializeComponent()}initializeComponent(){return(0,n.mG)(this,void 0,void 0,function*(){this.vacation.employeeCard&&this.vacation.employeeCard.employee&&(this.employeeCard=this.vacation.employeeCard),this.isEdit=this.vacation.isEditVacation,this.vacationInfo=this.vacation.selectedVacation,yield this.loadFieldProperties()})}checkPreviewInfosToInit(e){e&&!e.vacationInfo&&this.router.navigate(["vacation"])}back(){this.fisrtChildUrlIsInit()?this.vacationRequestService.emitReloadVacationInfo():this.hasConfirmRequest()&&!this.hasAdvancedReceived.required?window.history.go(-2):this.windowUtilService.back()}close(){this.closeDialogEmit(),this.vacationRequestService.emitReloadVacationInfo()}loadFieldProperties(){return(0,n.mG)(this,void 0,void 0,function*(){["hasAdvancedDays","acceptBelowFiveDays"].forEach(e=>(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.fieldPropertiesService.getFieldProperties(e);t&&t.forEach(e=>{"hasAdvancedDays"===e.field&&(this.hasAdvancedReceived=e),s.ZP.isErpDatasul()&&"acceptBelowFiveDays"===e.field&&(this.acceptBelowFiveDay=e)})}))})}fisrtChildUrlIsInit(){return"init"===this.route.firstChild.url._value[0].path}hasConfirmRequest(){return-1!==this.router.url.indexOf("confirmRequest")}closeDialogEmit(){this.closeDialogEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(c.F0),o.Y36(c.gz),o.Y36(p.g),o.Y36(l.D),o.Y36(a.c),o.Y36(r.n))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-vacation-request"]],inputs:{isEdit:"isEdit"},outputs:{closeDialogEvent:"closeDialogEvent"},decls:4,vars:2,consts:[["id","absence-filter","isVisible","true",3,"closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["pageTitle","l-request-vacation",3,"backIsVisible","backFunction"]],template:function(e,t){1&e&&(o.TgZ(0,"app-dialog",0),o.NdJ("closeDialogEvent",function(){return t.close()}),o.TgZ(1,"div",1),o.TgZ(2,"app-page-header",2),o.NdJ("backFunction",function(){return t.back()}),o.qZA(),o._UZ(3,"router-outlet"),o.qZA(),o.qZA()),2&e&&(o.Q6J("closeDialogButtonEnable",!0),o.xp6(2),o.Q6J("backIsVisible",t.backIsVisible))},directives:[d.a,g.q,c.lC],styles:["[_nghost-%COMP%]     .full-screen-dialog{min-height:600px!important}"]}),e})()},7633:function(e,t,i){"use strict";i.d(t,{D:function(){return l}});var n=i(79765),o=i(89019),s=i(59708),a=i(37716);const r="vacation";let l=(()=>{class e{constructor(e){this.serviceGeneric=e,this.emitReloadVacationInfoSource=new n.xQ,this.emitReloadVacationInfoObservable=this.emitReloadVacationInfoSource.asObservable()}insertVacationRequest(e=o.N.loggedUser,t){return this.serviceGeneric.post(`${r}/request/${e}`,t,!1)}putVacationRequest(e=o.N.loggedUser,t){return this.serviceGeneric.put(`${r}/request/${e}`,t)}emitReloadVacationInfo(){this.emitReloadVacationInfoSource.next()}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(s.M))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},57899:function(e,t,i){"use strict";i.d(t,{n:function(){return he}});var n=i(64762),o=i(11524),s=i(88002),a=i(92340),r=i(3247),l=i(33490),c=i(88044),p=i(14833),d=i(81059),g=i(44852),u=i(30343),h=i(64634),m=i(97983),f=i(98348),v=i(36227),b=i(94405),x=i(76857),y=i(70636),Z=i(26847),w=i(37716),C=i(29790),M=i(95987),A=i(37503),P=i(84479),O=i(65241),q=i(96054),T=i(62393);const _=["divSwipeButton"];function S(e,t){if(1&e&&w._UZ(0,"app-card-employee",7),2&e){const e=w.oxw();w.Q6J("image",null==e.employeeCard?null:e.employeeCard.image)("name",null==e.employeeCard.employee?null:e.employeeCard.employee.name)("role",null==e.employeeCard.employee?null:e.employeeCard.employee.roleDescription)("status",null==e.employeeCard.employee?null:e.employeeCard.employee.employeeStatus)}}function I(e,t){1&e&&(w.TgZ(0,"h2",19),w._uU(1),w.ALo(2,"translate"),w.qZA()),2&e&&(w.xp6(1),w.hij(" ",w.lcZ(2,1,"l-request-your-next-vacation")," "))}function D(e,t){1&e&&(w.TgZ(0,"h2",20),w._uU(1),w.ALo(2,"translate"),w.qZA()),2&e&&(w.xp6(1),w.Oqu(w.lcZ(2,1,"l-requested-vacation")))}function k(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"li",17),w.NdJ("click",function(){w.CHM(e);const t=w.oxw(2).$implicit;return w.oxw().openExcludeDialog(t)}),w._uU(1),w.ALo(2,"translate"),w.qZA()}2&e&&(w.xp6(1),w.hij(" ",w.lcZ(2,1,"l-delete")," "))}function L(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"li",17),w.NdJ("click",function(){w.CHM(e);const t=w.oxw(2).$implicit;return w.oxw().openRequestVacation(t,!0)}),w._uU(1),w.ALo(2,"translate"),w.qZA()}2&e&&(w.xp6(1),w.hij(" ",w.lcZ(2,1,"l-adjust")," "))}function N(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"po-button",30),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(3).$implicit;return w.oxw().gotoDetailsPage(t.id,!0)}),w.ALo(1,"translate"),w.qZA()}if(2&e){const e=w.oxw(3).$implicit,t=w.oxw();w.s9C("p-label",w.lcZ(1,2,"l-vacation-notes-receipt")),w.Q6J("ngClass",!t.vacationNoticeVisible||"approved"!==e.status&&"calculated"!==e.status&&"closed"!==e.status?"po-sm-12 po-md-12 po-lg-12 po-xl-12":"po-sm-6 po-md-6 po-lg-6 po-xl-6")}}function E(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"po-button",31),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(3).$implicit;return w.oxw().getVacationAvaiableNotes(t)}),w.ALo(1,"translate"),w.qZA()}if(2&e){const e=w.oxw(3).$implicit,t=w.oxw();w.s9C("p-label",w.lcZ(1,2,"l-vacation-warning-download")),w.Q6J("ngClass",!t.vacationReceiptVisible||"calculated"!==e.status&&"closed"!==e.status?"po-sm-12 po-md-12 po-lg-12 po-xl-12":"po-sm-6 po-md-6 po-lg-6 po-xl-6")}}function U(e,t){if(1&e&&(w.TgZ(0,"div",21),w.TgZ(1,"div",22),w.TgZ(2,"span",23),w.TgZ(3,"div",24),w._uU(4),w.ALo(5,"translate"),w.qZA(),w.TgZ(6,"div",25),w._uU(7),w.ALo(8,"lowercase"),w.ALo(9,"translate"),w.qZA(),w.qZA(),w.TgZ(10,"span",26),w.TgZ(11,"div",24),w._uU(12),w.ALo(13,"translate"),w.qZA(),w.TgZ(14,"div",25),w._uU(15),w.qZA(),w.qZA(),w.TgZ(16,"span",23),w.TgZ(17,"div",24),w._uU(18),w.ALo(19,"translate"),w.qZA(),w.TgZ(20,"div",25),w._uU(21),w.ALo(22,"utcDate"),w.qZA(),w.qZA(),w.TgZ(23,"span",26),w.TgZ(24,"div",24),w._uU(25),w.ALo(26,"translate"),w.qZA(),w.TgZ(27,"div",25),w._uU(28),w.ALo(29,"utcDate"),w.qZA(),w.qZA(),w.TgZ(30,"div",27),w.YNc(31,N,2,4,"po-button",28),w.YNc(32,E,2,4,"po-button",29),w.qZA(),w.qZA(),w.qZA()),2&e){const e=w.oxw(2).$implicit,t=w.oxw();w.xp6(4),w.Oqu(w.lcZ(5,11,"l-days-vacation")),w.xp6(3),w.AsE("",e.days," ",w.lcZ(8,13,w.lcZ(9,15,"l-days")),""),w.xp6(5),w.Oqu(w.lcZ(13,17,"l-status")),w.xp6(3),w.Oqu(t.getStatus(e)),w.xp6(3),w.Oqu(w.lcZ(19,19,"l-begin-vacation")),w.xp6(3),w.Oqu(w.xi3(22,21,e.initVacation,"shortDate")),w.xp6(4),w.Oqu(w.lcZ(26,24,"l-end-vacation")),w.xp6(3),w.Oqu(w.xi3(29,26,e.endVacation,"shortDate")),w.xp6(3),w.Q6J("ngIf",t.vacationReceiptVisible&&("calculated"===e.status||"closed"===e.status)),w.xp6(1),w.Q6J("ngIf",t.vacationNoticeVisible&&("approved"===e.status||"calculated"===e.status||"closed"===e.status))}}function F(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"app-card",9),w.TgZ(1,"div",10),w.YNc(2,I,3,3,"h2",11),w.YNc(3,D,3,3,"h2",12),w.TgZ(4,"span",13),w._UZ(5,"span",14),w.TgZ(6,"ul",15),w.YNc(7,k,3,3,"li",16),w.YNc(8,L,3,3,"li",16),w.TgZ(9,"li",17),w.NdJ("click",function(){w.CHM(e);const t=w.oxw().$implicit;return w.oxw().openDetails(t)}),w._uU(10),w.ALo(11,"translate"),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.YNc(12,U,33,29,"div",18),w.qZA()}if(2&e){const e=w.oxw().$implicit,t=w.oxw();w.Q6J("cssClass",t.getClass(e.status)),w.xp6(2),w.Q6J("ngIf",t.vacationRegisterVisible&&t.isEmpty(e.status)),w.xp6(1),w.Q6J("ngIf",!t.isEmpty(e.status)),w.xp6(4),w.Q6J("ngIf",e.canAlter&&t.vacationRegisterVisible),w.xp6(1),w.Q6J("ngIf",e.canAlter&&t.vacationRegisterVisible),w.xp6(2),w.hij(" ",w.lcZ(11,7,"l-show-details")," "),w.xp6(2),w.Q6J("ngIf",!t.isEmpty(e.status))}}function J(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,F,13,9,"app-card",8),w.qZA()),2&e){const e=t.$implicit,i=w.oxw();w.xp6(1),w.Q6J("ngIf",!i.isEmpty(e.status))}}function V(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"span",45,46),w.NdJ("click",function(){return w.CHM(e),w.oxw(),w.MAs(33).toggle()}),w.qZA()}}function R(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"po-button",47),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(2).$implicit;return w.oxw(2).openRequestVacation(t,!1)}),w.ALo(1,"translate"),w.qZA()}if(2&e){const e=w.oxw(2).$implicit,t=w.oxw(2);w.s9C("p-label",w.lcZ(1,2,"l-request-vacation")),w.Q6J("p-disabled",t.buttonIsDisabled(e))}}function Y(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"po-button",48),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(2).$implicit;return w.oxw(2).openRequestVacation(t,!1)}),w.ALo(1,"translate"),w.qZA()}2&e&&w.s9C("p-label",w.lcZ(1,1,"l-request-vacation"))}const z=function(e){return{label:e}},Q=function(e){return[e]};function G(e,t){if(1&e&&(w.TgZ(0,"div",22),w.TgZ(1,"span",23),w.TgZ(2,"div",37),w._uU(3),w.ALo(4,"translate"),w.qZA(),w.TgZ(5,"div",38),w._uU(6),w.ALo(7,"lowercase"),w.ALo(8,"translate"),w.qZA(),w.qZA(),w.TgZ(9,"span",23),w.TgZ(10,"div",37),w._uU(11),w.ALo(12,"translate"),w.qZA(),w.TgZ(13,"div",38),w._uU(14),w.qZA(),w.qZA(),w.TgZ(15,"span",23),w.TgZ(16,"div",37),w._uU(17),w.ALo(18,"translate"),w.qZA(),w.TgZ(19,"div",38),w._uU(20),w.ALo(21,"utcDate"),w.qZA(),w.qZA(),w.TgZ(22,"span",23),w.TgZ(23,"div",37),w._uU(24),w.ALo(25,"translate"),w.qZA(),w.TgZ(26,"div",38),w._uU(27),w.ALo(28,"utcDate"),w.qZA(),w.qZA(),w.TgZ(29,"div",39),w.ynx(30),w.YNc(31,V,2,0,"span",40),w.BQk(),w._UZ(32,"po-popup",41,42),w.ALo(34,"translate"),w.qZA(),w.YNc(35,R,2,4,"po-button",43),w.YNc(36,Y,2,3,"po-button",44),w.qZA()),2&e){const e=w.oxw().$implicit,t=w.oxw(2);w.xp6(3),w.Oqu(w.lcZ(4,14,"l-balance-availabe")),w.xp6(3),w.AsE("",e.balance," ",w.lcZ(7,16,w.lcZ(8,18,"l-days")),""),w.xp6(5),w.Oqu(w.lcZ(12,20,"l-status")),w.xp6(3),w.Oqu(t.getStatus(e)),w.xp6(3),w.Oqu(w.lcZ(18,22,"l-init-period")),w.xp6(3),w.Oqu(w.xi3(21,24,e.initPeriod,"shortDate")),w.xp6(4),w.Oqu(w.lcZ(25,27,"l-end-period")),w.xp6(3),w.Oqu(w.xi3(28,29,e.endPeriod,"shortDate")),w.xp6(4),w.Q6J("ngIf",t.popupIsDisabled(e)),w.xp6(1),w.Q6J("p-actions",w.VKq(36,Q,w.VKq(34,z,w.lcZ(34,32,"l-request-the-oldest-period"))))("p-target",t.target),w.xp6(3),w.Q6J("ngIf",t.buttonIsDisabled(e)),w.xp6(1),w.Q6J("ngIf",!t.buttonIsDisabled(e))}}function H(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,G,37,38,"div",36),w._UZ(2,"hr"),w.qZA()),2&e){const e=t.$implicit,i=w.oxw(2);w.xp6(1),w.Q6J("ngIf",i.vacationRegisterVisible&&i.isEmpty(e.status))}}function B(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"div",49),w.NdJ("click",function(){return w.CHM(e),w.oxw(2).showMore(!0)}),w._UZ(1,"span",50),w.qZA()}}function j(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"div",49),w.NdJ("click",function(){return w.CHM(e),w.oxw(2).showMore(!1)}),w._UZ(1,"span",51),w.qZA()}}function $(e,t){if(1&e&&(w.TgZ(0,"div"),w.TgZ(1,"h2",19),w._uU(2),w.ALo(3,"translate"),w.qZA(),w.TgZ(4,"app-card",32),w.TgZ(5,"div",10),w.TgZ(6,"h2",33),w._uU(7),w.ALo(8,"translate"),w.qZA(),w.qZA(),w.TgZ(9,"div",34),w.YNc(10,H,3,1,"div",3),w.YNc(11,B,2,0,"div",35),w.YNc(12,j,2,0,"div",35),w.qZA(),w.qZA(),w.qZA()),2&e){const e=w.oxw();w.xp6(2),w.hij(" ",w.lcZ(3,5,"l-request-your-next-vacation")," "),w.xp6(5),w.hij(" ",w.lcZ(8,7,"l-acquisition-period-available")," "),w.xp6(3),w.Q6J("ngForOf",e.vacationInfoRegister),w.xp6(1),w.Q6J("ngIf",e.showMoreIsVisible),w.xp6(1),w.Q6J("ngIf",e.showLessIsVisible)}}function W(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"span",59),w.NdJ("click",function(){return w.CHM(e),w.oxw(),w.MAs(7).open()}),w.qZA()}}function K(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"div",22),w.TgZ(1,"span",23),w.TgZ(2,"div",37),w._uU(3),w.ALo(4,"translate"),w.qZA(),w.TgZ(5,"div",38),w._uU(6),w.ALo(7,"lowercase"),w.ALo(8,"translate"),w.qZA(),w.qZA(),w.TgZ(9,"span",23),w.TgZ(10,"div",37),w._uU(11),w.ALo(12,"translate"),w.qZA(),w.TgZ(13,"div",38),w._uU(14),w.qZA(),w.qZA(),w.TgZ(15,"span",23),w.TgZ(16,"div",37),w._uU(17),w.ALo(18,"translate"),w.qZA(),w.TgZ(19,"div",38),w._uU(20),w.ALo(21,"utcDate"),w.qZA(),w.qZA(),w.TgZ(22,"span",23),w.TgZ(23,"div",37),w._uU(24),w.ALo(25,"translate"),w.qZA(),w.TgZ(26,"div",38),w._uU(27),w.ALo(28,"utcDate"),w.qZA(),w.qZA(),w.TgZ(29,"po-button",60),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(2);return t.openRequestVacation(t.vacationMobile,!1)}),w.ALo(30,"translate"),w.qZA(),w.qZA()}if(2&e){const e=w.oxw(2);w.xp6(3),w.Oqu(w.lcZ(4,11,"l-balance-availabe")),w.xp6(3),w.AsE("",null==e.vacationMobile?null:e.vacationMobile.balance," ",w.lcZ(7,13,w.lcZ(8,15,"l-days")),""),w.xp6(5),w.Oqu(w.lcZ(12,17,"l-status")),w.xp6(3),w.Oqu(e.getStatus(e.vacationMobile)),w.xp6(3),w.Oqu(w.lcZ(18,19,"l-init-period")),w.xp6(3),w.hij(" ",w.xi3(21,21,null==e.vacationMobile?null:e.vacationMobile.initPeriod,"shortDate")," "),w.xp6(4),w.Oqu(w.lcZ(25,24,"l-end-period")),w.xp6(3),w.hij(" ",w.xi3(28,26,null==e.vacationMobile?null:e.vacationMobile.endPeriod,"shortDate")," "),w.xp6(2),w.s9C("p-label",w.lcZ(30,29,"l-request-vacation")),w.Q6J("p-disabled",e.buttonIsDisabled(e.vacationMobile))}}const X=function(e){return{activePointer:e}};function ee(e,t){if(1&e&&w._UZ(0,"span",63),2&e){const e=t.index,i=w.oxw(3);w.Q6J("ngClass",w.VKq(1,X,i.isActivePointer(e)))}}function te(e,t){if(1&e&&(w.TgZ(0,"div",61),w.YNc(1,ee,1,3,"span",62),w.qZA()),2&e){const e=w.oxw(2);w.xp6(1),w.Q6J("ngForOf",e.vacationInfoRegister)}}function ie(e,t){if(1&e&&(w.TgZ(0,"div"),w.TgZ(1,"app-card",32),w.TgZ(2,"div",10),w.TgZ(3,"h2",52),w._uU(4),w.ALo(5,"translate"),w.qZA(),w.TgZ(6,"po-modal",null,53),w._UZ(8,"span",54),w.TgZ(9,"h2",55),w._uU(10),w.ALo(11,"translate"),w.qZA(),w.TgZ(12,"strong",56),w._uU(13),w.ALo(14,"translate"),w.qZA(),w.qZA(),w.YNc(15,W,1,0,"span",57),w.qZA(),w.TgZ(16,"div",34),w.TgZ(17,"div"),w.YNc(18,K,31,31,"div",36),w.qZA(),w.YNc(19,te,2,1,"div",58),w.qZA(),w.qZA(),w.qZA()),2&e){const e=w.oxw();w.xp6(4),w.hij(" ",w.lcZ(5,6,"l-request-your-next-vacation")," "),w.xp6(6),w.Oqu(w.lcZ(11,8,"l-warning")),w.xp6(3),w.Oqu(w.lcZ(14,10,"l-request-the-oldest-period")),w.xp6(2),w.Q6J("ngIf",e.buttonIsDisabled(e.vacationMobile)),w.xp6(3),w.Q6J("ngIf",e.vacationRegisterVisible&&e.isEmpty(null==e.vacationMobile?null:e.vacationMobile.status)),w.xp6(1),w.Q6J("ngIf",e.vacationInfoRegister.length>1)}}function ne(e,t){if(1&e&&(w.ynx(0),w._UZ(1,"hr",71),w.TgZ(2,"div",72),w.TgZ(3,"span",73),w._uU(4),w.ALo(5,"translate"),w.qZA(),w.TgZ(6,"span",74,76),w._uU(8),w.qZA(),w.TgZ(9,"a",77),w.TgZ(10,"span",78),w._uU(11),w.ALo(12,"translate"),w.qZA(),w.TgZ(13,"span",79),w._uU(14),w.ALo(15,"translate"),w.qZA(),w.qZA(),w.qZA(),w.BQk()),2&e){const e=w.MAs(7),t=w.oxw().$implicit,i=w.oxw(2);w.xp6(4),w.Oqu(w.lcZ(5,6,"l-reason")),w.xp6(4),w.Oqu(t.rejectionReason),w.xp6(1),w.Q6J("appReadMore-length",i.isMobileDevice()?75:50)("appReadMore-element",e),w.xp6(2),w.Oqu(w.lcZ(12,8,"l-read-less")),w.xp6(3),w.Oqu(w.lcZ(15,10,"l-read-more"))}}function oe(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"po-button",82),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(3).$implicit;return w.oxw(2).getVacationAvaiableNotes(t)}),w.ALo(1,"translate"),w.qZA()}2&e&&w.s9C("p-label",w.lcZ(1,1,"l-vacation-warning-download"))}function se(e,t){if(1&e&&(w.TgZ(0,"div"),w.YNc(1,oe,2,3,"po-button",81),w.qZA()),2&e){const e=w.oxw(4);w.xp6(1),w.Q6J("ngIf",e.vacationNotificationHistoric.visible)}}function ae(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"div"),w.TgZ(1,"po-button",83),w.NdJ("p-click",function(){w.CHM(e);const t=w.oxw(2).$implicit;return w.oxw(2).gotoDetailsPage(t.id,!1)}),w.ALo(2,"translate"),w.qZA(),w.qZA()}2&e&&(w.xp6(1),w.s9C("p-label",w.lcZ(2,1,"l-vacation-notes-receipt")))}function re(e,t){if(1&e&&(w.TgZ(0,"div",80),w.YNc(1,se,2,1,"div",4),w.YNc(2,ae,3,3,"div",4),w.qZA()),2&e){const e=w.oxw().$implicit,t=w.oxw(2);w.xp6(1),w.Q6J("ngIf",t.vacationNoticeVisible&&t.isVisibleNotice(e)&&("calculated"===e.status||"closed"===e.status||"approved"===e.status)),w.xp6(1),w.Q6J("ngIf",t.vacationReceiptVisible&&t.isVisibleReceipt(e)&&("calculated"===e.status||"closed"===e.status))}}const le=function(e,t){return{"circle-base":!0,type1:e,type2:t}};function ce(e,t){if(1&e&&(w.TgZ(0,"mat-expansion-panel",68),w.TgZ(1,"mat-expansion-panel-header",69),w.TgZ(2,"div"),w._UZ(3,"div",0),w.TgZ(4,"span",70),w._uU(5),w.ALo(6,"utcDate"),w.qZA(),w.qZA(),w.qZA(),w._UZ(7,"hr",71),w.TgZ(8,"div",72),w.TgZ(9,"span",73),w._uU(10),w.ALo(11,"translate"),w.qZA(),w.TgZ(12,"span",74),w._uU(13),w.qZA(),w.qZA(),w._UZ(14,"hr",71),w.TgZ(15,"div",72),w.TgZ(16,"span",73),w._uU(17),w.ALo(18,"translate"),w.qZA(),w.TgZ(19,"span",74),w._uU(20),w.ALo(21,"utcDate"),w.qZA(),w.qZA(),w._UZ(22,"hr",71),w.TgZ(23,"div",72),w.TgZ(24,"span",73),w._uU(25),w.ALo(26,"translate"),w.qZA(),w.TgZ(27,"span",74),w._uU(28),w.ALo(29,"utcDate"),w.qZA(),w.qZA(),w._UZ(30,"hr",71),w.TgZ(31,"div",72),w.TgZ(32,"span",73),w._uU(33),w.ALo(34,"translate"),w.qZA(),w.TgZ(35,"span",74),w._uU(36),w.ALo(37,"utcDate"),w.qZA(),w.qZA(),w._UZ(38,"hr",71),w.TgZ(39,"div",72),w.TgZ(40,"span",73),w._uU(41),w.ALo(42,"translate"),w.qZA(),w.TgZ(43,"span",74),w._uU(44),w.ALo(45,"utcDate"),w.qZA(),w.qZA(),w._UZ(46,"hr",71),w.TgZ(47,"div",72),w.TgZ(48,"span",73),w._uU(49),w.ALo(50,"translate"),w.qZA(),w.TgZ(51,"span",74),w._uU(52),w.ALo(53,"lowercase"),w.ALo(54,"translate"),w.qZA(),w.qZA(),w._UZ(55,"hr",71),w.TgZ(56,"div",72),w.TgZ(57,"span",73),w._uU(58),w.ALo(59,"translate"),w.qZA(),w.TgZ(60,"span",74),w._uU(61),w.ALo(62,"lowercase"),w.ALo(63,"translate"),w.qZA(),w.qZA(),w.YNc(64,ne,16,12,"ng-container",4),w.YNc(65,re,3,2,"div",75),w.qZA()),2&e){const e=t.$implicit,i=w.oxw(2);w.Q6J("ngClass",i.custom-i.border),w.xp6(3),w.Q6J("ngClass",w.WLB(58,le,i.isApproved(e.status),!i.isApproved(e.status))),w.xp6(2),w.hij(" ",w.xi3(6,21,e.initVacation,"dd/MM/yyyy")," "),w.xp6(5),w.Oqu(w.lcZ(11,24,"l-status")),w.xp6(3),w.Oqu(i.getStatus(e)),w.xp6(4),w.Oqu(w.lcZ(18,26,"l-init-period")),w.xp6(3),w.Oqu(w.xi3(21,28,e.initPeriod,"dd/MM/yyyy")),w.xp6(5),w.Oqu(w.lcZ(26,31,"l-end-period")),w.xp6(3),w.Oqu(w.xi3(29,33,e.endPeriod,"dd/MM/yyyy")),w.xp6(5),w.Oqu(w.lcZ(34,36,"l-initial-date-vacation")),w.xp6(3),w.Oqu(w.xi3(37,38,e.initVacation,"dd/MM/yyyy")),w.xp6(5),w.Oqu(w.lcZ(42,41,"l-end-vacation")),w.xp6(3),w.Oqu(w.xi3(45,43,e.endVacation,"dd/MM/yyyy")),w.xp6(5),w.Oqu(w.lcZ(50,46,"l-days-vacation")),w.xp6(3),w.AsE("",e.days," ",w.lcZ(53,48,w.lcZ(54,50,"l-days")),""),w.xp6(6),w.Oqu(w.lcZ(59,52,"l-sold-days")),w.xp6(3),w.AsE("",e.vacationBonus," ",w.lcZ(62,54,w.lcZ(63,56,"l-days")),""),w.xp6(3),w.Q6J("ngIf",!i.isApproved(e.status)&&null!=e.rejectionReason),w.xp6(1),w.Q6J("ngIf",(i.vacationReceiptVisible||i.vacationNoticeVisible)&&("calculated"===e.status||"closed"===e.status)||i.vacationReceiptVisible&&"approved"===e.status)}}function pe(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"div",84),w.NdJ("click",function(){return w.CHM(e),w.oxw(2).viewMoreHistory()}),w.TgZ(1,"a",85),w._uU(2),w.ALo(3,"translate"),w.qZA(),w.qZA()}2&e&&(w.xp6(2),w.hij("",w.lcZ(3,1,"l-load-more")," "))}function de(e,t){if(1&e&&(w.TgZ(0,"div"),w.TgZ(1,"h2",64),w._uU(2),w.ALo(3,"translate"),w.qZA(),w.TgZ(4,"mat-accordion",65),w.YNc(5,ce,66,61,"mat-expansion-panel",66),w.qZA(),w.YNc(6,pe,4,3,"div",67),w.qZA()),2&e){const e=w.oxw();w.xp6(2),w.Oqu(w.lcZ(3,3,"l-latest-requests")),w.xp6(3),w.Q6J("ngForOf",e.vacationHistoryView.records),w.xp6(1),w.Q6J("ngIf",e.vacationHistoryView.hasMoreRecords)}}function ge(e,t){if(1&e){const e=w.EpF();w.TgZ(0,"div"),w.TgZ(1,"app-vacation-request",86),w.NdJ("closeDialogEvent",function(){return w.CHM(e),w.oxw().reloadVacationInfo()}),w.qZA(),w.qZA()}}const ue="vacation";let he=(()=>{class e extends d.R{constructor(e,t,i,n,o,s,r,l,c,p,d,g,u,h,m,f,v){super(),this.vacationService=e,this.translateService=t,this.router=i,this.fileManipulationService=n,this.route=o,this.lastAccess=s,this.globals=r,this.navigationUtilService=l,this.windowUtilService=c,this.appTranslateService=p,this.ionicUtilService=d,this.notificationService=g,this.permissionService=u,this.spinnerService=h,this.fieldPropertiesService=m,this.profileService=f,this.fileTransferService=v,this.vacationInfo=[],this.vacationInfoRegister=[],this.hasVacationHistory=!1,this.loggedUser=a.N.loggedUser,this.employeeId=a.N.loggedUser,this.viewIsTeamManagement=!1,this.selectedVacationPosition=0,this.employeeName="",this.employeeCard={employee:void 0,image:void 0,originComponent:""},this.shouldDeleteEmployeeCard=!0,this.vacationNotificationHistoric={required:!0,field:"vacationNotificationHistoric",editable:!0,visible:!0},this.transferFile=""}ngOnInit(){super.ngOnInit(),this.initializeComponent()}ngOnDestroy(){super.ngOnDestroy(),this.shouldDeleteEmployeeCard&&this.globals.cleanEmployeeCard(),null!=this.routeDataSubscription&&this.routeDataSubscription.unsubscribe()}callbackIonicExternalEvent(e){(e.detail.event.type===c.g.DownloadAndOpenFile||e.detail.event.type===c.g.TransferFile)&&this.spinnerService.hide()}isActivePointer(e){return e===this.selectedVacationPosition}getPermissions(){return this.globals.getEmployeePermission()?Promise.resolve(this.globals.getEmployeePermission()):this.permissionService.getPermissions(this.employeeId)}popupIsDisabled(e){return(!f.ZP.isErpRM()||0!==this.vacationInfoRegister.filter(e=>1==e.canRequest).length)&&this.buttonIsDisabled(e)}buttonIsDisabled(e){let t;return t=!!e.hasOwnProperty("canRequest")&&!e.canRequest,t}setPermissions(){this.vacationReceiptVisible=this.permissions.vacationReceipt,this.vacationNoticeVisible=this.permissions.vacationNotice,this.vacationRegisterVisible=!this.permissions.hasOwnProperty("vacationRegister")||this.permissions.vacationRegister,f.ZP.isErpRM()&&this.checkRouter()&&(this.vacationRegisterVisible=this.permissions.teamManagementVacation)}checkRouter(){return this.router.isActive("teamManagement/absenceManager/vacation",!0)||this.router.isActive("teamManagement/vacation",!0)}openDetails(e){this.selectedVacation=e,localStorage.setItem("vacationDetails",JSON.stringify(e));const t=this.globals.urlHistory[this.globals.urlHistory.length-1];t.includes("/teamManagement/absenceManager/vacation")?(this.shouldDeleteEmployeeCard=!1,this.router.navigate([`/teamManagement/absenceManager/vacation/details/${e.id}/${this.employeeId}`])):t.includes("/teamManagement/vacation")?(this.shouldDeleteEmployeeCard=!1,this.router.navigate([`/teamManagement/vacation/details/${e.id}/${this.employeeId}`])):this.router.navigate([`/vacation/details/${e.id}/${this.employeeId}`])}isVisibleNotice(e){return this.validateParamUndefined(e.visibleNotice)}isVisibleReceipt(e){return this.validateParamUndefined(e.visibleReceipt)}isApproved(e){return e!==r.W.StatusEnum.Rejected}viewMoreHistory(){this.getVacationHistory(this.vacationHistoryView.getNextPage(),this.vacationHistoryView.pageSize)}getStatus(e){if(e.statusLabel)return e.statusLabel;let t;return this.translateService.get("l-unsolicited").subscribe(e=>{t=e}),t}getClass(e){return this.isEmpty(e)?"po-lg-12 po-md-12 po-sm-12":"card-request-vacation-active po-lg-12 po-md-12 po-sm-12"}isEmpty(e){return!!e&&e.toLocaleLowerCase()===r.W.StatusEnum.Empty}openRequestVacation(e,t){this.selectedVacation=e,this.isEditVacation=t,this.requestVacationIsVisible=!0,this.router.navigate(["request"],{relativeTo:this.route})}reloadVacationInfo(){return(0,n.mG)(this,void 0,void 0,function*(){this.vacationInfo=[],this.vacationInfoRegister=[],this.showMoreIsVisible=!1,this.requestVacationIsVisible=!1,yield this.getVacationInfo(),yield this.getVacationProcess(),this.initializeMobile()})}openExcludeDialog(e){this.selectedVacationToExclude=e,this.excludeDialog.openDialog()}onDeleteVacation(){this.reloadVacationInfo()}back(){const e=this.globals.urlHistory[this.globals.urlHistory.length-2];"/absence"===e||this.employeeId!==this.loggedUser&&e.includes("/teamManagement/absenceManager/vacation")?this.navigationUtilService.doNavigation("absence"):this.navigationUtilService.doNavigation(this.employeeId!==this.loggedUser||"/teamManagement/vacation/request/confirmRequest"===e?"teamManagement":"home")}isMobileDevice(){return this.viewIsMobile}isWebView(){return this.windowUtilService.isWebView()}getEmployeeName(){this.employeeName||this.profileService.getEmployeeSummary(this.employeeId).then(e=>{this.employeeName=e.name})}getVacationAvaiableNotes(e){return(0,n.mG)(this,void 0,void 0,function*(){const t=this.fileManipulationService.formatFilenameReport([this.employeeName]);if(this.windowUtilService.isWebView()&&!f.ZP.isTomcatAppServer())this.spinnerService.show(),this.vacationService.getReportDownloadUrl(this.employeeId,e.id,!0).then(e=>{this.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:t,fileMIMEtype:"application/pdf"},type:c.g.DownloadAndOpenFile})}).catch(e=>{this.spinnerService.hide()});else{if(!this.windowUtilService.isWebView()||!f.ZP.isTomcatAppServer()){if(f.ZP.isErpRM()){let i;i=[],i.employeeId=this.employeeId,i.vacationId=e.id;let n=h.m.concatQueryParam(`${ue}/notice/report`,i);return this.fileManipulationService.openFile(n,t,"application/pdf")}return this.fileManipulationService.openFile(`${ue}/notice/report/${this.employeeId}/${e.id}`,t,"application/pdf")}{this.spinnerService.show(),yield this.getAndSetBase64String(a.N.loggedUser,e.id);let i=yield this.fileTransferService.bufferFileonStorage(this.transferFile);yield this.fileTransferService.saveBase64onStorage(i);const n={args:{keyStorage:yield this.fileTransferService.nameListBas64onStorage(i),filename:t,fileMIMEtype:"application/pdf",isShare:!1},type:c.g.TransferFile};this.ionicUtilService.emit(n)}}})}getAndSetBase64String(e,t){return(0,n.mG)(this,void 0,void 0,function*(){this.transferFile="",yield this.vacationService.getBlobReport(e,t).then(e=>(0,n.mG)(this,void 0,void 0,function*(){yield this.fileManipulationService.blobToBase64(e).then(e=>this.transferFile=e),this.vacationService.setDefaulResponseType()}))})}gotoDetailsPage(e,t,i){window.localStorage.setItem("vacationDetails",JSON.stringify({isCurrentVacation:t,vacationId:e,employeeId:this.employeeId})),f.ZP.isErpRM()&&"{current}"!==this.employeeId?this.navigationUtilService.doNavigation("/teamManagement/vacation/receipt"):this.navigationUtilService.doNavigation("/vacation/receipt")}loadFieldProperties(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.fieldPropertiesService.getFieldProperties("vacation");e&&e.forEach(e=>{"vacationNotificationHistoric"===e.field&&(this.vacationNotificationHistoric=e)})})}showMore(e){e?(this.showMoreIsVisible=!1,this.showLessIsVisible=!0,this.vacationInfo.map(e=>{let t;this.isEmpty(e.status)&&(this.vacationInfoRegister.map(i=>{e.id===i.id&&(t=!0)}),t||this.vacationInfoRegister.push(e))})):(this.showMoreIsVisible=!0,this.showLessIsVisible=!1,this.vacationInfoRegister=[],this.organizeVacationObject())}loadVacationServices(){return(0,n.mG)(this,void 0,void 0,function*(){this.getEmployee(),this.vacationHistoryView=new l.i([]),this.getVacationHistory(this.vacationHistoryView.getNextPage(),this.vacationHistoryView.pageSize),this.vacationInfo=[],this.vacationInfoRegister=[],this.showMoreIsVisible=!1,yield this.getVacationInfo(),yield this.getVacationProcess(),this.setCountLastAccess(),this.permissions=yield this.getPermissions(),this.setPermissions(),this.initializeMobile(),this.getEmployeeName()})}initializeMobile(){this.vacationMobile=this.vacationInfoRegister[0]}getEmployee(){this.employeeCard&&this.employeeCard.employee&&(this.employeeId=this.employeeCard.employee.id)}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(p.R1,e.id)})}getVacationHistory(e,t){this.vacationService.getVacationHistory(this.employeeId,e,t,!0).then(e=>{this.updateVacationHistoryView(e),e.records.length>0&&(this.hasVacationHistory=!0)})}updateVacationHistoryView(e){this.vacationHistoryView.records||(this.vacationHistoryView.records=[]),this.vacationHistoryView.records=this.vacationHistoryView.records.concat(e.records),this.vacationHistoryView.hasMoreRecords=e.hasMoreRecords}getVacationInfo(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.vacationService.getVacationInfo(this.employeeId);e&&e.map(e=>this.vacationInfo.push(e)),this.organizeVacationObject()})}organizeVacationObject(){this.vacationInfo.map(e=>{this.isEmpty(e.status)&&(this.vacationInfoRegister.length<2&&!this.viewIsMobile||this.viewIsMobile?this.vacationInfoRegister.push(e):(this.showMoreIsVisible=!0,this.showLessIsVisible=!1))})}initSwipe(){if(this.swipeButton&&this.swipeButton.nativeElement){const e=new o(this.swipeButton.nativeElement);e.get("swipe").set({direction:o.DIRECTION_ALL}),e.on("swipe",e=>this.onSwipe(e))}}onSwipe(e){const t=Math.abs(e.deltaX)>40?e.deltaX>0?"right":"left":"";"right"===t?this.selectedVacationPosition>0&&(this.selectedVacationPosition--,this.vacationMobile=this.vacationInfoRegister[this.selectedVacationPosition]):"left"===t&&this.selectedVacationPosition<this.vacationInfoRegister.length-1&&(this.selectedVacationPosition++,this.vacationMobile=this.vacationInfoRegister[this.selectedVacationPosition])}getVacationProcess(){return(0,n.mG)(this,void 0,void 0,function*(){f.ZP.isErpDatasul()&&(yield this.vacationService.getVacationProcess(this.employeeId)).map(e=>this.vacationInfo.push(e))})}validateParamUndefined(e){return void 0===e||e}initializeComponent(){this.routeDataSubscription=this.route.data.pipe((0,s.U)(e=>e.management)).subscribe(e=>{this.viewIsMobile=this.windowUtilService.isMobileDevice(),this.employeeCard=this.globals.getEmployeeCard(),!e||this.employeeCard.employee?(this.loadVacationServices(),this.initSwipe()):this.router.isActive("teamManagement/absenceManager/vacation",!0)?this.router.navigateByUrl("absence"):this.router.navigateByUrl("teamManagement")})}}return e.\u0275fac=function(t){return new(t||e)(w.Y36(Z.P),w.Y36(C.sK),w.Y36(M.F0),w.Y36(b.e),w.Y36(M.gz),w.Y36(p.Lx),w.Y36(A.O),w.Y36(g._),w.Y36(P.g),w.Y36(O.g),w.Y36(c.l),w.Y36(q.g),w.Y36(x.$),w.Y36(u.V),w.Y36(v.c),w.Y36(m.H),w.Y36(T.c))},e.\u0275cmp=w.Xpm({type:e,selectors:[["app-vacation"]],viewQuery:function(e,t){if(1&e&&(w.Gf(y.W,5),w.Gf(_,7)),2&e){let e;w.iGM(e=w.CRH())&&(t.excludeDialog=e.first),w.iGM(e=w.CRH())&&(t.swipeButton=e.first)}},hostBindings:function(e,t){1&e&&w.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,w.evT)},features:[w.qOj],decls:11,vars:10,consts:[[3,"ngClass"],["pageTitle","l-vacation",3,"backIsVisible","backFunction"],[3,"image","name","role","status",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["divSwipeButton",""],[3,"vacation","employeeId","deleted"],[3,"image","name","role","status"],["class","vacation",3,"cssClass",4,"ngIf"],[1,"vacation",3,"cssClass"],["card-header","",1,"mr-card-header"],["class","vacation-label",4,"ngIf"],["class","requested-title",4,"ngIf"],[1,"dropdown","mouse-pointer","definition-space"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],[1,"dropdown-menu-itens",3,"click"],["card-body","","class","flipflop",4,"ngIf"],[1,"vacation-label"],[1,"requested-title"],["card-body","",1,"flipflop"],[1,"po-row"],[1,"po-sm-6","po-md-2","po-lg-2","po-xl-2","panel-item-group"],[1,"requested-label"],[1,"requested-value"],[1,"po-sm-6","po-md-2","po-lg-2","po-xl-2","panel-item-group","definition-space"],[1,"vacation-holder"],["id","btn-available-receipt","p-primary","true","p-type","secondary","p-small","true","p-icon","po-icon po-icon-eye",3,"ngClass","p-label","p-click",4,"ngIf"],["id","btn-avaiable-notes","p-primary","true","p-type","primary","p-small","true","p-icon","ico-download",3,"ngClass","p-label","p-click",4,"ngIf"],["id","btn-available-receipt","p-primary","true","p-type","secondary","p-small","true","p-icon","po-icon po-icon-eye",3,"ngClass","p-label","p-click"],["id","btn-avaiable-notes","p-primary","true","p-type","primary","p-small","true","p-icon","ico-download",3,"ngClass","p-label","p-click"],[1,"vacation","po-lg-12","po-md-12","po-sm-12"],[1,"period-label"],["card-body",""],["class","po-row",3,"click",4,"ngIf"],["class","po-row",4,"ngIf"],[1,"to-request-label"],[1,"to-request-value"],[1,"po-sm-1","po-md-1","po-lg-2","po-xl-2",2,"margin-top","auto","margin-bottom","auto"],["class","po-icon po-icon-info po-mr-1 info-icon po-offset-xl-2 po-offset-lg-2 po-offset-md-1 request-button",3,"click",4,"ngIf"],[1,"info-popup",3,"p-actions","p-target"],["popup",""],["class","request-button po-sm-12 po-md-3 po-lg-2 po-xl-2","p-primary","true","p-type","primary",3,"p-label","p-disabled","p-click",4,"ngIf"],["class","request-button po-sm-12 po-md-3 po-lg-2 po-xl-2","p-primary","true","p-type","primary",3,"p-label","p-click",4,"ngIf"],[1,"po-icon","po-icon-info","po-mr-1","info-icon","po-offset-xl-2","po-offset-lg-2","po-offset-md-1","request-button",3,"click"],["target",""],["p-primary","true","p-type","primary",1,"request-button","po-sm-12","po-md-3","po-lg-2","po-xl-2",3,"p-label","p-disabled","p-click"],["p-primary","true","p-type","primary",1,"request-button","po-sm-12","po-md-3","po-lg-2","po-xl-2",3,"p-label","p-click"],[1,"po-row",3,"click"],[1,"po-icon","po-icon-arrow-down","load-more-arrow","center"],[1,"po-icon","po-icon-arrow-up","load-more-arrow","center"],[1,"vacation-label-mobile"],["modal",""],[1,"po-icon","po-icon-info","info-icon-modal","center-mobile-modal"],[1,"center-mobile-modal","warning-title"],[1,"center-mobile-modal"],["class","po-icon po-icon-info info-icon-mobile",3,"click",4,"ngIf"],["class","po-row mobile-pointer",4,"ngIf"],[1,"po-icon","po-icon-info","info-icon-mobile",3,"click"],["p-primary","true","p-type","primary",1,"request-button","po-sm-12","po-md-3","po-lg-2","po-xl-2","po-offset-xl-2","po-offset-lg-2","po-offset-md-1",3,"p-label","p-disabled","p-click"],[1,"po-row","mobile-pointer"],["class","pointer",3,"ngClass",4,"ngFor","ngForOf"],[1,"pointer",3,"ngClass"],[1,"latest-requests","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","false",3,"ngClass",4,"ngFor","ngForOf"],["class","next-records po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"click",4,"ngIf"],["hideToggle","false",3,"ngClass"],[1,"vacation-history-header"],[1,"historic-label","historic-label-title"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],["class","po-row historic-actions",4,"ngIf"],["rejectionReason",""],["appReadMore","",1,"read-more-link",3,"appReadMore-length","appReadMore-element"],[1,"less","po-mt-1"],[1,"more"],[1,"po-row","historic-actions"],["id","btn-avaiable-notes","class","po-sm-6 po-md-3 po-lg-2 po-xl-2 historic-button","p-primary","true","p-type","primary","p-icon","ico-download",3,"p-label","p-click",4,"ngIf"],["id","btn-avaiable-notes","p-primary","true","p-type","primary","p-icon","ico-download",1,"po-sm-6","po-md-3","po-lg-2","po-xl-2","historic-button",3,"p-label","p-click"],["id","btn-avaiable-notes","p-primary","true","p-type","secondary","p-icon","po-icon po-icon-eye",1,"po-sm-6","po-md-3","po-lg-2","po-xl-2","historic-button",3,"p-label","p-click"],[1,"next-records","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"click"],["id","link-more-records"],[3,"closeDialogEvent"]],template:function(e,t){1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"app-page-header",1),w.NdJ("backFunction",function(){return t.back()}),w.qZA(),w.YNc(2,S,1,4,"app-card-employee",2),w.YNc(3,J,2,1,"div",3),w.YNc(4,$,13,9,"div",4),w.TgZ(5,"div",null,5),w.YNc(7,ie,20,12,"div",4),w.qZA(),w.YNc(8,de,7,5,"div",4),w.qZA(),w.YNc(9,ge,2,0,"div",4),w.TgZ(10,"app-vacation-exclude",6),w.NdJ("deleted",function(){return t.onDeleteVacation()}),w.qZA()),2&e&&(w.Q6J("ngClass",t.isMobileDevice()?"":"page-margin"),w.xp6(1),w.Q6J("backIsVisible",!0),w.xp6(1),w.Q6J("ngIf",t.employeeCard.employee),w.xp6(1),w.Q6J("ngForOf",t.vacationInfo),w.xp6(1),w.Q6J("ngIf",t.vacationInfoRegister.length>0&&t.vacationRegisterVisible&&!t.viewIsMobile),w.xp6(3),w.Q6J("ngIf",t.vacationInfoRegister.length>0&&t.vacationRegisterVisible&&t.viewIsMobile),w.xp6(1),w.Q6J("ngIf",t.hasVacationHistory),w.xp6(1),w.Q6J("ngIf",t.requestVacationIsVisible),w.xp6(1),w.Q6J("vacation",t.selectedVacationToExclude)("employeeId",t.employeeId))},styles:['.vacation-label[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px}.vacation-label-mobile[_ngcontent-%COMP%]{padding-top:15px;padding-left:1px;float:left;font-size:18px}.period-label[_ngcontent-%COMP%]{padding-left:8px}.latest-requests[_ngcontent-%COMP%]{top:6px;display:inline-block;padding-top:15px}.vacation-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60;text-align:left}@media screen and (min-width: 480px){.historic-content[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.historic-content[_ngcontent-%COMP%]   .historic-value[_ngcontent-%COMP%]{display:block;text-align:right;margin-left:auto;width:calc(100% - 250px - 100px)}.historic-content[_ngcontent-%COMP%]   .historic-label[_ngcontent-%COMP%]{float:left;width:250px;display:block}}.historic-content[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{margin-right:2px;padding:0 24px}@media (max-width: 425px){.historic-content[_ngcontent-%COMP%]{padding:0 16px}}.requested-title[_ngcontent-%COMP%]{margin:0;padding-left:8px;color:#fff;display:inline}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{margin-top:0;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#2b3639;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#4a5c60}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:120px;left:-55px!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.card-employee[_ngcontent-%COMP%]{padding-left:0}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .vacation-holder{width:100%}}[_nghost-%COMP%]     .vacation-holder .po-button{border-color:#fff;color:#fff;background-color:transparent}@media screen and (max-width: 480px){[_nghost-%COMP%]     .vacation-holder .po-button{float:right}}.historic-actions[_ngcontent-%COMP%]{display:inline-block;padding-top:24px;padding-right:16px}@media screen and (max-width: 480px){.historic-actions[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}}.historic-button[_ngcontent-%COMP%]{float:right}.flipflop[_ngcontent-%COMP%]{margin-top:10px}.vacation[_ngcontent-%COMP%]{position:relative;padding:0}@media screen and (min-width: 992px) and (max-width: 1199px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.vacation-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}.vacation-link[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 425px){.vacation-actions[_ngcontent-%COMP%]{text-align:right}}@media (max-width: 425px){.vacation-notes[_ngcontent-%COMP%]{width:40%;margin-left:-5px}}@media screen and (min-width: 425px){.vacation-notes[_ngcontent-%COMP%]{margin-right:10px}}@media (max-width: 425px){.vacation-download[_ngcontent-%COMP%]{width:52%;float:right;margin-right:20px}}.vacation-warning[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:3px 8px;background-color:#ea9b3e;border-radius:5px;color:#fff}.thf-button[_ngcontent-%COMP%]{height:auto;margin-right:0;padding:10px 16px}[_nghost-%COMP%]     .vacation-history-header .mat-content{align-items:center;align-content:center}@media (max-width: 425px){[_nghost-%COMP%]     .vacation-history-header .mat-content{font-size:14px}}@media screen and (max-width: 1366px){.thf-button[_ngcontent-%COMP%]{line-height:16px;padding:7px 16px}}.type1[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#00b28e}.type2[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;background:#c64840}.circle-base[_ngcontent-%COMP%]{border-radius:50%}.historic-label-title[_ngcontent-%COMP%]{padding-left:7px;vertical-align:text-bottom}.page-margin[_ngcontent-%COMP%]{margin:0 40px 40px}.center[_ngcontent-%COMP%]{margin:0 auto}.load-more-arrow[_ngcontent-%COMP%]{color:#0c9abe;font-size:23px}.pointer[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background-color:#9da7a9;margin-left:10px}.activePointer[_ngcontent-%COMP%]{background-color:#0c9abe}.mobile-pointer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.request-button[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.info-icon[_ngcontent-%COMP%]{color:#0c9abe;margin:0;float:right;right:18%;font-size:20px;top:calc(100% - 31%)}[_nghost-%COMP%]     .po-popup{position:absolute;top:auto!important;left:auto!important;margin-top:3%;margin-left:5%}[_nghost-%COMP%]     .po-arrow-top-right{right:calc(100% - 39%);left:unset!important}@media only screen and (min-width: 961px) and (max-width: 1366px){.info-icon[_ngcontent-%COMP%]{top:calc(100% - 28%)}}@media only screen and (min-width: 1550px) and (max-width: 1680px){.info-icon[_ngcontent-%COMP%]{top:calc(100% - 29%)}}.info-icon-modal[_ngcontent-%COMP%]{color:#ea9b3e;font-size:44px}.info-icon-mobile[_ngcontent-%COMP%]{color:#0c9abe;padding-top:14px;position:absolute;right:24px;font-size:25px}.center-mobile-modal[_ngcontent-%COMP%]{float:left;width:100%;text-align:center;margin-bottom:16px}.warning-title[_ngcontent-%COMP%]{font-size:24px;font-family:"Nunito Sans"}[_nghost-%COMP%]     .po-popup-item-default{color:#4a5c60}@media (max-width: 870px){.vacation-label[_ngcontent-%COMP%]{padding-left:8px}.vacation-label-mobile[_ngcontent-%COMP%]{padding-left:8px}}.historic-value.read-more-expanded[_ngcontent-%COMP%]{width:100%!important;margin-top:.5rem}@media screen and (min-width: 480px){.historic-value.read-more-expanded[_ngcontent-%COMP%]{text-align:justify!important}}[_nghost-%COMP%]     #btn-available-receipt .po-button{display:inline-block!important}@media only screen and (min-width: 481px){[_nghost-%COMP%]     #btn-available-receipt .po-button{margin-right:15px!important}}[_nghost-%COMP%]     #btn-available-receipt .po-button .po-icon{margin-right:5px!important}[_nghost-%COMP%]     #btn-avaiable-notes .po-button{display:inline-block!important}[_nghost-%COMP%]     #btn-avaiable-notes .po-button .po-icon{margin-right:5px!important}.definition-space[_ngcontent-%COMP%]{padding-right:4px}']}),e})()},26847:function(e,t,i){"use strict";i.d(t,{P:function(){return h}});var n=i(64762),o=i(89019),s=i(48681),a=i(81483),r=i(94405),l=i(33490),c=i(59708),p=i(64634),d=i(98348),g=i(37716);const u="vacation";let h=(()=>{class e{constructor(e,t,i){this.serviceGeneric=e,this.fileManipulationService=t,this.configurationService=i}parseParams(e,t,i){i&&(e[t]=i)}getVacationInfo(e=o.N.loggedUser){const t=`${u}/info/${e}/`,i=[];return i.encodeEmployeeId=!0,this.serviceGeneric.search(t,i,!1).then(e=>e.items)}getBalanceAux(e,t,i){return this.serviceGeneric.get(`vacation/balanceAux/${e}/${t}/${i}`)}getVacationProcess(e=o.N.loggedUser){return(0,n.mG)(this,void 0,void 0,function*(){const t=`${u}/process/${e}/`;return(yield this.serviceGeneric.get(t,!1)).items})}getVacationHistory(e=o.N.loggedUser,t,i,n){return new Promise(o=>{const s=`${u}/history/${e}/`,a=[];this.parseParams(a,"page",t),this.parseParams(a,"pageSize",i),n&&this.parseParams(a,"encodeEmployeeId",n),this.serviceGeneric.search(s,a,!1).then(e=>{const i=new l.i(e.items);i.actualPage=t,i.hasMoreRecords=e.hasNext,o(i)})})}deleteVacation(e,t=o.N.loggedUser){return this.serviceGeneric.delete(`${u}/request/${t}/${e}`)}getReportDownloadUrl(e,t,i=!1){return new Promise(n=>{if(e&&t){let o=i?"/notice/report/":"/detail/report/";if(d.ZP.isErpRM()){let i;i=[],i.employeeId=encodeURIComponent(e),i.vacationId=encodeURIComponent(t),o=p.m.concatQueryParam(o,i)}else o+=`${encodeURIComponent(e)}/${encodeURIComponent(t)}`;d.ZP.isErpDatasul()?(o=`${u}${o}`,this.serviceGeneric.resolveUrl(0,o).then(e=>{n(`${document.location.origin}${e}${o}`)})):n(this.configurationService.getServerApiUrl().then(e=>{let t=`${e}${u}`;return t+=o,d.ZP.isErpNode()||d.ZP.isErpProtheus()?t:`${document.location.origin}${t}`}))}})}openVacationReport(e=o.N.loggedUser,t,i){if(d.ZP.isErpRM()){let n;n=[],n.employeeId=e,n.vacationId=t;let o=p.m.concatQueryParam(`${u}/detail/report`,n);return this.fileManipulationService.openFile(o,i,"application/pdf")}return this.fileManipulationService.openFile(`${u}/detail/report/${encodeURIComponent(e)}/${t}`,i,"application/pdf")}getBlobReport(e=o.N.loggedUser,t){const i=`${u}/notice/report/${e}/${t}`;return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.search(i,!1)}getBlobReportReceipt(e=o.N.loggedUser,t){const i=`${u}/detail/report/${e}/${t}`;return this.serviceGeneric.setResponseType("blob"),this.serviceGeneric.search(i,!1)}setDefaulResponseType(){this.serviceGeneric.setResponseType("json")}getVacationReceipt(e,t){if(d.ZP.isErpRM()){let i;i=[],i.employeeId=e,i.vacationId=t;let n=p.m.concatQueryParam(`${u}/detail`,i);return this.serviceGeneric.get(n)}return this.serviceGeneric.get(`${u}/detail/${e}/${t}`)}vacationStartsOnDecember(e){let t=e.initVacation;return t instanceof Date||(t=a.Em.formatUTCDate(new Date(e.initVacation))),t.getMonth()+1===12}}return e.\u0275fac=function(t){return new(t||e)(g.LFG(c.M),g.LFG(r.e),g.LFG(s.e))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},89019:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const n={production:!0,menuPath:"../menu.json",logoutByTimeout:!0,timeout:20,idleTime:300,loggedUser:"{current}",version:"20220121."}},92340:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const n={production:!0,menuPath:"../menu.json",logoutByTimeout:!0,timeout:20,idleTime:300,loggedUser:"{current}",version:"20220121."}},48079:function(e,t,i){"use strict";var n=i(39075),o=i(37716),s=(i(11524),i(38583)),a=i(91841),r=i(90441),l=i.n(r),c=i(42482),p=i.n(c),d=i(3679),g=i(1914),u=i(46237),h=i(29790),m=i(32472),f=i(44956),v=i(92430),b=i(49344),x=i(20945),y=i(70409),Z=i(34902);const w=[Z.r];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[...w],imports:[[s.ez]]}),e})();var M=i(76660),A=i(95987),P=i(51110),O=i(40469),q=i(44852),T=i(36812),_=i(82832);function S(e,t){if(1&e&&o._UZ(0,"span",11),2&e){const e=o.oxw().$implicit;o.Q6J("ngClass",e.imagePath)}}function I(e,t){1&e&&(o.TgZ(0,"span",12),o._UZ(1,"img",13),o.qZA())}function D(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"span"),o.TgZ(2,"app-card",5),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).doNavigation(t)}),o.TgZ(3,"div",6),o.TgZ(4,"div",7),o.YNc(5,S,1,1,"span",8),o.YNc(6,I,2,0,"span",9),o.TgZ(7,"p",10),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit;o.xp6(5),o.Q6J("ngIf",!e.iconIsImage),o.xp6(1),o.Q6J("ngIf","externalClockIn"===e.id),o.xp6(2),o.hij(" ",o.lcZ(9,3,e.labelKeyLong)," ")}}function k(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",14),o.NdJ("click",function(){o.CHM(e);const t=o.oxw(2);return t.doNavigation(t.featured)}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw(2);o.s9C("p-label",o.lcZ(1,1,e.featured.labelKeyLong))}}function L(e,t){if(1&e&&(o.ynx(0),o._UZ(1,"app-page-header",1),o.TgZ(2,"div",2),o.YNc(3,D,10,5,"div",3),o.YNc(4,k,2,3,"po-button",4),o.qZA(),o.BQk()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("pageTitle",e.subMenuPageTitle),o.xp6(2),o.Q6J("ngForOf",e.subMenus),o.xp6(1),o.Q6J("ngIf",e.featured)}}let N=(()=>{class e{constructor(e,t,i,n){this.route=e,this.router=t,this.menuApplicationService=i,this.navigationUtilService=n,this.url=[],this.route.params.subscribe(e=>{this.hasMiddlePage=this.router.url.split("/").length>4;const t=e.screen;this.subMenuPageTitle=e.title,this.setSubMenu(t)})}setSubMenu(e){this.subMenus=void 0,this.featured=void 0,this.menuApplicationService.getMenus().then(t=>{t.forEach(t=>{t.id===e&&(this.subMenus=t.children,this.featured=t.featured)}),this.subMenus||t.forEach(t=>{t.children&&this.getChildren(t.children,e)}),this.subMenus&&this.getUrl(this.subMenus)})}doNavigation(e){this.navigationUtilService.doNavigation(e)}callbackIonicExternalEvent(e){console.log(e.detail)}getChildren(e,t){e.forEach(e=>{e.id===t&&(this.subMenus=e.children,this.featured=e.featured)}),this.subMenus||e.forEach(e=>{!this.subMenus&&e.children&&this.getChildren(e.children,t)})}getUrl(e){let t=0;e.forEach(e=>{if(!e.externalApp){const i=e.url.split("/");this.url[t]=i[1],t++}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(A.gz),o.Y36(A.F0),o.Y36(O.Kv),o.Y36(q._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-menu"]],hostBindings:function(e,t){1&e&&o.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,o.evT)},decls:2,vars:1,consts:[[4,"ngIf"],[3,"pageTitle"],[1,"scroll"],[4,"ngFor","ngForOf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 po-mt-5 po-mb-5 block","p-primary","true","p-type","primary",3,"p-label","click",4,"ngIf"],[3,"click"],["card-body",""],[1,"general"],["class","nav-ico icon po-sm-1 po-md-1 po-lg-1 po-xl-1",3,"ngClass",4,"ngIf"],["class","clockin-icon po-sm-1 po-md-1 po-lg-1 po-xl-1",4,"ngIf"],[1,"label-menu","mouse-pointer","po-sm-11","po-md-11","po-lg-11","po-xl-11"],[1,"nav-ico","icon","po-sm-1","po-md-1","po-lg-1","po-xl-1",3,"ngClass"],[1,"clockin-icon","po-sm-1","po-md-1","po-lg-1","po-xl-1"],["src","assets/img/face_recog.svg"],["p-primary","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","po-mb-5","block",3,"p-label","click"]],template:function(e,t){1&e&&(o.YNc(0,L,5,3,"ng-container",0),o._UZ(1,"router-outlet")),2&e&&o.Q6J("ngIf",!t.hasMiddlePage)},directives:[s.O5,A.lC,T.q,s.sg,_.A,s.mk,f.bOz],pipes:[h.X$],styles:[".label-menu[_ngcontent-%COMP%]{font-size:16px;width:0 auto;padding-left:40px;color:#425357}.general[_ngcontent-%COMP%]{padding:10px 0;color:#0d9abe}.icon[_ngcontent-%COMP%]{display:block;position:absolute;top:50%;margin-top:-13px}.clockin-icon[_ngcontent-%COMP%]{margin-right:-26px}"]}),e})();var E=i(91195),U=i(64762),F=i(92340),J=i(66163),V=i(81483),R=i(72212),Y=i(18494),z=i(53871),Q=i(97983),G=i(36227),H=i(9789),B=i(87451),j=i(79765),$=i(69412);let W=(()=>{class e{constructor(e){this.healthService=e,this.lookupOpen=new j.xQ,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new j.xQ,this.emitModelObservable=this.emitModel.asObservable()}getFilteredItems(e){return this.lookupOpen.next(),(0,$.D)(this.healthService.getCids(e.page,e.pageSize,e.filter))}getObjectByValue(e){let t;return(0,$.D)(this.healthService.getCids(void 0,void 0,e).then(i=>(i.items.forEach(i=>{i.id.toString()===e&&(t=i)}),this.emitModel.next(t),t)))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(B.z))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),K=(()=>{class e{constructor(e){this.healthService=e,this.lookupOpen=new j.xQ,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new j.xQ,this.emitModelObservable=this.emitModel.asObservable()}getFilteredItems(e){return this.lookupOpen.next(),(0,$.D)(this.healthService.getReasons(e.page,e.pageSize,e.filter))}getObjectByValue(e){let t;return(0,$.D)(this.healthService.getReasons(void 0,void 0,e).then(i=>(i.items.forEach(i=>{i.id.toString()===e&&(t=i)}),this.emitModel.next(t),t)))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(B.z))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var X=i(96054),ee=i(65241),te=i(84479),ie=i(47106),ne=i(24165),oe=i(13235);function se(e,t){if(1&e&&(o.TgZ(0,"app-card",18),o.TgZ(1,"div",19),o.TgZ(2,"div",20),o._UZ(3,"div",21),o.qZA(),o.TgZ(4,"div",22),o.TgZ(5,"div",23),o.TgZ(6,"strong"),o._uU(7),o.ALo(8,"titleCase"),o.qZA(),o.qZA(),o.TgZ(9,"div",24),o._uU(10),o.ALo(11,"titleCase"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(3),o.Udp("background-image",e.employeeData.image),o.xp6(4),o.Oqu(o.lcZ(8,4,null==e.employeeData||null==e.employeeData.employee?null:e.employeeData.employee.name)),o.xp6(3),o.Oqu(o.lcZ(11,6,null==e.employeeData||null==e.employeeData.employee?null:e.employeeData.employee.roleDescription))}}function ae(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"po-select",25),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().type=t})("p-change",function(){o.CHM(e);const t=o.oxw();return t.validateFields(t.type)}),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,4,"l-medical-certificate-type")),o.s9C("p-placeholder",o.lcZ(3,6,"l-select-option")),o.Q6J("ngModel",e.type)("p-options",e.types)}}function re(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-select",28),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(2).reason=t}),o.ALo(1,"translate"),o.ALo(2,"translate"),o.qZA()}if(2&e){const e=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-medical-certificate-reason")),o.s9C("p-placeholder",o.lcZ(2,6,"l-select-option")),o.Q6J("ngModel",e.reason)("p-options",e.reasons)}}function le(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-lookup",29),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(2).reason=t})("p-selected",function(){return o.CHM(e),o.oxw(2).showMenu()}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw(2);o.s9C("p-label",o.lcZ(1,4,"l-medical-certificate-reason")),o.Q6J("ngModel",e.reason)("p-columns",e.reasonLookupColumns)("p-filter-service",e.reasonLookupService)}}function ce(e,t){if(1&e&&(o.TgZ(0,"span"),o.YNc(1,re,3,8,"po-select",26),o.YNc(2,le,2,6,"po-lookup",27),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.showLookupReason||!e.showLookupReason.visible),o.xp6(1),o.Q6J("ngIf",e.showLookupReason&&e.showLookupReason.visible)}}function pe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",30),o.TgZ(1,"po-input",31),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().initHour=t}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-initial-hour")),o.Q6J("ngModel",e.initHour)}}function de(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",30),o.TgZ(1,"po-input",32),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().endHour=t}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-final-hour")),o.Q6J("ngModel",e.endHour)}}function ge(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"label",33),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",34,35),o.NdJ("click",function(){return o.CHM(e),o.MAs(7).toggle()}),o.qZA(),o._UZ(6,"po-popup",36,37),o.TgZ(8,"po-input",38),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().doctorName=t}),o.qZA(),o.qZA()}if(2&e){const e=o.MAs(5),t=o.oxw();o.xp6(2),o.hij("",o.lcZ(3,5,"l-doctor-name")," "),o.xp6(4),o.Q6J("p-actions",t.popupActionsName)("p-target",e),o.xp6(2),o.Q6J("ngModel",t.doctorName)("p-required",t.medicalCertificateDoctorNameProperties.required)}}function ue(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"label",39),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",34,35),o.NdJ("click",function(){return o.CHM(e),o.MAs(7).toggle()}),o.qZA(),o._UZ(6,"po-popup",36,40),o.TgZ(8,"po-input",41),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().medicalRegionalCouncil=t}),o.qZA(),o.qZA()}if(2&e){const e=o.MAs(5),t=o.oxw();o.xp6(2),o.hij("",o.lcZ(3,5,"l-crm-medical")," "),o.xp6(4),o.Q6J("p-actions",t.popupActionsCrm)("p-target",e),o.xp6(2),o.Q6J("ngModel",t.medicalRegionalCouncil)("p-required",t.medicalCertificateCrmProperties.required)}}function he(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-success-dialog",42),o.NdJ("closeDialogEvent",function(){return o.CHM(e),o.oxw().back()}),o.qZA()}}let me=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l,c,p,d){this.healthService=e,this.notificationService=t,this.translateService=i,this.lookupService=n,this.reasonLookupService=o,this.menuApplicationService=s,this.windowUtil=a,this.route=r,this.fieldProperties=l,this.teamManagementService=c,this.profileService=p,this.imageService=d,this.id=null,this.types=[],this.reasons=[],this.cids=[],this.initDate=new Date,this.employeeData=null,this.employeeId=F.N.loggedUser,this.viewIsTeamManagement=!1,this.medicalCertificatesTypes=[],this.initHourFieldIsVisible=!1,this.endHourFieldIsVisible=!1,this.popupActionsName=[],this.popupActionsCrm=[]}ngOnInit(){this.employeeData=this.teamManagementService.getEmployeeCard(),this.employeeData&&this.employeeData.employee&&(this.viewIsTeamManagement=!0,this.employeeId=this.employeeData.employee.id),this.loadComponents(),this.dealWithQueryParams(),this.loadModel()}ngOnDestroy(){!0===this.viewIsTeamManagement&&this.teamManagementService.cleanEmployeeCard(),null!=this.queryParamsSubscription&&this.queryParamsSubscription.unsubscribe()}loadModel(){this.lookupService.emitModelObservable.subscribe(e=>{this.cid=e})}loadComponents(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.loadFieldProperties(),yield this.fillLabelPopup(),this.medicalCertificateTypeProperties&&this.medicalCertificateTypeProperties.required&&(yield this.getTypes()),this.showLookupReason&&this.showLookupReason.visible?this.initLookupReason():yield this.getReasons(),this.initLookup(),this.lookupService.lookupOpenObservable.subscribe(()=>{this.menuApplicationService.hideMenu()}),this.reasonLookupService.lookupOpenObservable.subscribe(()=>{this.menuApplicationService.hideMenu()}),yield this.loadMedicalCertificateData(this.getURLParamId())})}loadMedicalCertificateData(e){return(0,U.mG)(this,void 0,void 0,function*(){e&&(this.id=e,this.loadComponentFields(yield this.healthService.getMedicalCertificateRequest(this.employeeId,this.id)),this.fillFileInfo(yield this.healthService.getMedicalCertificateAttachedFile(e)))})}loadComponentFields(e){this.type=e.type,e.begin&&(this.initDate=V.Em.getDateUTCFormat(new Date(e.begin)).toISOString().substring(0,10)),e.end&&(this.endDate=V.Em.getDateWithoutTimezoneAndDontUseString(new Date(e.end))),e.cid&&this.setCidValue(e.cid),e.reason&&(this.reason=e.reason),e.justify&&(this.justify=e.justify),e.file&&(this.attachedFile=e.file),this.initDate&&this.endDate&&this.isValidPeriod()&&this.updateDays(),e.doctorName&&(this.doctorName=e.doctorName),e.medicalRegionalCouncil&&(this.medicalRegionalCouncil=e.medicalRegionalCouncil),e.initHour&&(this.initHour=V.Em.getHoursByMilliseconds(e.initHour)),e.endHour&&(this.endHour=V.Em.getHoursByMilliseconds(e.endHour)),this.validateFields(e.type)}validateFields(e){const t=this.medicalCertificatesTypes.find(t=>t.id===e);t.props?(this.initHourFieldIsVisible=R.Z.isVisible(t.props,"initHour"),this.endHourFieldIsVisible=R.Z.isVisible(t.props,"endHour")):(this.initHourFieldIsVisible=!1,this.endHourFieldIsVisible=!1,this.initHour="",this.endHour="")}setCidValue(e){this.lookup.selectValue({id:e}),this.lookup.setViewValue(e,{}),this.cid=e}getURLParamId(){return this.route.snapshot.paramMap.get("id")}showMenu(){this.menuApplicationService.showMenu()}initLookup(){this.lookupColumns=[{property:"id",label:"l-cid",fieldLabel:!0,width:"60px"},{property:"name",label:"l-disease-description"}],this.lookupColumns.forEach(e=>{this.translateService.getI18n(e.label).then(t=>{e.label=t})})}initLookupReason(){this.reasonLookupColumns=[{property:"description",label:"l-description"}],this.reasonLookupColumns.forEach(e=>{this.translateService.getI18n(e.label).then(t=>{e.label=t})})}changeInitDate(){this.days&&this.initDate&&(this.endDate||(this.endDate=V.Em.getDateUTCFormat(new Date(this.initDate))),this.changeDate())}changeDate(){if(!this.days||!this.initDate)return;const e=Number(this.days)-1;if(e>0){const t=V.Em.getDateUTCFormat(new Date(this.initDate));t.setDate(t.getUTCDate()+e),this.endDate=t}}changeDaysDate(){null!=this.days&&(this.endDate=null),this.days&&this.initDate&&(this.endDate||(this.endDate=V.Em.getDateUTCFormat(new Date(this.initDate))),this.changeDate())}updateDays(){if(!this.endDate||!this.initDate)return;const e=V.Em.getDateWithoutTimezone(new Date(this.endDate)),t=V.Em.getDateWithoutTimezone(new Date(this.initDate)),i=e.getTime()-t.getTime(),n=+V.Em.getHoursByMilliseconds(i,!1).split(":")[0],o=Number((.0417*n).toFixed());this.days=o+1}getTypes(){return(0,U.mG)(this,void 0,void 0,function*(){this.healthService.getTypes().then(e=>{this.types=e.map(e=>({label:e.name,value:e.id})),this.medicalCertificatesTypes=e})})}getReasons(){return(0,U.mG)(this,void 0,void 0,function*(){this.healthService.getReasons().then(e=>{e&&(this.reasons=e.items.map(e=>({label:e.description,value:e.id})))})})}send(){this.informationIsValid()?this.callService():this.notifyMessageError()}informationIsValid(){return this.initDate&&(!this.endDate||this.isValidPeriod())&&null!=this.attachedFile&&this.isValidHourInitialAndFInal()}notifyMessageError(){null==this.attachedFile?this.translateService.getI18n("m-file-required").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)}):this.isValidHourInitialAndFInal()?this.translateService.getI18n("m-initialDateBiggerThanEndDate").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)}):this.translateService.getI18n("m-initialHourBiggerThanEndHour").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)})}callService(){const e=this.createSendObject();e.id?this.callUpdateService(e):this.callSaveService(e)}callSaveService(e){this.healthService.saveMedicalCertificate(e,this.employeeId).then(()=>{this.isDialogSuccessVisible=!0})}callUpdateService(e){this.healthService.updateMedicalCertificate(e,this.employeeId).then(()=>{this.isDialogSuccessVisible=!0})}openSelectMedicalCertificateFileDialog(){this.isIOS()?this.selectFileDialog.openFileBrowser():this.selectFileDialog.openSelectFileDialog()}fillFileInfo(e){this.attachedFile=e}back(){this.viewIsTeamManagement=!1,this.windowUtil.back()}isIOS(){return this.windowUtil.isIOS()}loadFieldProperties(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.fieldProperties.getFieldProperties("medicalCertificate");e&&e.forEach(e=>{"type"===e.field&&(this.medicalCertificateTypeProperties=e),"reason"===e.field&&(this.medicalCertificateReasonProperties=e),"doctorName"===e.field&&(this.medicalCertificateDoctorNameProperties=e),"medicalRegionalCouncil"===e.field&&(this.medicalCertificateCrmProperties=e),"lookupReason"===e.field&&(this.showLookupReason=e)})})}createSendObject(){const e={begin:V.Em.getDateUTCFormat(new Date(this.initDate)),cid:this.cid,type:this.type,reason:this.reason,justify:this.justify,doctorName:this.doctorName,medicalRegionalCouncil:this.medicalRegionalCouncil,initHour:V.Em.getTotalMilliseconds(this.initHour),endHour:V.Em.getTotalMilliseconds(this.endHour)};return this.endDate&&(e.end=this.endDate),this.attachedFile&&(e.file=this.attachedFile),this.id&&(e.id=this.id),e}isValidPeriod(){if(!this.initDate||!this.endDate)return!1;const e=V.Em.getDateObject(this.initDate),t=V.Em.getDateObject(this.endDate);return t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),e.setHours(0,0,0,0),t>=e}isValidHourInitialAndFInal(){const e=V.Em.getTotalMilliseconds(this.initHour),t=V.Em.getTotalMilliseconds(this.endHour);if(!e&&!t)return!0;if(e&&t){const i=new Date(Date.parse(this.initDate.toString())),n=new Date(Date.parse(this.endDate.toString()));if(i.toLocaleDateString()===n.toLocaleDateString()&&e<t||i.toLocaleDateString()!==n.toLocaleDateString())return!0}return!1}fillLabelPopup(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.translateService.getI18n("l-insert-doctor-name"),t=yield this.translateService.getI18n("l-insert-Medical-crm");this.popupActionsName=[{label:e}],this.popupActionsCrm=[{label:t}]})}dealWithQueryParams(){this.queryParamsSubscription=this.route.queryParams.subscribe(e=>{const t=e;t.date&&(this.initDate=V.Em.getDateUTCFormat(new Date(Number(t.date))),isNaN(this.initDate.getTime())&&(this.initDate=null)),t.endDate&&(this.endDate=V.Em.getDateUTCFormat(new Date(Number(t.endDate))),isNaN(this.endDate.getTime())&&(this.endDate=null)),t.employeeId&&(this.employeeId=t.employeeId,this.profileService.getEmployeeSummary(this.employeeId).then(e=>{this.employeeData=new J.J,this.employeeData.employee=e,this.imageService.getImageStyle(this.employeeId).subscribe(e=>this.employeeData.image=e)}))})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(B.z),o.Y36(X.g),o.Y36(ee.g),o.Y36(W),o.Y36(K),o.Y36(O.Kv),o.Y36(te.g),o.Y36(A.gz),o.Y36(G.c),o.Y36(H.C),o.Y36(Q.H),o.Y36(Y.A))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-request-medical-certificate"]],viewQuery:function(e,t){if(1&e&&(o.Gf(z.Q,5),o.Gf(f.za1,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.selectFileDialog=e.first),o.iGM(e=o.CRH())&&(t.lookup=e.first)}},decls:32,vars:43,consts:[["pageTitle","l-request-medical-certificate",3,"backIsVisible","backFunction"],["class","po-sm-12 po-md-5 po-lg-4 po-xl-3 card-employee",4,"ngIf"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"header-divider","panel-body","po-row","center-fields"],[1,"spacing"],["medicalCertificateForm","ngForm"],[4,"ngIf"],[1,"po-row"],["name","initDatePicker","p-clean","true","p-required","true",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","po-mt-2",3,"ngModel","p-max-date","p-label","ngModelChange","p-change"],["name","endDatePicker","p-clean","true",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","po-mt-2",3,"p-min-date","ngModel","p-label","p-error-pattern","ngModelChange","p-change"],["class","po-sm-6 po-md-6 po-lg-6 po-xl-6 po-mt-2",4,"ngIf"],["p-min","0","p-clean","true","name","daysInput",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-label","ngModelChange","p-change-model"],["p-field-label","id","p-field-value","id","name","cidLookup",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected"],[1,"clearfix","po-mb-2"],[3,"attachedFileChange"],["name","justifyTextArea",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-label","p-placeholder","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","send-button","po-mb-5",3,"p-disabled","p-label","p-click"],["message","l-send-medical-certificate-success",3,"closeDialogEvent",4,"ngIf"],[1,"po-sm-12","po-md-5","po-lg-4","po-xl-3","card-employee"],["card-header","",1,"mr-card-header"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],["name","typeSelect","p-required","medicalCertificateTypeProperties.required",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange","p-change"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12","name","reasonSelect","p-required","true",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 po-mt-2","name","reasonLookup","p-field-label","description","p-field-value","id",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected",4,"ngIf"],["name","reasonSelect","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","p-options","p-placeholder","ngModelChange"],["name","reasonLookup","p-field-label","description","p-field-value","id",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-2",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","po-mt-2"],["id","txt-hour-initial","name","hourInitial","p-placeholder","00:00","p-mask","99:99","p-mask-format-model","true","p-pattern","^(2[0-3]|[01][0-9]):([0-5][0-9])$","p-maxlength","5",3,"ngModel","p-label","ngModelChange"],["id","txt-hour-end","name","hourEnd","p-placeholder","00:00","p-mask","99:99","p-mask-format-model","true","p-pattern","^(2[0-3]|[01][0-9]):([0-5][0-9])$","p-maxlength","5",3,"ngModel","p-label","ngModelChange"],["for","doctorName",1,"po-field-title","po-pl-1","po-mt-2"],[1,"po-clickable","po-icon","po-icon-info","po-pl-1","po-mt-2","designerHelp",3,"click"],["target",""],["p-position","right",1,"popup-atestado",3,"p-actions","p-target"],["popup",""],["id","doctorName","name","nameInput","p-clean","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-required","ngModelChange"],["for","medicalRegionalCouncil",1,"po-field-title","po-pl-1","po-mt-2"],["pop",""],["id","medicalRegionalCouncil","name","crmInput","p-clean","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-required","ngModelChange"],["message","l-send-medical-certificate-success",3,"closeDialogEvent"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.back()}),o.qZA(),o.YNc(1,se,12,8,"app-card",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"form",4,5),o.YNc(6,ae,4,8,"span",6),o.YNc(7,ce,3,2,"span",6),o.TgZ(8,"div",7),o.TgZ(9,"po-datepicker",8),o.NdJ("ngModelChange",function(e){return t.initDate=e})("p-change",function(){return t.changeInitDate()}),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"po-datepicker",9),o.NdJ("ngModelChange",function(e){return t.endDate=e})("p-change",function(){return t.updateDays()}),o.ALo(12,"translate"),o.ALo(13,"translate"),o.qZA(),o.qZA(),o.TgZ(14,"div",7),o.YNc(15,pe,3,4,"span",10),o.YNc(16,de,3,4,"span",10),o.qZA(),o.TgZ(17,"po-number",11),o.NdJ("ngModelChange",function(e){return t.days=e})("p-change-model",function(){return t.changeDaysDate()}),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"po-lookup",12),o.NdJ("ngModelChange",function(e){return t.cid=e})("p-selected",function(){return t.showMenu()}),o.ALo(20,"translate"),o.qZA(),o.YNc(21,ge,9,7,"span",6),o.TgZ(22,"div"),o.YNc(23,ue,9,7,"span",6),o.qZA(),o._UZ(24,"div",13),o.TgZ(25,"app-attach-file",14),o.NdJ("attachedFileChange",function(e){return t.fillFileInfo(e)}),o.qZA(),o.TgZ(26,"po-textarea",15),o.NdJ("ngModelChange",function(e){return t.justify=e}),o.ALo(27,"translate"),o.ALo(28,"translate"),o.qZA(),o.TgZ(29,"po-button",16),o.NdJ("p-click",function(){return t.send()}),o.ALo(30,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(31,he,1,0,"app-success-dialog",17)),2&e){const e=o.MAs(5);o.Q6J("backIsVisible",!0),o.xp6(1),o.Q6J("ngIf",null==t.employeeData?null:t.employeeData.employee),o.xp6(5),o.Q6J("ngIf",t.medicalCertificateTypeProperties&&t.medicalCertificateTypeProperties.visible),o.xp6(1),o.Q6J("ngIf",t.medicalCertificateReasonProperties&&t.medicalCertificateReasonProperties.visible),o.xp6(2),o.s9C("p-label",o.lcZ(10,27,"l-initial")),o.Q6J("ngModel",t.initDate)("p-max-date",t.endDate),o.xp6(2),o.s9C("p-label",o.lcZ(12,29,"l-scheduler-messages.editor.end")),o.s9C("p-error-pattern",o.lcZ(13,31,"m-initialDateBiggerThanEndDate")),o.Q6J("p-min-date",t.initDate)("ngModel",t.endDate),o.xp6(4),o.Q6J("ngIf",t.initHourFieldIsVisible),o.xp6(1),o.Q6J("ngIf",t.endHourFieldIsVisible),o.xp6(1),o.s9C("p-label",o.lcZ(18,33,"l-days")),o.Q6J("ngModel",t.days),o.xp6(2),o.s9C("p-label",o.lcZ(20,35,"l-cid")),o.Q6J("ngModel",t.cid)("p-columns",t.lookupColumns)("p-filter-service",t.lookupService),o.xp6(2),o.Q6J("ngIf",t.medicalCertificateDoctorNameProperties&&t.medicalCertificateDoctorNameProperties.visible),o.xp6(2),o.Q6J("ngIf",t.medicalCertificateCrmProperties&&t.medicalCertificateCrmProperties.visible),o.xp6(3),o.s9C("p-label",o.lcZ(27,37,"l-justification")),o.s9C("p-placeholder",o.lcZ(28,39,"l-include-justify")),o.Q6J("ngModel",t.justify),o.xp6(3),o.s9C("p-label",o.lcZ(30,41,"l-send")),o.Q6J("p-disabled",!e.form.valid),o.xp6(2),o.Q6J("ngIf",t.isDialogSuccessVisible)}},directives:[T.q,s.O5,d._Y,d.JL,d.F,f.GWy,d.JJ,d.On,f.S5$,f.za1,ie.n,f.gJm,f.bOz,_.A,f.C9q,f.xxV,f.TD5,ne.V],pipes:[h.X$,oe.r],styles:[".send-button[_ngcontent-%COMP%]{margin-top:2%;padding-bottom:5px}.attach-file-button[_ngcontent-%COMP%]{margin-top:1%;margin-bottom:1%}[_nghost-%COMP%]     .po-disclaimer-group{background-color:transparent;border:0px;padding:0;margin-top:1%;margin-bottom:6%}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}.aboutEmployee[_ngcontent-%COMP%]{padding-left:55px}@media only screen and (max-width: 480px){.send-button[_ngcontent-%COMP%]{margin-bottom:20px}}.div-tooltip[_ngcontent-%COMP%]{display:inline}@media (min-width: 768px){.center-fields[_ngcontent-%COMP%]{padding:0 40px}}.designerHelp[_ngcontent-%COMP%]{color:#41b0cc;font-size:14px}.spacing[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .popup-atestado .po-popup-item-default, [_nghost-%COMP%]     .popup-atestado .po-popup-arrow{background-color:#4a5c60;color:#fff;font-size:14px}"]}),e})();var fe=i(37503),ve=i(3247),be=i(88044),xe=i(98348),ye=i(68014),Ze=i(89019),we=i(25523),Ce=i(26847);class Me{constructor(){this.employeesBirthday=[],this.daysTillVacation=0}}var Ae=i(59708);let Pe=(()=>{class e{constructor(e){this.serviceGeneric=e}getTeamBirthdays(e=Ze.N.loggedUser,t=1,i=99){return new Promise(n=>{const o=`team/birthdates/${e}`,s=[];this.serviceGeneric.parseParams(s,"page",t),this.serviceGeneric.parseParams(s,"pageSize",i),this.serviceGeneric.parseParams(s,"encodeEmployeeId",!0),this.serviceGeneric.search(o,s).then(e=>{n(e.items)})})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Oe=(()=>{class e{constructor(e){this.ionicUtilsService=e}callBlastAdvertisingForApp(){this.ionicUtilsService.emit({args:{},type:be.g.ShowBlastAdvertising})}mustShowCardBlastForApp(){this.ionicUtilsService.emit({args:{showAgain:!1},type:be.g.MustShowBlastAdvertisingCard})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(be.l))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qe=(()=>{class e{constructor(e){this.genericservice=e}getHierarchicalData(e,t,i="lead",n=F.N.loggedUser){const o=`team/hierarchicalData/${n}`;let s=[];return s.page=e,s.pageSize=t,s.level=i,this.genericservice.search(o,s)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Te(e,t){if(1&e&&(o.TgZ(0,"div",13),o.TgZ(1,"app-card",14),o.TgZ(2,"div",15),o.TgZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o.TgZ(6,"div",19),o.TgZ(7,"strong"),o._uU(8),o.ALo(9,"titleCase"),o.qZA(),o.qZA(),o.TgZ(10,"div",20),o._uU(11),o.ALo(12,"titleCase"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=o.oxw();o.xp6(4),o.Udp("background-image",i.getImageAvatar(e.id)),o.MGl("id","photo-",e.id,""),o.xp6(2),o.MGl("id","lbl-employee-name-",e.id,""),o.xp6(2),o.Oqu(o.lcZ(9,7,e.name)),o.xp6(2),o.MGl("id","lbl-role-description-",e.id,""),o.xp6(1),o.hij(" ",o.lcZ(12,9,e.roleDescription)," ")}}function _e(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",21),o.TgZ(1,"a",22),o.NdJ("click",function(){return o.CHM(e),o.oxw().viewMore()}),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"l-view-more")))}const Se=function(e){return{"is-active":e}};let Ie=(()=>{class e{constructor(e,t,i){this.organogramService=e,this.profileService=t,this.sanitization=i,this.closeDialogEvent=new o.vpe,this.hasNext=!1,this.page=1,this.pageSize=6,this.items=[],this.avatarImage=[],this.level="lead"}initialize(e){this.employeeId=e,this.getData(this.page,this.pageSize,this.level),this.items=[]}getData(e,t,i){return(0,U.mG)(this,void 0,void 0,function*(){const n=yield this.organogramService.getHierarchicalData(e,t,i,this.employeeId);n&&(this.hasNext=n.hasNext,this.items=this.items.concat(n.items))})}getImageAvatar(e){let t=xe.ZP.checkIfEncode(e);return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(t).then(t=>{t&&t.content&&(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))})),this.avatarImage[e]}changeData(e,t){if(t)if("right"===t)switch(this.level){case"lead":e="pair";break;case"pair":e="subordinate";break;default:return}else if("left"===t)switch(this.level){case"subordinate":e="pair";break;case"pair":e="lead";break;default:return}this.page=1,this.items=[],this.getData(this.page,this.pageSize,e),this.level=e}getActive(e){return this.level===e}close(){this.items=[],this.closeDialogEvent.emit()}trackByFunction(e,t){return t.id}viewMore(){this.page++,this.getData(this.page,this.pageSize,this.level)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(qe),o.Y36(Q.H),o.Y36(n.H7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-organogram"]],outputs:{closeDialogEvent:"closeDialogEvent"},decls:27,vars:25,consts:[[3,"pageTitle","backIsVisible","backFunction"],[1,"header-divider","panel-body","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"navegacao"],[1,"arrow","back","is-active",3,"click"],[1,"holder"],[1,"menu"],[1,"leadItem",3,"ngClass","click"],[1,"pair",3,"ngClass","click"],[1,"subordinate",3,"ngClass","click"],[1,"arrow","left","is-active",3,"click"],[1,"po-row","all-cards"],["class","cards",4,"ngFor","ngForOf","ngForTrackBy"],["class","next-periods",4,"ngIf"],[1,"cards"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["card-header","",1,"mr-card-header","po-sm-12","po-md-6","po-lg-6","po-xl-6"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align",3,"id"],[1,"aboutEmployee"],[1,"name",3,"id"],[1,"office",3,"id"],[1,"next-periods"],["id","linkViewMore",3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.close()}),o.ALo(1,"translate"),o.qZA(),o.TgZ(2,"div",1),o.TgZ(3,"nav",2),o.TgZ(4,"a",3),o.NdJ("click",function(){return t.changeData("","left")}),o.TgZ(5,"span"),o._uU(6,"<"),o.qZA(),o.qZA(),o.TgZ(7,"div",4),o.TgZ(8,"ul",5),o.TgZ(9,"li",6),o.NdJ("click",function(){return t.changeData("lead")}),o.TgZ(10,"span"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.TgZ(13,"li",7),o.NdJ("click",function(){return t.changeData("pair")}),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.qZA(),o.TgZ(17,"li",8),o.NdJ("click",function(){return t.changeData("subordinate")}),o.TgZ(18,"span"),o._uU(19),o.ALo(20,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"a",9),o.NdJ("click",function(){return t.changeData("","right")}),o.TgZ(22,"span"),o._uU(23,">"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"div",10),o.YNc(25,Te,13,11,"div",11),o.qZA(),o.YNc(26,_e,4,3,"div",12),o.qZA()),2&e&&(o.s9C("pageTitle",o.lcZ(1,11,"l-organogram")),o.Q6J("backIsVisible",!0),o.xp6(9),o.Q6J("ngClass",o.VKq(19,Se,t.getActive("lead"))),o.xp6(2),o.Oqu(o.lcZ(12,13,"l-lead")),o.xp6(2),o.Q6J("ngClass",o.VKq(21,Se,t.getActive("pair"))),o.xp6(2),o.Oqu(o.lcZ(16,15,"l-pair")),o.xp6(2),o.Q6J("ngClass",o.VKq(23,Se,t.getActive("subordinate"))),o.xp6(2),o.Oqu(o.lcZ(20,17,"l-subordinate")),o.xp6(6),o.Q6J("ngForOf",t.items)("ngForTrackBy",t.trackByFunction),o.xp6(1),o.Q6J("ngIf",t.hasNext))},directives:[T.q,s.mk,s.sg,s.O5,_.A],pipes:[h.X$,oe.r],styles:['.header-divider[_ngcontent-%COMP%]{box-shadow:none}.holder[_ngcontent-%COMP%]{width:100%;grid-area:holder;font-family:NunitoSans-Bold,sans-serif;font-size:16px;cursor:pointer}.menu[_ngcontent-%COMP%]{display:grid;grid-template-areas:"lead pair subordinate";grid-template-columns:1fr 1fr 1fr;margin:0}.leadItem[_ngcontent-%COMP%]{grid-area:lead;margin:0}.pair[_ngcontent-%COMP%]{grid-area:pair;margin:0}.subordinate[_ngcontent-%COMP%]{grid-area:subordinate;margin:0}.menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:24px;display:inline-block;color:#0c9abe;padding:9px 10px;text-align:center}.menu[_ngcontent-%COMP%]   li.is-active[_ngcontent-%COMP%]{border-bottom:2px solid #0c9abe}.arrow[_ngcontent-%COMP%]{display:block;width:100%;text-align:center}.arrow[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;padding:10px}.navegacao[_ngcontent-%COMP%]{display:grid;justify-items:center;grid-template-areas:"left holder right";grid-template-columns:1fr 9fr 1fr;padding:5px 0}.cards[_ngcontent-%COMP%]{margin-bottom:10px}.cards[_ngcontent-%COMP%]:first-child{margin-top:10px}.holder[_ngcontent-%COMP%]{grid-area:holder}.next[_ngcontent-%COMP%]{grid-area:right}.back[_ngcontent-%COMP%]{grid-area:left}.panel-body[_ngcontent-%COMP%]{padding-bottom:0}.is-active[_ngcontent-%COMP%]{color:#0c9abe!important}[_nghost-%COMP%]     .card-well{margin-bottom:0!important;border-radius:0!important}.cards[_ngcontent-%COMP%]{width:100%}.all-cards[_ngcontent-%COMP%]{overflow:auto;height:350px;align-content:baseline}.all-cards[_ngcontent-%COMP%]::-webkit-scrollbar{border-radius:2px;width:2px;opacity:-5;height:4px}@media only screen and (max-width: 960px){.all-cards[_ngcontent-%COMP%]{height:100%}}.avatar-small[_ngcontent-%COMP%]{margin-top:2px;margin-right:8px}.department[_ngcontent-%COMP%]{font-size:10px}.card-header[_ngcontent-%COMP%]{padding-bottom:8px}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe}.next-periods[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}']}),e})(),De=(()=>{class e{constructor(e){this.genericService=e}getEmployeesFind(e=Ze.N.loggedUser,t,i,n,o){const s=`team/employees/find/${e}`;i=i||3;const a=[];return this.genericService.parseParams(a,"page",t=t||1),this.genericService.parseParams(a,"pageSize",i),this.genericService.parseParams(a,"name",n),o&&this.genericService.parseParams(a,"encodeEmployeeId",o),this.genericService.search(s,a)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ke=i(57706),Le=i(10690);function Ne(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-input",6),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(2).name=t}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw(2);o.s9C("p-placeholder",o.lcZ(1,2,"l-search-collaborator")),o.Q6J("ngModel",e.name)}}function Ee(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"app-page-header",4),o.NdJ("backFunction",function(){return o.CHM(e),o.oxw().back()}),o.qZA(),o.YNc(2,Ne,2,4,"po-input",5),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("backIsVisible",!0),o.xp6(1),o.Q6J("ngIf",e.isVisible)}}function Ue(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-expansion-card"),o.TgZ(1,"div",9),o.TgZ(2,"div",10),o._UZ(3,"div",11),o.qZA(),o.TgZ(4,"div",12),o.TgZ(5,"div",13),o.TgZ(6,"strong"),o._uU(7),o.ALo(8,"titleCase"),o.qZA(),o.qZA(),o.TgZ(9,"div",14),o._uU(10),o.ALo(11,"titleCase"),o.qZA(),o.qZA(),o.TgZ(12,"div",15),o._uU(13),o.ALo(14,"titleCase"),o.qZA(),o.TgZ(15,"div",15),o._uU(16),o.ALo(17,"titleCase"),o.qZA(),o.qZA(),o.TgZ(18,"div",16),o.TgZ(19,"div",17),o.TgZ(20,"p",18),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.TgZ(23,"p"),o._uU(24),o.ALo(25,"titleCase"),o.qZA(),o.qZA(),o.TgZ(26,"div",19),o.TgZ(27,"span",20),o._UZ(28,"span",21),o.qZA(),o.TgZ(29,"p",22),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).openOrganogram(t.id)}),o._uU(30),o.ALo(31,"translate"),o.qZA(),o.qZA(),o.TgZ(32,"div",23),o.TgZ(33,"span",20),o._UZ(34,"span",24),o.qZA(),o.TgZ(35,"p"),o._uU(36),o.qZA(),o.qZA(),o.TgZ(37,"div",23),o.TgZ(38,"span",20),o._UZ(39,"span",25),o.qZA(),o.TgZ(40,"p"),o._uU(41),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(3),o.Udp("background-image",i.imageService.getImage(e.id,i.images)),o.xp6(4),o.Oqu(o.lcZ(8,11,e.name)),o.xp6(3),o.Oqu(o.lcZ(11,13,e.roleDescription)),o.xp6(3),o.Oqu(o.lcZ(14,15,e.department)),o.xp6(3),o.Oqu(o.lcZ(17,17,e.city)),o.xp6(5),o.hij("",o.lcZ(22,19,"im-manager"),":"),o.xp6(3),o.Oqu(o.lcZ(25,21,e.leadName)),o.xp6(6),o.hij(" ",o.lcZ(31,23,"l-see-in-hierarchical-level")," "),o.xp6(6),o.Oqu(e.email),o.xp6(5),o.Oqu(e.telefone)}}function Fe(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.YNc(1,Ue,42,25,"app-expansion-card",7),o.TgZ(2,"po-button",8),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().showMore()}),o.ALo(3,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.employees)("ngForTrackBy",e.trackByFunction),o.xp6(1),o.s9C("p-label",o.lcZ(3,5,"l-view-more")),o.Q6J("hidden",!e.hasNext)("p-disabled",!e.hasNext)}}let Je=(()=>{class e{constructor(e,t){this.searchService=e,this.imageService=t,this.organogramIsVisible=!1,this.images={},this.close=new o.vpe,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}ngOnChanges(e){return(0,U.mG)(this,void 0,void 0,function*(){if(e.isVisible&&e.isVisible.currentValue){this.page=1;const e=yield this.getEmplyeesFind();this.employees=e,this.initEventInputCollaborator()}})}back(){this.close.emit()}showMore(){return(0,U.mG)(this,void 0,void 0,function*(){this.page++,(yield this.getEmplyeesFind()).forEach(e=>{this.employees.push(e)})})}trackByFunction(e,t){return t?t.id:null}openOrganogram(e){this.organogramIsVisible=!0,this.organogramComponent.initialize(e)}closeOrganogram(){this.organogramIsVisible=!1}initEventInputCollaborator(){document.getElementById("input-collaborator").addEventListener("keyup",e=>(0,U.mG)(this,void 0,void 0,function*(){if("Enter"===e.key){this.page=1;const e=yield this.getEmplyeesFind();this.employees=e}}))}getEmplyeesFind(){return(0,U.mG)(this,void 0,void 0,function*(){const e=this.isMobile?3:6,t=yield this.searchService.getEmployeesFind(F.N.loggedUser,this.page,e,this.name.toString(),!0);return this.hasNext=t.hasNext,t.items})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(De),o.Y36(Y.A))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-search-collaborator"]],viewQuery:function(e,t){if(1&e&&o.Gf(Ie,5),2&e){let e;o.iGM(e=o.CRH())&&(t.organogramComponent=e.first)}},inputs:{isVisible:"isVisible",name:"name"},outputs:{close:"close"},features:[o.TTD],decls:5,vars:4,consts:[[4,"ngIf"],["menuIsVisible","true",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],[3,"closeDialogEvent"],["pageTitle","l-locate-people",3,"backIsVisible","backFunction"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange",4,"ngIf"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","show-more",3,"hidden","p-disabled","p-label","p-click"],["card-header","",1,"mr-card-header","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],[1,"labels"],["card-body",""],[1,"manager"],[1,"float","font-bold","manager-name"],[1,"informations","organogram"],[1,"icon-email"],[1,"po-icon","ico-organogram","float"],[1,"open-organogram",3,"click"],[1,"informations"],[1,"po-icon","po-icon-mail","float"],[1,"po-icon","po-icon-telephone","float"]],template:function(e,t){1&e&&(o.YNc(0,Ee,3,2,"span",0),o.YNc(1,Fe,4,7,"div",0),o.TgZ(2,"app-dialog",1),o.NdJ("closeDialogEvent",function(){return t.closeOrganogram()}),o.TgZ(3,"div",2),o.TgZ(4,"app-organogram",3),o.NdJ("closeDialogEvent",function(){return t.closeOrganogram()}),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf",t.isVisible),o.xp6(1),o.Q6J("ngIf",t.isVisible),o.xp6(1),o.Q6J("isVisible",t.organogramIsVisible)("closeDialogButtonEnable",!t.isMobile))},directives:[s.O5,ke.a,Ie,T.q,f.xxV,d.JJ,d.On,s.sg,f.bOz,Le.c],pipes:[h.X$,oe.r],styles:[".office[_ngcontent-%COMP%]{font-size:.8em;font-weight:bold;color:#9da7a9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.labels[_ngcontent-%COMP%]{margin-top:3px;color:#5e6364;font-size:13px}[_nghost-%COMP%]     .po-container{margin-top:10px!important}.manager[_ngcontent-%COMP%]{margin-top:7%;padding:0 8px;position:relative;top:5px}.ico-organogram[_ngcontent-%COMP%]{font-size:unset}.open-organogram[_ngcontent-%COMP%]{cursor:pointer}.manager-name[_ngcontent-%COMP%]{white-space:pre}.show-more[_ngcontent-%COMP%]{margin-top:4%;padding:0;margin-bottom:25px}[_nghost-%COMP%]     .po-button{height:40px}.informations[_ngcontent-%COMP%]{padding:0 8px;color:#0c9abe}.organogram[_ngcontent-%COMP%]{width:100%;clear:both;margin-top:8px}.float[_ngcontent-%COMP%]{float:left}.icon-email[_ngcontent-%COMP%]{margin-top:2px;margin-right:4px;float:left}"]}),e})();var Ve=i(14833);const Re=function(e){return{featuredIcon:e}};function Ye(e,t){if(1&e&&o._UZ(0,"span",4),2&e){const e=o.oxw();o.Gre("card-featured-icon item-icon ",e.featuredIcon,""),o.Q6J("ngClass",o.VKq(4,Re,e.featuredIcon))}}function ze(e,t){1&e&&(o.TgZ(0,"span",5),o._UZ(1,"img",6),o.qZA())}let Qe=(()=>{class e{constructor(e){this.navigationUtil=e}doNavigation(e){e&&this.navigationUtil.doNavigation(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(q._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-card-featured"]],inputs:{featuredIcon:"featuredIcon",featuredLabel:"featuredLabel",featuredRoute:"featuredRoute",featuredNotification:"featuredNotification"},decls:4,vars:3,consts:[[1,"card-featured",3,"click"],[3,"class","ngClass",4,"ngIf"],["class","card-featured-clk item-icon",4,"ngIf"],[1,"card-featured-label","mouse-pointer",3,"innerHTML"],[3,"ngClass"],[1,"card-featured-clk","item-icon"],["src","assets/img/face_recog.svg",1,"card-img"]],template:function(e,t){1&e&&(o.TgZ(0,"a",0),o.NdJ("click",function(){return t.doNavigation(t.featuredRoute)}),o.YNc(1,Ye,1,6,"span",1),o.YNc(2,ze,2,0,"span",2),o._UZ(3,"span",3),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf","/timesheet/externalClockIn"!=t.featuredRoute),o.xp6(1),o.Q6J("ngIf","/timesheet/externalClockIn"===t.featuredRoute),o.xp6(1),o.Q6J("innerHTML",t.featuredLabel,o.oJD))},directives:[s.O5,s.mk],styles:[".card-featured[_ngcontent-%COMP%]{position:relative}.card-featured-icon[_ngcontent-%COMP%]{color:#0c9abe;font-size:20px}.card-featured-clk[_ngcontent-%COMP%]{color:#0c9abe}.card-featured-notification[_ngcontent-%COMP%]{position:absolute;display:inline-block;right:0px;top:0px}.card-featured-label[_ngcontent-%COMP%]{display:block;margin-top:20px;color:#345;font-size:12px;font-weight:bold;line-height:1.1em}.card-img[_ngcontent-%COMP%]{vertical-align:unset;height:20px;width:20px}"]}),e})();const Ge=function(e,t,i){return{"po-hidden-sm":e,"po-hidden-lg":t,"po-hidden-xl":i,"po-sm-4":!0,"po-md-2":!0,"po-lg-2":!0,"po-xl-2":!0}};function He(e,t){if(1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o.TgZ(2,"app-card"),o.TgZ(3,"div",7),o._UZ(4,"app-card-featured",8),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=t.index;o.Q6J("ngClass",o.kEZ(4,Ge,i>2,i>5,i>5)),o.xp6(4),o.Q6J("featuredIcon",e.featuredIcon)("featuredLabel",e.featuredLabel)("featuredRoute",e.featuredRoute)}}function Be(e,t){if(1&e&&(o.TgZ(0,"div",1),o.TgZ(1,"h3",2),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",3),o.YNc(5,He,5,8,"div",4),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-mostViewed-message")," "),o.xp6(3),o.Q6J("ngForOf",e.lastAccessedMenus)}}let je=(()=>{class e{constructor(e,t,i,n,o){this.lastAccessService=e,this.appTranslateService=t,this.globals=i,this.windowUtilService=n,this.permissionSelectors=o}ngOnInit(){this.getLastAccess()}getLastAccess(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.globals.getEmployeeSummary();this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(t=>{t&&(this.permissions=t,this.lastAccessedMenus=this.lastAccessService.getLastAccessMenuItems(e.id),this.delLastAccessMenus(e.id),this.setLastAccessedMenus())})})}setLastAccessedMenus(){this.lastAccessedMenus.sort((e,t)=>e.cont>t.cont?-1:e.cont<t.cont?1:0),this.lastAccessedMenus.forEach(e=>{switch(e.id){case Ve.R1:this.setCardInfo(e,"ico-sun","im-vacation","/vacation");break;case Ve.w9:this.setCardInfo(e,"icon-wallet","l-payment-description","/payments");break;case Ve.Mo:this.setCardInfo(e,"ico-bar-chart","l-payment-annual-receipts","/payment/annualReceipts");break;case Ve.Ux:this.setCardInfo(e,"po-icon po-icon-clock","bt-clocking-register","/timesheet/clockingsGeo/register");break;case Ve.SP:this.setCardInfo(e,"ico-timesheet-2","im-timesheetLong","/timesheet/clockings");break;case Ve.ye:this.setCardInfo(e,"po-icon icon-sun-checked","im-vacationLong","/absence");break;case Ve.jY:this.setCardInfo(e,"icon-medical-briefcase","l-request-medical-certificate","/health/medicalCertificate");break;case Ve.dG:this.setCardInfo(e,"po-icon po-icon-user","l-perfil","/profile");break;case Ve.iF:this.setCardInfo(e,"ico-user-plus","l-substitute-request","/substitutes");break;case Ve.uB:this.setCardInfo(e,"ico-allowance","im-allowanceLong","/timesheet/allowances");break;case Ve.jh:this.setCardInfo(e,"ico-map-pin","im-clocking-geo-view","/timesheet/clockingsGeo/view");break;case Ve.uI:this.setCardInfo(e,"ico-map-pin","im-clockin","/timesheet/externalClockIn");break;case Ve.HV:this.setCardInfo(e,"po-icon po-icon-list","l-totvs-payroll-loan-statements","/payrollLoan/loanStatements");break;case Ve.cr:this.setCardInfo(e,"ico-benefits","l-dependents-beneficiaries","/benefits/dependentsBeneficiaries/dependents");break;case Ve.to:this.setCardInfo(e,"ico-team","l-teamManagement","/teamManagement/overview");break;case Ve.Ye:this.setCardInfo(e,"po-icon po-icon-user-delete","l-work-leaves","/workLeave");break;case Ve.Pz:this.setCardInfo(e,"ico-demission","im-desmissal","/demission");break;case Ve.im:this.setCardInfo(e,"po-icon po-icon-archive","l-requisitions","/requisitions");break;case Ve.j8:this.setCardInfo(e,"ico-dollar-sign","im-salaryHistoryLong","/payment/salaryHistory");break;case Ve.mw:this.setCardInfo(e,"ico-overtime","im-overtime-hours","/timesheet/overtimeHours");break;case Ve.c5:this.setCardInfo(e,"ico-clock","l-reports","/reports")}})}setCardInfo(e,t,i,n){e.featuredIcon=t,this.appTranslateService.getI18n(i).then(t=>{e.featuredLabel=t}),e.featuredRoute=n}delLastAccessMenus(e){this.permissions.medicalCertificate||(localStorage.removeItem(Ve.jY+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.jY)),this.permissions.absenceManager||(localStorage.removeItem(Ve.ye+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.ye)),this.permissions.payment||(localStorage.removeItem(Ve.w9+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.w9)),this.permissions.annualReceipt||(localStorage.removeItem(Ve.Mo+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.Mo)),this.permissions.salaryHistory||(localStorage.removeItem("salaryHistoryKey"+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>"salaryHistoryKey"!==e.id)),this.permissions.teamManagementShifts||(localStorage.removeItem("teamManagementShiftsKey"+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>"teamManagementShiftsKey"!==e.id)),this.permissions.vacation||(localStorage.removeItem(Ve.R1+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.R1)),this.permissions.allowance||(localStorage.removeItem(Ve.uB+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.uB)),this.permissions.substituteRequest||(localStorage.removeItem(Ve.iF+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.iF)),this.permissions.clockingGeoView||(localStorage.removeItem(Ve.jh+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.jh)),this.permissions.clockingRegister||(localStorage.removeItem(Ve.Ux+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.Ux)),this.permissions.timesheet||(localStorage.removeItem(Ve.SP+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.SP)),(!this.windowUtilService.isWebView()||!this.permissions.externalClockIn)&&(localStorage.removeItem(Ve.uI+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.uI)),!this.permissions.dependents&&!this.permissions.beneficiaries&&(localStorage.removeItem(Ve.cr+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.cr)),!this.permissions.dependents&&!this.permissions.teamManagement&&(localStorage.removeItem(Ve.to+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.to)),!this.permissions.dependents&&!this.permissions.demission&&(localStorage.removeItem(Ve.Pz+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.Pz)),!this.permissions.dependents&&!this.permissions.workLeave&&(localStorage.removeItem(Ve.Ye+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.Ye)),this.permissions.requisitions||(localStorage.removeItem(Ve.im+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.im)),this.permissions.salaryHistory||(localStorage.removeItem(Ve.j8+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.j8)),this.permissions.overtime||(localStorage.removeItem(Ve.mw+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.mw)),this.permissions.reports||(localStorage.removeItem(Ve.c5+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.c5)),this.permissions.payrollLoan||(localStorage.removeItem(Ve.HV+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.HV)),this.permissions.profile||(localStorage.removeItem(Ve.dG+e),this.lastAccessedMenus=this.lastAccessedMenus.filter(e=>e.id!==Ve.dG))}ngOnDestroy(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ve.Lx),o.Y36(ee.g),o.Y36(fe.O),o.Y36(te.g),o.Y36(ye.eL))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-last-menu-access"]],decls:1,vars:1,consts:[["class","po-holder",4,"ngIf"],[1,"po-holder"],[1,"po-font-subtitle","most-access-label"],[1,"po-row"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card"],["card-body","",1,"card-height"],[3,"featuredIcon","featuredLabel","featuredRoute"]],template:function(e,t){1&e&&o.YNc(0,Be,6,4,"div",0),2&e&&o.Q6J("ngIf",(null==t.lastAccessedMenus?null:t.lastAccessedMenus.length)>0)},directives:[s.O5,s.sg,s.mk,_.A,Qe],pipes:[h.X$],styles:["@media screen and (min-width: 960px){div[class^=po-sm][_ngcontent-%COMP%]:first-child{padding-left:0}div[class^=po-sm][_ngcontent-%COMP%]:last-child{padding-right:0}}.card[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1}.card-height[_ngcontent-%COMP%]{height:85px}@media screen and (min-width: 768px){.card-height[_ngcontent-%COMP%]{height:65px}}.most-access-label[_ngcontent-%COMP%]{font-size:20px;margin-left:0;font-weight:bold}.po-holder[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]     div.card-well{box-shadow:none}[_nghost-%COMP%]     a.card-featured-label{margin-top:14px!important}"]}),e})();var $e=i(85647),We=i(33490);let Ke=(()=>{class e{transform(e){switch(e){case"empty":return"l-vacation-empty-status";case"approving":return"l-vacation-status-approving";case"approved":return"l-vacation-status-approved";case"rejected":return"l-rejected";case"vacation":return"l-vacation-status-vacation";case"calculated":return"l-vacation-status-calculated";case"closed":return"l-vacation-status-closed"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"absenceLabelStatus",type:e,pure:!0}),e})();var Xe=i(32268);function et(e,t){if(1&e&&(o.TgZ(0,"li",8),o.TgZ(1,"div",9),o._UZ(2,"div",10),o.TgZ(3,"span",11),o._uU(4),o.ALo(5,"titlecase"),o.qZA(),o.qZA(),o.TgZ(6,"div",12),o.TgZ(7,"span"),o._uU(8),o.ALo(9,"translate"),o.ALo(10,"absenceLabelStatus"),o.qZA(),o.qZA(),o.TgZ(11,"div",13),o.TgZ(12,"span"),o._uU(13),o.ALo(14,"utcDate"),o.ALo(15,"utcDate"),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(2),o.Udp("background-image",i.images[e.employeeId]),o.xp6(2),o.Oqu(o.lcZ(5,6,i.names[e.employeeId])),o.xp6(4),o.Oqu(o.lcZ(9,8,o.lcZ(10,10,e.status))),o.xp6(5),o.AsE("",o.xi3(14,12,e.initVacation,"dd/MM")," - ",o.xi3(15,15,e.endVacation,"dd/MM"),"")}}function tt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-card",1),o.TgZ(1,"div",2),o.TgZ(2,"h3",3),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"ul"),o.YNc(7,et,16,18,"li",5),o.qZA(),o.qZA(),o.TgZ(8,"div",6),o.TgZ(9,"a",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().doNavigation("absence")}),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.Oqu(o.lcZ(4,3,"l-vacation-team")),o.xp6(4),o.Q6J("ngForOf",e.absencesHomeView.records),o.xp6(3),o.Oqu(o.lcZ(11,5,"l-view-more"))}}let it=(()=>{class e{constructor(e,t,i,n){this.profileService=e,this.navigationUtil=t,this.absenceService=i,this.sanitization=n,this.updateView="",this.images={},this.names={},this.absencesHomeView=new We.i([]),this.hasVacationTeamInfo=!1,this.pageSize=3,this.page=1}ngOnInit(){this.getVacationTeamInfo(null,this.pageSize)}ngOnChanges(e){e.updateView.previousValue&&this.getVacationTeamInfo(null,this.pageSize)}getVacationTeamInfo(e,t){const i=new Date;xe.ZP.isErpRM()||this.absenceService.getHomeAbsences(Ze.N.loggedUser,i,e,t).then(e=>{this.absencesHomeView&&(this.absencesHomeView.records=e.records.sort((e,t)=>new Date(e.initVacation).getTime()-new Date(t.initVacation).getTime()),this.absencesHomeView.records.forEach(e=>{this.getImageAvatar(e.employeeId),this.names[e.employeeId]=this.getFirstName(e.employeeName)}))})}doNavigation(e){e&&this.navigationUtil.doNavigation(e)}getImageAvatar(e){this.images[e]||(this.images[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(t=>{t&&t.content&&(this.images[e]=this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))}))}getFirstName(e){return e?e.split(" ")[0]:""}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Q.H),o.Y36(q._),o.Y36($e.D),o.Y36(n.H7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-team-vacation"]],inputs:{updateView:"updateView"},features:[o.TTD],decls:1,vars:1,consts:[["cssClass","view-vacation",4,"ngIf"],["cssClass","view-vacation"],["card-header","",1,"mr-card-header"],[1,"teste","po-font-subtitle"],["card-body",""],["class","vacation-table",4,"ngFor","ngForOf"],["card-footer","",1,"text-right"],[1,"mouse-pointer","view-more",3,"click"],[1,"vacation-table"],[1,"vacation-avatar"],[1,"avatar","avatar-small"],[1,"avatar-name"],[1,"vacation-status"],[1,"vacation-date"]],template:function(e,t){1&e&&o.YNc(0,tt,12,7,"app-card",0),2&e&&o.Q6J("ngIf",t.absencesHomeView.records.length>0)},directives:[s.O5,_.A,s.sg],pipes:[h.X$,s.rS,Ke,Xe.$],styles:['.vacation-avatar[_ngcontent-%COMP%]{grid-area:vacation-avatar;display:flex;align-items:center}.vacation-avatar[_ngcontent-%COMP%]   .avatar-small[_ngcontent-%COMP%]{display:inline-block}.vacation-status[_ngcontent-%COMP%]{grid-area:vacation-status;font-size:13px;line-height:17px}@media screen and (max-width: 480px){.vacation-status[_ngcontent-%COMP%]{font-size:12px}}.vacation-date[_ngcontent-%COMP%]{grid-area:vacation-date}@media screen and (max-width: 480px){.vacation-date[_ngcontent-%COMP%]{font-size:.85rem}}.vacation-status[_ngcontent-%COMP%], .vacation-date[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.vacation-table[_ngcontent-%COMP%]{display:grid;justify-content:center;padding:8px 0;border-bottom:1px solid rgba(70,70,70,.1)}@media screen and (max-width: 480px){.vacation-table[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;grid-template-rows:auto;grid-template-areas:"vacation-avatar vacation-avatar vacation-status" "vacation-avatar vacation-avatar vacation-date"}}@media screen and (min-width: 480px){.vacation-table[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;grid-template-areas:"vacation-avatar vacation-status vacation-date"}}.vacation-table[_ngcontent-%COMP%]:first-child{padding-top:0}.avatar-name[_ngcontent-%COMP%]{display:inline-block;color:#4a5c60;font-weight:700;margin-left:8px}.view-more[_ngcontent-%COMP%]{color:#0c9abe}.po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 15px}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;font-weight:700;color:#345;font-size:20px;text-align:left}']}),e})();var nt=i(90889);function ot(e,t){1&e&&(o.TgZ(0,"div",6),o._UZ(1,"po-loading-icon",7),o.qZA())}function st(e,t){if(1&e&&(o.TgZ(0,"strong",12),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.lcZ(2,1,(null==e.balanceSummary?null:e.balanceSummary.next)>0?"l-positive-time":0==(null==e.balanceSummary?null:e.balanceSummary.next)?"":"l-negative-time")," ")}}function at(e,t){if(1&e&&(o.TgZ(0,"div",8),o.TgZ(1,"div",9),o.TgZ(2,"div",10),o._uU(3),o.qZA(),o.YNc(4,st,3,3,"strong",11),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(3),o.Oqu(e.employeeCompensatoryTime),o.xp6(1),o.Q6J("ngIf",e.employeeCompensatoryTime)}}let rt=(()=>{class e{constructor(e,t){this.clockingService=e,this.dashboardService=t,this.updateView="",this.initPeriod=null,this.endPeriod=null,this.employeeCompensatoryTime="",this.loading=!0}ngOnInit(){this.getCompensatoryTime()}ngOnChanges(e){e.updateView.previousValue&&this.getCompensatoryTime()}getCompensatoryTime(){this.clockingService.getBalanceSummaries(F.N.loggedUser,this.initPeriod,this.endPeriod).then(e=>{e&&(this.balanceSummary=e,this.concatPositiveSymbol(e.next)&&(this.employeeCompensatoryTime=this.concatPositiveSymbol(e.next))),this.loading=!1})}concatPositiveSymbol(e){const t=V.Em.getHoursByMilliseconds(e,!1);return e>0?`+${t}`:t}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(nt.X),o.Y36(Pe))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-compensatory-time"]],inputs:{updateView:"updateView"},features:[o.TTD],decls:8,vars:5,consts:[["cssClass","view-pending-hours"],["card-header","",1,"mr-card-header"],[1,"po-font-subtitle"],["card-body",""],["classe","card-balance-summary po-row loading-wrapper",4,"ngIf"],["class","card-balance-summary po-row",4,"ngIf"],["classe","card-balance-summary po-row loading-wrapper"],[1,"loading"],[1,"card-balance-summary","po-row"],[1,"text-center","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"hour-time"],["class","hour-balance",4,"ngIf"],[1,"hour-balance"]],template:function(e,t){1&e&&(o.TgZ(0,"app-card",0),o.TgZ(1,"div",1),o.TgZ(2,"h3",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",3),o.YNc(6,ot,2,0,"div",4),o.YNc(7,at,5,2,"div",5),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,3,"l-your-balance")),o.xp6(3),o.Q6J("ngIf",t.loading),o.xp6(1),o.Q6J("ngIf",!t.loading))},directives:[_.A,s.O5,f.AR0],pipes:[h.X$],styles:[".po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 15px}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;font-weight:700;color:#345;font-size:20px;text-align:left}.hour-time[_ngcontent-%COMP%]{color:#345;font-size:34px;font-weight:700;text-align:center}.hour-balance[_ngcontent-%COMP%]{opacity:.5;color:#4a5c60;font-size:12px;font-weight:300;line-height:15px;text-align:left}.loading-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2px 4px}.loading-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{height:16px;width:16px}"]}),e})();function lt(e,t){if(1&e&&(o.TgZ(0,"a",4),o._UZ(1,"po-loading-icon",5),o.qZA()),2&e){const e=o.oxw();o.Q6J("routerLink",e.urlData)}}function ct(e,t){if(1&e&&(o.TgZ(0,"a",6),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.ekj("empty",0==e.notifyCount),o.Q6J("routerLink",e.urlData),o.xp6(1),o.hij(" ",e.formatCount()," ")}}function pt(e,t){if(1&e&&(o.TgZ(0,"a",7),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw();o.Q6J("routerLink",e.urlData),o.xp6(1),o.hij(" ",o.lcZ(2,2,e.label),"\n")}}let dt=(()=>{class e{constructor(e){this.navigationSerivce=e,this.notifyCount=0,this.urlData="",this.isActive=!1,this.loading=!1,this.maxNumber=99}onNotificationClicked(e){this.navigationSerivce.doNavigation(e)}formatCount(){if(null==this.notifyCount)return"";{let e=this.notifyCount.toString();return this.notifyCount>this.maxNumber&&(e=`${this.maxNumber}+`),e}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(q._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-notification"]],inputs:{notifyCount:"notifyCount",urlData:"urlData",isActive:"isActive",loading:"loading",maxNumber:"maxNumber",label:"label"},decls:4,vars:3,consts:[[1,"app-notification"],["class","mouse-pointer loading-wrapper",3,"routerLink",4,"ngIf"],["class","mouse-pointer notify","id","alert-notify-button",3,"empty","routerLink",4,"ngIf"],["class","label",3,"routerLink",4,"ngIf"],[1,"mouse-pointer","loading-wrapper",3,"routerLink"],[1,"loading"],["id","alert-notify-button",1,"mouse-pointer","notify",3,"routerLink"],[1,"label",3,"routerLink"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,lt,2,1,"a",1),o.YNc(2,ct,2,4,"a",2),o.qZA(),o.YNc(3,pt,3,4,"a",3)),2&e&&(o.xp6(1),o.Q6J("ngIf",t.loading),o.xp6(1),o.Q6J("ngIf",!t.loading),o.xp6(1),o.Q6J("ngIf",!t.loading))},directives:[s.O5,A.yS,f.AR0],pipes:[h.X$],styles:['.app-notification[_ngcontent-%COMP%]{display:block}#alert-notify-button[_ngcontent-%COMP%]{z-index:200}.notify[_ngcontent-%COMP%]{background:#c64840;color:#fff;padding:2px 6.408px;font-size:12px;font-weight:normal;line-height:12px;text-align:center;border-radius:99px}.notify[_ngcontent-%COMP%]:hover, .notify[_ngcontent-%COMP%]:focus{text-decoration:none!important}.notify.empty[_ngcontent-%COMP%]{background:#00b28e}.loading-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2px 4px}.loading-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{height:16px;width:16px}.label[_ngcontent-%COMP%]{font-size:12px;font-weight:300;line-height:15px;text-align:left;font-family:"NunitoSans-bold";font-weight:400;color:#345}.label[_ngcontent-%COMP%]:hover{text-decoration:none;cursor:pointer}']}),e})();var gt=i(81059);function ut(e,t){1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"h3",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"l-team-balance")))}function ht(e,t){1&e&&(o.TgZ(0,"div",7),o._UZ(1,"po-loading-icon",8),o.qZA())}function mt(e,t){if(1&e&&(o.TgZ(0,"div",9),o.TgZ(1,"div",10),o.TgZ(2,"div",11),o._uU(3),o.qZA(),o.TgZ(4,"strong",12),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.TgZ(7,"div",10),o.TgZ(8,"div",11),o._uU(9),o.qZA(),o.TgZ(10,"strong",12),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.TgZ(13,"div",10),o.TgZ(14,"div",11),o._uU(15),o.qZA(),o.TgZ(16,"strong",12),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngClass",e.getClassHour(e.totalExtraHoursNumber)),o.xp6(1),o.hij(" ",e.totalExtraHours," "),o.xp6(2),o.Oqu(o.lcZ(6,9,"l-positive-time")),o.xp6(3),o.Q6J("ngClass",e.getClassHour(-e.totalNegativeHoursNumber)),o.xp6(1),o.hij(" ",e.totalNegativeHours," "),o.xp6(2),o.Oqu(o.lcZ(12,11,"l-negative-time")),o.xp6(3),o.Q6J("ngClass",e.getClassHour(e.totalBalanceHoursNumber)),o.xp6(1),o.hij(" ",e.totalBalanceHours," "),o.xp6(2),o.Oqu(o.lcZ(18,13,"l-balance-time"))}}let ft=(()=>{class e extends gt.R{constructor(e,t,i){super(),this.dashboardService=e,this.clockingService=t,this.navigationUtil=i,this.updateView="",this.hideTitle=!1,this.loading=!0}ngOnInit(){super.ngOnInit(),this.getCompensatoryTime()}ngOnChanges(e){e.updateView&&e.updateView.previousValue&&this.getCompensatoryTime()}getCompensatoryTime(){this.clockingService.getTeamBalanceSummaries(F.N.loggedUser).then(e=>{e?(this.totalExtraHours=this.concatSymbol(e.totalExtraHours),this.totalNegativeHours=this.concatSymbol(e.totalNegativeHours,!1),this.totalExtraHoursNumber=e.totalExtraHours,this.totalNegativeHoursNumber=e.totalNegativeHours,this.totalBalanceHoursNumber=this.totalExtraHoursNumber-this.totalNegativeHoursNumber,this.totalBalanceHours=this.concatSymbol(this.totalBalanceHoursNumber,this.totalBalanceHoursNumber>0)):(this.totalExtraHours=void 0,this.totalNegativeHours=void 0,this.totalBalanceHours=void 0,this.totalExtraHoursNumber=void 0,this.totalNegativeHoursNumber=void 0,this.totalBalanceHoursNumber=void 0),this.loading=!1})}doNavigation(e){this.hideTitle||this.navigationUtil.doNavigation(e)}concatSymbol(e,t=!0){const i=V.Em.getHoursByMilliseconds(e,!1);return e>0?(t?"+":"-")+i:i}getClassHour(e){let t=this.viewIsMobile?"balance balance-mobile":"balance";return e>0&&(t=this.viewIsMobile?"balance-positive balance-mobile":"balance-positive"),e<0&&(t=this.viewIsMobile?"balance-negative balance-mobile":"balance-negative"),t}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Pe),o.Y36(nt.X),o.Y36(q._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-comp-team"]],inputs:{updateView:"updateView",hideTitle:"hideTitle"},features:[o.qOj,o.TTD],decls:5,vars:3,consts:[["cssClass","view-pending-hours",3,"click"],["class","mr-card-header","card-header","",4,"ngIf"],["card-body",""],["class","card-balance-summary po-row loading-wrapper",4,"ngIf"],["class","card-balance-summary po-row",4,"ngIf"],["card-header","",1,"mr-card-header"],[1,"po-font-subtitle"],[1,"card-balance-summary","po-row","loading-wrapper"],[1,"loading"],[1,"card-balance-summary","po-row"],[1,"text-center","po-sm-4","po-md-4","po-lg-4","po-xl-4"],[1,"hour-time",3,"ngClass"],[1,"label-balance"]],template:function(e,t){1&e&&(o.TgZ(0,"app-card",0),o.NdJ("click",function(){return t.doNavigation("teamBalance")}),o.YNc(1,ut,4,3,"div",1),o.TgZ(2,"div",2),o.YNc(3,ht,2,0,"div",3),o.YNc(4,mt,19,15,"div",4),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",!t.hideTitle),o.xp6(2),o.Q6J("ngIf",t.loading),o.xp6(1),o.Q6J("ngIf",!t.loading))},directives:[_.A,s.O5,f.AR0,s.mk],pipes:[h.X$],styles:[".po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 15px}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 15px;font-weight:700;color:#345;font-size:20px;text-align:left}.hour-time[_ngcontent-%COMP%]{color:#345;font-size:20px;font-weight:700;text-align:center}.hour-balance[_ngcontent-%COMP%]{opacity:.5;color:#4a5c60;font-size:12px;font-weight:500;line-height:15px;text-align:left}.balance-negative[_ngcontent-%COMP%]{color:#d13f43}@media screen and (min-width: 960px){.balance-negative[_ngcontent-%COMP%]{font-size:28px}}.balance-positive[_ngcontent-%COMP%]{color:#00b28e}@media screen and (min-width: 960px){.balance-positive[_ngcontent-%COMP%]{font-size:28px}}@media screen and (min-width: 960px){.balance[_ngcontent-%COMP%]{font-size:28px}}.balance-mobile[_ngcontent-%COMP%]{font-size:20px}.label-balance[_ngcontent-%COMP%]{text-align:left;font-size:12px;line-height:15px}.label-balance-team[_ngcontent-%COMP%]{text-align:left;font-size:12px;line-height:15px;font-size:14px}.view-pending-hours[_ngcontent-%COMP%]{cursor:pointer}.loading-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2px 4px}.loading-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{height:16px;width:16px}"]}),e})(),vt=(()=>{class e{constructor(e){this.globals=e,this.closeModal=new o.vpe,this.dontShowBlastAdvertisingAgain=!1}openModal(){window.open("https://www.totvs.com/desenvolvimento-e-engajamento-by-blast/?utm_campaign=app-meu-rh-banner&utm_source=app-meu-rh&utm_medium=organico&utm_term=NA_rh&utm_content=trafego_NA_estatico_rh_app-meu-rh_300x50_mobile_app-meu-rh-banner","_blank")}close(){this.dontShowBlastAdvertisingAgain&&this.globals.setFlagShowBlastAdvertising("false"),this.closeModal.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(fe.O))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-modal-blast"]],outputs:{closeModal:"closeModal"},decls:36,vars:22,consts:[[1,"modal"],[1,"modal-content"],[1,"modal-body"],[1,"close",3,"click"],[1,"po-icon","po-icon-close","close-icon"],[1,"blast-description"],[1,"blast-free-trial"],[1,"blast-free-trial-pt1"],[1,"blast-free-trial-pt2"],[1,"btn-i-want",3,"click"],[1,"align-checkbox"],["type","checkbox","name","dontShow",3,"ngModel","ngModelChange"],["for","dontShow",1,"blast-dont-show-again"],[1,"modal-footer-blast"],[1,"po-row"],[1,"po-xl-8","po-lg-8","po-md-8","po-sm-12"],[1,"footer-align-text"],[1,"slogan-blast"],[1,"solution-totvs"],[1,"text-center","po-xl-4","po-lg-4","po-md-4","po-sm-12"],["src","assets/img/logo-totvs.png","id","img01",1,"logo-totvs-position"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.NdJ("click",function(){return t.close()}),o._UZ(4,"span",4),o.qZA(),o.TgZ(5,"p",5),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"div",6),o.TgZ(9,"p",7),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"p",8),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.TgZ(15,"button",9),o.NdJ("click",function(){return t.openModal()}),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"div",10),o.TgZ(19,"input",11),o.NdJ("ngModelChange",function(e){return t.dontShowBlastAdvertisingAgain=e}),o.qZA(),o.TgZ(20,"label",12),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(23,"div",13),o.TgZ(24,"div",14),o.TgZ(25,"div",15),o.TgZ(26,"div",16),o.TgZ(27,"span",17),o._uU(28),o.ALo(29,"translate"),o.qZA(),o._UZ(30,"br"),o.TgZ(31,"span",18),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(34,"div",19),o._UZ(35,"img",20),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(6),o.Oqu(o.lcZ(7,8,"l-blast-description")),o.xp6(4),o.Oqu(o.lcZ(11,10,"l-free-trial-blast-pt1")),o.xp6(3),o.Oqu(o.lcZ(14,12,"l-free-trial-blast-pt2")),o.xp6(3),o.Oqu(o.lcZ(17,14,"l-i-want")),o.xp6(3),o.Q6J("ngModel",t.dontShowBlastAdvertisingAgain),o.xp6(2),o.Oqu(o.lcZ(22,16,"l-dont-show-again")),o.xp6(7),o.hij(" ",o.lcZ(29,18,"l-slogan-blast"),""),o.xp6(4),o.Oqu(o.lcZ(33,20,"l-solution-totvs")))},directives:[d.Wl,d.JJ,d.On],pipes:[h.X$],styles:['.modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1001;padding-top:12em;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}.modal-content[_ngcontent-%COMP%]{position:relative;background-color:#fefefe;margin:auto;padding:0;width:80%;height:70%;box-shadow:0 4px 8px rgba(0,0,0,.2),0 6px 20px rgba(0,0,0,.19);-webkit-animation-name:animatetop;-webkit-animation-duration:.4s;animation-name:animatetop;animation-duration:.4s;max-width:700px}.modal-footer-blast[_ngcontent-%COMP%]{background-color:#363636;color:#fff;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.modal-body[_ngcontent-%COMP%]{background-image:url(blast-advertising.de1f1c2620e734dc278b.png);background-size:cover}.blast-description[_ngcontent-%COMP%]{font-family:"Lato Black";font-size:26px;color:#fff;padding-top:1em;padding-left:2em;padding-right:9.6em}.blast-free-trial[_ngcontent-%COMP%]{font-family:"Lato Black";color:#fff;line-height:.3;padding-top:1em;padding-left:4.5em;padding-bottom:1em}.blast-free-trial-pt1[_ngcontent-%COMP%]{font-size:26px}.blast-free-trial-pt2[_ngcontent-%COMP%]{font-size:22px}.blast-dont-show-again[_ngcontent-%COMP%]{font-family:"Lato Regular";font-size:14px;color:#fff;padding-left:.5em}.align-checkbox[_ngcontent-%COMP%]{padding-top:1.2em;padding-left:3.5em}.close-icon[_ngcontent-%COMP%]{font-size:29px;color:#fff;float:right;padding-top:.2em}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#fff;text-decoration:none;cursor:pointer}.btn-i-want[_ngcontent-%COMP%]{background-color:#ee9d2d;border:none;color:#fff;padding:15px 32px;text-align:center;font-size:20px;width:12em;border-radius:30px;cursor:pointer;text-transform:uppercase;font-family:"Lato Black";margin-left:2.5em}.slogan-blast[_ngcontent-%COMP%]{font-family:"Lato Black";color:#ee9d2d;padding-left:3.5em}.solution-totvs[_ngcontent-%COMP%]{font-family:"Lato Regular";color:#fff;padding-left:3.5em}.center-text-free-trial[_ngcontent-%COMP%]{text-align:center}.footer-align-text[_ngcontent-%COMP%]{padding-top:2em;padding-bottom:2em;line-height:1.2}.logo-totvs-position[_ngcontent-%COMP%]{float:right;padding-right:3em;padding-top:2.5em}@media only screen and (max-device-width: 900px){.blast-description[_ngcontent-%COMP%]{font-size:21px;padding-left:0;padding-right:0}.blast-free-trial[_ngcontent-%COMP%]{padding-left:0;padding-right:0;padding-top:.5em}.blast-free-trial-pt1[_ngcontent-%COMP%]{font-size:16px}.blast-free-trial-pt2[_ngcontent-%COMP%]{font-size:12px}.modal[_ngcontent-%COMP%]{padding-top:2em}.btn-i-want[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding:10px;font-size:22px}.slogan-blast[_ngcontent-%COMP%]{padding-left:0}.solution-totvs[_ngcontent-%COMP%]{padding-left:0}.center-text-free-trial[_ngcontent-%COMP%]{text-align:center}.footer-align-text[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em;line-height:1.2;text-align:center}.logo-totvs-position[_ngcontent-%COMP%]{padding-right:0;padding-top:2em;padding-bottom:2em;text-align:center;float:none}}@media screen and (device-width: 1366px) and (device-height: 768px){.modal[_ngcontent-%COMP%]{padding-top:8em}}']}),e})();function bt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-input",13),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().name=t})("p-change-model",function(){return o.CHM(e),o.oxw().initEventInputCollaborator()}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw();o.s9C("p-placeholder",o.lcZ(1,2,"l-search-collaborator")),o.Q6J("ngModel",e.name)}}const xt=function(){return{"background-image":"url(./assets/img/wallet.png)"}};function yt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).doNavigation("payrollLoan/explanatory")}),o.TgZ(1,"div",26),o._UZ(2,"span",27),o.qZA(),o.TgZ(3,"div",23),o.TgZ(4,"div"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.Q6J("ngStyle",o.DdM(4,xt)),o.xp6(4),o.hij(" ",o.lcZ(6,2,"l-how-to-totvs-consignado")," "))}const Zt=function(){return{"background-image":"url(./assets/img/art-blur-bright-749386@2x.png)"}};function wt(e,t){1&e&&(o.TgZ(0,"div",21),o._UZ(1,"span",31),o.qZA()),2&e&&o.Q6J("ngStyle",o.DdM(1,Zt))}function Ct(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"l-year")))}function Mt(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"l-years")))}function At(e,t){if(1&e&&(o.TgZ(0,"div",23),o.TgZ(1,"div"),o._uU(2),o.ALo(3,"translate"),o.YNc(4,Ct,3,3,"span",32),o.YNc(5,Mt,3,3,"span",32),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.qZA()),2&e){const e=o.oxw(3);o.xp6(2),o.AsE(" ",o.lcZ(3,5,"l-birthday-available-a")," ",e.numberOfYearsWorking," "),o.xp6(2),o.Q6J("ngIf",1==e.numberOfYearsWorking),o.xp6(1),o.Q6J("ngIf",1!=e.numberOfYearsWorking),o.xp6(1),o.hij(" ",o.lcZ(7,7,"l-birthday-available-b")," ")}}function Pt(e,t){if(1&e&&(o.TgZ(0,"a",28),o.YNc(1,wt,2,2,"div",29),o.YNc(2,At,8,9,"div",30),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.dashboardEmployeeBirthdayAllowed),o.xp6(1),o.Q6J("ngIf",e.dashboardEmployeeBirthdayAllowed)}}const Ot=function(e){return{"z-index":e}};function qt(e,t){if(1&e&&(o.TgZ(0,"div",37),o._UZ(1,"div",38),o.qZA()),2&e){const e=t.$implicit;o.Q6J("ngStyle",o.VKq(3,Ot,2-t.index)),o.xp6(1),o.Udp("background-image",e.avatarImage)}}function Tt(e,t){if(1&e&&(o.TgZ(0,"div",35),o.YNc(1,qt,2,5,"div",36),o.qZA()),2&e){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.employeesBirthday)}}function _t(e,t){if(1&e&&(o.TgZ(0,"div",39),o.TgZ(1,"span"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o._uU(4),o.ALo(5,"translate"),o.qZA()),2&e){const e=o.oxw(3);o.xp6(2),o.lnq("",e.birthdayPersonShortName," ",o.lcZ(3,4,"l-and-birthday-message")," ",e.totalBirthdaysMonth," "),o.xp6(2),o.hij(" ",o.lcZ(5,6,"l-birthday-message")," ")}}function St(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"span"),o._uU(2),o.qZA(),o._uU(3),o.ALo(4,"translate"),o.qZA()),2&e){const e=o.oxw(3);o.xp6(2),o.Oqu(e.birthdayPersonShortName),o.xp6(1),o.hij(" ",o.lcZ(4,2,"l-single-birthday-message")," ")}}const It=function(){return{"background-image":"url(./assets/img/baked-birthday-cake-blurred-background-1793037@2x.png)"}};function Dt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).doNavigation("birthdates")}),o.TgZ(1,"div",21),o._UZ(2,"span",31),o.YNc(3,Tt,2,1,"div",33),o.qZA(),o.TgZ(4,"div",23),o.YNc(5,_t,6,8,"div",34),o.YNc(6,St,5,4,"div",32),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngStyle",o.DdM(4,It)),o.xp6(2),o.Q6J("ngIf",null!=e.employeesBirthday&&0!=e.employeesBirthday.length),o.xp6(2),o.Q6J("ngIf",e.totalBirthdaysMonth>0),o.xp6(1),o.Q6J("ngIf",0==e.totalBirthdaysMonth)}}const kt=function(){return{"background-image":"url(./assets/img/aircraft-airplane-airplane-wing-2147486@2x.png)"}};function Lt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",40),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).doNavigation("vacation")}),o.TgZ(1,"div",21),o._UZ(2,"span",41),o.qZA(),o.TgZ(3,"div",23),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngStyle",o.DdM(4,kt)),o.xp6(3),o.hij(" ",e.daysTillVacation+" "+o.lcZ(5,2,"l-vacation-available")," ")}}const Nt=function(){return{"background-image":"url(./assets/img/bank-notes-banknotes-brazilian-currency-459812.png)"}};function Et(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).doNavigation("payments")}),o.TgZ(1,"div",21),o._UZ(2,"span",27),o.qZA(),o.TgZ(3,"div",23),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.Q6J("ngStyle",o.DdM(4,Nt)),o.xp6(3),o.hij(" ",o.lcZ(5,2,"l-payment-availble")," "))}const Ut=function(){return{"background-image":"url(./assets/img/card-blast.png)"}};function Ft(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",42),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).showBlastModal()}),o._UZ(1,"div",21),o.TgZ(2,"div",43),o._uU(3),o.ALo(4,"translate"),o._UZ(5,"br"),o.TgZ(6,"span",44),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(1),o.Q6J("ngStyle",o.DdM(7,Ut)),o.xp6(2),o.hij(" ",o.lcZ(4,3,"l-card-blast-dashboard")," "),o.xp6(4),o.Oqu(o.lcZ(8,5,"l-card-blast-dashboard-free-trial")))}const Jt=function(){return{"background-image":"url(./assets/img/francesco-de-tommaso-1283475-unsplash@2x.png)"}};function Vt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"h3",14),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",15),o.TgZ(5,"div",16),o.YNc(6,yt,7,5,"a",17),o.YNc(7,Pt,3,2,"a",18),o.YNc(8,Dt,7,5,"a",17),o.YNc(9,Lt,6,5,"a",19),o.YNc(10,Et,6,5,"a",17),o.TgZ(11,"a",20),o.NdJ("click",function(){return o.CHM(e),o.oxw().doNavigation("payment/annualReceipts")}),o.TgZ(12,"div",21),o._UZ(13,"i",22),o.qZA(),o.TgZ(14,"div",23),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.qZA(),o.YNc(17,Ft,9,8,"a",24),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,10,"l-envents-message")," "),o.xp6(4),o.Q6J("ngIf",e.payrollLoanIsAllowed),o.xp6(1),o.Q6J("ngIf",e.isEmployeeBirthday&&e.dashboardEmployeeBirthdayAllowed),o.xp6(1),o.Q6J("ngIf",e.hasBirthdaysCard&&e.dashboardBirthdaysAllowed),o.xp6(1),o.Q6J("ngIf",e.hasVacationsCard&&e.dashboardVacationCountdownAllowed),o.xp6(1),o.Q6J("ngIf",e.isPaymentAvailable&&e.dashboardPaymentAllowed),o.xp6(1),o.Q6J("hidden",!0),o.xp6(1),o.Q6J("ngStyle",o.DdM(14,Jt)),o.xp6(3),o.hij(" ",o.lcZ(16,12,"l-incoming")," "),o.xp6(2),o.Q6J("ngIf",e.showBlastCard)}}function Rt(e,t){if(1&e&&o._UZ(0,"app-team-vacation",45),2&e){const e=o.oxw();o.s9C("updateView",e.updateDashboardView)}}function Yt(e,t){if(1&e&&o._UZ(0,"app-compensatory-time",45),2&e){const e=o.oxw();o.s9C("updateView",e.updateDashboardView)}}function zt(e,t){if(1&e&&(o.TgZ(0,"div",52),o._UZ(1,"app-notification",53),o.qZA()),2&e){const e=o.oxw().ngIf,t=o.oxw(2);o.Q6J("ngClass",t.classNotification),o.xp6(1),o.Q6J("notifyCount",t.notifications.vacation.numOfItems)("isActive",!1)("loading",e.loading)}}function Qt(e,t){if(1&e&&(o.TgZ(0,"div",52),o._UZ(1,"app-notification",54),o.qZA()),2&e){const e=o.oxw().ngIf,t=o.oxw(2);o.Q6J("ngClass",t.classNotification),o.xp6(1),o.Q6J("notifyCount",t.notifications.clockin.numOfItems)("isActive",!1)("loading",e.loading)}}function Gt(e,t){if(1&e&&(o.TgZ(0,"div",52),o._UZ(1,"app-notification",55),o.qZA()),2&e){const e=o.oxw().ngIf,t=o.oxw(2);o.Q6J("ngClass",t.classNotification),o.xp6(1),o.Q6J("notifyCount",t.notifications.allowance.numOfItems)("isActive",!1)("loading",e.loading)}}function Ht(e,t){if(1&e&&(o.TgZ(0,"div",52),o._UZ(1,"app-notification",56),o.qZA()),2&e){const e=o.oxw().ngIf,t=o.oxw(2);o.Q6J("ngClass",t.classNotification),o.xp6(1),o.Q6J("notifyCount",t.notifications.overtime.numOfItems)("isActive",!1)("loading",e.loading)}}function Bt(e,t){if(1&e&&(o.TgZ(0,"div",52),o._UZ(1,"app-notification",57),o.qZA()),2&e){const e=o.oxw().ngIf,t=o.oxw(2);o.Q6J("ngClass",t.classNotification),o.xp6(1),o.Q6J("notifyCount",t.notifications.onCall.numOfItems)("isActive",!1)("loading",e.loading)}}function jt(e,t){if(1&e&&(o.TgZ(0,"div",50),o.YNc(1,zt,2,4,"div",51),o.YNc(2,Qt,2,4,"div",51),o.YNc(3,Gt,2,4,"div",51),o.YNc(4,Ht,2,4,"div",51),o.YNc(5,Bt,2,4,"div",51),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.notificationVacationIsAllowed),o.xp6(1),o.Q6J("ngIf",e.notificationClockingIsAllowed),o.xp6(1),o.Q6J("ngIf",e.notificationAllowanceIsAllowed),o.xp6(1),o.Q6J("ngIf",e.notificationOvertimeIsAllowed),o.xp6(1),o.Q6J("ngIf",e.notificationOnCallIsAllowed)}}function $t(e,t){if(1&e&&(o.TgZ(0,"app-card",46),o.TgZ(1,"div",47),o.TgZ(2,"h3",14),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",48),o.YNc(6,jt,6,5,"div",49),o.ALo(7,"async"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(3),o.Oqu(o.lcZ(4,2,"l-pending")),o.xp6(3),o.Q6J("ngIf",o.lcZ(7,4,e.notificationsCount$))}}function Wt(e,t){if(1&e&&o._UZ(0,"app-comp-team",58),2&e){const e=o.oxw();o.s9C("updateView",e.updateDashboardView)}}function Kt(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-modal-blast",59),o.NdJ("closeModal",function(){return o.CHM(e),o.oxw().closeBlastModal()}),o.qZA()}}let Xt=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l,c,p,d,g){this.dashboardService=e,this.profileService=t,this.navigationUtil=i,this.vacationService=n,this.paymentService=o,this.fieldsPropertiesService=s,this.globals=a,this.imageService=r,this.permissionSelectors=l,this.notificationsCountSelectors=c,this.windowUtilService=p,this.blastService=d,this.isCoordinatorSelectors=g,this.updateDashboardView="updateEvent",this.employeeSummary=void 0,this.userName=Ze.N.loggedUser,this.daysTillVacation=0,this.imagesEvents={},this.employeeShortName="",this.employeesBirthday=[],this.totalBirthdaysMonth=0,this.numberOfYearsWorking=0,this.isEmployeeBirthday=!1,this.isPaymentAvailable=!1,this.hasBirthdaysCard=!1,this.hasVacationsCard=!1,this.isMobile=!1,this.balanceIsVisible=!1,this.teamManagementFieldProperty={visible:!0,field:"teamManagementFieldProperty",editable:!0,required:!0},this.isCoordinator=!1,this.vacationIsAllowed=!1,this.paymentIsAllowed=!1,this.teamVacationIsAllowed=!1,this.dashboardEmployeeBirthdayAllowed=!1,this.dashboardBirthdaysAllowed=!1,this.dashboardVacationCountdownAllowed=!1,this.dashboardPaymentAllowed=!1,this.notifications={allowance:{path:"",numOfItems:0},clockin:{path:"",numOfItems:0},vacation:{path:"",numOfItems:0},overtime:{path:"",numOfItems:0},onCall:{path:"",numOfItems:0},path:""},this.searchCollaboratorIsVisible=!1,this.searchEmployeeIsAllowed=!1,this.notificationClockingIsAllowed=!1,this.notificationAllowanceIsAllowed=!1,this.notificationVacationIsAllowed=!1,this.payrollLoanIsAllowed=!1,this.notificationOvertimeIsAllowed=!1,this.notificationOnCallIsAllowed=!1,this.pendingIsAllowed=!1,this.mustShowBlastAdvertising=!1,this.flagShowBlastAdvertising=!1,this.notificationCountSubscription=null,this.permissionSubscription=null,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}get showBlastCard(){return this.isCoordinator&&this.flagShowBlastAdvertising}ngOnInit(){this.startDashboardDefinitions(),this.updateContext()}updateContext(){this.navigationUtil.reloadContextSourceObservable.subscribe(()=>(0,U.mG)(this,void 0,void 0,function*(){this.updateDashboardInfo(),this.windowUtilService.isWebView&&(yield this.startDashboardDefinitions(!0))}))}startDashboardDefinitions(e=!1){return(0,U.mG)(this,void 0,void 0,function*(){this.dashCache=new Me,yield this.getEmployeeSummary(),e||(this.checkDashboardPermissions(),this.checkUserIsCoordinator(),this.getNotifications(),this.showBlastCard&&this.setVisiblityBlastCard()),this.setBallanceSummaryVisibility(),this.setTeamManagementVisibility()})}checkDashboardPermissions(){this.permissionSubscription=this.permissionSelectors.permissions$.subscribe(e=>{e&&this.setPermissions(e)})}setPermissions(e){this.globals.setEmployeePermission(e),this.vacationIsAllowed=e.vacation,this.paymentIsAllowed=e.payment,this.teamVacationIsAllowed=e.absenceManager,this.searchEmployeeIsAllowed=e.searchEmployee,this.payrollLoanIsAllowed=void 0!==e.payrollLoan&&e.payrollLoan,this.dashboardEmployeeBirthdayAllowed=this.validatePermissionUndefined(e.dashboardEmployeeBirthday),this.dashboardBirthdaysAllowed=this.validatePermissionUndefined(e.dashboardBirthdays),this.dashboardVacationCountdownAllowed=this.validatePermissionUndefined(e.dashboardVacationCountdown),this.dashboardPaymentAllowed=this.validatePermissionUndefined(e.dashboardPayment),this.notificationClockingIsAllowed=this.validatePermissionUndefined(e.notificationClocking),this.notificationAllowanceIsAllowed=this.validatePermissionUndefined(e.notificationAllowance),this.notificationVacationIsAllowed=this.validatePermissionUndefined(e.notificationVacation),this.notificationOvertimeIsAllowed=e.overtime,this.notificationOnCallIsAllowed=e.notificationOnCall,(this.notificationClockingIsAllowed||this.notificationAllowanceIsAllowed||this.notificationVacationIsAllowed||this.notificationOvertimeIsAllowed||this.notificationOnCallIsAllowed)&&(this.pendingIsAllowed=!0),this.triggerDependentPermissionEvents()}triggerDependentPermissionEvents(){this.dashboardPaymentAllowed&&this.getPaymentAvailable(),this.getEmployeesBirthdayMonthly(),this.getEmployeeBirthday(),this.vacationIsAllowed&&this.getDaysUntillVacation()}getPaymentAvailable(){this.paymentService.getPaymentAvailable(Ze.N.loggedUser).then(e=>{e&&(this.isPaymentAvailable=e.isAvailable)})}setBallanceSummaryVisibility(){this.fieldsPropertiesService.getFieldProperties("clocking").then(e=>{e&&e.forEach(e=>{"balanceSummary"===e.field&&(this.balanceIsVisible=e.visible)})})}setTeamManagementVisibility(){this.fieldsPropertiesService.getFieldProperties("dashboard").then(e=>{e&&e.forEach(e=>{"compTeamManagement"===e.field&&(this.teamManagementFieldProperty=e)})})}isCompTeamVisible(){return this.isCoordinator&&this.teamManagementFieldProperty.visible}checkUserIsCoordinator(){return(0,U.mG)(this,void 0,void 0,function*(){this.isCoordinatorSubscription=this.isCoordinatorSelectors.isCoordinator$.subscribe(e=>{this.isCoordinator=e})})}getNotifications(){this.notificationsCount$=this.notificationsCountSelectors.state$,this.notificationCountSubscription=this.notificationsCount$.subscribe(e=>{const t=e.model;t&&t.subtotals&&(this.notificationCount=t.subtotals.length,t.subtotals.forEach(e=>{switch(e.type){case"allowance":this.notifications.allowance.numOfItems=e.total;break;case"clocking":this.notifications.clockin.numOfItems=e.total;break;case"vacation":this.notifications.vacation.numOfItems=e.total;break;case"overtime":this.notifications.overtime.numOfItems=e.total;break;case"onCall":this.notifications.onCall.numOfItems=e.total}})),this.notifications.path="request/notifications",this.getClassNotification()})}getClassNotification(){this.classNotification="text-center ",this.classNotification+=this.notificationCount>3?"po-sm-4 po-md-3 po-lg-3 po-xl-3":"po-sm-4 po-md-4 po-lg-4 po-xl-4"}getBirthdayImages(){let e=this.employeesBirthday;e.length&&(e.forEach(e=>{this.profileService.getImageBase64(e.employeeId).then(t=>{t&&t.content&&(e.avatarImage=this.setImageInfo(t.type,t.content)),this.birthdayPersonShortName=e.employeeName.split(" ")[0]})}),e.length>1&&(e=e.length>2?e.slice(0,2):e),this.updateEmployessBirthday(e))}setImageInfo(e,t){return"data:image/"+(e||"png")+";base64,"+t}updateEmployessBirthday(e){this.hasBirthdaysCard=!0,this.employeesBirthday=[],this.employeesBirthday=e}validatePermissionUndefined(e){return void 0===e||e}defineFirstName(){this.employeeSummary&&this.employeeSummary.name&&(this.employeeShortName=this.employeeSummary.name.split(" ")[0])}initEventInputCollaborator(){const e=document.getElementById("input-collaborator");e&&e.addEventListener("keyup",e=>{"Enter"===e.key&&(this.searchCollaboratorIsVisible=!0)})}closeSearchCollaborator(){this.searchCollaboratorIsVisible=!1}getEmployeesBirthdayMonthly(){const e=new Date,t=new Date;this.dashboardBirthdaysAllowed&&(t.setDate(e.getDate()+30),this.dashboardService.getTeamBirthdays(this.employeeSummary.id).then(e=>{if(e){let t=e.length>2?e.slice(0,2):e;t.forEach((i,n)=>{this.imageService.getImageStyle(i.employeeId).subscribe(e=>i.avatarImage=e),t.length>1&&(this.totalBirthdaysMonth=e.length-1),0===n&&i.employeeName&&(this.birthdayPersonShortName=i.employeeName.split(" ")[0]),this.hasBirthdaysCard=!0}),this.employeesBirthday=t}}))}updateDashboardInfo(){const e=new Date,t=e.getFullYear()+""+e.getHours()+e.getSeconds();this.updateDashboardView="updateEvent"+t}getEmployeeSummary(){return(0,U.mG)(this,void 0,void 0,function*(){this.employeeSummary=yield this.globals.getEmployeeSummary(),this.defineFirstName()})}getEmployeeBirthday(){if(this.employeeSummary&&this.dashboardEmployeeBirthdayAllowed){const e=V.Em.getDateUTCFormat(new Date(this.employeeSummary.admissionDate)),t=new Date(Date.now());void 0!==e&&!isNaN(e.getMonth())&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()&&t.getFullYear()>e.getFullYear()&&(this.numberOfYearsWorking=t.getFullYear()-e.getFullYear(),this.isEmployeeBirthday=!0)}}getDaysUntillVacation(){return(0,U.mG)(this,void 0,void 0,function*(){if(this.dashboardVacationCountdownAllowed){let e=yield this.getVacationData(),t=new Date(864e13),i=new Date(Date.now());e?(e.forEach(e=>{let n=new Date(e.initVacation);this.checkNextVacation(e.status,n,i,t)&&(t=n)}),this.daysTillVacation=Math.floor((t.getTime()-i.getTime())/864e5)+1,this.validateDaysTillVacation()):this.hasVacationsCard=!1}})}closeBlastModal(){this.mustShowBlastAdvertising=!1}showBlastModal(){this.isCoordinator&&this.windowUtilService.isWebView()?this.blastService.callBlastAdvertisingForApp():this.mustShowBlastAdvertising=!1}validateDaysTillVacation(){this.hasVacationsCard=this.daysTillVacation>0&&this.daysTillVacation<=30}getVacationData(){return(0,U.mG)(this,void 0,void 0,function*(){let e;const t=yield this.getCurrentUser();xe.ZP.isErpDatasul()&&(e=yield this.vacationService.getVacationProcess(t));const i=yield this.vacationService.getVacationInfo(t);return e?this.concatInfoAndProcess(i,e):e=i,e})}concatInfoAndProcess(e,t){e.map(e=>{t.push(e)})}getCurrentUser(){return(0,U.mG)(this,void 0,void 0,function*(){let e=Ze.N.loggedUser;const t=yield this.globals.getEmployeeSummary();return t&&(e=t.id),e})}showBlastAdvertisingForPortal(){this.isCoordinator&&!this.windowUtilService.isWebView()&&(this.globals.existsFlagShowBlastAdvertising()?(this.flagShowBlastAdvertising="true"===this.globals.getFlagShowBlastAdvertising(),this.flagShowBlastAdvertising&&this.showBlastModal()):(this.showBlastModal(),this.globals.setFlagShowBlastAdvertising("false")))}checkNextVacation(e,t,i,n){return(e===ve.W.StatusEnum.Approved||e===ve.W.StatusEnum.Calculated)&&t>i&&t<n&&t.getFullYear()===i.getFullYear()}doNavigation(e){this.navigationUtil.doNavigation(e)}setVisiblityBlastCard(){this.blastService.mustShowCardBlastForApp()}ngOnDestroy(){this.notificationCountSubscription&&this.notificationCountSubscription.unsubscribe(),this.permissionSubscription&&this.permissionSubscription.unsubscribe(),this.isCoordinatorSubscription&&this.isCoordinatorSubscription.unsubscribe()}callbackIonicExternalEvent(e){if(e.detail.event.type===be.g.MustShowBlastAdvertisingCard){const t=e.detail.event.args.showAgain;this.globals.setFlagShowBlastAdvertising(t+""),this.flagShowBlastAdvertising=t}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Pe),o.Y36(Q.H),o.Y36(q._),o.Y36(Ce.P),o.Y36(we.t),o.Y36(G.c),o.Y36(fe.O),o.Y36(Y.A),o.Y36(ye.eL),o.Y36(ye.S2),o.Y36(te.g),o.Y36(Oe),o.Y36(ye.V9))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-dashboard"]],hostBindings:function(e,t){1&e&&o.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,o.evT)},decls:17,vars:14,consts:[[3,"name","isVisible","close"],[1,"container-fluid",3,"hidden"],[1,"po-font-title"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange","p-change-model",4,"ngIf"],["class","po-holder",4,"ngIf"],[1,"po-holder"],[1,"po-row"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","view-vacation"],[3,"updateView",4,"ngIf"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","view-pending"],["cssClass","view-pending-items",4,"ngIf"],["class","comp-team",3,"updateView",4,"ngIf"],[3,"closeModal",4,"ngIf"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false",3,"ngModel","p-placeholder","ngModelChange","p-change-model"],[1,"po-font-subtitle"],[1,"view-imagesSlider"],[1,"hs"],["class","item card-pagamento mouse-pointer",3,"click",4,"ngIf"],["class","item card-pagamento",4,"ngIf"],["class","item card-pagamento",3,"click",4,"ngIf"],[1,"item","card-pagamento",3,"hidden","click"],[1,"item-background",3,"ngStyle"],[1,"item-icon","ico-money"],[1,"item-footer"],["class","item mouse-pointer",3,"click",4,"ngIf"],[1,"item","card-pagamento","mouse-pointer",3,"click"],[1,"item-background","item-background-filter",3,"ngStyle"],[1,"item-icon","icon-wallet"],[1,"item","card-pagamento"],["class","item-background",3,"ngStyle",4,"ngIf"],["class","item-footer",4,"ngIf"],[1,"item-icon","icon-birthday-cake"],[4,"ngIf"],["class","item-avatars",4,"ngIf"],["class","extended-birthday-msg",4,"ngIf"],[1,"item-avatars"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"item-avatar","avatar","avatar-medium","mouse-pointer"],[1,"extended-birthday-msg"],[1,"item","card-pagamento",3,"click"],[1,"item-icon","ico-sun"],[1,"item","mouse-pointer",3,"click"],[1,"item-footer","item-blast"],[1,"free-trial"],[3,"updateView"],["cssClass","view-pending-items"],["card-header","",1,"mr-card-header"],["card-body",""],["class","card-balance-summary po-row",4,"ngIf"],[1,"card-balance-summary","po-row"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["urlData","/request/notifications/vacation","label","l-pending-vacation",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/timesheet","label","l-pending-clockin",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/timesheet","label","l-pending-allowance",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/overtime/pending","label","l-overtime",3,"notifyCount","isActive","loading"],["urlData","/request/notifications/oncall","label","l-on-call",3,"notifyCount","isActive","loading"],[1,"comp-team",3,"updateView"],[3,"closeModal"]],template:function(e,t){1&e&&(o.TgZ(0,"app-search-collaborator",0),o.NdJ("close",function(){return t.closeSearchCollaborator()}),o.qZA(),o.TgZ(1,"div",1),o.TgZ(2,"h1",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.YNc(5,bt,2,4,"po-input",3),o.YNc(6,Vt,18,15,"div",4),o._UZ(7,"app-last-menu-access"),o.TgZ(8,"div",5),o.TgZ(9,"div",6),o.TgZ(10,"div",7),o.YNc(11,Rt,1,1,"app-team-vacation",8),o.YNc(12,Yt,1,1,"app-compensatory-time",8),o.qZA(),o.TgZ(13,"div",9),o.YNc(14,$t,8,6,"app-card",10),o.YNc(15,Wt,1,1,"app-comp-team",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(16,Kt,1,0,"app-modal-blast",12)),2&e&&(o.Q6J("name",t.name)("isVisible",t.searchCollaboratorIsVisible),o.xp6(1),o.Q6J("hidden",t.searchCollaboratorIsVisible),o.xp6(2),o.AsE("",o.lcZ(4,12,"l-hello-message")," ",t.employeeShortName,""),o.xp6(2),o.Q6J("ngIf",t.searchEmployeeIsAllowed),o.xp6(1),o.Q6J("ngIf",t.isEmployeeBirthday&&t.dashboardEmployeeBirthdayAllowed||t.hasBirthdaysCard&&t.dashboardBirthdaysAllowed||t.hasVacationsCard&&t.dashboardVacationCountdownAllowed||t.isPaymentAvailable&&t.dashboardPaymentAllowed||t.payrollLoanIsAllowed||t.showBlastCard),o.xp6(5),o.Q6J("ngIf",t.isCoordinator&&t.teamVacationIsAllowed),o.xp6(1),o.Q6J("ngIf",t.balanceIsVisible),o.xp6(2),o.Q6J("ngIf",t.isCoordinator&&t.pendingIsAllowed),o.xp6(1),o.Q6J("ngIf",t.isCompTeamVisible()),o.xp6(1),o.Q6J("ngIf",t.mustShowBlastAdvertising))},directives:[Je,s.O5,je,f.xxV,d.JJ,d.On,s.PC,s.sg,it,rt,_.A,s.mk,dt,ft,vt],pipes:[h.X$,s.Ov],styles:["[_ngcontent-%COMP%]:root{--gutter: 20px}.free-trial[_ngcontent-%COMP%]{color:orange}.item-blast[_ngcontent-%COMP%]{padding-right:9em;font-size:13px!important}@media (min-width: 1024px) and (max-width: 1600px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:6.5em}}@media screen and (max-device-width: 359px){.item-blast[_ngcontent-%COMP%]{font-size:8.5px!important;padding-right:1em}}@media screen and (min-device-width: 360px) and (max-device-width: 410px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:2em}}@media screen and (min-device-width: 411px) and (max-device-width: 427px){.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:2.5em}}@media screen and (min-device-width: 428px) and (max-device-height: 767px){.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:4em}}@media screen and (min-device-width: 768px) and (max-device-width: 1023px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:2em}}@media screen and (device-width: 1024px) and (device-height: 1366px){.item-blast[_ngcontent-%COMP%]{font-size:10px!important;padding-right:6.5em}}@media screen and (device-width: 428px) and (device-height: 926px){.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:4em}}@media (min-width: 1201px){.container-fluid[_ngcontent-%COMP%]{width:calc(100vw - 256px);padding:0 40px 0 20px}}.updateView[_ngcontent-%COMP%]{display:inline-block;margin:0 0 15px;color:#0c9abe;text-decoration:none;background-color:transparent;font-size:14px;cursor:pointer}.po-holder[_ngcontent-%COMP%]{margin-bottom:20px}.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 0 15px}@media screen and (min-width: 960px){.po-holder[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin:0 8px 15px}}.po-font-title[_ngcontent-%COMP%]{margin:60px 0 0;font-weight:700}@media screen and (max-width: 480px){.po-font-title[_ngcontent-%COMP%]{font-size:32px}}.po-font-subtitle[_ngcontent-%COMP%]{margin:0 0 5px;font-weight:700;color:#345;font-size:20px;text-align:left}.view-pending-items[_ngcontent-%COMP%]{margin-bottom:15px}@media screen and (max-width: 480px){.view-mostViewed[_ngcontent-%COMP%] > div[class*=po][_ngcontent-%COMP%]{padding:0 4px}.view-mostViewed[_ngcontent-%COMP%] > div[class*=po][_ngcontent-%COMP%]:first-child{padding-left:0}.view-mostViewed[_ngcontent-%COMP%] > div[class*=po][_ngcontent-%COMP%]:nth-child(3){padding-left:4px;padding-right:0}}.view-imagesSlider[_ngcontent-%COMP%]{overflow-y:auto;margin:0 8px}.view-imagesSlider[_ngcontent-%COMP%]   .hs[_ngcontent-%COMP%]{display:grid;grid-gap:20px}@media screen and (max-width: 586px){.view-imagesSlider[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2 / -2}.view-imagesSlider[_ngcontent-%COMP%] > .full[_ngcontent-%COMP%]{grid-column:1 / -1}.view-imagesSlider[_ngcontent-%COMP%]   .hs[_ngcontent-%COMP%]{grid-template-columns:repeat(6,calc(60% - 70px));grid-template-rows:minmax(150px,1fr)}}@media screen and (min-width: 586px){.view-imagesSlider[_ngcontent-%COMP%]   .hs[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr 1fr 1fr}}.view-imagesSlider[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{scroll-snap-align:center;position:relative;border-radius:8px}.view-imagesSlider[_ngcontent-%COMP%]   .item-background[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:160px;background-size:cover;background-position:50% 50%;border-radius:6px;text-align:center}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatars[_ngcontent-%COMP%]{margin-top:-5px}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatars[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;position:relative;margin-right:-10px;margin-top:-30px}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatars[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-right:0}.view-imagesSlider[_ngcontent-%COMP%]   .item-avatar[_ngcontent-%COMP%]{display:inline-block}.view-imagesSlider[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:16px;color:#fff;font-size:22px}.view-imagesSlider[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{z-index:10;bottom:16px;left:16px;right:16px;position:absolute;color:#fff;font-size:14px;font-weight:700}.hour-time[_ngcontent-%COMP%]{color:#345;font-size:34px;font-weight:700;text-align:center}@media (max-width: 480px){.no-padding-xs[_ngcontent-%COMP%]{padding:0}}.card-pagamento[_ngcontent-%COMP%]{position:relative}@media screen and (min-width: 960px){.po-font-subtitle[_ngcontent-%COMP%]{margin-left:0!important}div[class^=po-sm][_ngcontent-%COMP%]:first-child{padding-left:0}div[class^=po-sm][_ngcontent-%COMP%]:last-child{padding-right:0}}.item-background-filter[_ngcontent-%COMP%]{-webkit-filter:brightness(80%);filter:brightness(80%)}@media screen and (device-width: 1366px) and (device-height: 768px){.item-background-no-changes[_ngcontent-%COMP%]{background-position:unset!important}.item-blast[_ngcontent-%COMP%]{font-size:11px!important;padding-right:6.5em}}.item-footer[_ngcontent-%COMP%]{text-shadow:1px 1px #000000}@media only screen and (max-width: 480px){.extended-birthday-msg[_ngcontent-%COMP%]{font-size:11px}}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.comp-team[_ngcontent-%COMP%]{cursor:pointer}.po-font-title[_ngcontent-%COMP%]{margin-top:0}app-notification[_ngcontent-%COMP%]     .app-notification{margin-top:10px}"]}),e})(),ei=(()=>{class e{constructor(e){this.globals=e}static getRoutePage(){return e.ROUTE_PAGE}ngOnInit(){this.globals.getEmployeeSummary().then(e=>{this.employee=e,this.employee&&(this.employee.name=this.employee.name.split(" ")[0])})}}return e.ROUTE_PAGE="home",e.\u0275fac=function(t){return new(t||e)(o.Y36(fe.O))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:1,vars:0,template:function(e,t){1&e&&o._UZ(0,"app-dashboard")},directives:[Xt],styles:[""]}),e})();var ti=i(32114);let ii=(()=>{class e{constructor(e){this.genericService=e,this.subChangePass=new j.xQ,this.observableSubChangePass=this.subChangePass.asObservable()}emitSubChangePass(e){this.subChangePass.next(e)}updatePassword(e){return this.genericService.setWithCredencials(!1),this.genericService.put("auth/resetPassword",e)}updatePasswordWithLastPassword(e,t=!1){this.genericService.setWithCredencials(!1);const i=[];return this.genericService.parseParams(i,"isEncrypted",t),this.genericService.postWithQP("auth/ChangePassWithLastPass",e,i,!1)}dtsRecoveryPassword(e){const t=[];return this.genericService.parseParams(t,"email",e.email),this.genericService.parseParams(t,"keyUrl",e.keyUrl),this.genericService.parseParams(t,"keyTemplate",e.keyTemplate),this.genericService.postWithQP("passwordReset",{},t)}dtsResetPassword(e){return this.genericService.post("passwordReset",e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ni=(()=>{class e{constructor(e,t,i,n,o,s,a){this.navigationUtilService=e,this.alterPasswordService=t,this.notificationService=i,this.appTranslateService=n,this.globals=o,this.ionicUtilService=s,this.windowUtilService=a,this.isValidateForm=!1}ngOnInit(){this.setRequerimentsInForm()}onSubmit(){return(0,U.mG)(this,void 0,void 0,function*(){let e=this.globals.getUser();(xe.ZP.isErpRM()&&!this.globals.existsIonic5Key()&&!this.globals.isNewApiModelRM()||xe.ZP.isErpDatasul())&&(e=F.N.loggedUser),(yield this.checkPasswordsLenght())&&(this.passwordInfo={user:this.globals.shuffleString(e),lastPassword:this.globals.shuffleString(this.changePassword.currentPassword),password:this.globals.shuffleString(this.changePassword.newPassword),confirmPassword:this.globals.shuffleString(this.changePassword.confirmPassword)},this.alterPassword(this.passwordInfo))})}checkPasswordsLenght(){return(0,U.mG)(this,void 0,void 0,function*(){let e,t=!0;return this.changePassword.currentPassword.length<3&&(t=!1,e="l-current-password-3-char"),this.changePassword.newPassword.length<3&&(t=!1,e="l-new-password-3-char"),this.changePassword.confirmPassword.length<3&&(t=!1,e="l-new-confirm-password-3-char"),t||this.notificationService.showNotification(yield this.appTranslateService.getI18n(e),f.ik9.Error),t})}alterPassword(e){return(0,U.mG)(this,void 0,void 0,function*(){try{yield this.alterPasswordService.updatePasswordWithLastPassword(e,!0),this.windowUtilService.isWebView()&&this.ionicUtilService.emit({args:{},type:be.g.ClearPassword});const t=yield this.appTranslateService.getI18n("l-password-changed");this.notificationService.showNotification(t,f.ik9.Success),this.navigationUtilService.doNavigation("home")}catch(t){t instanceof a.UA||this.notificationService.showNotification(t.message,f.ik9.Error)}})}setRequerimentsInForm(){return(0,U.mG)(this,void 0,void 0,function*(){this.requirements=this.isValidateForm?[{requirement:yield this.appTranslateService.getI18n("l-newpass-diff-oldpass"),status:this.compareNewAndOldPassword.bind(this)},{requirement:yield this.appTranslateService.getI18n("l-newpass-confirmpass"),status:this.compareNewAndConfirmPassword.bind(this)}]:[]})}compareNewAndOldPassword(e){if(e)return this.changePassword.currentPassword!==e}compareNewAndConfirmPassword(e){if(e)return this.changePassword.confirmPassword===e}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(q._),o.Y36(ii),o.Y36(X.g),o.Y36(ee.g),o.Y36(fe.O),o.Y36(be.l),o.Y36(te.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-alter-password"]],viewQuery:function(e,t){if(1&e&&o.Gf(ti.Yx,7),2&e){let e;o.iGM(e=o.CRH())&&(t.changePassword=e.first)}},decls:1,vars:1,consts:[["p-url-home","home",3,"p-requirements","p-submit"]],template:function(e,t){1&e&&(o.TgZ(0,"po-page-change-password",0),o.NdJ("p-submit",function(){return t.onSubmit()}),o.qZA()),2&e&&o.Q6J("p-requirements",t.requirements)},directives:[ti.Yx],styles:["[_nghost-%COMP%]     .po-page-login-panel{padding-top:0!important}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-page-login-body{padding-right:1rem}[_nghost-%COMP%]     .po-mb-sm-1{margin-bottom:4.5rem}[_nghost-%COMP%]     po-button.po-sm-6{width:46%}}"]}),e})(),oi=(()=>{class e{constructor(e,t,i,n,o){this.serviceGeneric=e,this.appTranslateService=t,this.notificationService=i,this.windowUtilService=n,this.http=o}logout(){return this.serviceGeneric.post("auth/logout",void 0)}logoutOnTotvsLogin(){return this.serviceGeneric.get("/totvs-login/logout")}keepAliveOnTotvsLogin(){return(0,U.mG)(this,void 0,void 0,function*(){const e=document.location.origin+"/totvs-login/keepalive";this.http.get(e).subscribe()})}login(e){return xe.ZP.isErpProtheus()?(e.redirectUrl=window.location.href.split("#")[0],this.prepareContentTypeUrlEncoded(e),this.serviceGeneric.setResponseType("html")):this.body=e,this.hidePoUiMessageOnError(),this.serviceGeneric.post("auth/login",this.body,!1).catch(e=>{throw this.dealWithLoginError(),e})}loginTomcat(e){return this.windowUtilService.isWebView()&&(this.serviceGeneric.setHeaderField("Content-Type","application/json"),this.serviceGeneric.setHeaderField("Authorization","Basic "+btoa(`${e.user}:${e.password}`)),this.hidePoUiMessageOnError()),this.serviceGeneric.get(`/api/rh/v1/login/auth/${e.user}`).catch(e=>{throw this.dealWithLoginError(),e})}canActivate(){return(0,U.mG)(this,void 0,void 0,function*(){let e="auth/isLogged";return xe.ZP.isTomcatAppServer()?(e="setting/fieldProperties/dashboard",{isLogged:!(yield this.serviceGeneric.get(e)).toString().includes("<html>")}):this.serviceGeneric.get(e)})}recoveryPassword(e){return xe.ZP.isErpProtheus()?this.prepareContentTypeUrlEncoded(e):this.body=e,this.serviceGeneric.post("auth/renewPassword",this.body)}isFirstLogin(e){const t=[];return this.serviceGeneric.parseParams(t,"employeeId",e),this.serviceGeneric.search("auth/isFirstLogin",t)}hidePoUiMessageOnError(){xe.ZP.isErpDatasul()&&this.serviceGeneric.setHeaderField("X-PO-No-Message","true")}dealWithLoginError(){return(0,U.mG)(this,void 0,void 0,function*(){if(xe.ZP.isErpDatasul()){const e=yield this.appTranslateService.getI18n("l-invalid-login-data");this.notificationService.showNotification(e,f.ik9.Error)}})}isFirstLoginAuthentic(e){return this.body=e,this.serviceGeneric.post("auth/isFirstLoginAuthentic",this.body)}providersOauth(){return(0,U.mG)(this,void 0,void 0,function*(){return this.serviceGeneric.get("auth/providerOauth")})}getTokenPrincipal(e,t){return(0,U.mG)(this,void 0,void 0,function*(){return this.serviceGeneric.post("auth/login/TokenPrincipal",{acessToken:e,providerId:t})})}getForceOauthLogin(){return(0,U.mG)(this,void 0,void 0,function*(){return this.serviceGeneric.get("auth/forceoauthlogin")})}prepareContentTypeUrlEncoded(e){this.serviceGeneric.setHeaderField("Content-Type","application/x-www-form-urlencoded"),this.body=this.serviceGeneric.parseObjectToUrlEncoded(e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M),o.LFG(ee.g),o.LFG(X.g),o.LFG(te.g),o.LFG(a.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),si=(()=>{class e{constructor(e,t,i,n,s,a){this.resetPasswordService=e,this.navigationUtilService=t,this.notificationService=i,this.appTranslateService=n,this.authService=s,this.globals=a,this.exit=new o.vpe,this.viewDialogIsVisible=!0}onSubmit(e){return(0,U.mG)(this,void 0,void 0,function*(){e&&(this.newPassword===this.confirmNewPassword?(this.changePasswordInfo={password:this.newPassword,user:this.user,lastPassword:this.lastPassword,confirmPassword:this.confirmNewPassword},xe.ZP.isErpProtheus()?yield this.authBeforeChangePassword({user:this.user,password:this.lastPassword}):this.changePassword(this.changePasswordInfo)):this.appTranslateService.getI18n("l-incorrect-confirm-password").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)}))})}authBeforeChangePassword(e){return(0,U.mG)(this,void 0,void 0,function*(){try{const t=yield this.authService.login(e);t&&this.authErrorProtheus(t)?this.changePassword(this.changePasswordInfo):this.appTranslateService.getI18n("l-old-password-incorrect").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)})}catch(t){console.error(t)}})}authErrorProtheus(e){return xe.ZP.getErp()!==xe.Ld.PROTHEUS||!(e.indexOf("auth-error.html")>=0)}changePassword(e){this.resetPasswordService.updatePasswordWithLastPassword(e).then(()=>{this.appTranslateService.getI18n("l-password-changed").then(e=>{this.notificationService.showNotification(e,f.ik9.Success),this.exit.emit(),this.globals.clearLocalStorage(),this.navigationUtilService.doNavigation("login")})})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(ii),o.Y36(q._),o.Y36(X.g),o.Y36(ee.g),o.Y36(oi),o.Y36(fe.O))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-change-pass"]],inputs:{user:"user"},outputs:{exit:"exit"},decls:17,vars:23,consts:[["id","changePassword",3,"isVisible","closeDialogButtonEnable","menuIsVisible"],["dialog-content","",1,"new-pass-container"],["pageTitle","l-first-login",3,"backIsVisible"],[1,"po-holder","new-pass-form"],[3,"keyup.enter"],["changePasswordForm","ngForm"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","new-pass-info"],["name","last-password","p-icon","po-icon po-icon-lock","p-auto-focus","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-last-password",3,"ngModel","p-placeholder","ngModelChange"],["name","new-password","p-icon","po-icon po-icon-lock","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-password",3,"ngModel","p-placeholder","ngModelChange"],["name","confirm-new-password","p-icon","po-icon po-icon-lock","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-new-password",3,"ngModel","p-placeholder","ngModelChange"],["p-small","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","change-pass-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-dialog",0),o.TgZ(1,"div",1),o._UZ(2,"app-page-header",2),o.TgZ(3,"div",3),o.TgZ(4,"form",4,5),o.NdJ("keyup.enter",function(){o.CHM(e);const i=o.MAs(5);return t.onSubmit(i.form.valid)}),o.TgZ(6,"span",6),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"po-password",7),o.NdJ("ngModelChange",function(e){return t.lastPassword=e}),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"po-password",8),o.NdJ("ngModelChange",function(e){return t.newPassword=e}),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"po-password",9),o.NdJ("ngModelChange",function(e){return t.confirmNewPassword=e}),o.ALo(14,"translate"),o.qZA(),o.TgZ(15,"po-button",10),o.NdJ("p-click",function(){o.CHM(e);const i=o.MAs(5);return t.onSubmit(i.form.valid)}),o.ALo(16,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.MAs(5);o.Q6J("isVisible",t.viewDialogIsVisible)("closeDialogButtonEnable",!1)("menuIsVisible",!1),o.xp6(2),o.Q6J("backIsVisible",!1),o.xp6(5),o.Oqu(o.lcZ(8,13,"l-newpass-info")),o.xp6(2),o.s9C("p-placeholder",o.lcZ(10,15,"l-choice-last-password")),o.Q6J("ngModel",t.lastPassword),o.xp6(2),o.s9C("p-placeholder",o.lcZ(12,17,"l-choice-new-password")),o.Q6J("ngModel",t.newPassword),o.xp6(2),o.s9C("p-placeholder",o.lcZ(14,19,"l-repeat-new-password")),o.Q6J("ngModel",t.confirmNewPassword),o.xp6(2),o.s9C("p-label",o.lcZ(16,21,"l-confirm")),o.Q6J("p-disabled",!e.form.valid)}},directives:[ke.a,T.q,d._Y,d.JL,d.F,f.Rsf,d.JJ,d.On,f.bOz],pipes:[h.X$],styles:[".new-pass-form[_ngcontent-%COMP%]{clear:both;height:auto;max-width:320px;margin:0 auto}.new-pass-info[_ngcontent-%COMP%]{font-size:20px;text-align:center;margin-top:5vh}.new-pass-info-small[_ngcontent-%COMP%]{font-size:15px;text-align:center;margin:5vh 0 2vh;color:#9c9ca0}.input-last-password[_ngcontent-%COMP%]{margin-top:5vh}.change-pass-confirm[_ngcontent-%COMP%]{margin:5vh 0}"]}),e})();var ai=i(45435),ri=i(15257),li=i(88002),ci=i(13353),pi=i(30343);let di=(()=>{class e{constructor(e){this.serviceGeneric=e}getCompanySettings(){return(0,U.mG)(this,void 0,void 0,function*(){return yield this.serviceGeneric.get("setting/companySettings",!1)})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gi=(()=>{class e{constructor(e,t,i){this.resetPassword=e,this.notificationService=t,this.appTranslateService=i,this.dialogIsVisible=!1,this.isLoading=!1}ngOnInit(){}openRecoveryDialog(){this.recoveryDialog.open()}onSubmit(){this.validateRequiredFields()&&this.recoveryPassword()}closeRecoveryDialog(){this.recoveryDialog.close()}recoveryPassword(){this.isLoading=!0,this.resetPassword.dtsRecoveryPassword({email:this.emailRecoveryPassword,keyUrl:"app_meurh_url",keyTemplate:"app_meurh"}).then(()=>{this.closeRecoveryDialog(),this.dialogIsVisible=!0,this.isLoading=!1}).catch(e=>{this.notificationService.showNotification(e,f.ik9.Error),this.isLoading=!1})}closeSuccessMessage(){this.dialogIsVisible=!1}validateRequiredFields(){return!this.checkEmptyOrUndefinedField(this.emailRecoveryPassword,"m-email-required")}checkEmptyOrUndefinedField(e,t){let i=!1;return(!e||""===e)&&(i=!0,this.appTranslateService.getI18n(t).then(e=>{this.notificationService.showNotification(e,f.ik9.Warning)})),i}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(ii),o.Y36(X.g),o.Y36(ee.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-dts-password-recovery"]],viewQuery:function(e,t){if(1&e&&o.Gf(f.hmF,5),2&e){let e;o.iGM(e=o.CRH())&&(t.recoveryDialog=e.first)}},decls:24,vars:23,consts:[["p-size","auto",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[3,"keyup.enter"],["recoveryPasswordForm","ngForm"],[1,"input-recovery"],["name","teste","p-clean","true","p-required","true",3,"ngModel","p-label","p-error-pattern","ngModelChange"],[1,"modal-footer-recovery-options"],["p-small","true",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-label","p-click"],["p-small","true","p-type","primary",1,"po-sm-6","po-md-6","po-lg-6","po-xl-6",3,"p-disabled","p-loading","p-label","p-click"],["id","recovery-password-confirm",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-recovery-content"],[1,"message-recovery","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"recovery-image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"]],template:function(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-modal",0,1),o.ALo(2,"translate"),o.TgZ(3,"form",2,3),o.NdJ("keyup.enter",function(){return t.onSubmit()}),o.TgZ(5,"div",4),o.TgZ(6,"po-email",5),o.NdJ("ngModelChange",function(e){return t.emailRecoveryPassword=e}),o.ALo(7,"translate"),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"po-button",7),o.NdJ("p-click",function(){return o.CHM(e),o.MAs(4).form.reset(),t.closeRecoveryDialog()}),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"po-button",8),o.NdJ("p-click",function(){return t.onSubmit()}),o.ALo(13,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"app-dialog",9),o.NdJ("closeDialogEvent",function(){return t.closeSuccessMessage()}),o.TgZ(15,"div",10),o.TgZ(16,"div",11),o.NdJ("click",function(){return t.closeSuccessMessage()}),o.TgZ(17,"div",12),o.TgZ(18,"div",12),o.TgZ(19,"div",13),o.NdJ("click",function(){return t.closeSuccessMessage()}),o.qZA(),o.qZA(),o.TgZ(20,"strong"),o.TgZ(21,"h4",14),o.NdJ("click",function(){return t.closeSuccessMessage()}),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.MAs(4);o.s9C("p-title",o.lcZ(2,11,"l-password-recovery")),o.xp6(6),o.s9C("p-label",o.lcZ(7,13,"l-email")),o.s9C("p-error-pattern",o.lcZ(8,15,"m-email-invalid")),o.Q6J("ngModel",t.emailRecoveryPassword),o.xp6(4),o.s9C("p-label",o.lcZ(11,17,"l-cancel")),o.xp6(2),o.s9C("p-loading",t.isLoading),o.s9C("p-label",o.lcZ(13,19,"l-recover-password")),o.Q6J("p-disabled",!e.form.valid),o.xp6(2),o.Q6J("isVisible",t.dialogIsVisible)("closeDialogButtonEnable",!0),o.xp6(8),o.Oqu(o.lcZ(23,21,"m-renew-password-message"))}},directives:[f.hmF,d._Y,d.JL,d.F,f.Tji,d.JJ,d.On,f.bOz,ke.a],pipes:[h.X$],styles:[".modal-footer-recovery-options[_ngcontent-%COMP%]{overflow:auto;margin-top:35px;margin-bottom:25px}.dialog-substitute-content[_ngcontent-%COMP%]{height:350px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.recovery-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.recovery-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}@media (min-width: 961px){.dialog-recovery-content[_ngcontent-%COMP%]{height:300px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     .po-modal-title{font-size:20px}[_nghost-%COMP%]     .po-modal-header-close-button{padding-left:10px}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),e})(),ui=(()=>{class e{constructor(e,t,i,n,o,s,a){this.navigationUtilService=e,this.loggedDispatchers=t,this.loggedSelectors=i,this.propertiesSelectors=n,this.windowUtilService=o,this.globals=s,this.mobileVersionSelectors=a}checkLoginStatusToActivateServices(){return(0,U.mG)(this,void 0,void 0,function*(){if(yield this.loggedDispatchers.checkIfIsLogged(),!(yield this.mobileVersionSelectors.shouldUseMessageReceiverForLogin())&&this.windowUtilService.isWebView()){const e="true"===localStorage.getItem("isLogged");this.clearAndGoToLogin(e)}else this.loggedSelectors.isLogged$.subscribe(e=>{this.clearAndGoToLogin(e)})})}getDomainForLogin(){return(0,U.mG)(this,void 0,void 0,function*(){if(xe.ZP.isErpDatasul()||xe.ZP.isErpNode()){const e=yield this.propertiesSelectors.nextPropertiesNotNull();return e.DTS_DOMAIN&&""!==e.DTS_DOMAIN.trim()?e.DTS_DOMAIN:""}return""})}clearAndGoToLogin(e){this.setIsLoggedForRMOnIonic3(e),!1===e&&!this.windowUtilService.getHref().includes("resetPassword")&&(this.globals.clearLocalStorage(),this.navigationUtilService.doNavigation("/login"))}setIsLoggedForRMOnIonic3(e){xe.ZP.isErpRM()&&e&&this.windowUtilService.isWebView()&&!this.globals.existsIonic5Key()&&!this.globals.isNewApiModelRM()&&localStorage.setItem("isLogged","true")}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(q._),o.LFG(ye.pG),o.LFG(ye.ek),o.LFG(ye.Ub),o.LFG(te.g),o.LFG(fe.O),o.LFG(ye.QM))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hi=(()=>{class e{constructor(e,t,i){this.authService=e,this.notificationService=t,this.appTranslateService=i,this.dialogIsVisible=!1,this.isLoading=!1}ngOnInit(){}openRecoveryDialog(){this.recoveryDialog.open()}onSubmit(){this.validateRequiredFields()&&this.recoveryPassword()}closeRecoveryDialog(){this.recoveryDialog.close()}recoveryPassword(){this.isLoading=!0;const e={user:this.userRecoveryPassword,email:this.emailRecoveryPassword,redirectUrl:window.location.href.split("#")[0]};this.authService.recoveryPassword(e).then(()=>{this.closeRecoveryDialog(),this.dialogIsVisible=!0,this.isLoading=!1}).catch(e=>{this.notificationService.showNotification(e,f.ik9.Error),this.isLoading=!1})}closeSuccessMessage(){this.dialogIsVisible=!1}validateRequiredFields(){return!this.checkEmptyOrUndefinedField(this.userRecoveryPassword,"m-user-required")&&!this.checkEmptyOrUndefinedField(this.emailRecoveryPassword,"m-email-required")}checkEmptyOrUndefinedField(e,t){let i=!1;return(!e||""===e)&&(i=!0,this.appTranslateService.getI18n(t).then(e=>{this.notificationService.showNotification(e,f.ik9.Warning)})),i}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(oi),o.Y36(X.g),o.Y36(ee.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-password-recovery"]],viewQuery:function(e,t){if(1&e&&o.Gf(f.hmF,5),2&e){let e;o.iGM(e=o.CRH())&&(t.recoveryDialog=e.first)}},decls:26,vars:27,consts:[["p-size","sm",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-title"],["modal",""],[3,"keyup.enter"],["recoveryPasswordForm","ngForm"],[1,"input-recovery"],["p-auto-focus","true","p-icon","po-icon po-icon-user","name","username-recovery","p-clean","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","ngModelChange"],["name","email-recovery","p-clean","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-label","p-error-pattern","ngModelChange"],["p-small","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-recovery",3,"p-disabled","p-loading","p-label","p-click"],["p-small","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-cancel",3,"p-label","p-click"],["id","recovery-password-confirm",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-recovery-content"],[1,"message-recovery","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"recovery-image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"]],template:function(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-modal",0,1),o.ALo(2,"translate"),o.TgZ(3,"form",2,3),o.NdJ("keyup.enter",function(){return t.onSubmit()}),o.TgZ(5,"div",4),o.TgZ(6,"po-input",5),o.NdJ("ngModelChange",function(e){return t.userRecoveryPassword=e}),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"po-email",6),o.NdJ("ngModelChange",function(e){return t.emailRecoveryPassword=e}),o.ALo(9,"translate"),o.ALo(10,"translate"),o.qZA(),o.qZA(),o.TgZ(11,"div",4),o.TgZ(12,"po-button",7),o.NdJ("p-click",function(){return t.onSubmit()}),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"po-button",8),o.NdJ("p-click",function(){return o.CHM(e),o.MAs(4).form.reset(),t.closeRecoveryDialog()}),o.ALo(15,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"app-dialog",9),o.NdJ("closeDialogEvent",function(){return t.closeSuccessMessage()}),o.TgZ(17,"div",10),o.TgZ(18,"div",11),o.NdJ("click",function(){return t.closeSuccessMessage()}),o.TgZ(19,"div",12),o.TgZ(20,"div",12),o.TgZ(21,"div",13),o.NdJ("click",function(){return t.closeSuccessMessage()}),o.qZA(),o.qZA(),o.TgZ(22,"strong"),o.TgZ(23,"h4",14),o.NdJ("click",function(){return t.closeSuccessMessage()}),o._uU(24),o.ALo(25,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.MAs(4);o.s9C("p-title",o.lcZ(2,13,"l-password-recovery")),o.xp6(6),o.s9C("p-label",o.lcZ(7,15,"l-user")),o.Q6J("ngModel",t.userRecoveryPassword),o.xp6(2),o.s9C("p-label",o.lcZ(9,17,"l-email")),o.s9C("p-error-pattern",o.lcZ(10,19,"m-email-invalid")),o.Q6J("ngModel",t.emailRecoveryPassword),o.xp6(4),o.s9C("p-loading",t.isLoading),o.s9C("p-label",o.lcZ(13,21,"l-recover-password")),o.Q6J("p-disabled",!e.form.valid),o.xp6(2),o.s9C("p-label",o.lcZ(15,23,"l-cancel")),o.xp6(2),o.Q6J("isVisible",t.dialogIsVisible)("closeDialogButtonEnable",!0),o.xp6(8),o.Oqu(o.lcZ(25,25,"m-renew-password-message"))}},directives:[f.hmF,d._Y,d.JL,d.F,f.xxV,d.JJ,d.On,f.Tji,f.bOz,ke.a],pipes:[h.X$],styles:[".modal-footer-recovery-options[_ngcontent-%COMP%]{overflow:auto;margin-top:25px;margin-bottom:25px}.button-recovery[_ngcontent-%COMP%]{margin-top:17px;margin-bottom:10px}.button-cancel[_ngcontent-%COMP%]{margin-bottom:17px}.input-recovery[_ngcontent-%COMP%]{margin-bottom:5px}.dialog-substitute-content[_ngcontent-%COMP%]{height:350px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.recovery-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.recovery-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}@media (min-width: 961px){.dialog-recovery-content[_ngcontent-%COMP%]{height:300px}.message-recovery[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.input[_ngcontent-%COMP%]{position:relative;left:25%;margin-top:40px;padding-top:10px}[_nghost-%COMP%]     .po-modal-sm{width:30%}}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .po-modal-sm{width:85%}}@media screen and (min-width: 1367px){.input[_ngcontent-%COMP%]{margin-top:55px}[_nghost-%COMP%]     .po-modal-sm{width:25%}}[_nghost-%COMP%]     .po-modal-title{font-size:20px;padding-left:6px}[_nghost-%COMP%]     .po-modal-header-close-button{color:#1ea2c3}[_nghost-%COMP%]     .po-modal-footer{display:none}"]}),e})();function mi(e,t){1&e&&o._UZ(0,"img",3)}function fi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"po-button",1),o.NdJ("p-click",function(){const t=o.CHM(e).$implicit;return o.oxw().providerClickEvent(t)}),o.qZA(),o.YNc(2,mi,1,0,"ng-template",null,2,o.W1O),o.qZA()}if(2&e){const e=t.$implicit,i=o.MAs(3);o.xp6(1),o.s9C("p-label",e.providerName),o.Q6J("p-icon",i)}}let vi=(()=>{class e{constructor(){this.providerClicked=new o.vpe}ngOnInit(){}providerClickEvent(e){this.providerClicked.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-providers-buttons"]],inputs:{buttonsProvidersSaml:"buttonsProvidersSaml"},outputs:{providerClicked:"providerClicked"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-label","p-icon","p-click"],["template",""],["src","./assets/img/totvs-identity-logo.png","slot","start"]],template:function(e,t){1&e&&o.YNc(0,fi,4,2,"div",0),2&e&&o.Q6J("ngForOf",t.buttonsProvidersSaml)},directives:[s.sg,f.bOz],styles:[""]}),e})();function bi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"form",17,18),o.NdJ("keyup.enter",function(){o.CHM(e);const t=o.MAs(1);return o.oxw(3).onSubmit(t.form.valid)}),o.TgZ(2,"po-input",19),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(3).user=t}),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"po-password",20),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(3).password=t}),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",21),o.TgZ(7,"span",22),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"po-switch",23),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw(3).rememberUser=t}),o.qZA(),o.qZA(),o.TgZ(11,"po-button",24),o.NdJ("p-click",function(){o.CHM(e);const t=o.MAs(1);return o.oxw(3).onSubmit(t.form.valid)}),o.ALo(12,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.MAs(1),t=o.oxw(3);o.xp6(2),o.s9C("p-placeholder",o.lcZ(3,8,"l-fill-in-user")),o.Q6J("ngModel",t.user),o.xp6(2),o.s9C("p-placeholder",o.lcZ(5,10,"l-fill-in-password")),o.Q6J("ngModel",t.password),o.xp6(4),o.Oqu(o.lcZ(9,12,"l-remember-user")),o.xp6(2),o.Q6J("ngModel",t.rememberUser),o.xp6(1),o.s9C("p-label",o.lcZ(12,14,"l-login")),o.Q6J("p-disabled",!e.form.valid)}}function xi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",25),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).openRecoveryDialog()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&e&&(o.xp6(1),o.hij("",o.lcZ(2,1,"l-forgot-password"),"? "))}function yi(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",28),o._UZ(2,"hr"),o.qZA(),o.TgZ(3,"div",29),o._uU(4,"ou"),o.qZA(),o.TgZ(5,"div",28),o._UZ(6,"hr"),o.qZA(),o.qZA())}function Zi(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"div",30),o.TgZ(2,"span",31),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,1,"l-make-login")))}function wi(e,t){if(1&e&&o._UZ(0,"img",35),2&e){const e=o.oxw().$implicit;o.s9C("src","data:image/jpeg;base64,"+e.icone,o.LSH)}}function Ci(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",32),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(4).selectedProvider(t)}),o.TgZ(1,"button",33),o.YNc(2,wi,1,1,"img",34),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(4);o.xp6(1),o.Q6J("ngClass",i.getClassButton(e.providerName)),o.xp6(1),o.Q6J("ngIf",e.icone),o.xp6(2),o.Oqu(e.providerName)}}function Mi(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",26),o.YNc(2,yi,7,0,"div",0),o.YNc(3,Zi,5,3,"div",0),o.qZA(),o.YNc(4,Ci,5,3,"div",27),o.qZA()),2&e){const e=o.oxw(3);o.xp6(2),o.Q6J("ngIf",!e.forceOauth),o.xp6(1),o.Q6J("ngIf",e.forceOauth),o.xp6(1),o.Q6J("ngForOf",e.externalsProviders)}}function Ai(e,t){if(1&e&&(o.TgZ(0,"div",11),o._UZ(1,"div",12),o.TgZ(2,"span",13),o._uU(3,"MEU RH"),o.qZA(),o.TgZ(4,"span",14),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.YNc(7,bi,13,16,"form",15),o.YNc(8,xi,3,3,"a",16),o.YNc(9,Mi,5,3,"div",0),o.qZA()),2&e){const e=o.oxw(2);o.xp6(5),o.Oqu(o.lcZ(6,4,"l-welcome")),o.xp6(2),o.Q6J("ngIf",!e.forceOauth),o.xp6(1),o.Q6J("ngIf",!e.forceOauth),o.xp6(1),o.Q6J("ngIf",e.externalsProviders.length>0)}}function Pi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",36),o._UZ(1,"div",12),o.TgZ(2,"span",13),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"span",37),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"div"),o.TgZ(9,"app-providers-buttons",38),o.NdJ("providerClicked",function(t){return o.CHM(e),o.oxw(2).selectProviderSaml(t)}),o.qZA(),o._UZ(10,"div",39),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(3),o.Oqu(o.lcZ(4,3,"l-welcome")),o.xp6(3),o.Oqu(o.lcZ(7,5,"l-make-login")),o.xp6(3),o.Q6J("buttonsProvidersSaml",null==e.companySettings?null:e.companySettings.samlProviders)}}function Oi(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",1),o.YNc(2,Ai,10,6,"div",2),o.YNc(3,Pi,11,7,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o.TgZ(7,"po-select",7),o.NdJ("p-change",function(t){return o.CHM(e),o.oxw().changeLanguage(t)})("ngModelChange",function(t){return o.CHM(e),o.oxw().language=t}),o.qZA(),o.qZA(),o.qZA(),o._UZ(8,"div",8),o.qZA(),o.qZA(),o.TgZ(9,"div",9),o.TgZ(10,"div",10),o.TgZ(11,"h2"),o.TgZ(12,"span"),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(15,"app-password-recovery"),o._UZ(16,"app-dts-password-recovery"),o.BQk()}if(2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",!(null!=e.samlProviderSelected&&e.samlProviderSelected.isIntegrated)),o.xp6(1),o.Q6J("ngIf",null==e.samlProviderSelected?null:e.samlProviderSelected.isIntegrated),o.xp6(4),o.Q6J("p-options",e.languageSelect)("ngModel",e.language),o.xp6(6),o.Oqu(o.lcZ(14,5,"l-welcome-message-login"))}}function qi(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"po-loading-overlay"),o.qZA())}let Ti=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l,c,p,d,g,u,h,m){this.authService=e,this.globals=t,this.navigationUtilService=i,this.resetPassword=n,this.notificationService=o,this.appTranslateService=s,this.loggedSelectors=a,this.loggedDispatchers=r,this.windowUtilService=l,this.loginService=c,this.spinnerService=p,this.companySettingsService=d,this.mobileVersionSelectors=g,this.messageReceiverService=u,this.companySettingsSelectors=h,this.translateService=m,this.showLogin=!1,this.isLoading=!1,this.externalsProviders=[],this.languageSelect=[],this.forceOauth=!1,this.intervalId=null,this.loopCount=600,this.intervalLength=100}ngOnInit(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.initializeComponent()})}onSubmit(e){return(0,U.mG)(this,void 0,void 0,function*(){try{if(this.isLoading=!0,e){const e={user:this.user,password:this.password},t=yield this.loginService.getDomainForLogin();""!==t&&(e.user+=`@${t}`),this.setUserPreferences(),xe.ZP.isTomcatAppServer()?this.authService.loginTomcat(e).then(()=>{this.initDefaultServices()}):(this.globals.setUser(e.user),xe.ZP.isErpRM()?yield this.changePassFirstLogin(e):yield this.login(e))}else this.isLoading=!1}catch(t){this.isLoading=!1}})}openRecoveryDialog(){xe.ZP.isErpDatasul()?this.dtsRecoveryDialog.openRecoveryDialog():this.recoveryDialog.openRecoveryDialog()}selectProviderSaml(e){this.windowUtilService.changeHref(e.urlLogin)}getClassButton(e){let t;return e.length>=25&&(t="buttonLarge"),t}selectedProvider(e){this.popUpOauthWindow(e.authorizeEndpoint,e.clientId,this.getRedirectUri(),e.defaultsScope,e.id)}popUpOauthWindow(e,t,i,n="openid",o){let s=this.loopCount;this.windowHandle=this.createOauthWindow(e+"?response_type=token&client_id="+t+"&redirect_uri="+i+"&scope="+n,"Login"),this.intervalId=window.setInterval(()=>{if(s--<0)window.clearInterval(this.intervalId),this.windowHandle.close();else{let s;try{s=this.windowHandle.location.href}catch(n){console.log("Error:",n)}if(null!=s&&s.includes("token")){window.clearInterval(this.intervalId);for(var e=s.split("#")[1].split("&"),t={},i=0;i<e.length;i++)t[e[i].split("=")[0]]=e[i].split("=")[1];this.oauthToken=t.access_token,this.autorizeOauth(t.access_token,o),this.windowHandle.close()}}},this.intervalLength)}createOauthWindow(e,t="Authorization",i=500,n=600,o=(screen.width-i)/2,s=(screen.height-n)/2){return null==e?null:window.open(e,t,`width=${i},height=${n},left=${o},top=${s}`)}autorizeOauth(e,t){this.authService.getTokenPrincipal(e,t).then(e=>{this.initializeLocalStorage({token:e.Access_token,refreshToken:e.Refresh_token}),this.initDefaultServices()})}getRedirectUri(){let e=window.location.href,t=e.indexOf("/#");return e.slice(0,t)}getErp(){let e="Meu RH";return xe.ZP.isErpRM()&&(e="Linha RM"),xe.ZP.isErpDatasul()&&(e="Linha Datasul"),xe.ZP.isErpProtheus()&&(e="Linha Protheus"),e}useOauth(){return(0,U.mG)(this,void 0,void 0,function*(){return!(!xe.ZP.isErpRM()||!this.globals.isNewApiModelRM()||(yield this.getExternalsProviders(),yield this.getOauthForceLogin(),0))})}checkIfShouldUseMessageReceiverForLogin(){return(0,U.mG)(this,void 0,void 0,function*(){return this.mobileVersionSelectors.shouldUseMessageReceiverForLogin()})}externalLoginDatasul(){this.globals.existsSessionTomcat()?this.externalLoginTomcat():this.globals.existsSessionJboss()&&this.externalLoginJboss()}externalLoginDatasulByMessage(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.messageReceiverService.messages$.pipe((0,ai.h)(e=>(null==e?void 0:e.type)===ci.E.LOGIN_WITH_CREDENTIALS),(0,ri.q)(1),(0,li.U)(e=>e)).toPromise();e.jboss?yield this.externalLoginJboss(e.credentials):yield this.externalLoginTomcat(e.credentials)})}externalLoginTomcat(e=this.globals.getSessionTomcat()){return(0,U.mG)(this,void 0,void 0,function*(){try{if(xe.ZP.isTomcatAppServer()){const t=JSON.parse(atob(e)),i={user:t.user,password:t.password};yield this.authService.loginTomcat(i),this.initDefaultServices()}}catch(t){throw this.isLoading=!1,new Error("Tomcat login error"+t)}})}externalLoginJboss(e=this.globals.getSessionJboss()){return(0,U.mG)(this,void 0,void 0,function*(){try{if(xe.ZP.isErpDatasul()){const t=JSON.parse(atob(e)),i={user:t.user,password:t.password};yield this.login(i)}}catch(t){throw this.isLoading=!1,new Error("Jboss login error"+t)}})}loggedIsTrue(){return(0,U.mG)(this,void 0,void 0,function*(){let e;this.globals.cleanEmployeeSummary(),e=!this.shouldUseMessageReceiverForLogin&&this.windowUtilService.isWebView()?"true"===localStorage.getItem("isLogged"):yield this.loggedSelectors.nextIsLoggedNotNull(),e?xe.ZP.isErpProtheus()?this.windowUtilService.isWebView()?this.doNavigation(!1):this.authService.isFirstLogin(this.user).then(e=>{this.doNavigation(e.isFirstLogin)}):this.doNavigation(!1):this.doNavigation(!0)})}doNavigation(e){e&&!xe.ZP.isTomcatAppServer()?(this.isLoading=!1,this.navigationUtilService.doNavigation("/login")):this.navigationUtilService.doNavigation("/home")}changePassFirstLogin(e){return(0,U.mG)(this,void 0,void 0,function*(){xe.ZP.isErpRM()?(yield this.authService.isFirstLoginAuthentic(e)).isFirstLogin&&e?this.resetPassword.emitSubChangePass(e.user):this.login(e):(yield this.authService.isFirstLogin(e.user)).isFirstLogin&&e.user?(xe.ZP.isErpProtheus()&&this.globals.clearTokenStorage(),this.resetPassword.emitSubChangePass(e.user)):this.initDefaultServices()})}login(e){return(0,U.mG)(this,void 0,void 0,function*(){try{const t=yield this.authService.login(e);t&&this.authErrorProtheus(t)?xe.ZP.isErpProtheus()?this.changePassFirstLogin(e):((xe.ZP.isErpRM()||xe.ZP.isErpNode())&&this.initializeLocalStorage(t),this.initDefaultServices()):this.appTranslateService.getI18n("l-invalid-login").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)})}catch(t){this.isLoading=!1,console.error(t)}})}authErrorProtheus(e){return!(xe.ZP.getErp()===xe.Ld.PROTHEUS&&e.indexOf("auth-error.html")>=0&&(this.spinnerService.resetSpinnerCount(),this.isLoading=!1,1))}initDefaultServices(){this.loggedDispatchers.setIsLogged(!0),this.navigationUtilService.doNavigation("/home")}getUserPreferences(){const e=JSON.parse(localStorage.getItem("userPreferences"));e&&(this.user=e.user,this.rememberUser=!0)}setUserPreferences(){this.rememberUser&&localStorage.setItem("userPreferences",JSON.stringify({user:this.user}))}initializeLocalStorage(e){e&&e.token&&(this.globals.setToken(e.token),this.loggedDispatchers.setIsLogged(!0))}defineShowLogin(){this.showLogin=!(xe.ZP.isTomcatAppServer()||this.windowUtilService.isWebView())}checkAutoSubmitLogin(){return!this.showLogin&&xe.ZP.isTomcatAppServer()&&!this.windowUtilService.isWebView()}getExternalsProviders(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.companySettingsService.getCompanySettings();this.companySettings=e,this.externalsProviders=e.providersOauth})}getOauthForceLogin(){return(0,U.mG)(this,void 0,void 0,function*(){this.forceOauth=yield this.authService.getForceOauthLogin()})}setDefaultLanguage(){this.languageSelect=[{value:"pt",label:"Portugu\xeas"},{value:"en",label:"English"},{value:"es",label:"Espa\xf1ol"}],this.language=localStorage.getItem("usedLanguage")?localStorage.getItem("usedLanguage"):String(this.languageSelect[0].value)}changeLanguage(e){localStorage.setItem("usedLanguage",e),this.translateService.use(e)}shouldShowForgotPasswordOption(){return(0,U.mG)(this,void 0,void 0,function*(){if(!this.windowUtilService.isWebView()&&xe.ZP.isErpDatasul())try{const e=yield this.companySettingsService.getCompanySettings();this.companySettings=e}catch(e){this.companySettings={forgotPasswordEnabled:!0}}})}getCompanySettings(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.loggedSelectors.nextIsLoggedNotNull();!xe.ZP.isErpRM()&&!xe.ZP.isErpNode()||e||this.windowUtilService.isWebView()?this.companySettings={forgotPasswordEnabled:!0,requiredSSO:!1,samlProviders:[{}],providersOauth:[{}]}:(this.companySettings=yield this.companySettingsSelectors.nextCompanySettingsNotNull(),this.companySettings&&this.companySettings.samlProviders&&this.companySettings.samlProviders.length>0&&(this.samlProviderSelected=this.companySettings.samlProviders[0]))})}initializeComponent(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.getCompanySettings(),this.defineShowLogin(),this.shouldUseMessageReceiverForLogin=yield this.checkIfShouldUseMessageReceiverForLogin(),this.shouldUseMessageReceiverForLogin?this.externalLoginDatasulByMessage():this.externalLoginDatasul(),this.loggedIsTrue(),this.getUserPreferences(),this.checkAutoSubmitLogin()&&this.onSubmit(!0),yield this.useOauth(),this.setDefaultLanguage()})}ngOnDestroy(){this.isLoading=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(oi),o.Y36(fe.O),o.Y36(q._),o.Y36(ii),o.Y36(X.g),o.Y36(ee.g),o.Y36(ye.ek),o.Y36(ye.pG),o.Y36(te.g),o.Y36(ui),o.Y36(pi.V),o.Y36(di),o.Y36(ye.QM),o.Y36(Z.r),o.Y36(ye.m9),o.Y36(h.sK))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],viewQuery:function(e,t){if(1&e&&(o.Gf(hi,5),o.Gf(gi,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.recoveryDialog=e.first),o.iGM(e=o.CRH())&&(t.dtsRecoveryDialog=e.first)}},decls:2,vars:2,consts:[[4,"ngIf"],[1,"po-sm-12","po-md-6","po-lg-6","po-xl-6","login-container"],["class","input login-form",4,"ngIf"],["class","input login-form po-pb-5",4,"ngIf"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","footer"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","totvs-language"],[1,"button-language"],["name","language",1,"button-language",3,"p-options","ngModel","p-change","ngModelChange"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","totvs-logo-grey"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","login-side-image"],[1,"text-box","po-sm-6","po-md-6","po-lg-6","po-xl-5"],[1,"input","login-form"],[1,"login-corporate-logo"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","welcome"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","login-info-erp"],[3,"keyup.enter",4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 forgot-password",3,"click",4,"ngIf"],[3,"keyup.enter"],["loginForm","ngForm"],["p-clean","true","p-disabled","false","p-auto-focus","true","p-icon","po-icon po-icon-user","name","user","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-user",3,"ngModel","p-placeholder","ngModelChange"],["name","password","p-icon","po-icon po-icon-lock","p-required","true","p-no-autocomplete","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-placeholder","ngModelChange"],[1,"po-sm-12","remember-user-container"],[1,"po-sm-10","po-md-10","po-lg-10","po-xl-10","remember-user"],["p-label-off","","p-label-on","","name","switch",1,"switch","po-sm-2","po-md-2","po-lg-2","po-xl-2",3,"ngModel","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","login-button",3,"p-disabled","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","forgot-password",3,"click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","text-center"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 external-provider-hover",3,"click",4,"ngFor","ngForOf"],[1,"po-sm-5","po-md-5","po-lg-5","po-xl-5"],[1,"po-sm-2","po-md-2","po-lg-2","po-xl-2","separator"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","forceOauth"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","external-provider-hover",3,"click"],[1,"external-provider",3,"ngClass"],["class","external-image",3,"src",4,"ngIf"],[1,"external-image",3,"src"],[1,"input","login-form","po-pb-5"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","login-info","po-mt-2","po-mb-5"],[3,"buttonsProvidersSaml","providerClicked"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","totvs-logo-grey"]],template:function(e,t){1&e&&(o.YNc(0,Oi,17,7,"ng-container",0),o.YNc(1,qi,2,0,"div",0)),2&e&&(o.Q6J("ngIf",t.showLogin),o.xp6(1),o.Q6J("ngIf",t.isLoading))},directives:[s.O5,f.C9q,d.JJ,d.On,hi,gi,d._Y,d.JL,d.F,f.xxV,f.Rsf,f.nrg,f.bOz,s.sg,s.mk,vi,f.$nQ],pipes:[h.X$],styles:['.input-user[_ngcontent-%COMP%]{margin-top:7%}.switch[_ngcontent-%COMP%]{text-align:right;padding:0}.link[_ngcontent-%COMP%]{cursor:pointer;font-weight:bold;text-align:center}.totvs-logo[_ngcontent-%COMP%]{text-align:center}.login-corporate-logo[_ngcontent-%COMP%]{background-image:url(logo_totvs_login_v2.1884ee99cc62689196bf.svg);height:75px!important;background-position-x:center;background-repeat:no-repeat;width:auto;text-align:center}.text-box[_ngcontent-%COMP%]{position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);padding-left:60px}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;white-space:normal;white-space:initial;font-size:50px;font-family:"NunitoSans-ExtraLight"}.welcome[_ngcontent-%COMP%]{text-align:center;font-size:34px;font-family:"NunitoSans-ExtraLight";color:#000}[_nghost-%COMP%]     .po-switch-label-right{color:transparent;width:0px;height:0px;position:absolute}[_nghost-%COMP%]     .po-switch-content{display:inline-block}[_nghost-%COMP%]     .po-switch-button-on>.po-icon-ok{color:#0c9abe;font-weight:700;left:-1px;position:relative;top:0px!important;font-size:18px!important}[_nghost-%COMP%]     .po-switch-button-off>.po-icon-close{color:#dadedf;font-weight:700;left:-1px;position:relative;top:0px!important;font-size:18px!important}  body{overflow-x:hidden}.img-landing-page[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:"NunitoSans";padding-left:20px}.text-image[_ngcontent-%COMP%]{position:absolute;top:50%;width:50%}.remember-user[_ngcontent-%COMP%]{line-height:32px;text-align:right}.remember-user-container[_ngcontent-%COMP%]{margin-bottom:16px}.footer[_ngcontent-%COMP%]{position:fixed;height:50px;bottom:0px;left:0px;right:0px;margin-bottom:5px;width:50%}.totvs-logo-grey[_ngcontent-%COMP%]{background:url(totvs-logo-grey.43c98fab6cddbde8afa1.svg) no-repeat center center;height:40px}.totvs-language[_ngcontent-%COMP%]{height:40px}.login-button[_ngcontent-%COMP%]{margin-bottom:5%}.forgot-password[_ngcontent-%COMP%]{color:#0c9abe;padding-bottom:5px;cursor:pointer;font-weight:bold;text-align:center}.login-info-erp[_ngcontent-%COMP%]{font-size:24px;line-height:32px;text-align:center;color:#0c9abe;margin-top:5%}.login-info[_ngcontent-%COMP%]{font-size:20px;text-align:center}.img-landing-page[_ngcontent-%COMP%]{max-width:50%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:15%;object-position:15%;position:absolute;-webkit-filter:contrast(50%) brightness(80%);filter:contrast(50%) brightness(80%)}.login-side-image[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5)),url(login-page-v2.67d56ac3deb987d5a4d4.jpg);background-size:cover;background-position:30%;height:100%;max-width:50%;position:absolute;translate:0,-50%;left:50%;padding:0}.layer[_ngcontent-%COMP%]{background-color:rgba(248,247,216,.7);position:absolute;top:0;left:0;width:100%;height:100%}.login-container[_ngcontent-%COMP%]{height:100vh}.login-form[_ngcontent-%COMP%]{clear:both;height:auto;max-width:320px}.external-provider[_ngcontent-%COMP%]{font-family:NunitoSans-Bold,sans-serif;font-size:16px;line-height:24px;border:1px solid #0c9abe;border-radius:3px;color:#0c9abe;display:inline-block;height:44px;padding:0 16px;cursor:pointer;text-align:center;background:white;width:100%;margin-bottom:10px}.external-image[_ngcontent-%COMP%]{margin-right:12px;width:35px}.separator[_ngcontent-%COMP%]{color:#9b9b9b!important;padding-bottom:15px}@media screen and (max-width: 1366px){[_nghost-%COMP%]     .po-switch-content{padding:0}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:34px;font-family:"NunitoSans-ExtraLight"}}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.login-side-image[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:calc(100% - 32px)}.welcome[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-family:"NunitoSans-Bold";color:#000}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.footer[_ngcontent-%COMP%]{width:100%!important}}@media screen and (min-width: 961px){.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:48%;left:25%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@media screen and (min-width: 1367px){.input[_ngcontent-%COMP%]{margin-top:55px}.remember-user[_ngcontent-%COMP%]{margin-top:30px;line-height:0px}}@media screen and (min-width: 481px),(max-width: 960px){.totvs-logo[_ngcontent-%COMP%]{height:149px;width:300px}.login-corporate-logo[_ngcontent-%COMP%]{background-image:url(logo_totvs_login_v2.1884ee99cc62689196bf.svg);width:100%;height:100px}}[_nghost-%COMP%]     .po-select-button{background-color:rgba(0,0,0,0)!important;border:rgba(0,0,0,0)!important;box-shadow:none!important;padding-left:0!important;width:25%;left:45%;font-size:14px}.forceOauth[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}.buttonLarge[_ngcontent-%COMP%]{height:68px!important}']}),e})();const _i=["resetPasswordForm"];let Si=(()=>{class e{constructor(e,t,i,n,o){this.resetPasswordService=e,this.appTranslateService=t,this.notificationService=i,this.route=n,this.navigationUtilService=o,this.isLoading=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{this.hash=e.hash,this.guid=e.guid})}onSubmit(){return(0,U.mG)(this,void 0,void 0,function*(){if(this.resetPasswordForm.form.valid)if(this.isLoading=!0,this.newPassword===this.confirmNewPassword)this.resetPassword();else{const e=yield this.appTranslateService.getI18n("l-incorrect-confirm-password");this.isLoading=!1,this.notificationService.showNotification(e,f.ik9.Error)}})}resetPassword(){xe.ZP.isErpDatasul()?this.updatePassword({newPassword:this.newPassword,guid:this.guid,confirmNewPassword:this.confirmNewPassword},"dtsResetPassword"):this.updatePassword({password:this.newPassword,hash:this.hash},"updatePassword")}updatePassword(e,t){return(0,U.mG)(this,void 0,void 0,function*(){try{yield this.resetPasswordService[t](e);const i=yield this.appTranslateService.getI18n("l-password-changed");this.notificationService.showNotification(i,f.ik9.Success),this.navigationUtilService.doNavigation("login")}catch(i){this.isLoading=!1,console.error("Erro ao tentar redefinir a senha: "+i.message)}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(ii),o.Y36(ee.g),o.Y36(X.g),o.Y36(A.gz),o.Y36(q._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-reset-password"]],viewQuery:function(e,t){if(1&e&&o.Gf(_i,5),2&e){let e;o.iGM(e=o.CRH())&&(t.resetPasswordForm=e.first)}},decls:19,vars:19,consts:[[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[3,"keyup.enter"],["resetPasswordForm","ngForm"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","input"],[1,"totvs-logo"],["src","./assets/img/logo_totvs_login.svg","alt",""],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","title"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","subtitle"],["name","newPassword","p-clean","","p-auto-focus","true","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","input-newpass",3,"ngModel","p-placeholder","ngModelChange"],["name","confirmPassword","p-clean","","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngModel","p-placeholder","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","confirm-button",3,"p-disabled","p-loading","p-label","p-click"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","totvs-logo-grey"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"form",1,2),o.NdJ("keyup.enter",function(){return t.onSubmit()}),o.TgZ(3,"div",3),o.TgZ(4,"span",4),o._UZ(5,"img",5),o.qZA(),o.TgZ(6,"span",6),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"span",7),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"po-password",8),o.NdJ("ngModelChange",function(e){return t.newPassword=e}),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"po-password",9),o.NdJ("ngModelChange",function(e){return t.confirmNewPassword=e}),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"po-button",10),o.NdJ("p-click",function(){return t.onSubmit()}),o.ALo(17,"translate"),o.qZA(),o._UZ(18,"div",11),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.MAs(2);o.xp6(7),o.Oqu(o.lcZ(8,9,"l-change-password")),o.xp6(3),o.Oqu(o.lcZ(11,11,"l-change-password-info")),o.xp6(2),o.s9C("p-placeholder",o.lcZ(13,13,"l-choice-new-password")),o.Q6J("ngModel",t.newPassword),o.xp6(2),o.s9C("p-placeholder",o.lcZ(15,15,"l-repeat-new-password")),o.Q6J("ngModel",t.confirmNewPassword),o.xp6(2),o.s9C("p-loading",t.isLoading),o.s9C("p-label",o.lcZ(17,17,"l-confirm")),o.Q6J("p-disabled",!e.form.valid)}},directives:[d._Y,d.JL,d.F,f.Rsf,d.JJ,d.On,f.bOz],pipes:[h.X$],styles:['.input-newpass[_ngcontent-%COMP%]{margin-top:7%}.totvs-logo[_ngcontent-%COMP%]{margin-left:-4%}.title[_ngcontent-%COMP%]{text-align:center;font-size:35px;color:#000;white-space:nowrap}.subtitle[_ngcontent-%COMP%]{font-size:20px;text-align:center}.totvs-logo-grey[_ngcontent-%COMP%]{background:url(totvs-logo-grey.43c98fab6cddbde8afa1.svg) no-repeat center center;height:40px}.confirm-button[_ngcontent-%COMP%]{margin-bottom:12%}.text-box[_ngcontent-%COMP%]{position:absolute;top:40%;padding-left:50px;height:auto}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-family:"NunitoSans";font-size:40px;white-space:normal;white-space:initial;line-height:50px}.img-landing-page[_ngcontent-%COMP%]{color:#fff;font-size:30px;font-family:"NunitoSans";padding-left:20px}.img-landing-page[_ngcontent-%COMP%]{max-width:50%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:15%;object-position:15%;position:absolute;-webkit-filter:contrast(50%) brightness(80%);filter:contrast(50%) brightness(80%)}@media screen and (max-width: 960px){.img-landing-page[_ngcontent-%COMP%]{display:none}.input[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.text-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 961px){.input[_ngcontent-%COMP%]{position:relative;left:50%;margin-left:-180px;max-width:360px;margin-top:40px;padding-top:10px}}@media screen and (min-width: 1367px){.input[_ngcontent-%COMP%]{max-width:360px;left:50%;margin-left:-180px;margin-top:55px}}']}),e})();var Ii=i(29163),Di=i(77859),ki=i(48681),Li=i(94405);const Ni="report";let Ei=(()=>{class e{constructor(e,t,i){this.serviceGeneric=e,this.fileManipulationService=t,this.configurationService=i}getReports(e){return this.serviceGeneric.get(`${Ni}/GetReports/${e}`,void 0)}getCategories(){return this.serviceGeneric.get(`${Ni}/GetCategories`,void 0)}getReportDownloadUrl(e){return new Promise(t=>{t(this.configurationService.getServerApiUrl().then(t=>{const i=`${t}${Ni}/GenerateReport/${encodeURIComponent(e)}`;return xe.ZP.isErpNode()||xe.ZP.isErpProtheus()?i:`${document.location.origin}${i}`}))})}openReport(e,t){return this.fileManipulationService.openFile(`${Ni}/GenerateReport/${e}`,t,"application/pdf")}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M),o.LFG(Li.e),o.LFG(ki.e))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var Ui=i(93738);function Fi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"mat-card",7),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().listReports(t.id,t.description)}),o.TgZ(1,"mat-card-header"),o.TgZ(2,"mat-card-title"),o._uU(3),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit;o.xp6(3),o.Oqu(e.description)}}let Ji=(()=>{class e{constructor(e,t,i,n){this.navigationUtil=e,this.reportsService=t,this.globals=i,this.lastAccessService=n,this.categoryList=[]}ngOnInit(){this.setCountLastAccess(),this.loadCategory()}listReports(e,t){this.navigationUtil.doNavigation("listReports/"+e+"/"+t)}loadCategory(){this.reportsService.getCategories().then(e=>{e&&(this.categoryList=e)})}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccessService.setLastAccess(Ve.c5,e.id)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(q._),o.Y36(Ei),o.Y36(fe.O),o.Y36(Ve.Lx))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-reports-category"]],decls:10,vars:8,consts:[[3,"backIsVisible","pageTitle"],[1,"period","report-category"],[1,"po-row"],[1,"field","Xpo-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-font-subtitle","text-subtitle","ng-star-inserted"],["id","div-annual-receipt-container",1,"panel-body","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["class","card-category",3,"click",4,"ngFor","ngForOf"],[1,"card-category",3,"click"]],template:function(e,t){1&e&&(o._UZ(0,"app-page-header",0),o.ALo(1,"translate"),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"p",4),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",5),o.YNc(9,Fi,4,1,"mat-card",6),o.qZA()),2&e&&(o.s9C("pageTitle",o.lcZ(1,4,"l-generate-report")),o.Q6J("backIsVisible",!1),o.xp6(6),o.Oqu(o.lcZ(7,6,"l-reports-category-title")),o.xp6(3),o.Q6J("ngForOf",t.categoryList))},directives:[T.q,s.sg,Ui.a8,Ui.dk,Ui.n5],pipes:[h.X$],styles:["#div-annual-receipt-container[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:20px!important}.card-category[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;box-shadow:0 2px 8px #e3e6f1;cursor:pointer}.mat-card[_ngcontent-%COMP%]{padding:10px 5px 5px;font-weight:bold;color:#0c9abe}.calendar-year[_ngcontent-%COMP%]{font-size:12px}.report-category[_ngcontent-%COMP%]{margin-top:25px}"]}),e})(),Vi=(()=>{class e{transform(e,t){return e?t?(t=t.toLowerCase(),e.filter(e=>{if(e&&e.description)return e.description.toLowerCase().includes(t)})):e:[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"reportsFilter",type:e,pure:!0}),e})();function Ri(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",15),o.TgZ(1,"po-input",16),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().searchText=t}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngModel",e.searchText)}}function Yi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",24),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw().downloadReport(t.id,t.description)}),o.qZA()}}function zi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",25),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw().shareReport(t.id,t.description)}),o.qZA()}}const Qi=function(e){return{line:e}};function Gi(e,t){if(1&e&&(o.TgZ(0,"tr",17),o.TgZ(1,"td",18),o.TgZ(2,"div",2),o.TgZ(3,"div",19),o.TgZ(4,"span",20),o._uU(5),o.qZA(),o.qZA(),o.TgZ(6,"div",21),o.YNc(7,Yi,1,0,"span",22),o.YNc(8,zi,1,0,"span",23),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=t.last,n=o.oxw();o.Q6J("ngClass",o.VKq(4,Qi,!i)),o.xp6(5),o.Oqu(e.description),o.xp6(2),o.Q6J("ngIf",!n.isIOS()),o.xp6(1),o.Q6J("ngIf",n.isWebView())}}function Hi(e,t){1&e&&(o.TgZ(0,"div",26),o._UZ(1,"img",27),o.TgZ(2,"div",28),o.TgZ(3,"p",29),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"l-reports-empty")))}function Bi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",30),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().showMore()}),o.ALo(1,"translate"),o.qZA()}2&e&&o.s9C("p-label",o.lcZ(1,1,"l-load-more"))}let ji=(()=>{class e{constructor(e,t,i,n,o,s,a,r){this.reportsService=e,this.windowUtilService=t,this.ionicUtilService=i,this.fileManipulationService=n,this.appTranslateService=o,this.toastsManager=s,this.route=a,this.spinnerService=r}ngOnInit(){this.isLoading=!0,this.getURLParamCategory(),this.getReports(),this.pageCount=10}getReports(){this.reportsService.getReports(this.idCategory).then(e=>{e&&(this.isLoading=!1,this.reportsInfo=e,this.showLoadMore=!0,this.pageCount>=this.reportsInfo.length&&(this.showLoadMore=!1))})}doPagination(e){this.pageCount>=e&&(this.showLoadMore=!1)}downloadReport(e,t){let i=this.fileManipulationService.formatFilenameReport([t]);this.isWebView()?(this.spinnerService.show(),this.reportsService.getReportDownloadUrl(e).then(e=>{this.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:i,fileMIMEtype:"application/pdf"},type:be.g.DownloadAndOpenFile})}).catch(e=>{this.spinnerService.hide()})):this.reportsService.openReport(e,i)}shareReport(e,t){let i=this.fileManipulationService.formatFilenameReport([t]);this.isWebView()?(this.spinnerService.show(),this.reportsService.getReportDownloadUrl(e).then(e=>{this.appTranslateService.getI18n("m-subject-app-reports").then(t=>{this.ionicUtilService.emit({args:{url:e,filename:i,subject:t},type:be.g.ShareFile})})}).catch(e=>{this.spinnerService.hide()})):this.appTranslateService.getI18n("m-not-web-view-device").then(e=>{this.toastsManager.info(e)})}showMore(){this.pageCount+=10,this.pageCount>=this.reportsInfo.length&&(this.showLoadMore=!1)}getURLParamCategory(){this.idCategory=this.route.snapshot.paramMap.get("category"),this.descriptionCategory=this.route.snapshot.paramMap.get("description")}reportsIsEmpty(){return!this.reportsInfo||0===this.reportsInfo.length}isIOS(){return this.windowUtilService.isIOS()}isWebView(){return this.windowUtilService.isWebView()}callbackIonicExternalEvent(e){(e.detail.event.type===be.g.DownloadAndOpenFile||e.detail.event.type===be.g.ShareFile)&&this.spinnerService.hide()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ei),o.Y36(te.g),o.Y36(be.l),o.Y36(Li.e),o.Y36(ee.g),o.Y36(b._W),o.Y36(A.gz),o.Y36(pi.V))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-reports"]],hostBindings:function(e,t){1&e&&o.NdJ("callbackIonicExternalEvent",function(e){return t.callbackIonicExternalEvent(e)},!1,o.evT)},decls:21,vars:16,consts:[[3,"backIsVisible","pageTitle"],[1,"period","report-list"],[1,"po-row"],[1,"field","po-sm-12","po-md-6","po-lg-6","po-xl-6"],[1,"po-font-subtitle","text-subtitle","ng-star-inserted"],[1,"field","po-hidden-sm","po-hidden-md","po-sm-3","po-md-3","po-lg-3","po-xl-3"],["class","field po-sm-12 po-md-6 po-lg-3 po-xl-3",4,"ngIf"],["id","div-annual-receipt-container",1,"panel-body","header-divider","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["id","table-annual-receipt",1,"header-divider","table","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[3,"ngClass",4,"ngFor","ngForOf"],["class","empty-center",4,"ngIf"],[1,"po-xl-4","po-lg-4","po-md-3","po-sm-3"],[1,"po-xl-4","po-lg-4","po-md-4","po-sm-6","load-more"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12","p-type","default",3,"p-label","p-click",4,"ngIf"],[1,"po-xl-4","po-lg-4","po-md-4","po-sm-4"],[1,"field","po-sm-12","po-md-6","po-lg-3","po-xl-3"],["p-clean","true","id","input-collaborator","p-icon","po-icon po-icon-search","name","search-people","p-optional","false","p-placeholder","Busque por nome",3,"ngModel","ngModelChange"],[3,"ngClass"],[1,"line-padding"],[1,"po-xl-10","po-lg-10","po-md-8","po-sm-8"],[1,"calendar-year"],[1,"po-xl-2","po-lg-2","po-md-4","po-sm-4"],["class","pull-right ico-download icon-color-totvs mouse-pointer download-icon waves-effect waves-base",3,"click",4,"ngIf"],["class","pull-right ico-share-2 icon-color-totvs mouse-pointer share-icon waves-effect waves-base",3,"click",4,"ngIf"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base",3,"click"],[1,"pull-right","ico-share-2","icon-color-totvs","mouse-pointer","share-icon","waves-effect","waves-base",3,"click"],[1,"empty-center"],["src","assets/img/empty-state.svg",1,"img-empty"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["id","empty"],["p-type","default",1,"po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"p-label","p-click"]],template:function(e,t){1&e&&(o._UZ(0,"app-page-header",0),o.ALo(1,"translate"),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"p",4),o._uU(6),o.qZA(),o.qZA(),o._UZ(7,"div",5),o.YNc(8,Ri,2,1,"div",6),o.qZA(),o.qZA(),o.TgZ(9,"div",7),o.TgZ(10,"table",8),o.TgZ(11,"tbody"),o.YNc(12,Gi,9,6,"tr",9),o.ALo(13,"slice"),o.ALo(14,"reportsFilter"),o.qZA(),o.qZA(),o.qZA(),o.YNc(15,Hi,6,3,"div",10),o.TgZ(16,"div",2),o._UZ(17,"div",11),o.TgZ(18,"div",12),o.YNc(19,Bi,2,3,"po-button",13),o.qZA(),o._UZ(20,"div",14),o.qZA()),2&e&&(o.s9C("pageTitle",o.lcZ(1,7,"l-generate-report")),o.Q6J("backIsVisible",!0),o.xp6(6),o.Oqu(t.descriptionCategory),o.xp6(2),o.Q6J("ngIf",!t.reportsIsEmpty()),o.xp6(4),o.Q6J("ngForOf",o.Dn7(13,9,o.xi3(14,13,t.reportsInfo,t.searchText),0,t.pageCount)),o.xp6(3),o.Q6J("ngIf",t.reportsIsEmpty()&&!t.isLoading),o.xp6(4),o.Q6J("ngIf",t.showLoadMore))},directives:[T.q,s.O5,s.sg,f.xxV,d.JJ,d.On,s.mk,f.bOz],pipes:[h.X$,s.OU,Vi],styles:[".line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.line-padding[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:5px;margin-bottom:0}#div-annual-receipt-container[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:20px!important}table#table-annual-receipt.table[_ngcontent-%COMP%]{margin-bottom:0}.calendar-year[_ngcontent-%COMP%]{font-size:14px}.download-icon[_ngcontent-%COMP%]{padding:5px}.share-icon[_ngcontent-%COMP%]{padding:5px}.load-more[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.report-list[_ngcontent-%COMP%]{margin-top:25px}.img-empty[_ngcontent-%COMP%]{width:100%;max-width:220px;padding-bottom:10px}@media only screen and (min-width: 481px) and (max-width: 960px){.img-empty[_ngcontent-%COMP%]{width:100%;max-width:365px;padding-bottom:10px}}.empty-center[_ngcontent-%COMP%]{text-align:center}"]}),e})();var $i=i(42628),Wi=i(85385),Ki=i(63114),Xi=i(49512),en=i(12994),tn=(i(54683),i(18648));function nn(e,t){1&e&&(o.TgZ(0,"div",13),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-reason")," "))}function on(e,t){1&e&&(o.TgZ(0,"div",2),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-date-initial")," "))}function sn(e,t){1&e&&(o.TgZ(0,"div",2),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-date-end")," "))}function an(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"titleCase"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.lcZ(2,1,e.notification.fieldsView.reason.value)," ")}}function rn(e,t){if(1&e&&(o.TgZ(0,"div",14),o.YNc(1,an,3,3,"span",15),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.notification.fieldsView.reason)}}function ln(e,t){if(1&e&&(o.TgZ(0,"span",17),o._uU(1),o.ALo(2,"utcDate"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.xi3(2,1,e.notification.fieldsView.initDate.value,"dd/MM/yyyy")," ")}}function cn(e,t){if(1&e&&(o.TgZ(0,"div",5),o.YNc(1,ln,3,4,"span",16),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.notification.fieldsView.initDate)}}function pn(e,t){if(1&e&&(o.TgZ(0,"span",19),o._uU(1),o.ALo(2,"utcDate"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.xi3(2,1,e.notification.fieldsView.endDate.value,"dd/MM/yyyy")," ")}}function dn(e,t){if(1&e&&(o.TgZ(0,"div",5),o.YNc(1,pn,3,4,"span",18),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.notification.fieldsView.endDate)}}function gn(e,t){1&e&&(o.TgZ(0,"div",13),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-initial-hour")," "))}function un(e,t){1&e&&(o.TgZ(0,"div",13),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-final-hour")," "))}function hn(e,t){1&e&&(o.TgZ(0,"div",9),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-total-hours")," "))}function mn(e,t){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",e.initHourFormatted," ")}}function fn(e,t){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",e.endHourFormatted," ")}}function vn(e,t){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.ALo(2,"formatMillisecondsAsHour"),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",o.lcZ(2,1,e.notification.fieldsView.totalHours.value)," ")}}function bn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"titleCase"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.lcZ(2,1,e.notification.fieldsView.justify.value)," ")}}function xn(e,t){if(1&e&&(o.TgZ(0,"div",1),o.TgZ(1,"div",20),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",21),o.YNc(5,bn,3,3,"span",15),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-justification")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.justify)}}let yn=(()=>{class e{constructor(){this.initHourFormatted="",this.endHourFormatted=""}ngOnInit(){this.formatPeriod()}formatPeriod(){this.notification.fieldsView.hourInit&&""!==this.notification.fieldsView.hourInit.trim()&&(this.initHourFormatted=this.notification.fieldsView.hourInit),this.notification.fieldsView.hourEnd&&""!==this.notification.fieldsView.hourEnd.trim()&&(this.endHourFormatted=this.notification.fieldsView.hourEnd)}isVisible(e){return!e||!e.props||e.props.visible}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-card-allowance"]],inputs:{notification:"notification"},decls:30,vars:25,consts:[[1,"card-block"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"text-bold-default","po-xl-3","po-lg-3","po-md-3","po-sm-3","title"],["class","text-bold-default title po-xl-3 po-lg-3 po-md-3 po-sm-3",4,"ngIf"],["class","text-bold-default po-xl-3 po-lg-3 po-md-3 po-sm-3 title",4,"ngIf"],[1,"po-xl-3","po-lg-3","po-md-3","po-sm-3","information"],["class","information po-xl-3 po-lg-3 po-md-3 po-sm-3",4,"ngIf"],["class","po-xl-3 po-lg-3 po-md-3 po-sm-3 information",4,"ngIf"],["class","text-bold-default title po-md-3 po-sm-3 po-lg-3 po-xl-3",4,"ngIf"],[1,"text-bold-default","title","po-md-3","po-sm-3","po-lg-3","po-xl-3"],["class","information po-md-3 po-sm-3 po-lg-3 po-xl-3",4,"ngIf"],[1,"information","po-md-3","po-sm-3","po-lg-3","po-xl-3"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],[1,"text-bold-default","title","po-xl-3","po-lg-3","po-md-3","po-sm-3"],[1,"information","po-xl-3","po-lg-3","po-md-3","po-sm-3"],[4,"ngIf"],["name","allowanceInitDate",4,"ngIf"],["name","allowanceInitDate"],["name","allowanceEndDate",4,"ngIf"],["name","allowanceEndDate"],[1,"text-bold-default","title","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"information","po-xl-12","po-lg-12","po-md-12","po-sm-12"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.YNc(5,nn,3,3,"div",3),o.YNc(6,on,3,3,"div",4),o.YNc(7,sn,3,3,"div",4),o.qZA(),o.TgZ(8,"div",1),o.TgZ(9,"div",5),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.YNc(12,rn,2,1,"div",6),o.YNc(13,cn,2,1,"div",7),o.YNc(14,dn,2,1,"div",7),o.qZA(),o.TgZ(15,"div",1),o.YNc(16,gn,3,3,"div",3),o.YNc(17,un,3,3,"div",3),o.YNc(18,hn,3,3,"div",8),o.TgZ(19,"div",9),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.qZA(),o.TgZ(22,"div",1),o.YNc(23,mn,2,1,"div",10),o.YNc(24,fn,2,1,"div",10),o.YNc(25,vn,3,3,"div",10),o.TgZ(26,"div",11),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.qZA(),o.YNc(29,xn,6,4,"div",12),o.qZA()),2&e&&(o.xp6(3),o.hij(" ",o.lcZ(4,17,"l-type")," "),o.xp6(2),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.reason)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endDate)),o.xp6(3),o.hij(" ",o.lcZ(11,19,"l-allowance")," "),o.xp6(2),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.reason)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endDate)),o.xp6(2),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initHour)&&t.notification.fieldsView.initHour&&""!==t.initHourFormatted),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endHour)&&t.notification.fieldsView.endHour&&""!==t.endHourFormatted),o.xp6(1),o.Q6J("ngIf",t.notification.fieldsView.totalHours&&t.isVisible(t.notification.fieldsView.totalHours)),o.xp6(2),o.hij(" ",o.lcZ(21,21,"l-status")," "),o.xp6(3),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initHour)&&t.notification.fieldsView.initHour&&""!==t.initHourFormatted),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endHour)&&t.notification.fieldsView.endHour&&""!==t.endHourFormatted),o.xp6(1),o.Q6J("ngIf",t.notification.fieldsView.totalHours&&t.isVisible(t.notification.fieldsView.totalHours)),o.xp6(2),o.hij(" ",o.lcZ(28,23,"l-pending-approval")," "),o.xp6(2),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.justify)))},directives:[s.O5],pipes:[h.X$,oe.r,Xe.$,tn.P],styles:['.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}',""]}),e})();function Zn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij("(",e.notification.fieldsView.direction.value,")")}}function wn(e,t){if(1&e&&(o.TgZ(0,"div",2),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o._uU(5),o.ALo(6,"translate"),o.YNc(7,Zn,2,1,"span",8),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,3,"l-type")," "),o.xp6(3),o.hij(" ",o.lcZ(6,5,"l-clocking-hour")," "),o.xp6(2),o.Q6J("ngIf",e.notification.fieldsView.direction.value)}}function Cn(e,t){1&e&&(o.TgZ(0,"div",9),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-date")," "))}function Mn(e,t){1&e&&(o.TgZ(0,"div",9),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-hour")," "))}function An(e,t){if(1&e&&(o.TgZ(0,"div",10),o._uU(1),o.ALo(2,"utcDate"),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",o.xi3(2,1,e.notification.fieldsView.initDate.value,"dd/MM/yyyy")," ")}}function Pn(e,t){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.hij(" ",e.notification.fieldsView.hourInit," ")}}function On(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.notification.fieldsView.reason.value," ")}}function qn(e,t){if(1&e&&(o.TgZ(0,"div",2),o.TgZ(1,"div",12),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",13),o.YNc(5,On,2,1,"span",8),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-reason")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.reason)}}function Tn(e,t){if(1&e&&(o.TgZ(0,"div",13),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.notification.fieldsView.justify.value," ")}}function _n(e,t){if(1&e&&(o.TgZ(0,"div",2),o.TgZ(1,"div",12),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.YNc(4,Tn,2,1,"div",14),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-justification")," "),o.xp6(2),o.Q6J("ngIf",e.notification.fieldsView.justify)}}let Sn=(()=>{class e{constructor(){}isVisible(e){return!e||!e.props||e.props.visible}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-card-clocking"]],inputs:{notification:"notification"},decls:9,vars:7,consts:[[1,"card-block"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["class","text-bold-default title po-md-6 po-sm-6 po-lg-6 po-xl-6",4,"ngIf"],["class","information po-md-6 po-sm-6 po-lg-6 po-xl-6","name","timesheetInitDate",4,"ngIf"],["class","information po-md-6 po-sm-6 po-lg-6 po-xl-6",4,"ngIf"],[1,"text-bold-default","po-xl-12","po-lg-12","po-md-12","po-sm-12","title"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","information"],[4,"ngIf"],[1,"text-bold-default","title","po-md-6","po-sm-6","po-lg-6","po-xl-6"],["name","timesheetInitDate",1,"information","po-md-6","po-sm-6","po-lg-6","po-xl-6"],[1,"information","po-md-6","po-sm-6","po-lg-6","po-xl-6"],[1,"text-bold-default","title","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"information","po-xl-12","po-lg-12","po-md-12","po-sm-12"],["class","information po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,wn,8,7,"div",1),o.TgZ(2,"div",2),o.YNc(3,Cn,3,3,"div",3),o.YNc(4,Mn,3,3,"div",3),o.YNc(5,An,3,4,"div",4),o.YNc(6,Pn,2,1,"div",5),o.qZA(),o.YNc(7,qn,6,4,"div",1),o.YNc(8,_n,5,4,"div",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.direction)),o.xp6(2),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initHour)),o.xp6(1),o.Q6J("ngIf",t.notification.fieldsView.initDate),o.xp6(1),o.Q6J("ngIf",t.notification.fieldsView.hourInit),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.reason)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.justify)))},directives:[s.O5],pipes:[h.X$,Xe.$],styles:['.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}',""]}),e})();function In(e,t){if(1&e&&(o.TgZ(0,"span",9),o._uU(1),o.ALo(2,"utcDate"),o.ALo(3,"utcDate"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.AsE(" ",o.xi3(2,2,e.notification.fieldsView.initVacationLimit.value,"dd/MM/yyyy")," - ",o.xi3(3,5,e.notification.fieldsView.endVacationLimit.value,"dd/MM/yyyy")," ")}}function Dn(e,t){if(1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,In,4,8,"span",8),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-absence-type-vacationLimit")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.initVacationLimit&&e.notification.fieldsView.endVacationLimit)}}function kn(e,t){if(1&e&&(o.TgZ(0,"span",12),o._uU(1),o.ALo(2,"utcDate"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.xi3(2,1,e.notification.fieldsView.initDate.value,"dd/MM/yyyy")," ")}}function Ln(e,t){if(1&e&&(o.TgZ(0,"div",10),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,kn,3,4,"span",11),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-begin-vacation")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.initDate)}}function Nn(e,t){if(1&e&&(o.TgZ(0,"span",14),o._uU(1),o.ALo(2,"utcDate"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",o.xi3(2,1,e.notification.fieldsView.endDate.value,"dd/MM/yyyy")," ")}}function En(e,t){if(1&e&&(o.TgZ(0,"div",10),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,Nn,3,4,"span",13),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-return-vacation")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.endDate)}}function Un(e,t){if(1&e&&(o.TgZ(0,"span",16),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.notification.fieldsView.totalDays.value," ")}}function Fn(e,t){if(1&e&&(o.TgZ(0,"div",10),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,Un,2,1,"span",15),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-vacations-day")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.totalDays)}}function Jn(e,t){if(1&e&&(o.TgZ(0,"span",18),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.notification.fieldsView.vacationBonus.value," ")}}function Vn(e,t){if(1&e&&(o.TgZ(0,"div",10),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,Jn,2,1,"span",17),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-allowance-day")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.vacationBonus)}}function Rn(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.notification.fieldsView.justify.value," ")}}function Yn(e,t){if(1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",7),o.YNc(5,Rn,2,1,"span",19),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,2,"l-justification")," "),o.xp6(3),o.Q6J("ngIf",e.notification.fieldsView.justify)}}let zn=(()=>{class e{constructor(){}ngOnInit(){}isVisible(e){return!e||!e.props||e.props.visible}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-card-vacation"]],inputs:{notification:"notification"},decls:13,vars:12,consts:[[1,"card-block"],[1,"text-bold-default","po-xl-12","po-lg-12","po-md-12","po-sm-12","title"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12","information"],["class","po-xl-12 po-lg-12 po-md-12 po-sm-12",4,"ngIf"],["class","po-xl-6 po-lg-6 po-md-6 po-sm-6",4,"ngIf"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"text-bold-default","title"],[1,"information"],["name","vacationPeriodLimit",4,"ngIf"],["name","vacationPeriodLimit"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-6"],["name","vacationInitDate",4,"ngIf"],["name","vacationInitDate"],["name","vacationEndDate",4,"ngIf"],["name","vacationEndDate"],["name","vacationTotalDays",4,"ngIf"],["name","vacationTotalDays"],["name","vacationBonus",4,"ngIf"],["name","vacationBonus"],[4,"ngIf"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",2),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.YNc(7,Dn,6,4,"div",3),o.YNc(8,Ln,6,4,"div",4),o.YNc(9,En,6,4,"div",4),o.YNc(10,Fn,6,4,"div",4),o.YNc(11,Vn,6,4,"div",4),o.YNc(12,Yn,6,4,"div",3),o.qZA()),2&e&&(o.xp6(2),o.hij(" ",o.lcZ(3,8,"l-type")," "),o.xp6(3),o.hij(" ",o.lcZ(6,10,"l-vacation")," "),o.xp6(2),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initVacationLimit)&&t.isVisible(t.notification.fieldsView.endVacationLimit)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.initDate)&&t.isVisible(t.notification.fieldsView.endDate)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.endDate)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.totalDays)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.vacationBonus)),o.xp6(1),o.Q6J("ngIf",t.isVisible(t.notification.fieldsView.justify)&&t.notification.fieldsView.justify.value))},directives:[s.O5],pipes:[h.X$,Xe.$],styles:['.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}',""]}),e})();function Qn(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"translate"),o._UZ(3,"po-tag",18),o.ALo(4,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,2,"l-allowance-request")," "),o.xp6(2),o.s9C("p-value",o.lcZ(4,4,"l-pending-approval")))}function Gn(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"translate"),o._UZ(3,"po-tag",18),o.ALo(4,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,2,"l-clocking-request")," "),o.xp6(2),o.s9C("p-value",o.lcZ(4,4,"l-pending-approval")))}function Hn(e,t){1&e&&(o.TgZ(0,"div"),o._uU(1),o.ALo(2,"translate"),o._UZ(3,"po-tag",18),o.ALo(4,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,2,"l-vacation-request")," "),o.xp6(2),o.s9C("p-value",o.lcZ(4,4,"l-pending-approval")))}function Bn(e,t){if(1&e&&(o.TgZ(0,"div",19),o._UZ(1,"app-card-allowance",20),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("notification",e.notificationsView)}}function jn(e,t){if(1&e&&(o.TgZ(0,"div",19),o._UZ(1,"app-card-clocking",20),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("notification",e.notificationsView)}}function $n(e,t){if(1&e&&(o.TgZ(0,"div",19),o._UZ(1,"app-card-vacation",20),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("notification",e.notificationsView)}}function Wn(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",21),o.NdJ("p-click",function(){o.CHM(e);const t=o.oxw(2);return t.getAttachedFile(t.notificationsView.fieldsView.requestId.value)}),o.ALo(1,"translate"),o.qZA()}2&e&&o.s9C("p-label",o.lcZ(1,1,"l-view-medical-certificate"))}function Kn(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",3),o.TgZ(1,"app-card"),o.TgZ(2,"div",4),o.TgZ(3,"div",5),o.YNc(4,Qn,5,6,"div",6),o.YNc(5,Gn,5,6,"div",6),o.YNc(6,Hn,5,6,"div",6),o._UZ(7,"po-divider"),o.qZA(),o.TgZ(8,"div",7),o._UZ(9,"div",8),o.qZA(),o.TgZ(10,"div",9),o.TgZ(11,"div",10),o.TgZ(12,"strong"),o._uU(13),o.qZA(),o.qZA(),o.TgZ(14,"div",11),o._uU(15),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"div",12),o.YNc(17,Bn,2,1,"div",13),o.YNc(18,jn,2,1,"div",13),o.YNc(19,$n,2,1,"div",13),o.qZA(),o.TgZ(20,"div",14),o.YNc(21,Wn,2,3,"po-button",15),o.TgZ(22,"po-button",16),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().approve()}),o.ALo(23,"translate"),o.qZA(),o.TgZ(24,"po-button",17),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().reprove()}),o.ALo(25,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(4),o.Q6J("ngIf","allowance"===e.notificationsView.type),o.xp6(1),o.Q6J("ngIf","clocking"==e.notificationsView.type),o.xp6(1),o.Q6J("ngIf","vacation"==e.notificationsView.type),o.xp6(3),o.Udp("background-image",e.getAvatar(e.notificationsView.employeeSummary.id)),o.MGl("id","photo-",e.notificationsView.id,""),o.xp6(4),o.Oqu(e.notificationsView.employeeSummary.name),o.xp6(2),o.Oqu(e.notificationsView.employeeSummary.roleDescription),o.xp6(2),o.Q6J("ngIf","allowance"===e.notificationsView.type),o.xp6(1),o.Q6J("ngIf","clocking"==e.notificationsView.type),o.xp6(1),o.Q6J("ngIf","vacation"==e.notificationsView.type),o.xp6(2),o.Q6J("ngIf","allowance"===e.notificationsView.type&&e.allowanceHasAttachment),o.xp6(1),o.s9C("p-label",o.lcZ(23,14,"l-approve")),o.xp6(2),o.s9C("p-label",o.lcZ(25,16,"l-decline"))}}let Xn=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l){this.location=e,this.router=t,this.route=i,this.profileService=n,this.sanitizationService=o,this.appTranslateService=s,this.notificationsService=a,this.allowanceService=r,this.fieldPropertiesService=l,this.avatar=[],this.allowanceHasAttachment=!1,this.reasonRequired=!1,this.isReprove=!1,this.notificationsView=this.route.snapshot.data.notificationView,this.notificationsView||this.router.navigate(["request/notifications"])}ngOnDestroy(){this.notificationsView=void 0}ngOnInit(){var e,t,i;this.allowanceHasAttachment=/true/i.test(null===(i=null===(t=null===(e=this.notificationsView)||void 0===e?void 0:e.fieldsView)||void 0===t?void 0:t.hasAttachment)||void 0===i?void 0:i.value),this.verifyModal=[!1,!1,{}],this.getModalActions(),this.getFieldProps()}approve(){return(0,U.mG)(this,void 0,void 0,function*(){this.justifyNotification.isReprove=!1,this.isReprove=!1,this.modalText=(yield this.translateString("l-approve-notification")).toString(),this.reasonRequired=!1,this.verifyModal=[!0,!0,this.notificationsView],this.openModal()})}reprove(){return(0,U.mG)(this,void 0,void 0,function*(){this.justifyNotification.isReprove=!0,this.isReprove=!0,this.modalText=void 0,this.reasonRequired=!0,this.verifyModal=[!0,!1,this.notificationsView],this.openModal()})}reprovedReasonResponse(e){e?this.confirmModal():this.closeModal()}back(){this.location.back()}getAvatar(e){return this.avatar[e]||(this.avatar[e]=this.sanitizationService.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(t=>{t&&t.content&&(this.avatar[e]=this.sanitizationService.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))})),this.avatar[e]}translateString(e){return this.appTranslateService.getI18n(e)}getAttachedFile(e){return(0,U.mG)(this,void 0,void 0,function*(){try{const t=yield this.allowanceService.getAttachedFile(e);t&&this.initializeFilePreviewDialog("timesheet/allowances/file/download",t,e)}catch(t){console.error(t)}})}getFieldProps(){var e;return(0,U.mG)(this,void 0,void 0,function*(){const t=yield null===(e=this.fieldPropertiesService)||void 0===e?void 0:e.getFieldProperties("notification");(null==t?void 0:t.length)&&t.forEach(e=>{"reason"===(null==e?void 0:e.field)&&(this.reasonFieldProps=e)})})}getModalActions(){return(0,U.mG)(this,void 0,void 0,function*(){this.closeAction={action:()=>{this.closeModal()},label:(yield this.translateString("l-cancel-title")).toString(),danger:!0},this.confirmAction={action:()=>{this.confirmModal()},label:(yield this.translateString("l-yes")).toString()}})}confirmModal(){var e;return(0,U.mG)(this,void 0,void 0,function*(){this.isReprove&&(null===(e=this.justifyNotification.reasonFieldProps)||void 0===e?void 0:e.required)&&!this.justifyNotification.justifyReprovedReason||(this.verifyModal[0]&&this.sendData(this.verifyModal[1],this.verifyModal[2]),this.closeModal())})}openModal(){this.justifyNotification.openModal()}closeModal(){this.justifyNotification.closeModal(),this.verifyModal=[!1,!1,{}]}sendData(e,t){let i,n=e?"m-approved-request":"m-reprove-request";i={id:t.id,status:e?$i.z.StatusEnum.Approved:$i.z.StatusEnum.Rejected,type:t.type,reason:this.justifyNotification.justifyReprovedReason};const o={date:new Date,approved:e,requisitions:[i],justify:this.justifyNotification.justifyReprovedReason};this.notificationsService.sendPut(o,n),this.justifyNotification.justifyReprovedReason="",this.router.navigate(["request/notifications"])}initializeFilePreviewDialog(e,t,i){this.previewFileDialog.initializeComponent(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.Ye),o.Y36(A.F0),o.Y36(A.gz),o.Y36(Q.H),o.Y36(n.H7),o.Y36(ee.g),o.Y36(en.T),o.Y36(Xi.n),o.Y36(G.c))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-detail-nofitication"]],viewQuery:function(e,t){if(1&e&&(o.Gf(Ki.K,5),o.Gf(Wi.j,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.previewFileDialog=e.first),o.iGM(e=o.CRH())&&(t.justifyNotification=e.first)}},decls:6,vars:12,consts:[["backIsVisible","true",3,"pageTitle","backFunction"],["class","po-ml-5 po-mr-5",4,"ngIf"],[3,"title","primaryAction","modalText","secondaryAction","reasonRequired","reasonFieldProps","reprovedReason"],[1,"po-ml-5","po-mr-5"],["card-header","",1,"mr-card-header"],[1,"card-header-title","po-lg-12","po-md-12","po-sm-12","po-xs-12"],[4,"ngIf"],[1,"avatar-card","pull-left",2,"display","inline"],[1,"avatar-small","avatar-align",3,"id"],[1,"aboutEmployee"],[1,"text-bold-default","name"],[1,"office"],["card-body",""],["class","content",4,"ngIf"],["card-footer","",1,"content-footer","po-mt-1","po-lg-12","po-md-12","po-sm-12","po-xs-12"],["id","btn-attachment","class","pull-left po-lg-2 po-md-2 po-sm-6 po-xl-2","p-icon","po-icon-attach",3,"p-label","p-click",4,"ngIf"],["id","btn-approve","p-type","primary",1,"pull-right","po-lg-2","po-md-2","po-sm-6","po-xl-2",3,"p-label","p-click"],["id","btn-reprove","p-type","danger",1,"pull-right","po-lg-2","po-md-2","po-sm-6","po-xl-2",3,"p-label","p-click"],["p-color","color-08",1,"po-ml-2",3,"p-value"],[1,"content"],[3,"notification"],["id","btn-attachment","p-icon","po-icon-attach",1,"pull-left","po-lg-2","po-md-2","po-sm-6","po-xl-2",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.back()}),o.ALo(1,"translate"),o.qZA(),o.YNc(2,Kn,26,18,"div",1),o.TgZ(3,"app-justify-notification",2),o.NdJ("reprovedReason",function(e){return t.reprovedReasonResponse(e)}),o.ALo(4,"translate"),o.qZA(),o._UZ(5,"app-preview-file")),2&e&&(o.s9C("pageTitle",o.lcZ(1,8,"l-approvals")),o.xp6(2),o.Q6J("ngIf",t.notificationsView),o.xp6(1),o.Q6J("title",o.lcZ(4,10,"l-confirmation"))("primaryAction",t.confirmAction)("modalText",t.modalText)("secondaryAction",t.closeAction)("reasonRequired",t.reasonRequired)("reasonFieldProps",t.reasonFieldProps))},directives:[T.q,s.O5,Wi.j,Ki.K,_.A,f.Gk3,f.bOz,f.lzV,yn,Sn,zn],pipes:[h.X$],styles:["[_nghost-%COMP%]     .po-wrapper .po-page{display:inline-block;height:100%!important}",'.clear[_ngcontent-%COMP%]{clear:both}.page-title[_ngcontent-%COMP%]{margin-top:0;padding:0}.line[_ngcontent-%COMP%]{background-color:#a9a2a2;margin-left:-55px;padding-right:55px}.titleInput[_ngcontent-%COMP%]{color:#a9a2a2}.space[_ngcontent-%COMP%]{margin-left:-50px;padding-right:-50px;margin-bottom:25px}.panel-body[_ngcontent-%COMP%]{margin-top:0}.card-block[_ngcontent-%COMP%]{margin-top:5px;height:100px}.title[_ngcontent-%COMP%]{padding-top:1.5em;color:#4a5c60;font-size:14px}.card-header-title[_ngcontent-%COMP%]{font-size:20px;font-family:"NunitoSans";color:#4a5c60}.information[_ngcontent-%COMP%]{padding-bottom:8px;font-size:14px;min-height:28px}.panel-body[_ngcontent-%COMP%]{margin-top:48px}.information-margin[_ngcontent-%COMP%]{padding-bottom:8px;font-size:15px;margin-left:-4px}.title-margin[_ngcontent-%COMP%]{margin-left:-4px}.buttonDefault[_ngcontent-%COMP%]{margin-bottom:3%;border:1px solid #0eabef;font-weight:bold;font-size:16px;background-color:#fff;height:44px;border-radius:4px}.space[_ngcontent-%COMP%]{margin-bottom:180px}.name[_ngcontent-%COMP%]{font-size:18px;margin-left:55px;font-family:"NunitoSans";color:#4a5c60}.office[_ngcontent-%COMP%]{font-size:15px;color:#a9a2a2;margin-left:55px}.content-footer[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.declineButton[_ngcontent-%COMP%]{float:left;margin-right:15px;font-size:16px;color:#c64840;font-weight:bold}.approveButton[_ngcontent-%COMP%]{float:left;color:#0c9abe;font-weight:bold;font-size:16px}.toolBarSelected[_ngcontent-%COMP%]{background-color:#021b44;color:#fff}.img-profile-notifications[_ngcontent-%COMP%]{width:48px;height:48px;margin-right:5px}.avatar-align[_ngcontent-%COMP%]{height:40px!important;width:40px!important;margin-top:4px;margin-left:10px}']}),e})(),eo=(()=>{class e{constructor(){this.notificationSubscription=null,this.notification=null}resolve(e){return en.T.notification}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var to=i(21360);function io(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"app-page-header",3),o.NdJ("backFunction",function(){return o.CHM(e),o.oxw().back()}),o.qZA(),o.TgZ(2,"div",4),o.TgZ(3,"h2",5),o._uU(4),o.ALo(5,"translate"),o.ALo(6,"translate"),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"div",6),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"po-textarea",7),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demissionJustify=t}),o.qZA(),o.TgZ(12,"div",8),o.TgZ(13,"po-button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().back()}),o.ALo(14,"translate"),o.qZA(),o.TgZ(15,"po-button",10),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return t.updateDemission(t.demissionJustify)}),o.ALo(16,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("backIsVisible",e.viewIsMobile),o.xp6(3),o.lnq(" ",o.lcZ(5,8,"l-requisition-details-before"),"",o.lcZ(6,10,e.isApproving?"l-requisition-approve":"l-requisition-reproved"),"",o.lcZ(7,12,"l-requisition-ending")," "),o.xp6(5),o.hij(" ",o.lcZ(10,14,"l-requisition-justify-label")," "),o.xp6(2),o.Q6J("ngModel",e.demissionJustify),o.xp6(2),o.s9C("p-label",o.lcZ(14,16,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(16,18,"l-save"))}}function no(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"app-page-header",11),o.NdJ("backFunction",function(){return o.CHM(e),o.oxw().back()}),o.qZA(),o.TgZ(2,"div",4),o.TgZ(3,"span"),o.TgZ(4,"po-select",12),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().type=t}),o.ALo(5,"translate"),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.TgZ(7,"div",4),o.TgZ(8,"po-textarea",13),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demissionJustify=t}),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",8),o.TgZ(11,"po-button",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().back()}),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"po-button",15),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return t.updateDemission(t.demissionJustify,t.type)}),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("backIsVisible",e.viewIsMobile),o.xp6(3),o.s9C("p-label",o.lcZ(5,11,"l-define-next-step")),o.s9C("p-placeholder",o.lcZ(6,13,"l-select-option")),o.Q6J("ngModel",e.type)("p-options",e.steps),o.xp6(4),o.s9C("p-label",o.lcZ(9,15,"l-request-justification")),o.Q6J("ngModel",e.demissionJustify),o.xp6(3),o.s9C("p-label",o.lcZ(12,17,"l-cancel")),o.Q6J("ngClass",e.isMobile()?"mobile":""),o.xp6(2),o.s9C("p-label",o.lcZ(14,19,"l-confirm")),o.Q6J("ngClass",e.isMobile()?"mobile":"")}}let oo=(()=>{class e extends gt.R{constructor(e,t,i,n,s){super(),this.requisitionsService=e,this.translateService=t,this.globals=i,this.toastr=n,this.windowUtilService=s,this.steps=[],this.getBackEvent=new o.vpe,this.getRequisitions=new o.vpe,this.cleanFinishedRequisitions=new o.vpe,this.employee=void 0,this.demissionJustify=""}back(){this.getBackEvent.emit()}updateDemission(e,t=null){return(0,U.mG)(this,void 0,void 0,function*(){const i=yield this.getEmployeeSummary();this.demissionResponse={approved:this.isApproving,date:V.Em.formatUTCDate(new Date),justify:e,requisitions:[]},this.demissionRequisition={id:this.requisition.id,status:this.requisition.status},this.demissionResponse.requisitions.push(this.demissionRequisition),this.requisitionsService.updateRequisitions(i,this.demissionResponse,t).then(e=>{this.cleanFinishedRequisitions.emit(),this.showMessageSuccess("l-msg-save-success"),this.getRequisitions.emit(),this.back()})})}isRM(){return xe.ZP.isErpRM()}isMobile(){return this.windowUtilService.isMobileDevice()}showMessageSuccess(e){this.translateService.getI18n(e).then(e=>{this.toastr.success(e)})}getEmployeeSummary(){return(0,U.mG)(this,void 0,void 0,function*(){let e=Ze.N.loggedUser;return this.globals.getEmployeeSummary().then(t=>{this.employee=t,this.employee&&(e=this.employee.id)}),yield xe.ZP.checkIfEncode(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(to._),o.Y36(ee.g),o.Y36(fe.O),o.Y36(b._W),o.Y36(te.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-demission-confirm"]],inputs:{isApproving:"isApproving",requisition:"requisition",finishedRequisitions:"finishedRequisitions",steps:"steps"},outputs:{getBackEvent:"getBackEvent",getRequisitions:"getRequisitions",cleanFinishedRequisitions:"cleanFinishedRequisitions"},features:[o.qOj],decls:3,vars:3,consts:[["id","filter","isVisible","true",1,"dialog",3,"closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",4,"ngIf"],["dialog-content",""],["pageTitle","l-demission-request-confirm",3,"backIsVisible","backFunction"],[1,"container-content"],[1,"justify-title"],[1,"justify-label"],["p-rows","5",1,"justify-area","width100percent",3,"ngModel","ngModelChange"],[1,"holder"],[1,"button",3,"p-label","click"],["p-type","primary",1,"button",3,"p-label","click"],["pageTitle","l-next-step",3,"backIsVisible","backFunction"],["name","typeSelect",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","justify-area","width100percent",3,"ngModel","p-label","p-placeholder","p-options","ngModelChange"],["p-rows","5",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","po-mt-5","justify-area","width100percent",3,"ngModel","p-label","ngModelChange"],[1,"button","button-cancel",3,"ngClass","p-label","click"],["p-type","primary",1,"button",3,"ngClass","p-label","click"]],template:function(e,t){1&e&&(o.TgZ(0,"app-dialog",0),o.NdJ("closeDialogEvent",function(){return t.back()}),o.YNc(1,io,17,20,"div",1),o.YNc(2,no,15,21,"div",1),o.qZA()),2&e&&(o.Q6J("closeDialogButtonEnable",!0),o.xp6(1),o.Q6J("ngIf",!t.isRM()),o.xp6(1),o.Q6J("ngIf",t.isRM()))},directives:[ke.a,s.O5,T.q,f.gJm,d.JJ,d.On,f.bOz,f.C9q,s.mk],pipes:[h.X$],styles:['@media screen and (min-width: 768px){.button[_ngcontent-%COMP%]{width:5rem}}@media screen and (min-width: 991px){.button[_ngcontent-%COMP%]{margin-left:15px}}@media screen and (min-width: 991px){.holder[_ngcontent-%COMP%]{text-align:right}}.justify-area[_ngcontent-%COMP%]{margin:10px 0;padding:0!important}.justify-label[_ngcontent-%COMP%]{margin:10px 0;font-size:14px}.holder[_ngcontent-%COMP%]{margin-top:15px}@media screen and (max-width: 475px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:15px 35px}}[_nghost-%COMP%]     .dialog .justify-title{margin:25px 0 15px;padding-left:0;font-family:"NunitoSans";font-weight:300;white-space:normal;white-space:initial}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .po-button{display:block;width:100%}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}[_nghost-%COMP%]     .dialog .container-content{margin-bottom:15px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}@media (min-width: 525px){[_nghost-%COMP%]     #dialogCloseBtn{top:43px!important}}@media (min-width: 475px) and (max-width: 525px){[_nghost-%COMP%]     #dialogCloseBtn{top:32px}}@media (max-width: 474px){[_nghost-%COMP%]     #dialogCloseBtn{top:43px}}[_nghost-%COMP%]     .button-cancel .po-button{color:#d13f43;border-color:#d13f43}[_nghost-%COMP%]     po-select .po-select-content{margin-top:7px!important}@media only screen and (max-width: 477px){.container-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.holder[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:space-between}.mobile[_ngcontent-%COMP%]{display:block!important;padding:0!important;width:48%}[_nghost-%COMP%]     .po-button{height:44px}}']}),e})();var so=i(82236);class ao{constructor(){this.former=!1,this.colaborator="",this.startDate="",this.initiative={id:"",name:""},this.demissionReasonDate="",this.demissionJustification="",this.demissionNewEmployee=!1,this.demissionPriorNotice={id:"",name:""},this.demissionReason={id:"",name:""},this.priorDays="",this.demissionTypes={id:"",name:""},this.demissionDate=new Date}}var ro=i(14323);let lo=(()=>{class e{constructor(e){this.teamService=e,this.id=F.N.loggedUser,this.lookupOpen=new j.xQ,this.isGetCurrentEmployees=!1,this.lookupOpenObservable=this.lookupOpen.asObservable(),this.emitModel=new j.xQ,this.emitModelObservable=this.emitModel.asObservable(),this.teamParams=new ro.$(0,0)}getFilteredItems(e){return this.isGetCurrentEmployees=JSON.parse(window.localStorage.getItem("isGetCurrentEmployees")),this.lookupOpen.next(),this.teamParams.name=e.filter?e.filter:"",this.teamParams.page=e.page,this.teamParams.pageSize=e.pageSize,(0,$.D)(this.teamService.getEmployees(this.id,this.teamParams,this.isGetCurrentEmployees))}getObjectByValue(e){let t;return this.teamService.getEmployees(this.id,this.teamParams).then(e=>{t={id:e.items[0].id,name:e.items[0].name},this.emitModel.next(t)}),(0,$.D)(t)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(so.s))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const co=["demissionForm"];function po(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",15),o.TgZ(1,"po-checkbox",16),o.NdJ("p-change",function(){return o.CHM(e),o.oxw().addDemissionFormer()})("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.former=t}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-desmissal-former")),o.Q6J("ngModel",e.demission.former)}}function go(e,t){if(1&e&&(o.TgZ(0,"option",20),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.Q6J("ngValue",e),o.xp6(1),o.hij(" ",null==e?null:e.name," ")}}function uo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"label",17),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"select",18),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.initiative=t}),o.YNc(5,go,2,2,"option",19),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,4,"l-desmissal-initiative")," "),o.xp6(2),o.Q6J("required",null==e.demissionIniciative?null:e.demissionIniciative.required)("ngModel",e.demission.initiative),o.xp6(1),o.Q6J("ngForOf",e.demissionInitiatives)}}function ho(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"po-datepicker",21),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.demissionDate=t}),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-placeholder",o.lcZ(2,4,"l-desmissal-desmissalDate-ex")),o.s9C("p-label",o.lcZ(3,6,"l-desmissal-date")),o.Q6J("required",null==e.demissionDate?null:e.demissionDate.required)("ngModel",e.demission.demissionDate)}}function mo(e,t){if(1&e&&(o.TgZ(0,"option",20),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.Q6J("ngValue",e),o.xp6(1),o.hij(" ",null==e?null:e.name," ")}}function fo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"label",22),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"select",23),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.demissionTypes=t}),o.YNc(5,mo,2,2,"option",19),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,4,"l-desmissal-type")," "),o.xp6(2),o.Q6J("required",null==e.demissionType?null:e.demissionType.required)("ngModel",e.demission.demissionTypes),o.xp6(1),o.Q6J("ngForOf",e.demissionTypes)}}const vo=function(){return{standalone:!0}};function bo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"po-textarea",24),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.demissionJustification=t}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,4,"l-desmissal-justification")),o.Q6J("required",null==e.demissionJustify?null:e.demissionJustify.required)("ngModel",e.demission.demissionJustification)("ngModelOptions",o.DdM(6,vo))}}function xo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",25),o.TgZ(1,"po-switch",26),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.demissionNewEmployee=t}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,3,"l-desmissal-desmissal-employee")),o.Q6J("required",null==e.newHire?null:e.newHire.required)("ngModel",e.demission.demissionNewEmployee)}}function yo(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"po-divider"),o.TgZ(2,"div",4),o.TgZ(3,"div",27),o.TgZ(4,"h4",28),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.hij(" ",o.lcZ(6,1,"l-desmissal-rescission")," "))}function Zo(e,t){if(1&e&&(o.TgZ(0,"option",20),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.Q6J("ngValue",e),o.xp6(1),o.hij(" ",null==e?null:e.name," ")}}function wo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"label",17),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"select",29),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.demissionPriorNotice=t}),o.YNc(5,Zo,2,2,"option",19),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,4,"l-desmissal-prior")," "),o.xp6(2),o.Q6J("required",null==e.demissionNoticeType?null:e.demissionNoticeType.required)("ngModel",e.demission.demissionPriorNotice),o.xp6(1),o.Q6J("ngForOf",e.demissionNoticeTypes)}}function Co(e,t){if(1&e&&(o.TgZ(0,"option",20),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.Q6J("ngValue",e),o.xp6(1),o.hij(" ",null==e?null:e.name," ")}}function Mo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"label",22),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"select",30),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.demissionReason=t}),o.YNc(5,Co,2,2,"option",19),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.hij(" ",o.lcZ(3,4,"l-desmissal-reason")," "),o.xp6(2),o.Q6J("required",null==e.demissionReason?null:e.demissionReason.required)("ngModel",e.demission.demissionReason),o.xp6(1),o.Q6J("ngForOf",e.demissionReasons)}}function Ao(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"po-number",31),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().demission.priorDays=t}),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,4,"l-desmissal-prior-days")),o.s9C("p-placeholder",o.lcZ(3,6,"l-priorDays-ex")),o.Q6J("required",null==e.noticeDays?null:e.noticeDays.required)("ngModel",e.demission.priorDays)}}function Po(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-success-dialog",32),o.NdJ("closeDialogEvent",function(){return o.CHM(e),o.oxw().back()}),o.qZA()}}let Oo=(()=>{class e extends gt.R{constructor(e,t,i,n,o,s,a,r,l){super(),this.teamService=e,this.appTranslateService=t,this.windowUtil=i,this.lookupService=n,this.menuApplicationService=o,this.translateService=s,this.fieldPropertiesService=a,this.notificationService=r,this.globals=l,this.demission=new ao,this.demissionTypes=[],this.demissionReasons=[],this.demissionInitiatives=[],this.demissionNoticeTypes=[]}ngOnInit(){this.initializeComponents()}initializeComponents(){return(0,U.mG)(this,void 0,void 0,function*(){this.initVariables(),this.loadComponents(),yield this.loadFieldProperties(),this.getDemissionIniciatives(),this.getDemissionTypes(),this.getDemissionNoticeTypes(),this.getDemissionReasonTypes(),this.loadModel()})}initVariables(){return(0,U.mG)(this,void 0,void 0,function*(){this.loggedUser=yield this.globals.getEmployeeSummary()})}loadModel(){this.lookupService.emitModelObservable.subscribe(e=>{this.demission.colaborator=e})}loadComponents(){return(0,U.mG)(this,void 0,void 0,function*(){this.initLookup(),this.lookupService.lookupOpenObservable.subscribe(e=>{this.menuApplicationService.hideMenu()})})}showMenu(){this.menuApplicationService.showMenu()}initLookup(){this.lookupColumns=[{property:"id",label:"l-demission-id",fieldLabel:!0},{property:"name",label:"l-name",fieldLabel:!0}],this.lookupColumns.forEach(e=>{this.translateService.getI18n(e.label).then(t=>{e.label=t})})}restartForm(){this.demissionForm.resetForm()}getDemissionIniciatives(){this.demissionIniciative&&this.demissionIniciative.visible&&this.teamService.getDemissionIniciatives().then(e=>{e.items&&0!==e.items.length&&(this.demissionInitiatives=e.items)})}getDemissionTypes(){this.demissionType&&this.demissionType.visible&&this.teamService.getDemissionTypes().then(e=>{e.items&&0!==e.items.length&&(this.demissionTypes=e.items)})}getDemissionNoticeTypes(){this.demissionNoticeType&&this.demissionNoticeType.visible&&this.teamService.getDemissionNoticeTypes().then(e=>{e.items&&0!==e.items.length&&(this.demissionNoticeTypes=e.items)})}getDemissionReasonTypes(){this.demissionReason&&this.demissionReason.visible&&this.teamService.getDemissionReasonTypes().then(e=>{e.items&&0!==e.items.length&&(this.demissionReasons=e.items)})}send(){return(0,U.mG)(this,void 0,void 0,function*(){this.demissionForm.valid?(this.demissionInfo=this.createSendObject(),this.teamService.setCollaboratorDemission(this.loggedUser.id,this.demissionInfo).then(e=>{this.isDialogSuccessVisible=!0},e=>{console.log(e)})):this.appTranslateService.getI18n("invalid-form").then(e=>{this.notificationService.showNotification(e,f.ik9.Error)})})}createSendObject(){return{id:this.demission.colaborator,employeeDemit:this.demission.former,demissionDate:this.demission.demissionDate?new Date(this.demission.demissionDate):new Date,demissionIniciative:{name:this.demission.initiative.name,id:this.demission.initiative.id.toString()},demissionType:{name:this.demission.demissionTypes.name,id:this.demission.demissionTypes.id.toString()},demissionJustify:this.demission.demissionJustification,newHire:this.demission.demissionNewEmployee,demissionNoticeType:{name:this.demission.demissionPriorNotice.name,id:this.demission.demissionPriorNotice.id.toString()},demissionReason:{name:this.demission.demissionReason.name,id:this.demission.demissionReason.id.toString()},noticeDays:+this.demission.priorDays}}loadFieldProperties(){return(0,U.mG)(this,void 0,void 0,function*(){this.fieldProperties=yield this.fieldPropertiesService.getFieldProperties("demission"),this.fieldProperties&&this.fieldProperties.forEach(e=>{switch(e.field){case"employeeDemit":this.employeeDemit=e;break;case"demissionDate":this.demissionDate=e;break;case"demissionIniciative":this.demissionIniciative=e;break;case"demissionType":this.demissionType=e;break;case"demissionJustify":this.demissionJustify=e;break;case"newHire":this.newHire=e;break;case"demissionNoticeType":this.demissionNoticeType=e;break;case"demissionReason":this.demissionReason=e;break;case"noticeDays":this.noticeDays=e}})})}addDemissionFormer(){window.localStorage.setItem("isGetCurrentEmployees",JSON.stringify(this.demission.former))}back(){this.windowUtil.back()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(so.s),o.Y36(ee.g),o.Y36(te.g),o.Y36(lo),o.Y36(O.Kv),o.Y36(ee.g),o.Y36(G.c),o.Y36(X.g),o.Y36(fe.O))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-demission-request"]],viewQuery:function(e,t){if(1&e&&o.Gf(co,7),2&e){let e;o.iGM(e=o.CRH())&&(t.demissionForm=e.first)}},features:[o.qOj],decls:26,vars:24,consts:[["backIsVisible","viewIsMobile","pageTitle","l-desmissal-request-title",3,"backFunction"],[1,"no-padding"],[1,"demissionForm"],["demissionForm","ngForm"],[1,"po-row"],["class","po-sm-12 desmissal-former",4,"ngIf"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-12"],["p-field-label","name","p-field-value","id","name","nameOfColaborator",3,"ngModel","p-columns","p-label","p-filter-service","ngModelChange","p-selected"],["class","po-xl-6 po-lg-6 po-md-6 po-sm-12",4,"ngIf"],["class","po-xl-6 po-lg-6 po-md-6 po-sm-12 demissionNewHire",4,"ngIf"],[4,"ngIf"],[1,"po-row","marginTop25px","flex-end"],["id","restartForm","name","restartForm",1,"button-cancel","po-sm-12","po-offset-md-6","po-md-3","po-lg-3","po-xl-3",3,"p-label","click"],["p-type","primary","p-primary","true","id","desmissalButton","name","desmissalButton",1,"button-confirm","po-sm-12","po-md-3","po-lg-3","po-xl-3",3,"p-disabled","p-label","p-click"],["message","l-send-demission-success",3,"closeDialogEvent",4,"ngIf"],[1,"po-sm-12","desmissal-former"],["p-disabled","boolean","name","demissionForm",1,"desmissal-former",3,"p-label","ngModel","p-change","ngModelChange"],[1,"text-subtitle","po-field-title"],["id","demissalType","name","demissalType",1,"form-control",3,"required","ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["p-format","dd/mm/yyyy","id","desmissalEndDate","name","desmissalEndDate","p-required","",3,"required","ngModel","p-placeholder","p-label","ngModelChange"],["for","",1,"text-subtitle","po-field-title"],["id","desmissalTypes","name","desmissalTypes",1,"form-control",3,"required","ngModel","ngModelChange"],[3,"required","p-label","ngModel","ngModelOptions","ngModelChange"],[1,"po-xl-6","po-lg-6","po-md-6","po-sm-12","demissionNewHire"],["name","disabled","p-label-off"," ","p-label-on"," ",1,"",3,"required","ngModel","p-label","ngModelChange"],[1,"line","po-sm-12","po-sm-12","po-lg-12"],[1,"text-subtitle"],["id","desmissalPriorNotice","name","desmissalPriorNotice",1,"form-control",3,"required","ngModel","ngModelChange"],["id","desmissalDesmissalReason","name","desmissalDesmissalReason",1,"form-control",3,"required","ngModel","ngModelChange"],["id","priorDays","name","priorDays","pattern","[0-9]*","digitOnly","",1,"desmissal-field",3,"required","ngModel","p-label","p-placeholder","ngModelChange"],["message","l-send-demission-success",3,"closeDialogEvent"]],template:function(e,t){if(1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.back()}),o.qZA(),o.TgZ(1,"div",1),o.TgZ(2,"form",2,3),o.TgZ(4,"div",4),o.YNc(5,po,3,4,"div",5),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",6),o.TgZ(8,"po-lookup",7),o.NdJ("ngModelChange",function(e){return t.demission.colaborator=e})("p-selected",function(){return t.showMenu()}),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.YNc(10,uo,6,6,"div",8),o.YNc(11,ho,4,8,"div",8),o.YNc(12,fo,6,6,"div",8),o.YNc(13,bo,3,7,"div",8),o.YNc(14,xo,3,5,"div",9),o.qZA(),o.YNc(15,yo,7,3,"div",10),o.TgZ(16,"div",4),o.YNc(17,wo,6,6,"div",8),o.YNc(18,Mo,6,6,"div",8),o.YNc(19,Ao,4,8,"div",8),o.qZA(),o.TgZ(20,"div",11),o.TgZ(21,"po-button",12),o.NdJ("click",function(){return t.back()}),o.ALo(22,"translate"),o.qZA(),o.TgZ(23,"po-button",13),o.NdJ("p-click",function(){return t.send()}),o.ALo(24,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(25,Po,1,0,"app-success-dialog",14)),2&e){const e=o.MAs(3);o.xp6(5),o.Q6J("ngIf",null==t.employeeDemit?null:t.employeeDemit.visible),o.xp6(3),o.s9C("p-label",o.lcZ(9,18,"l-colaborator")),o.Q6J("ngModel",t.demission.colaborator)("p-columns",t.lookupColumns)("p-filter-service",t.lookupService),o.xp6(2),o.Q6J("ngIf",null==t.demissionIniciative?null:t.demissionIniciative.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionDate?null:t.demissionDate.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionType?null:t.demissionType.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionJustify?null:t.demissionJustify.visible),o.xp6(1),o.Q6J("ngIf",null==t.newHire?null:t.newHire.visible),o.xp6(1),o.Q6J("ngIf",(null==t.demissionNoticeType?null:t.demissionNoticeType.visible)||(null==t.demissionReason?null:t.demissionReason.visible)||(null==t.noticeDays?null:t.noticeDays.visible)),o.xp6(2),o.Q6J("ngIf",null==t.demissionNoticeType?null:t.demissionNoticeType.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionReason?null:t.demissionReason.visible),o.xp6(1),o.Q6J("ngIf",null==t.noticeDays?null:t.noticeDays.visible),o.xp6(2),o.s9C("p-label",o.lcZ(22,20,"l-cancel")),o.xp6(2),o.s9C("p-label",o.lcZ(24,22,"l-save")),o.Q6J("p-disabled",!e.form.valid),o.xp6(2),o.Q6J("ngIf",t.isDialogSuccessVisible)}},directives:[T.q,d._Y,d.JL,d.F,s.O5,f.za1,d.JJ,d.On,f.bOz,f.ejx,d.EJ,d.Q7,s.sg,d.YN,d.Kr,f.GWy,f.gJm,f.nrg,f.Gk3,f.S5$,d.c5,ne.V],pipes:[h.X$],styles:["[_ngcontent-%COMP%]:root   .desmissalForm[_ngcontent-%COMP%]   .thf-switch-label[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-bottom:15px}@media screen and (max-width: 480px){.button-cancel[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 480px){.button-confirm[_ngcontent-%COMP%]{display:block;width:100%;margin:0 0 30px}}[_nghost-%COMP%]     .po-button{height:44px;width:100%}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-button{display:block;width:100%}}[_nghost-%COMP%]     .demissionNewHire .thf-field-container-content{margin-top:0}[_nghost-%COMP%]     .thf-divider{margin-bottom:10px}[_nghost-%COMP%]     .row{margin-bottom:0}.form-control[_ngcontent-%COMP%]{-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;background-color:#fff;border:1px solid #b6bdbf;border-radius:3px;box-shadow:inset 0 1px 8px rgba(0,0,0,.1);height:44px;margin:8px 0;padding:0 16px;width:100%}@media screen and (max-width: 1366px){.form-control[_ngcontent-%COMP%]{font-size:14px;line-height:24px;height:32px;padding:0 8px}}@media (max-width: 480px){.desmissalForm[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{margin-bottom:30px}}.marginTop25px[_ngcontent-%COMP%]{margin-top:25px}.flex-end[_ngcontent-%COMP%]{justify-content:flex-end}[_nghost-%COMP%]     .po-switch-content{margin-top:0}.po-sm-12[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var qo=i(24764);function To(e,t){if(1&e&&(o.TgZ(0,"span",21),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.Q6J("ngClass",null==e.currentDemission?null:e.currentDemission.status),o.xp6(1),o.Oqu(null==e.currentDemission?null:e.currentDemission.statusLabel)}}function _o(e,t){if(1&e&&(o.TgZ(0,"span",21),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.Q6J("ngClass",null==e.currentDemission?null:e.currentDemission.status),o.xp6(1),o.Oqu(null==e.currentDemission?null:e.currentDemission.statusLabel)}}function So(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-initiative")),o.xp6(3),o.Oqu(null==e.currentDemissionDetails?null:e.currentDemissionDetails.demissionIniciative.name)}}function Io(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.ALo(6,"utcDate"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-date")),o.xp6(3),o.Oqu(o.xi3(6,4,null==e.currentDemissionDetails?null:e.currentDemissionDetails.demissionDate,"dd/MM/yyyy"))}}function Do(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-type")),o.xp6(3),o.Oqu(null==e.currentDemissionDetails?null:e.currentDemissionDetails.demissionType.name)}}function ko(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-prior")),o.xp6(3),o.Oqu(null==e.currentDemissionDetails?null:e.currentDemissionDetails.demissionNoticeType.name)}}function Lo(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,3,"l-desmissal-prior-days")),o.xp6(3),o.AsE("",null==e.currentDemissionDetails?null:e.currentDemissionDetails.noticeDays," ",o.lcZ(6,5,"l-days"),"")}}function No(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-reason")),o.xp6(3),o.Oqu(null==e.currentDemissionDetails?null:e.currentDemissionDetails.demissionReason.name)}}function Eo(e,t){if(1&e&&(o.TgZ(0,"div",15),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"span",17),o._uU(5),o.ALo(6,"translate"),o.ALo(7,"translate"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-desmissal-employee")),o.xp6(3),o.Oqu(null!=e.currentDemissionDetails&&e.currentDemissionDetails.newHire?o.lcZ(6,4,"l-yes"):o.lcZ(7,6,"l-no"))}}function Uo(e,t){if(1&e&&(o.TgZ(0,"div",6),o.TgZ(1,"h3",16),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",22),o._uU(5),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,2,"l-desmissal-justify")),o.xp6(3),o.hij(" ",null==e.currentDemissionDetails?null:e.currentDemissionDetails.demissionJustify," ")}}function Fo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",23),o.TgZ(1,"div",6),o.TgZ(2,"po-button",24),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return t.emitOpenRequestDemission(t.requisition,!1)}),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"po-button",25),o.NdJ("click",function(){o.CHM(e);const t=o.oxw();return t.emitOpenRequestDemission(t.requisition,!0)}),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.s9C("p-label",o.lcZ(3,2,"l-reprove")),o.xp6(2),o.s9C("p-label",o.lcZ(5,4,"l-approve")))}const Jo=function(e){return{"background-image":e}};let Vo=(()=>{class e extends gt.R{constructor(e,t,i,n,s){super(),this.profileService=e,this.fieldPropertiesService=t,this.windowUtilService=i,this.globals=n,this.requisitionsService=s,this.getBackEvent=new o.vpe,this.openRequestDemissionInVisualize=new o.vpe,this.currentDemission={employeeId:"{current}",id:"",requestId:"",requestType:qo.O.RequestTypeEnum.Demission,employeeName:"",startDate:new Date,status:qo.O.StatusEnum.Empty},this.currentDemissionDetails={noticeDays:null,id:"",demissionDate:new Date,demissionReason:{name:"",id:""},demissionType:{name:"",id:""},demissionJustify:""}}ngOnInit(){this.initializeComponent()}initializeComponent(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.loadFieldProperties(),this.loggedUser=yield this.globals.getEmployeeSummary(),this.isMobile=this.windowUtilService.isMobileDevice(),this.currentDemission=this.requisition,this.currentDemissionDetails=this.demissionDetails,this.getImage(this.currentDemission.employeeId)})}getImage(e=Ze.N.loggedUser){return(0,U.mG)(this,void 0,void 0,function*(){this.avatarImage="./assets/img/empty_user.png",e=yield xe.ZP.checkIfEncode(e),this.profileService.getImageBase64(e).then(e=>{e&&e.content&&(this.avatarImage="data:image/"+(e.type||"png")+";base64,"+e.content)})})}isActionsAvailable(){return!!this.currentDemission&&(this.currentDemission.status!==qo.O.StatusEnum.Approving||""!==this.currentDemission.responsableName)&&this.currentDemission.status.toLowerCase()===qo.O.StatusEnum.Approving.toLowerCase()&&this.currentDemission.responsableId===xe.ZP.checkIfDecode(this.loggedUser.id)}back(){this.getBackEvent.emit()}emitOpenRequestDemission(e,t){this.openRequestDemissionInVisualize.emit({requisition:e,approve:t})}loadFieldProperties(){return(0,U.mG)(this,void 0,void 0,function*(){this.fieldProperties=yield this.fieldPropertiesService.getFieldProperties("demission"),this.fieldProperties&&this.fieldProperties.forEach(e=>{switch(e.field){case"employeeDemit":this.employeeDemit=e;break;case"demissionDate":this.demissionDate=e;break;case"demissionIniciative":this.demissionIniciative=e;break;case"demissionType":this.demissionType=e;break;case"demissionJustify":this.demissionJustify=e;break;case"newHire":this.newHire=e;break;case"demissionNoticeType":this.demissionNoticeType=e;break;case"demissionReason":this.demissionReason=e;break;case"noticeDays":this.noticeDays=e}})})}isRM(){return xe.ZP.isErpRM()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Q.H),o.Y36(G.c),o.Y36(te.g),o.Y36(fe.O),o.Y36(to._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-demission-visualize"]],inputs:{requisition:"requisition",demissionDetails:"demissionDetails"},outputs:{getBackEvent:"getBackEvent",openRequestDemissionInVisualize:"openRequestDemissionInVisualize"},features:[o.qOj],decls:38,vars:27,consts:[["id","filter","isVisible","true",1,"dialog",3,"closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["pageTitle","l-requisition-details-confirm"],[1,"container-visualize"],[1,"holder"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"justify-title"],["class","badge",3,"ngClass",4,"ngIf"],[1,"line"],[1,"item-avatar","avatar","avatar-medium","mouse-pointer",3,"ngStyle"],[1,"info"],[1,"justify-mainName"],[1,"justify-id"],["class","po-sm-6 po-md-4 po-xl-4 po-lg-4",4,"ngIf"],[1,"po-sm-6","po-md-4","po-xl-4","po-lg-4"],[1,"justify-subtitle"],[1,"justify-text"],[1,"po-row","marginTop15px"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","po-row marginTop15px alignRight",4,"ngIf"],[1,"badge",3,"ngClass"],[1,"justify-text","demission-justify"],[1,"po-row","marginTop15px","alignRight"],[1,"button",3,"p-label","click"],["p-type","primary",1,"button",3,"p-label","click"]],template:function(e,t){1&e&&(o.TgZ(0,"app-dialog",0),o.NdJ("closeDialogEvent",function(){return t.back()}),o.TgZ(1,"div",1),o._UZ(2,"app-page-header",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o.TgZ(7,"h2",7),o._uU(8),o.ALo(9,"translate"),o.YNc(10,To,2,2,"span",8),o.qZA(),o._UZ(11,"hr",9),o.qZA(),o.qZA(),o.TgZ(12,"div",4),o._UZ(13,"div",10),o.TgZ(14,"div",11),o.TgZ(15,"h3",12),o._uU(16),o.qZA(),o.TgZ(17,"div",13),o._uU(18),o.ALo(19,"translate"),o.YNc(20,_o,2,2,"span",8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"div",5),o.YNc(22,So,6,4,"div",14),o.YNc(23,Io,7,7,"div",14),o.YNc(24,Do,6,4,"div",14),o.TgZ(25,"div",15),o.TgZ(26,"h3",16),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.TgZ(29,"span",17),o._uU(30),o.qZA(),o.qZA(),o.YNc(31,ko,6,4,"div",14),o.YNc(32,Lo,7,7,"div",14),o.YNc(33,No,6,4,"div",14),o.YNc(34,Eo,8,8,"div",14),o.qZA(),o.TgZ(35,"div",18),o.YNc(36,Uo,6,4,"div",19),o.qZA(),o.YNc(37,Fo,6,6,"div",20),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("closeDialogButtonEnable",!0),o.xp6(8),o.hij(" ",o.lcZ(9,19,"l-demission-details-justify")," "),o.xp6(2),o.Q6J("ngIf",!t.isMobile),o.xp6(3),o.Q6J("ngStyle",o.VKq(25,Jo,"url("+t.avatarImage+")")),o.xp6(3),o.Oqu(null==t.currentDemission?null:t.currentDemission.employeeName),o.xp6(2),o.AsE(" ",o.lcZ(19,21,"l-identification")," ",null==t.currentDemission?null:t.currentDemission.requestId," "),o.xp6(2),o.Q6J("ngIf",t.isMobile),o.xp6(2),o.Q6J("ngIf",null==t.demissionIniciative?null:t.demissionIniciative.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionDate?null:t.demissionDate.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionType?null:t.demissionType.visible),o.xp6(3),o.Oqu(o.lcZ(28,23,"l-requisition-responsible")),o.xp6(3),o.Oqu(null==t.currentDemission?null:t.currentDemission.responsableName),o.xp6(1),o.Q6J("ngIf",null==t.demissionNoticeType?null:t.demissionNoticeType.visible),o.xp6(1),o.Q6J("ngIf",null==t.noticeDays?null:t.noticeDays.visible),o.xp6(1),o.Q6J("ngIf",null==t.demissionReason?null:t.demissionReason.visible),o.xp6(1),o.Q6J("ngIf",null==t.newHire?null:t.newHire.visible),o.xp6(2),o.Q6J("ngIf",null==t.demissionJustify?null:t.demissionJustify.visible),o.xp6(1),o.Q6J("ngIf",t.isActionsAvailable()&&!t.isRM()))},directives:[ke.a,T.q,s.O5,s.PC,s.mk,f.bOz],pipes:[h.X$,Xe.$],styles:['@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .overlay{padding:15px}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .overlay{padding:15px 35px}}@media screen and (min-width: 768px){[_nghost-%COMP%]     .dialog button{width:10rem}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .dialog .max-width-page-title{padding-left:0}}@media screen and (max-width: 480px){[_nghost-%COMP%]     .dialog .thf-button{display:block;width:100%}}.justify-mainName[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:16px;font-weight:bold}.justify-title[_ngcontent-%COMP%]{margin:25px 0 15px;font-family:"NunitoSans";font-weight:300}.justify-subtitle[_ngcontent-%COMP%]{margin:0;font-family:"NunitoSans-bold";font-size:14px;font-weight:bold}.holder[_ngcontent-%COMP%]{position:relative;margin:0 0 15px}.container-visualize[_ngcontent-%COMP%]{padding:0 15px}.info[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:60px;top:8px}.marginTop15px[_ngcontent-%COMP%]{margin-top:15px}.avatar[_ngcontent-%COMP%]{display:inline-block}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.pending[_ngcontent-%COMP%]{background-color:#e8850a}.badge.approved[_ngcontent-%COMP%], .badge.closed[_ngcontent-%COMP%], .badge.reproved[_ngcontent-%COMP%]{background:#00b28e}.badge.rejected[_ngcontent-%COMP%], .badge.reject[_ngcontent-%COMP%]{background:#c64840}.badge.empty[_ngcontent-%COMP%]{background:#e8850a}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}@media (min-width: 961px) and (max-height: 620px){.demission-justify[_ngcontent-%COMP%]{max-height:50px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 621px) and (max-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:70px;overflow-y:auto}}@media (min-width: 961px) and (min-height: 700px){.demission-justify[_ngcontent-%COMP%]{max-height:90px;overflow-y:auto}}po-button[_ngcontent-%COMP%]{margin-left:15px}@media screen and (max-width: 480px){po-button[_ngcontent-%COMP%]{margin:0;width:100%}}.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:10px}@media screen and (min-width: 991px){.alignRight[_ngcontent-%COMP%]{text-align:right}}[_nghost-%COMP%]     #dialogCloseBtn{color:#1ea2c3}']}),e})();var Ro=i(76857),Yo=i(78662),zo=i(90171);let Qo=(()=>{class e{transform(e,t){return e?t?(t=t.toLowerCase(),e.filter(e=>e.status.toLowerCase().includes(t)||e.requestId.toLowerCase().includes(t)||e.employeeName.toLowerCase().includes(t))):e:[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"demissionFilterSearch",type:e,pure:!0}),e})();function Go(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",31),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(2).openRequestDemission(t,!0)}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-approve")," "))}function Ho(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",31),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(2).openRequestDemission(t,!1)}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-reprove")," "))}function Bo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",32),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(2).openNextStepDemission(t)}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-next-step")," "))}function jo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr",19),o.TgZ(1,"td",20),o._UZ(2,"div",21),o.qZA(),o.TgZ(3,"td",22),o._uU(4),o.ALo(5,"titlecase"),o.qZA(),o.TgZ(6,"td",23),o._uU(7),o.qZA(),o.TgZ(8,"td",23),o._uU(9),o.qZA(),o.TgZ(10,"td",23),o._uU(11),o.ALo(12,"date"),o.qZA(),o.TgZ(13,"td",23),o._uU(14),o.qZA(),o.TgZ(15,"td",23),o.TgZ(16,"span",24),o.ALo(17,"lowercase"),o._uU(18),o.qZA(),o.qZA(),o.TgZ(19,"td",25),o.TgZ(20,"div",26),o._UZ(21,"span",27),o.TgZ(22,"ul",28),o.YNc(23,Go,3,3,"li",29),o.YNc(24,Ho,3,3,"li",29),o.YNc(25,Bo,3,3,"li",30),o.TgZ(26,"li",31),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).openDemission(t)}),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(2),o.Udp("background-image",i.getImageAvatar(null==e?null:e.employeeId)),o.xp6(1),o.MGl("id","profile-",e.id,""),o.xp6(1),o.hij(" ",o.lcZ(5,14,null==e?null:e.employeeName)," "),o.xp6(3),o.hij(" ",null==e?null:e.requestId," "),o.xp6(2),o.hij(" ",null==e?null:e.employeeId," "),o.xp6(2),o.hij(" ",o.xi3(12,16,null==e?null:e.startDate,"dd/MM/yyyy")," "),o.xp6(3),o.hij(" ",null==e?null:e.responsableName," "),o.xp6(2),o.Q6J("ngClass",o.lcZ(17,19,null==e?null:e.status)),o.xp6(2),o.hij(" ",null==e?null:e.statusLabel," "),o.xp6(5),o.Q6J("ngIf",!i.isRM()&&i.canApproveReprove(e)),o.xp6(1),o.Q6J("ngIf",!i.isRM()&&i.canApproveReprove(e)),o.xp6(1),o.Q6J("ngIf",i.isRM()&&i.canApproveReprove(e)),o.xp6(2),o.hij(" ",o.lcZ(28,21,"l-visualize")," ")}}function $o(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",33),o.TgZ(1,"po-button",34),o.NdJ("p-click",function(){return o.CHM(e),o.oxw(2).loadMoreEvents()}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-view-more")),o.Q6J("p-disabled",!e.hasNext)}}function Wo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"table",7),o.TgZ(2,"thead",8),o.TgZ(3,"tr",9),o._UZ(4,"th",10),o.TgZ(5,"th",10),o.TgZ(6,"span",11),o._uU(7),o.ALo(8,"titlecase"),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",12),o.TgZ(11,"span",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeName","up")}),o.qZA(),o.TgZ(12,"span",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeName","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"th",15),o.TgZ(14,"span",11),o._uU(15),o.ALo(16,"titlecase"),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"div",12),o.TgZ(19,"span",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("requestId","up")}),o.qZA(),o.TgZ(20,"span",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("requestId","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"th",15),o.TgZ(22,"span",11),o._uU(23),o.ALo(24,"titlecase"),o.ALo(25,"translate"),o.qZA(),o.TgZ(26,"div",12),o.TgZ(27,"span",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeId","up")}),o.qZA(),o.TgZ(28,"span",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeId","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"th",10),o.TgZ(30,"span",11),o._uU(31),o.ALo(32,"titlecase"),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"div",12),o.TgZ(35,"span",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("startDate","up")}),o.qZA(),o.TgZ(36,"span",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("startDate","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"th",15),o.TgZ(38,"span",11),o._uU(39),o.ALo(40,"titlecase"),o.ALo(41,"translate"),o.qZA(),o.TgZ(42,"div",12),o.TgZ(43,"span",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("responsableName","up")}),o.qZA(),o.TgZ(44,"span",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("responsableName","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"th",15),o.TgZ(46,"span",11),o._uU(47),o.ALo(48,"titlecase"),o.ALo(49,"translate"),o.qZA(),o.TgZ(50,"div",12),o.TgZ(51,"span",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("status","up")}),o.qZA(),o.TgZ(52,"span",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("status","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(53,"th",16),o._uU(54),o.ALo(55,"titlecase"),o.ALo(56,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"tbody"),o.YNc(58,jo,29,23,"tr",17),o.ALo(59,"demissionFilterSearch"),o.qZA(),o.qZA(),o.YNc(60,$o,3,4,"div",18),o.qZA()}if(2&e){const e=o.oxw();o.xp6(7),o.Oqu(o.lcZ(8,9,o.lcZ(9,11,"l-name"))),o.xp6(8),o.Oqu(o.lcZ(16,13,o.lcZ(17,15,"l-requisition-id"))),o.xp6(8),o.Oqu(o.lcZ(24,17,o.lcZ(25,19,"l-requisition-matricula"))),o.xp6(8),o.Oqu(o.lcZ(32,21,o.lcZ(33,23,"l-date"))),o.xp6(8),o.Oqu(o.lcZ(40,25,o.lcZ(41,27,"l-requisition-responsible"))),o.xp6(8),o.Oqu(o.lcZ(48,29,o.lcZ(49,31,"l-status"))),o.xp6(7),o.Oqu(o.lcZ(55,33,o.lcZ(56,35,"l-actions"))),o.xp6(4),o.Q6J("ngForOf",o.xi3(59,37,e.finishedRequisitions,e.searchText)),o.xp6(2),o.Q6J("ngIf",e.hasNext)}}function Ko(e,t){1&e&&(o.TgZ(0,"h2",39),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"l-latest-requests")))}function Xo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",51),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(3).openRequestDemission(t,!1)}),o.ALo(1,"translate"),o.qZA()}2&e&&o.s9C("p-label",o.lcZ(1,1,"l-reprove"))}function es(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",52),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(3).openRequestDemission(t,!0)}),o.ALo(1,"translate"),o.qZA()}2&e&&o.s9C("p-label",o.lcZ(1,1,"l-approve"))}function ts(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-button",51),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(3).openNextStepDemission(t)}),o.ALo(1,"translate"),o.qZA()}2&e&&o.s9C("p-label",o.lcZ(1,1,"l-next-step"))}function is(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"mat-accordion",40),o.TgZ(1,"mat-expansion-panel",41),o.TgZ(2,"mat-expansion-panel-header",42),o._UZ(3,"span",43),o.ALo(4,"lowercase"),o._uU(5),o.qZA(),o._UZ(6,"hr",44),o.TgZ(7,"div",45),o.TgZ(8,"span",46),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"span",47),o._uU(12),o.qZA(),o.qZA(),o._UZ(13,"hr",44),o.TgZ(14,"div",45),o.TgZ(15,"span",46),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"span",47),o._uU(19),o.qZA(),o.qZA(),o._UZ(20,"hr",44),o.TgZ(21,"div",45),o.TgZ(22,"span",46),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.TgZ(25,"span",47),o._uU(26),o.qZA(),o.qZA(),o._UZ(27,"hr",44),o.TgZ(28,"div",45),o.TgZ(29,"span",46),o._uU(30),o.ALo(31,"translate"),o.qZA(),o.TgZ(32,"span",47),o._uU(33),o.ALo(34,"date"),o.qZA(),o.qZA(),o._UZ(35,"hr",44),o.TgZ(36,"div",48),o.TgZ(37,"span",46),o._uU(38),o.ALo(39,"translate"),o.qZA(),o.TgZ(40,"span",47),o._uU(41),o.qZA(),o.qZA(),o.TgZ(42,"div",45),o.YNc(43,Xo,2,3,"po-button",49),o.YNc(44,es,2,3,"po-button",50),o.YNc(45,ts,2,3,"po-button",49),o.TgZ(46,"po-button",51),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(3).openDemission(t)}),o.ALo(47,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(3);o.xp6(1),o.Q6J("ngClass",i.custom-i.border),o.xp6(2),o.Q6J("ngClass",o.lcZ(4,17,null==e?null:e.status)),o.xp6(2),o.hij("",e.employeeName," "),o.xp6(4),o.Oqu(o.lcZ(10,19,"l-status")),o.xp6(3),o.Oqu(null==e?null:e.statusLabel),o.xp6(4),o.Oqu(o.lcZ(17,21,"l-requisition-id")),o.xp6(3),o.Oqu(null==e?null:e.requestId),o.xp6(4),o.Oqu(o.lcZ(24,23,"l-requisition-matricula")),o.xp6(3),o.Oqu(null==e?null:e.employeeId),o.xp6(4),o.Oqu(o.lcZ(31,25,"l-requisition-dataInicio")),o.xp6(3),o.Oqu(o.xi3(34,27,null==e?null:e.startDate,"dd/MM/yyyy")),o.xp6(5),o.Oqu(o.lcZ(39,30,"l-requisition-responsible")),o.xp6(3),o.Oqu(null==e?null:e.responsableName),o.xp6(2),o.Q6J("ngIf",i.canApproveReprove(e)&&!i.isRM()),o.xp6(1),o.Q6J("ngIf",i.canApproveReprove(e)&&!i.isRM()),o.xp6(1),o.Q6J("ngIf",i.canApproveReprove(e)&&i.isRM()),o.xp6(1),o.s9C("p-label",o.lcZ(47,32,"l-visualize"))}}function ns(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",53),o.TgZ(1,"po-button",54),o.NdJ("p-click",function(){return o.CHM(e),o.oxw(3).loadMoreEvents()}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(3);o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-load-more")),o.Q6J("p-disabled",!e.hasNext)}}function os(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,Ko,3,3,"h2",36),o.YNc(2,is,48,34,"mat-accordion",37),o.ALo(3,"demissionFilterSearch"),o.YNc(4,ns,3,4,"div",38),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",0!=(null==e.finishedRequisitions?null:e.finishedRequisitions.length)),o.xp6(1),o.Q6J("ngForOf",o.xi3(3,3,e.finishedRequisitions,e.searchText)),o.xp6(2),o.Q6J("ngIf",e.hasNext)}}function ss(e,t){if(1&e&&(o.TgZ(0,"div",35),o.YNc(1,os,5,6,"div",5),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.hasDemissionHistory)}}function as(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"app-demission-confirm",55),o.NdJ("getBackEvent",function(t){return o.CHM(e),o.oxw().getBackEvent(t)})("getRequisitions",function(){return o.CHM(e),o.oxw().getRequisitions()})("cleanFinishedRequisitions",function(){return o.CHM(e),o.oxw().cleanFinishedRequisitions()}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("requisition",e.selectedRequisition)("isApproving",e.isApproving)("finishedRequisitions",e.finishedRequisitions)("steps",e.steps)}}function rs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"app-demission-visualize",56),o.NdJ("openRequestDemissionInVisualize",function(t){return o.CHM(e),o.oxw().openRequestDemissionInVisualize(t)})("getBackEvent",function(t){return o.CHM(e),o.oxw().getBackEvent(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("requisition",e.selectedRequisition)("demissionDetails",e.demissionDetails)}}let ls=(()=>{class e extends gt.R{constructor(e,t,i,n,o,s,a,r,l){super(),this.lastAccessItem=e,this.navigationUtil=t,this.requisitionsService=i,this.windowUtilService=n,this.profileService=o,this.sanitization=s,this.permissionService=a,this.globals=r,this.appTranslateService=l,this.finishedRequisitions=[],this.hasDemissionHistory=!0,this.avatarImage=[],this.buttonActionName="",this.page=1,this.pageSize=6,this.pageTitle="",this.quickSearchLabel="",this.hasDisclaimers=!1,this.employee=void 0,this.demissaoConfirm=!1,this.steps=[],this.customLiterals={disclaimerGroupTitle:"",filterTitle:"",filterCancelLabel:"",filterConfirmLabel:"",quickSearchLabel:"",searchPlaceholder:""},this.paramsFilters={employeeName:null,requestId:null,startDate:null,status:null,types:"demission"},this.searchActions=[{label:"",action:this.requestDemission.bind(this)}]}onResize(e){this.checkIfMobile()}ngOnInit(){super.ngOnInit(),this.initializeComponents()}initVariables(){return(0,U.mG)(this,void 0,void 0,function*(){this.visualizeDemissionIsVisible=this.requestDemissionIsVisible=!1,this.loggedUser=yield this.globals.getEmployeeSummary(),this.permissions=yield this.getPermissions()})}initializePoComponent(){return(0,U.mG)(this,void 0,void 0,function*(){this.pageTitle=yield this.translateLabel("im-desmissal"),this.filters=[{property:"employeeName",label:yield this.translateLabel("l-name"),gridColumns:6},{property:"status",label:"status",options:[{value:"approving",label:yield this.translateLabel("l-requisition-approving")},{value:"approved",label:yield this.translateLabel("l-requisition-approved")},{value:"rejected",label:yield this.translateLabel("l-requisition-rejected")},{value:"empty",label:yield this.translateLabel("l-requisition-empty")},{value:"closed",label:yield this.translateLabel("l-requisition-closed")}],gridColumns:6},{property:"startDate",label:yield this.translateLabel("l-date"),gridColumns:6,type:"date"},{property:"requestId",label:yield this.translateLabel("l-requisition-id"),gridColumns:6}]})}initializeSearch(){return(0,U.mG)(this,void 0,void 0,function*(){this.searchActions=[{label:"+ "+(yield this.translateLabel("l-desmissal-request-title")),action:this.requestDemission.bind(this),disabled:!this.permissions.demissionRequest}],this.customLiterals={disclaimerGroupTitle:yield this.translateLabel("l-disclaimer-group-title"),filterTitle:yield this.translateLabel("l-filter-title"),filterCancelLabel:yield this.translateLabel("l-cancel-title"),filterConfirmLabel:yield this.translateLabel("l-confirm"),quickSearchLabel:yield this.translateLabel("l-quick-search"),searchPlaceholder:yield this.translateLabel("l-search-placeholder")},this.quickSearchLabel=yield this.translateLabel("l-demission-search-name")})}onChangeDisclaimers(e){const t={};this.finishedRequisitions=[],0===e.length&&(this.hasDisclaimers=!1),e&&(e.forEach(e=>{t[e.property]=e.value}),this.page=1,this.getRequisitions(t))}onQuickSearch(e){e&&this.resetFilters(),this.hasDisclaimers=!0,this.getRequisitions({employeeName:e})}onAdvancedSearch(e){e&&this.resetFilters(),this.hasDisclaimers=!0,this.getRequisitions(e)}resetFilters(){this.page=1,this.hasDisclaimers=!1,this.paramsFilters={employeeName:null,requestId:null,startDate:null,status:null,types:"demission"},this.finishedRequisitions=[]}getPermissions(){return this.permissionService.getPermissions(this.loggedUser.id)}checkIfMobile(){this.isMobile=this.windowUtilService.isMobileDevice()}setCountLastAccess(){this.lastAccessItem.setLastAccess(Ve.Pz,this.loggedUser.id)}requestDemission(){this.navigationUtil.doNavigation("demission/request")}getDemissionDetails(e){return(0,U.mG)(this,void 0,void 0,function*(){const t=yield this.requisitionsService.getDemissionDetails(this.loggedUser.id,e);this.demissionDetails=t})}loadMoreEvents(){this.page++,this.getRequisitions()}cleanFinishedRequisitions(){return(0,U.mG)(this,void 0,void 0,function*(){this.finishedRequisitions=[]})}getImageAvatar(e){return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(xe.ZP.checkIfEncode(e)).then(t=>{t&&t.content&&(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))})),this.avatarImage[e]}translateLabel(e){return this.appTranslateService.getI18n(e)}openDemission(e){return(0,U.mG)(this,void 0,void 0,function*(){this.selectedRequisition=e,yield this.getDemissionDetails(e.id),this.visualizeDemissionIsVisible=!0})}getBackEvent(){this.visualizeDemissionIsVisible=this.requestDemissionIsVisible=!1}back(){this.windowUtilService.back()}openRequestDemission(e,t){this.selectedRequisition=e,this.isApproving=t,this.requestDemissionIsVisible=!0}openNextStepDemission(e){return(0,U.mG)(this,void 0,void 0,function*(){const t=yield this.getEmployeeSummary();this.demissionResponse={approved:!1,date:V.Em.formatUTCDate(new Date),justify:"",requisitions:[]},this.demissionRequisition={id:e.id,status:e.status},this.demissionResponse.requisitions.push(this.demissionRequisition),this.requisitionsService.getNextStepRequisitions(t,this.demissionResponse).then(t=>{this.steps=t.items.map(e=>({label:e.description,value:e.id})),this.selectedRequisition=e,this.requestDemissionIsVisible=!0})})}openRequestDemissionInVisualize(e){this.selectedRequisition=e.requisition,this.isApproving=e.approve,this.visualizeDemissionIsVisible=!1,this.requestDemissionIsVisible=!0}canApproveReprove(e){return e.status.toLowerCase()===qo.O.StatusEnum.Approving.toLowerCase()&&""!==e.responsableName&&xe.ZP.checkIfDecode(this.loggedUser.id)===e.responsableId}isRM(){return xe.ZP.isErpRM()}order(e,t){if("down"===t)switch(e){case"employeeName":this.finishedRequisitions.sort((e,t)=>e.employeeName<t.employeeName?-1:1);break;case"requestId":this.finishedRequisitions.sort((e,t)=>e.requestId<t.requestId?-1:1);break;case"employeeId":this.finishedRequisitions.sort((e,t)=>e.employeeId<t.employeeId?-1:1);break;case"startDate":this.finishedRequisitions.sort((e,t)=>e.startDate<t.startDate?-1:1);break;case"responsableName":this.finishedRequisitions.sort((e,t)=>e.responsableName<t.responsableName?-1:1);break;case"status":this.finishedRequisitions.sort((e,t)=>e.status<t.status?-1:1)}else switch(e){case"employeeName":this.finishedRequisitions.sort((e,t)=>e.employeeName>t.employeeName?-1:1);break;case"requestId":this.finishedRequisitions.sort((e,t)=>e.requestId>t.requestId?-1:1);break;case"employeeId":this.finishedRequisitions.sort((e,t)=>e.employeeId>t.employeeId?-1:1);break;case"startDate":this.finishedRequisitions.sort((e,t)=>e.startDate>t.startDate?-1:1);break;case"responsableName":this.finishedRequisitions.sort((e,t)=>e.responsableName>t.responsableName?-1:1);break;case"status":this.finishedRequisitions.sort((e,t)=>e.status>t.status?-1:1)}}initializeComponents(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.initVariables(),yield this.getRequisitions(),this.initializePoComponent(),this.initializeSearch(),this.checkIfMobile(),this.setCountLastAccess()})}updateParams(e){this.paramsFilters.employeeName=void 0!==e.employeeName?e.employeeName:null,this.paramsFilters.status=void 0!==e.status?e.status:null,this.paramsFilters.startDate=null!=e.startDate?new Date(e.startDate):null,this.paramsFilters.requestId=void 0!==e.requestId?e.requestId:null}getRequisitions(e=this.paramsFilters){return(0,U.mG)(this,void 0,void 0,function*(){this.updateParams(e);const t=yield this.requisitionsService.getAllRequisitions(this.loggedUser.id,this.page,this.pageSize,this.paramsFilters.employeeName,this.paramsFilters.requestId,this.paramsFilters.startDate,this.paramsFilters.status,"demission");t.items&&(this.hasNext=t.hasNext,this.finishedRequisitions=this.finishedRequisitions.concat(t.items))})}getEmployeeSummary(){return(0,U.mG)(this,void 0,void 0,function*(){let e=Ze.N.loggedUser;return this.globals.getEmployeeSummary().then(t=>{this.employee=t,this.employee&&(e=this.employee.id)}),yield xe.ZP.checkIfEncode(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Yo.g5),o.Y36(q._),o.Y36(to._),o.Y36(te.g),o.Y36(Q.H),o.Y36(n.H7),o.Y36(Ro.$),o.Y36(fe.O),o.Y36(ee.g))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-demission"]],hostBindings:function(e,t){1&e&&o.NdJ("resize",function(e){return t.onResize(e)},!1,o.Jf7)},inputs:{requisition:"requisition"},features:[o.qOj],decls:7,vars:8,consts:[["backIsVisible","viewIsMobile","pageTitle","l-desmissal",3,"backFunction"],[1,"actions-holder"],["title","","name","fieldName","ngDefaultControl","",3,"ngClass","p-actions","p-filters","p-literals","p-change-disclaimers","p-quick-search","p-advanced-search"],["class","desktop",4,"ngIf"],["class","holder mobile",4,"ngIf"],[4,"ngIf"],[1,"desktop"],[1,"history-panel","table"],[1,"column-header"],[1,"custom-tr"],[1,"employee-label-column"],[1,"table-header"],[1,"sort-icons"],[1,"sort","po-icon","po-icon-arrow-up",3,"click"],[1,"sort","po-icon","po-icon-arrow-down",3,"click"],[1,"employee-label-column","column-dates"],[1,"employee-label-column","column-icons"],["class","custom-tr hover-design",4,"ngFor","ngForOf"],["class","alignCenter",4,"ngIf"],[1,"custom-tr","hover-design"],[1,"column","text-center","inline-block"],[1,"avatar-small"],[1,"column",3,"id"],[1,"column"],[1,"flag",3,"ngClass"],[1,"column","column-icons"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],["class","dropdown-menu-itens dropdown-menu-itens-next",3,"click",4,"ngIf"],[1,"dropdown-menu-itens",3,"click"],[1,"dropdown-menu-itens","dropdown-menu-itens-next",3,"click"],[1,"alignCenter"],["p-small","false","p-type","default","classq","linkViewMore next-periods",3,"p-disabled","p-label","p-click"],[1,"holder","mobile"],["class","latest-requests",4,"ngIf"],["class","no-padding",4,"ngFor","ngForOf"],["class","alignCenter load-container",4,"ngIf"],[1,"latest-requests"],[1,"no-padding"],["hideToggle","false",3,"ngClass"],[1,"vacation-history-header"],[1,"bullet",3,"ngClass"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value"],[1,"historic-content","po-mb-2"],["class","button",3,"p-label","click",4,"ngIf"],["class","button","p-type","primary",3,"p-label","click",4,"ngIf"],[1,"button",3,"p-label","click"],["p-type","primary",1,"button",3,"p-label","click"],[1,"alignCenter","load-container"],[1,"load-more",3,"p-disabled","p-label","p-click"],[3,"requisition","isApproving","finishedRequisitions","steps","getBackEvent","getRequisitions","cleanFinishedRequisitions"],[3,"requisition","demissionDetails","openRequestDemissionInVisualize","getBackEvent"]],template:function(e,t){1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.back()}),o.qZA(),o.TgZ(1,"div",1),o.TgZ(2,"po-page-dynamic-search",2),o.NdJ("p-change-disclaimers",function(e){return t.onChangeDisclaimers(e)})("p-quick-search",function(e){return t.onQuickSearch(e)})("p-advanced-search",function(e){return t.onAdvancedSearch(e)}),o.qZA(),o.YNc(3,Wo,61,40,"div",3),o.YNc(4,ss,2,1,"div",4),o.qZA(),o.YNc(5,as,2,4,"div",5),o.YNc(6,rs,2,2,"div",5)),2&e&&(o.xp6(2),o.Q6J("ngClass",t.hasDisclaimers?"disclaimer":"")("p-actions",t.searchActions)("p-filters",t.filters)("p-literals",t.customLiterals),o.xp6(1),o.Q6J("ngIf",!t.isMobile),o.xp6(1),o.Q6J("ngIf",t.isMobile),o.xp6(1),o.Q6J("ngIf",t.requestDemissionIsVisible),o.xp6(1),o.Q6J("ngIf",t.visualizeDemissionIsVisible))},directives:[T.q,ti.O6,d.Fj,s.mk,s.O5,s.sg,f.bOz,zo.pp,zo.ib,zo.yz,oo,Vo],pipes:[s.rS,h.X$,Qo,s.uU,s.i8],styles:[".thf-button[_ngcontent-%COMP%]{padding:0 30px}.demission-label[_ngcontent-%COMP%]{margin-top:0}.latest-requests[_ngcontent-%COMP%]{margin-top:0}.demission-history-header[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;color:#2b3639}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:normal;color:#2b3639}@media screen and (max-width: 375px){.historic-value[_ngcontent-%COMP%]{display:block;width:100%}}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}@media screen and (max-width: 375px){.historic-label[_ngcontent-%COMP%]{display:block;width:100%}}.next-records[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:16px;font-weight:bold;line-height:3;color:#0c9abe;padding-bottom:20px;cursor:pointer}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px}.historic-content[_ngcontent-%COMP%]{padding:0 15px}@media (max-width: 375px){.historic-content[_ngcontent-%COMP%]{min-height:48px}}@media (max-width: 480px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{display:block;width:100%}}@media (min-width: 480px) and (max-width: 1024px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{margin-right:5px}}@media (max-width: 480px){[_nghost-%COMP%]     po-button .po-button{display:block;width:100%;margin-bottom:10px}}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{display:inline-block;margin:0 0 8px;padding-left:8px;color:#fff}.to-request-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.to-request-label[_ngcontent-%COMP%]{color:#fff}.demission-label[_ngcontent-%COMP%]{padding-left:8px}.dropdown[_ngcontent-%COMP%]{float:none;float:initial;text-align:center}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding:0 16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens-next[_ngcontent-%COMP%]{white-space:nowrap}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;right:5px;min-width:90px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#4a5c60;font-size:20px}[_nghost-%COMP%]     .thf-button-link{border-color:#4a5c60;color:#4a5c60}@media screen and (max-width: 425px){[_nghost-%COMP%]     .thf-button-link{width:100%}}[_nghost-%COMP%]     po-advanced-filter .po-field-title{text-transform:capitalize}.demission[_ngcontent-%COMP%]{position:relative;padding:10px}@media screen and (min-width: 992px) and (max-width: 1199px){.demission-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media screen and (min-width: 1200px){.demission-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}@media (max-width: 960px) and (min-width: 481px){.demission-holder[_ngcontent-%COMP%]{position:absolute;bottom:22px;right:15px}}.demission-link[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 992px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 20px}.actions-holder[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{display:inline-block;max-width:450px;width:250px;float:right}}@media (max-width: 480px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]{height:44px;width:100%;margin-bottom:15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions .po-button, [_nghost-%COMP%]     .load-more .po-button{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions{margin-bottom:55px}}[_nghost-%COMP%]     .general .max-width-page-title{padding-left:0}[_nghost-%COMP%]     .thf-field-container-content{padding:0}[_nghost-%COMP%]     .po-page{width:100%;margin-left:0;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}[_nghost-%COMP%]     .demission .card-well{background:linear-gradient(to top right,#0c7cbe 0%,#0cb8be 100%)}[_nghost-%COMP%]     .thf-button{padding:0}@media screen and (max-width: 1366px){.thf-button[_ngcontent-%COMP%]{line-height:16px;padding:7px 16px}}.displayBlock[_ngcontent-%COMP%]{width:100%;display:block}.bullet[_ngcontent-%COMP%]{display:inline-block;height:15px;width:15px;margin-right:10px;padding:8px;border-radius:20px;background:#e8850a}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.employee-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;word-wrap:break-word;overflow:auto;max-width:200px}.column-icons[_ngcontent-%COMP%]{text-align:center}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;height:20px!important;white-space:nowrap;padding:10px}tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.sort-icons[_ngcontent-%COMP%]{display:inline-block}.desktop[_ngcontent-%COMP%]{margin:0 15px;padding-bottom:100px}.mobile[_ngcontent-%COMP%]{padding:0 10px}.text-center[_ngcontent-%COMP%]{text-align:center!important}.avatar-small[_ngcontent-%COMP%]{display:inline-block}.column-see[_ngcontent-%COMP%]{vertical-align:middle!important}.column-icons[_ngcontent-%COMP%]{overflow:visible!important;overflow:initial!important}.pending[_ngcontent-%COMP%]{background-color:#e8850a}.approved[_ngcontent-%COMP%], .aprovado[_ngcontent-%COMP%], .fechado[_ngcontent-%COMP%], .closed[_ngcontent-%COMP%]{background:#00b28e}.rejected[_ngcontent-%COMP%], .rejeitado[_ngcontent-%COMP%], .reprovado[_ngcontent-%COMP%], .reproved[_ngcontent-%COMP%]{background:#c64840}.empty[_ngcontent-%COMP%], .vazio[_ngcontent-%COMP%]{background:#cacaca}.approving[_ngcontent-%COMP%]{background:#e8850a}[_nghost-%COMP%]     .po-page-content{position:absolute;left:-100vw;top:-100vh}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-page{display:block}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-page{display:block;padding-bottom:0}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-modal-footer{padding:15px}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer{margin-bottom:15px;padding:0 15px}}[_nghost-%COMP%]     .po-modal-footer .po-button{margin:0 0 5px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-bottom:10px}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-left:12px;width:23%}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer po-button{margin-left:0}}[_nghost-%COMP%]     .po-page-list-actions .po-button{padding:0 50px}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-filter-content{width:calc(100% - 80px)}}@media (min-width: 768px){[_nghost-%COMP%]     .po-page-filter-content{width:300px}}[_nghost-%COMP%]     .po-table-subtitle-footer-container{display:none}.alignCenter[_ngcontent-%COMP%]{text-align:center}.mat-accordion[_ngcontent-%COMP%] > .mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]     .mat-content{align-items:center;overflow:auto}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 24px 0 20px}.sort[_ngcontent-%COMP%]{display:block;width:100%;cursor:pointer;font-size:9px;margin-left:15px}.load-container[_ngcontent-%COMP%]{margin-bottom:30px}.history-panel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .custom-tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}"]}),e})();function cs(e,t){1&e&&(o.TgZ(0,"h2",10),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-requisitions-available")," "))}const ps=function(e,t,i){return{"po-hidden-sm":e,"po-hidden-lg":t,"po-hidden-xl":i,"po-sm-4":!0,"po-md-2":!0,"po-lg-2":!0,"po-xl-2":!0}};function ds(e,t){if(1&e&&(o.TgZ(0,"div",12),o.TgZ(1,"div"),o.TgZ(2,"app-card"),o.TgZ(3,"div",13),o._UZ(4,"app-card-featured",14),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=t.index;o.Q6J("ngClass",o.kEZ(4,ps,i>2,i>5,i>5)),o.xp6(4),o.Q6J("featuredIcon",e.featuredIcon)("featuredLabel",e.featuredLabel)("featuredRoute",e.featuredRoute)}}function gs(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",3),o.YNc(2,ds,5,8,"div",11),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.lastAccessedItems)}}function us(e,t){1&e&&(o.TgZ(0,"h2",10),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"l-requisitions-new")," "))}function hs(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"app-card"),o.TgZ(2,"div",13),o._UZ(3,"app-card-featured",14),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(3),o.Q6J("featuredIcon",e.featuredIcon)("featuredLabel",o.lcZ(4,3,e.featuredLabel))("featuredRoute",e.featuredRoute)}}function ms(e,t){if(1&e&&(o.TgZ(0,"div",12),o.YNc(1,hs,5,5,"div",9),o.qZA()),2&e){const e=t.$implicit,i=t.index;o.Q6J("ngClass",o.kEZ(2,ps,i>2,i>5,i>5)),o.xp6(1),o.Q6J("ngIf",null==e?null:e.permission)}}function fs(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",3),o.YNc(2,ms,2,6,"div",11),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.baseButtons)}}let vs=(()=>{class e extends gt.R{constructor(e,t,i,n,o,s){super(),this.lastAccessService=e,this.appTranslateService=t,this.permissionService=i,this.windowUtilService=n,this.requisitonsService=o,this.globals=s,this.lastAccessedItems=[],this.demissionIsAllowed=!1,this.baseButtons=[],this.requisitions={totalPending:0,totalRequest:0,subTotals:[]}}ngOnInit(){this.initializeComponents()}getPermissions(){return this.globals.getEmployeePermission()?Promise.resolve(this.globals.getEmployeePermission()):this.permissionService.getPermissions(this.loggedUser.id)}setLastAccessedMenus(){return(0,U.mG)(this,void 0,void 0,function*(){this.lastAccessedItems.length&&(this.lastAccessedItems.sort((e,t)=>e.cont>t.cont?-1:e.cont<t.cont?1:0),this.lastAccessedItems.forEach(e=>{e.id===Yo.Pz&&this.permissions.demission&&this.setCardInfo(e,"ico-demission","im-desmissal","/demission"),e.id===Yo.nd&&this.permissions.substitution&&this.setCardInfo(e,"ico-substitution","l-substitution","/substitution"),e.id===Yo.Mt&&this.permissions.employeeDataChange&&this.setCardInfo(e,"po-icon po-icon-edit","l-data-change","/employeeDataChange")})),!this.lastAccessedItems.find(e=>e.id===Yo.Pz)&&this.permissions.demission&&this.lastAccessedItems.push({featuredIcon:"ico-demission",featuredLabel:yield this.appTranslateService.getI18n("im-desmissal"),featuredRoute:"/demission",id:Yo.Pz,cont:0}),!this.lastAccessedItems.find(e=>e.id===Yo.nd)&&this.permissions.substitution&&this.lastAccessedItems.push({featuredIcon:"ico-substitution",featuredLabel:yield this.appTranslateService.getI18n("l-substitution"),featuredRoute:"/substitution",id:Yo.nd,cont:0}),!this.lastAccessedItems.find(e=>e.id===Yo.Mt)&&this.permissions.employeeDataChange&&this.lastAccessedItems.push({featuredIcon:"po-icon po-icon-edit",featuredLabel:yield this.appTranslateService.getI18n("l-data-change"),featuredRoute:"/employeeDataChange",id:Yo.Mt,cont:0})})}back(){this.windowUtilService.back()}setCardInfo(e,t,i,n){e.featuredIcon=t,this.appTranslateService.getI18n(i).then(t=>{e.featuredLabel=t}),e.featuredRoute=n}initializeComponents(){return(0,U.mG)(this,void 0,void 0,function*(){this.loggedUser=yield this.globals.getEmployeeSummary(),this.permissions=yield this.getPermissions(),this.types=this.getTypes(),this.lastAccessedItems=this.lastAccessService.getLastAccessMenuItems(this.loggedUser.id),this.setCountLastAccess(),this.loadNotifications(),yield this.setLastAccessedMenus()})}loadNotifications(){return(0,U.mG)(this,void 0,void 0,function*(){this.requisitions=yield this.requisitonsService.getCountedRequisitions(this.loggedUser.id,this.types)})}getTypes(){let e="";return this.permissions.demission&&(e+="demission"),this.permissions.substitution&&(e+=e.length>0?"|substitution":"substitution"),this.permissions.employeeDataChange&&(e+=e.length>0?"|employeeDataChange":"employeeDataChange"),e}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccessService.setLastAccess(Yo.im,e.id)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Yo.g5),o.Y36(ee.g),o.Y36(Ro.$),o.Y36(te.g),o.Y36(to._),o.Y36(fe.O))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-requisitions"]],features:[o.qOj],decls:26,vars:19,consts:[[1,"container-fluid",3,"hidden"],["pageTitle","l-requisitions",3,"backIsVisible","backFunction"],[1,"po-holder"],[1,"po-row"],[1,"po-sm-6","po-md-3","po-lg-3","po-xl-3"],[1,"card"],[1,"po-font-subtitle","text-number"],[1,"text-title"],["class","po-font-subtitle text-subtitle",4,"ngIf"],[4,"ngIf"],[1,"po-font-subtitle","text-subtitle"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["card-body",""],[3,"featuredIcon","featuredLabel","featuredRoute"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"app-page-header",1),o.NdJ("backFunction",function(){return t.back()}),o.qZA(),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div"),o.TgZ(7,"span",6),o._uU(8),o.ALo(9,"number"),o.qZA(),o.TgZ(10,"h4",7),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.TgZ(14,"div",5),o.TgZ(15,"div"),o.TgZ(16,"span",6),o._uU(17),o.ALo(18,"number"),o.qZA(),o.TgZ(19,"h4",7),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(22,cs,3,3,"h2",8),o.YNc(23,gs,3,1,"div",9),o.YNc(24,us,3,3,"h2",8),o.YNc(25,fs,3,1,"div",9),o.qZA()),2&e&&(o.xp6(1),o.Q6J("backIsVisible",t.viewIsMobile),o.xp6(7),o.Oqu(o.xi3(9,9,(null==t.requisitions?null:t.requisitions.totalRequest)||0,"2.0")),o.xp6(3),o.Oqu(o.lcZ(12,12,"l-my-requests")),o.xp6(6),o.Oqu(o.xi3(18,14,(null==t.requisitions?null:t.requisitions.totalPending)||0,"2.0")),o.xp6(3),o.Oqu(o.lcZ(21,17,"l-my-approvals")),o.xp6(2),o.Q6J("ngIf",0!=(null==t.lastAccessedItems?null:t.lastAccessedItems.length)),o.xp6(1),o.Q6J("ngIf",0!=(null==t.lastAccessedItems?null:t.lastAccessedItems.length)),o.xp6(1),o.Q6J("ngIf",0==(null==t.lastAccessedItems?null:t.lastAccessedItems.length)&&t.permissions),o.xp6(1),o.Q6J("ngIf",(null==t.baseButtons?null:t.baseButtons.length)>0))},directives:[T.q,s.O5,s.sg,s.mk,_.A,Qe],pipes:[s.JJ,h.X$],styles:['.po-font-subtitle[_ngcontent-%COMP%]{margin:10px 10px 5px}.po-holder[_ngcontent-%COMP%]{margin:24px 0}.text-title[_ngcontent-%COMP%]{left:10px;top:6px;margin:5px 0 10px;color:#2b3639;font-weight:300;font-size:1rem;text-align:left}.text-subtitle[_ngcontent-%COMP%]{color:#2b3639;font-size:22px}.text-number[_ngcontent-%COMP%]{display:block;padding:20px 0;color:#2b3639;font-family:"NunitoSans";font-size:2.4rem;font-weight:100}@media screen and (max-width: 576px){.text-number[_ngcontent-%COMP%]{text-align:left;font-weight:normal}}@media screen and (max-width: 320px){.text-number[_ngcontent-%COMP%]{margin:14px 10px 1px;font-size:1.4rem}}[_nghost-%COMP%]     .card{position:relative;margin-bottom:8px;padding-top:22px;background:#ffffff;box-shadow:0 2px 8px #e3e6f1;border-radius:6px;text-align:center}[_nghost-%COMP%]     .card-footer{padding:5px 0;border-top:1px solid #f1f1f1}[_nghost-%COMP%]     .card-link{cursor:pointer;font-size:1rem;font-weight:bold}[_nghost-%COMP%]     .card .text-title{position:absolute}[_nghost-%COMP%]     .card-actions{padding:5px 0;border-top:1px solid #e3e6f1;color:#0c9abe}@media screen and (max-width: 576px){[_nghost-%COMP%]     .card-actions{position:absolute;bottom:15px;right:15px;z-index:10;border:none}}@media screen and (max-width: 320px){[_nghost-%COMP%]     .card-actions{position:absolute;bottom:15px;right:10px}}[_nghost-%COMP%]     .card-well{min-height:104px;padding:0!important}[_nghost-%COMP%]     .card-featured{display:block;padding:16px;cursor:pointer}']}),e})();function bs(e,t){if(1&e&&(o.TgZ(0,"div",7),o._UZ(1,"br"),o._UZ(2,"hr",8),o.TgZ(3,"h2",9),o._uU(4),o.qZA(),o.qZA()),2&e){const e=o.oxw(3);o.xp6(4),o.Oqu(e.viewLabel)}}function xs(e,t){if(1&e&&(o.TgZ(0,"span"),o.YNc(1,bs,5,1,"div",6),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.birthdates&&0!==e.birthdates.length)}}function ys(e,t){if(1&e&&(o.TgZ(0,"tbody"),o.TgZ(1,"tr",10),o.TgZ(2,"td",11),o._UZ(3,"div",12),o.qZA(),o.TgZ(4,"td"),o.TgZ(5,"div",13),o.TgZ(6,"span",14),o.TgZ(7,"strong"),o._uU(8),o.ALo(9,"titleCase"),o.qZA(),o.qZA(),o.qZA(),o._UZ(10,"br"),o.TgZ(11,"div",15),o.TgZ(12,"span",14),o._uU(13),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"td",16),o.TgZ(15,"div",13),o.TgZ(16,"span",17),o._uU(17),o.ALo(18,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(3),o.Udp("background-image",i.getImageAvatar(e.employeeId)),o.xp6(5),o.Oqu(o.lcZ(9,5,e.employeeName)),o.xp6(5),o.hij(" ",e.department," "),o.xp6(4),o.hij(" ",o.xi3(18,7,e.birthDate,"EEEE, dd MMMM")," ")}}function Zs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",18),o.TgZ(1,"a",19),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).getMore()}),o._uU(2),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.AsE("",o.lcZ(3,2,"l-see")," ",o.lcZ(4,4,"l-all"),""))}function ws(e,t){if(1&e&&(o.TgZ(0,"div",2),o.YNc(1,xs,2,1,"span",1),o.TgZ(2,"table",3),o.YNc(3,ys,19,10,"tbody",4),o.qZA(),o.YNc(4,Zs,5,6,"div",5),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.birthdates&&0!==e.birthdates.length),o.xp6(2),o.Q6J("ngForOf",e.birthdatesPaginate),o.xp6(1),o.Q6J("ngIf",e.viewMore)}}function Cs(e,t){if(1&e&&(o.TgZ(0,"span",7),o.TgZ(1,"h2",33),o._uU(2),o.qZA(),o.qZA()),2&e){const e=o.oxw(3);o.xp6(2),o.Oqu(e.viewLabel)}}function Ms(e,t){if(1&e&&(o.TgZ(0,"p",34),o._uU(1),o.ALo(2,"utcDate"),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,null==e?null:e.birthDate,"longDate")," ")}}function As(e,t){1&e&&o._UZ(0,"hr",35)}const Ps=function(e){return{"first-item":e}};function Os(e,t){if(1&e&&(o.TgZ(0,"div",24),o.YNc(1,Cs,3,1,"span",6),o.YNc(2,Ms,3,4,"p",25),o.YNc(3,As,1,0,"hr",26),o.TgZ(4,"div",27),o.TgZ(5,"div",28),o._UZ(6,"div",29),o.qZA(),o.TgZ(7,"div",30),o.TgZ(8,"div",31),o.TgZ(9,"strong"),o._uU(10),o.ALo(11,"titleCase"),o.qZA(),o.qZA(),o.TgZ(12,"div",32),o._uU(13),o.ALo(14,"titleCase"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=t.index,n=o.oxw(2);o.xp6(1),o.Q6J("ngIf",0===i),o.xp6(1),o.Q6J("ngIf",0===i),o.xp6(1),o.Q6J("ngIf",i>0),o.xp6(1),o.Q6J("ngClass",o.VKq(12,Ps,0===i)),o.xp6(2),o.Udp("background-image",n.getImageAvatar(e.employeeId)),o.xp6(4),o.Oqu(o.lcZ(11,8,null==e?null:e.employeeName)),o.xp6(3),o.hij(" ",o.lcZ(14,10,null==e?null:e.department)," ")}}function qs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",36),o.TgZ(1,"a",19),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).getMore()}),o._uU(2),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(2),o.AsE("",o.lcZ(3,2,"l-see")," ",o.lcZ(4,4,"l-all"),""))}function Ts(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"app-card"),o.YNc(2,Os,15,14,"div",20),o.TgZ(3,"div",21),o._UZ(4,"hr",22),o.YNc(5,qs,5,6,"div",23),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.birthdatesPaginate),o.xp6(3),o.Q6J("ngIf",e.viewMore)}}let _s=(()=>{class e{constructor(e,t,i){this.profileService=e,this.sanitization=t,this.navigationUtil=i,this.avatarImage=[],this.viewMore=!1,this.birthdatesPaginate=[],this.pageSize=2,this.showAllRecords=new o.vpe,this.birthdates=[]}ngOnInit(){this.viewIsMobile=te.g.mdDeviceOrSmaller(window.innerWidth),this.filterShowBirthdates()}getMore(){this.viewMore=!1,this.navigationUtil.doNavigation("birthdates/details/"+this.status)}getImageAvatar(e){return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(t=>{t&&t.content&&(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))})),this.avatarImage[e]}filterShowBirthdates(){this.isFiltered&&this.birthdates.length>this.pageSize?(this.viewMore=!0,this.birthdatesPaginate=this.birthdates.slice(0,2)):this.birthdatesPaginate=this.birthdates,this.convertToCurrentYear()}convertToCurrentYear(){const e=JSON.parse(JSON.stringify(this.birthdatesPaginate));for(const t of e)null!=t.birthDate&&("string"==typeof t.birthDate&&(t.birthDate=new Date(t.birthDate)),t.birthDate.setFullYear((new Date).getFullYear()));this.birthdatesPaginate=e}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Q.H),o.Y36(n.H7),o.Y36(q._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-team-birthdates-detail"]],inputs:{birthdates:"birthdates",viewLabel:"viewLabel",status:"status",isFiltered:"isFiltered"},outputs:{showAllRecords:"showAllRecords"},decls:2,vars:2,consts:[["class","header-divider panel-body po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],[4,"ngIf"],[1,"header-divider","panel-body","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"history-panel","table"],[4,"ngFor","ngForOf"],["class","next-periods",4,"ngIf"],["class","po-row",4,"ngIf"],[1,"po-row"],[1,"line"],["id","tit-page-header",1,"page-title"],[1,"custom-tr","hover-design"],[1,"column-icons"],[1,"avatar-small"],[1,"name-table"],[1,"left-text"],[1,"po-mt-1","office"],[1,"column-width"],[1,"right-text"],[1,"next-periods"],[3,"click"],["class","mr-card-header","card-header","",4,"ngFor","ngForOf"],["card-footer",""],[1,"finish-line"],["class","next-periods-mobile",4,"ngIf"],["card-header","",1,"mr-card-header"],["class","name-birthday-mobile",4,"ngIf"],["class","line-cards",4,"ngIf"],[3,"ngClass"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],[2,"font-size","14px"],[1,"name-birthday-mobile"],[1,"line-cards"],[1,"next-periods-mobile"]],template:function(e,t){1&e&&(o.YNc(0,ws,5,3,"div",0),o.YNc(1,Ts,6,2,"div",1)),2&e&&(o.Q6J("ngIf",!t.viewIsMobile),o.xp6(1),o.Q6J("ngIf",t.viewIsMobile))},directives:[s.O5,s.sg,_.A,s.mk],pipes:[oe.r,Xe.$,h.X$],styles:[".panel-body[_ngcontent-%COMP%]{padding-bottom:0}.next-periods-mobile[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:14px;box-shadow:inset 0 0 #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;cursor:pointer;margin-bottom:-14px;margin-top:4px}.next-periods[_ngcontent-%COMP%]{background-color:transparent;text-align:center;font-size:14px;box-shadow:inset 0 0 #dbdedf;font-weight:bold;line-height:3;color:#0c9abe;cursor:pointer}.first-item[_ngcontent-%COMP%]{margin-top:12px}.employee-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;text-align:left;height:60px!important;word-wrap:break-word;max-width:200px}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:16px;text-align:left;height:20px!important;white-space:nowrap;padding:10px}.name[_ngcontent-%COMP%]{font-weight:bold;color:#302462}.birthday[_ngcontent-%COMP%]{text-align:right!important}.column-width[_ngcontent-%COMP%]{padding:12px}.color-white[_ngcontent-%COMP%]{color:#fff}.name[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#302462}.name-birthday[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9}.name-birthday-mobile[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-bottom:24px;margin-top:-5px}.finish-line[_ngcontent-%COMP%]{margin:1rem -16px -4px}.line-cards[_ngcontent-%COMP%]{margin-bottom:.7rem!important}.name-table[_ngcontent-%COMP%]{font-size:14px;color:#302462}.office[_ngcontent-%COMP%]{font-size:.8em;font-weight:bold;color:#9da7a9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.column-icons[_ngcontent-%COMP%]{text-align:center!important}.line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.avatar-align[_ngcontent-%COMP%]{margin-left:5px}.avatar-small[_ngcontent-%COMP%]{width:42px;height:42px}.icons-action[_ngcontent-%COMP%]{color:#0c9abe;font-size:25px;margin:0px,5px;cursor:pointer}.icons-list[_ngcontent-%COMP%]{font-size:19px;color:#0c9abe;font-weight:600;vertical-align:middle}.right-align[_ngcontent-%COMP%]{position:relative;width:100%}.right-text[_ngcontent-%COMP%]{float:right}.left-text[_ngcontent-%COMP%]{float:left}.icon-title-list[_ngcontent-%COMP%]{padding-left:8px;vertical-align:middle!important;font-family:NunitoSans!important}.table-header[_ngcontent-%COMP%]{float:left;line-height:0px}.sort-icons[_ngcontent-%COMP%]{float:left}.sort[_ngcontent-%COMP%]{display:block;width:100%;cursor:pointer;font-size:9px;margin-left:15px}.table-header[_ngcontent-%COMP%]{float:left;line-height:1}[_nghost-%COMP%]     .po-container{margin-top:10px!important}[_nghost-%COMP%]     po-input{padding-left:0;padding-right:0}.informations[_ngcontent-%COMP%]{padding:0 8px;margin-top:5px;width:100%;font-size:14px;float:left}.icon-depto[_ngcontent-%COMP%]{margin-top:2px;margin-right:4px;float:left;color:#0c9abe}[_nghost-%COMP%]     .cardbody{margin-top:55px;padding-left:55px}[_nghost-%COMP%]     .aboutEmployee{padding-left:55px}.actions[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;color:#0c9abe;margin:15px 0;float:left}.actions-button[_ngcontent-%COMP%]{border:.8px solid #0c9abe;border-radius:5px;margin-left:10px;text-align:center;cursor:pointer;white-space:normal;width:60px;height:75px;font-size:10px;font-weight:bold}.action-icons-mobile[_ngcontent-%COMP%]{margin:6px 0;display:block;font-size:30px}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:180px;left:auto!important}.dropdown-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 0 10px}@media screen and (max-width: 320px){[_nghost-%COMP%]     .cardbody{padding-left:0}.informations[_ngcontent-%COMP%]{padding-left:63px}}"]}),e})();function Ss(e,t){if(1&e&&(o._UZ(0,"app-team-birthdates-detail",2),o.ALo(1,"translate")),2&e){const e=o.oxw();o.Q6J("birthdates",e.birthdatesToday)("viewLabel",o.lcZ(1,4,"l-birthdays-today"))("status","today")("isFiltered",e.isFiltered)}}function Is(e,t){if(1&e&&(o._UZ(0,"app-team-birthdates-detail",2),o.ALo(1,"titlecase"),o.ALo(2,"translate")),2&e){const e=o.oxw();o.Q6J("birthdates",e.birthdatesBefore)("viewLabel",o.lcZ(1,4,o.lcZ(2,6,"l-birthdays-before")))("status","before")("isFiltered",e.isFiltered)}}function Ds(e,t){if(1&e&&(o._UZ(0,"app-team-birthdates-detail",2),o.ALo(1,"titlecase"),o.ALo(2,"translate")),2&e){const e=o.oxw();o.Q6J("birthdates",e.birthdatesAfter)("viewLabel",o.lcZ(1,4,o.lcZ(2,6,"l-birthdays-after")))("status","after")("isFiltered",e.isFiltered)}}let ks=(()=>{class e{constructor(e,t){this.dashboardService=e,this.route=t,this.birthdatesBefore=[],this.birthdatesToday=[],this.birthdatesAfter=[],this.isFiltered=!0}ngOnInit(){this.getListBirthdates()}getListBirthdates(){return(0,U.mG)(this,void 0,void 0,function*(){this.statusFilter=this.getURLParamId();const e=yield this.dashboardService.getTeamBirthdays(Ze.N.loggedUser),t=(new Date).getUTCDate();this.separateBirthdatesTypes(e,t),this.statusFilter&&(this.isFiltered=!1,this.showAllBirthdatesByStatus())})}separateBirthdatesTypes(e,t){(e=this.sortBirthdatesByDate(e)).forEach(e=>{const i=V.Em.getDateWithoutTimezone(new Date(e.birthDate));i.getUTCDate()>t?this.birthdatesAfter.push(e):i.getUTCDate()===t?this.birthdatesToday.push(e):this.birthdatesBefore.push(e)})}getURLParamId(){return this.route.snapshot.paramMap.get("status")}showAllBirthdatesByStatus(){"today"===this.statusFilter?(this.birthdatesAfter=[],this.birthdatesBefore=[]):"after"===this.statusFilter?(this.birthdatesToday=[],this.birthdatesBefore=[]):(this.birthdatesAfter=[],this.birthdatesToday=[])}sortBirthdatesByDate(e){return e.sort((e,t)=>{let i=new Date(e.birthDate).getUTCDate(),n=new Date(t.birthDate).getUTCDate();return i>n?1:i<n?-1:0})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Pe),o.Y36(A.gz))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-team-birthdates"]],decls:6,vars:9,consts:[[3,"backIsVisible","pageTitle"],[3,"birthdates","viewLabel","status","isFiltered",4,"ngIf"],[3,"birthdates","viewLabel","status","isFiltered"]],template:function(e,t){1&e&&(o._UZ(0,"app-page-header",0),o.ALo(1,"titleCase"),o.ALo(2,"translate"),o.YNc(3,Ss,2,6,"app-team-birthdates-detail",1),o.YNc(4,Is,3,8,"app-team-birthdates-detail",1),o.YNc(5,Ds,3,8,"app-team-birthdates-detail",1)),2&e&&(o.MGl("pageTitle","",o.lcZ(1,5,o.lcZ(2,7,"l-birthdays"))," "),o.Q6J("backIsVisible",!0),o.xp6(3),o.Q6J("ngIf",null==t.birthdatesToday?null:t.birthdatesToday.length),o.xp6(1),o.Q6J("ngIf",null==t.birthdatesBefore?null:t.birthdatesBefore.length),o.xp6(1),o.Q6J("ngIf",null==t.birthdatesAfter?null:t.birthdatesAfter.length))},directives:[T.q,s.O5,_s],pipes:[oe.r,h.X$,s.rS],styles:[""]}),e})();const Ls="team/substitute/";let Ns=(()=>{class e{constructor(e){this.genericService=e}getSubstituteRequests(e){return(0,U.mG)(this,void 0,void 0,function*(){const t=`${Ls}${Ze.N.loggedUser}`,i=this.parseParams({},"initDate",e);return(yield this.genericService.search(t,i)).items})}getSubstitutes(e,t,i,n,o){const s=`${Ls}eligible/${Ze.N.loggedUser}`;t=t||1,i=i||10;const a={};return this.parseParams(a,"userName",e),this.parseParams(a,"page",t),this.parseParams(a,"pageSize",i),this.parseParams(a,"divisions",n),this.parseParams(a,"divisionType",o),this.genericService.search(s,a)}parseParams(e,t,i){null!=i&&(e[t]=i)}substituteRequest(e){return this.genericService.post(Ls+Ze.N.loggedUser,e)}getDivisions(){return this.genericService.get(`team/organizationalSubdivision/${Ze.N.loggedUser}`).then(e=>e.items)}updateSubstituteRequest(e){return this.genericService.put(`${Ls}${Ze.N.loggedUser}`,e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Es=(()=>((Es||(Es={})).TypeEnum={Department:"department",Team:"team",Hierarchy:"hierarchy"},Es))(),Us=(()=>((Us||(Us={})).DivisionsTypeEnum={Department:"department",Team:"team",Hierarchy:"hierarchy"},Us))();function Fs(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"span",5),o.TgZ(2,"span",6),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,1,"l-only-possible-to-choose-a-type-structure")))}function Js(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-checkbox-group",7),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().departamentCheckbox=t}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-department")),o.Q6J("ngModel",e.departamentCheckbox)("p-disabled",e.teamCheckbox&&e.teamCheckbox.length>0)("p-options",e.department)}}function Vs(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"span",5),o.TgZ(2,"span",6),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.hij("",o.lcZ(4,1,"l-only-possible-to-choose-a-type-structure")," "))}function Rs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"po-checkbox-group",8),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().teamCheckbox=t}),o.ALo(1,"translate"),o.qZA()}if(2&e){const e=o.oxw();o.s9C("p-label",o.lcZ(1,4,"l-team")),o.Q6J("ngModel",e.teamCheckbox)("p-disabled",e.departamentCheckbox&&e.departamentCheckbox.length>0)("p-options",e.team)}}let Ys=(()=>{class e{constructor(e){this.service=e,this.department=[],this.team=[],this.closeDivisionsNext=new o.vpe}ngOnInit(){this.getDivisions(),this.loadSelectedDivisions()}getDivisions(){this.service.getDivisions().then(e=>{e.forEach(e=>{e.type===Es.TypeEnum.Department?this.department.push({value:e.id,label:e.name}):this.team.push({value:e.id,label:e.name})})})}loadSelectedDivisions(){this.substituteRequest&&this.substituteRequest.divisionsType===Us.DivisionsTypeEnum.Department?this.departamentCheckbox=this.substituteRequest.divisions:this.substituteRequest&&(this.substituteRequest.divisionsType===Us.DivisionsTypeEnum.Team||this.substituteRequest.divisionsType===Us.DivisionsTypeEnum.Hierarchy)&&(this.teamCheckbox=this.substituteRequest.divisions)}nextStep(){const e=[];this.teamCheckbox&&this.teamCheckbox.length?this.team.forEach(t=>{this.teamCheckbox.includes(t.value)&&e.push({id:t.value,name:t.label,type:Es.TypeEnum.Team})}):this.department.forEach(t=>{this.departamentCheckbox.includes(t.value)&&e.push({id:t.value,name:t.label,type:Es.TypeEnum.Department})}),this.closeDivisionsNext.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ns))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-divisions"]],inputs:{substituteRequest:"substituteRequest"},outputs:{closeDivisionsNext:"closeDivisionsNext"},decls:9,vars:11,consts:[[1,"select-divisions-label"],[4,"ngIf"],["class","checkbox","p-columns","1","name","department",3,"ngModel","p-disabled","p-label","p-options","ngModelChange",4,"ngIf"],["class","checkbox","p-columns","1","name","team",3,"ngModel","p-disabled","p-label","p-options","ngModelChange",4,"ngIf"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-4","po-xl-2","button-confirm",3,"p-disabled","p-label","p-click"],[1,"po-icon","po-icon-exclamation","icon"],[1,"warning-label"],["p-columns","1","name","department",1,"checkbox",3,"ngModel","p-disabled","p-label","p-options","ngModelChange"],["p-columns","1","name","team",1,"checkbox",3,"ngModel","p-disabled","p-label","p-options","ngModelChange"]],template:function(e,t){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.ALo(2,"translate"),o.qZA(),o.YNc(3,Fs,5,3,"div",1),o.YNc(4,Js,2,6,"po-checkbox-group",2),o.YNc(5,Vs,5,3,"div",1),o.YNc(6,Rs,2,6,"po-checkbox-group",3),o.TgZ(7,"po-button",4),o.NdJ("p-click",function(){return t.nextStep()}),o.ALo(8,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,7,"l-select-organization-structure")),o.xp6(2),o.Q6J("ngIf",t.department&&t.department.length&&t.teamCheckbox&&t.teamCheckbox.length>0),o.xp6(1),o.Q6J("ngIf",t.department&&t.department.length),o.xp6(1),o.Q6J("ngIf",t.team&&t.team.length&&t.departamentCheckbox&&t.departamentCheckbox.length>0),o.xp6(1),o.Q6J("ngIf",t.team&&t.team.length),o.xp6(1),o.s9C("p-label",o.lcZ(8,9,"l-confirm")),o.Q6J("p-disabled",!(null!=t.teamCheckbox&&t.teamCheckbox.length||null!=t.departamentCheckbox&&t.departamentCheckbox.length)))},directives:[s.O5,f.bOz,f.LzG,d.JJ,d.On],pipes:[h.X$],styles:[".select-divisions-label[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;margin-top:3%}[_nghost-%COMP%]     .po-field-optional{color:#fff!important}.checkbox[_ngcontent-%COMP%]{margin:0!important}.warning-label[_ngcontent-%COMP%]{font-size:12px;font-weight:bold}.icon[_ngcontent-%COMP%]{margin-right:1%}.button-confirm[_ngcontent-%COMP%]{margin-top:25px}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}.period[_ngcontent-%COMP%]{position:absolute;left:0;top:75%;margin-top:-25px;text-align:center;font-size:15px;color:#9da7a9}}@media (max-width: 961px){[_nghost-%COMP%]     .po-button{height:90px}}@media only screen and (max-width: 961px){[_nghost-%COMP%]     .po-button{position:fixed;bottom:60px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;outline:none;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:93%;left:0;margin-top:-25px;padding:0}}"]}),e})();function zs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",5),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().onClickItem(t)}),o.TgZ(1,"div",6),o._UZ(2,"div",7),o.qZA(),o.TgZ(3,"div",8),o.TgZ(4,"strong"),o._uU(5),o.ALo(6,"titleCase"),o.qZA(),o.TgZ(7,"p",9),o._uU(8),o.ALo(9,"titleCase"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw();o.xp6(2),o.Udp("background-image",i.getImage(e.id)),o.MGl("id","photo-",e.id,""),o.xp6(3),o.Oqu(o.lcZ(6,5,e.name)),o.xp6(3),o.Oqu(o.lcZ(9,7,e.roleDescription))}}let Qs=(()=>{class e{constructor(e,t,i){this.service=e,this.sanitization=t,this.profileService=i,this.employeeSelected=new o.vpe,this.defaultPageSize=5,this.defaultTimeout=850,this.employees=[],this.images={},this.filter="",this.currentPage=1,this.hasNext=!1}ngOnInit(){this.getEmployees()}onChangeFilter(e=this.defaultTimeout){return this.cancelTimer(),new Promise(t=>{this.timeoutId=setTimeout(()=>{this.employees=[],this.currentPage=1,this.getEmployees(),t()},e)})}cancelTimer(){this.timeoutId&&clearTimeout(this.timeoutId)}getEmployees(){return(0,U.mG)(this,void 0,void 0,function*(){let e;e=this.divisions?yield this.service.getSubstitutes(this.filter,this.currentPage,this.defaultPageSize,this.divisions.map(e=>e.id),this.divisions[0].type.toString()):yield this.service.getSubstitutes(this.filter,this.currentPage,this.defaultPageSize),e&&(e.items&&(this.employees=this.employees.concat(e.items)),this.hasNext=e.hasNext)})}getImage(e){return this.images[e]||(this.images[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(t=>{t&&t.content&&(this.images[e]=this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))})),this.images[e]}getMore(){this.hasNext&&(this.currentPage++,this.getEmployees())}onKeyDown(e){"Enter"===e.key&&this.onChangeFilter(0)}ngOnDestroy(){this.cancelTimer()}onClickItem(e){this.employeeSelected.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ns),o.Y36(n.H7),o.Y36(Q.H))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-substitute"]],inputs:{divisions:"divisions",substituteRequest:"substituteRequest"},outputs:{employeeSelected:"employeeSelected"},decls:9,vars:9,consts:[[1,"sticky"],["name","filter-input","p-clean","true","p-icon","po-icon-search",3,"ngModel","p-placeholder","ngModelChange","p-change-model","keydown"],[1,"result-label"],[3,"p-items","p-show-more-disabled","p-show-more"],["p-list-view-content-template",""],[1,"po-row","content","clickable",3,"click"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align",3,"id"],[1,"aboutEmployee"],[1,"title"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"po-input",1),o.NdJ("ngModelChange",function(e){return t.filter=e})("p-change-model",function(){return t.onChangeFilter()})("keydown",function(e){return t.onKeyDown(e)}),o.ALo(2,"translate"),o.qZA(),o.qZA(),o.TgZ(3,"div"),o.TgZ(4,"p",2),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.TgZ(7,"po-list-view",3),o.NdJ("p-show-more",function(){return t.getMore()}),o.YNc(8,zs,10,9,"ng-template",4),o.qZA()),2&e&&(o.xp6(1),o.s9C("p-placeholder",o.lcZ(2,5,"l-search-sub-placeholder")),o.Q6J("ngModel",t.filter),o.xp6(4),o.Oqu(o.lcZ(6,7,"l-results")),o.xp6(2),o.Q6J("p-items",t.employees)("p-show-more-disabled",!t.hasNext))},directives:[f.xxV,d.JJ,d.On,f.TeR,f.Jgl],pipes:[h.X$,oe.r],styles:[".content[_ngcontent-%COMP%]{margin-left:10px;line-height:17px;background-color:unset}[_nghost-%COMP%]     .po-list-view{background-color:unset}[_nghost-%COMP%]     .po-list-view :hover{background-color:#fff}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10}.avatar-card[_ngcontent-%COMP%]{padding-top:1px}[_nghost-%COMP%]     .po-list-view-content{margin-top:3px}[_nghost-%COMP%]     .po-field-container-content{border-style:solid;border-bottom:0;border-left:0;border-right:0;padding-top:0;border-top-width:8px;border-color:#fbfbfb}[_nghost-%COMP%]     .po-field-icon-container-right{padding-bottom:8px}[_nghost-%COMP%]     .po-field-icon-container-left{padding-bottom:8px}.aboutEmployee[_ngcontent-%COMP%]{margin-left:9px}[_nghost-%COMP%]     po-field-container input{padding-right:36px;padding-top:4px;padding-bottom:4px;height:44px}.result-label[_ngcontent-%COMP%]{margin-top:2px;font-weight:bold}.title[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px}"]}),e})(),Gs=(()=>{class e{constructor(e,t){this.notificationService=e,this.translateService=t,this.periodNextStep=new o.vpe}ngOnInit(){this.loadSelectedPeriods()}loadSelectedPeriods(){this.substituteRequest&&(this.initDate=V.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.substituteRequest.initDate)),this.endDate=V.Em.getDateWithoutTimezoneAndDontUseString(new Date(this.substituteRequest.endDate)))}nextStep(){this.initDate>this.endDate?this.showNotificationError("m-initialDateBiggerThanEndDate"):V.Em.getDateWithoutTimezone(new Date(this.initDate))<V.Em.getDateWithoutTimezone(new Date)?this.showNotificationError("l-selected-date-smaller-than-current-date"):this.periodNextStep.emit({initDate:this.initDate,endDate:this.endDate})}showNotificationError(e){this.translateService.get(e).subscribe(e=>{this.notificationService.showNotification(e,f.ik9.Error)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(X.g),o.Y36(h.sK))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-select-period"]],inputs:{substituteRequest:"substituteRequest"},outputs:{periodNextStep:"periodNextStep"},decls:9,vars:16,consts:[[1,"period-label","po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-clean","true","p-auto-focus","true","p-required","true",1,"po-sm-6","po-md-4","po-lg-2","po-xl-2","ng-untouched","ng-dirty","ng-valid",3,"ngModel","p-label","ngModelChange"],["p-clean","true","p-auto-focus","false","p-required","true",1,"po-sm-6","po-md-4","po-lg-2","po-xl-2","ng-untouched","ng-dirty","ng-valid",3,"ngModel","p-label","p-min-date","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-4","po-xl-2","button-confirm",3,"p-disabled","p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"po-datepicker",1),o.NdJ("ngModelChange",function(e){return t.initDate=e}),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"po-datepicker",2),o.NdJ("ngModelChange",function(e){return t.endDate=e}),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"po-button",3),o.NdJ("p-click",function(){return t.nextStep()}),o.ALo(8,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,8,"l-whats-period")),o.xp6(2),o.s9C("p-label",o.lcZ(4,10,"l-start")),o.Q6J("ngModel",t.initDate),o.xp6(2),o.s9C("p-label",o.lcZ(6,12,"l-scheduler-messages.editor.end")),o.Q6J("ngModel",t.endDate)("p-min-date",t.initDate),o.xp6(2),o.s9C("p-label",o.lcZ(8,14,"l-confirm")),o.Q6J("p-disabled",!t.initDate||!t.endDate))},directives:[f.GWy,d.JJ,d.On,f.bOz],pipes:[h.X$],styles:[".period-label[_ngcontent-%COMP%]{font-weight:bold;font-size:18px;margin-top:3%}[_nghost-%COMP%]     .po-datepicker-popup-calendar .po-calendar{position:fixed!important}.button-confirm[_ngcontent-%COMP%]{clear:both;margin-top:25px}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}}@media (max-width: 961px){[_nghost-%COMP%]     .po-button{height:90px}}@media only screen and (max-width: 961px){[_nghost-%COMP%]     .po-button{position:fixed;bottom:60px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;outline:none;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:93%;left:0;margin-top:-25px;padding:0}}"]}),e})(),Hs=(()=>{class e{constructor(){this.closeSubstitutePermissions=new o.vpe}ngOnInit(){this.setDefaultSwitchValues(),this.loadSelectedPermissions()}setDefaultSwitchValues(){this.switchLabelPosition=f.fxz.Right,this.switchManageTeam=!0,this.switchViewSalary=!1}loadSelectedPermissions(){this.substituteRequest&&(this.switchManageTeam=this.substituteRequest.canManageTeam,this.switchViewSalary=this.substituteRequest.canViewSalary)}nextStep(){this.closeSubstitutePermissions.emit({canManageTeam:this.switchManageTeam,canViewSalary:this.switchViewSalary})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-substitute-permissions"]],inputs:{substituteRequest:"substituteRequest"},outputs:{closeSubstitutePermissions:"closeSubstitutePermissions"},decls:11,vars:22,consts:[[1,"select-substitute-permissions-label"],["name","po-switch","ngDefaultControl","",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"p-label-position","ngModel","p-label-on","p-label-off","ngModelChange"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-4","po-xl-2","button-confirm",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"po-switch",1),o.NdJ("ngModelChange",function(e){return t.switchManageTeam=e}),o.ALo(4,"translate"),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"po-switch",1),o.NdJ("ngModelChange",function(e){return t.switchViewSalary=e}),o.ALo(7,"translate"),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"po-button",2),o.NdJ("p-click",function(){return t.nextStep()}),o.ALo(10,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,10,"l-substitute-possibilities")),o.xp6(2),o.s9C("p-label-position",t.switchLabelPosition),o.s9C("p-label-on",o.lcZ(4,12,"l-manage-team")),o.s9C("p-label-off",o.lcZ(5,14,"l-manage-team")),o.Q6J("ngModel",t.switchManageTeam),o.xp6(3),o.s9C("p-label-position",t.switchLabelPosition),o.s9C("p-label-on",o.lcZ(7,16,"l-view-salary")),o.s9C("p-label-off",o.lcZ(8,18,"l-view-salary")),o.Q6J("ngModel",t.switchViewSalary),o.xp6(3),o.s9C("p-label",o.lcZ(10,20,"l-confirm")))},directives:[f.nrg,d.Fj,d.JJ,d.On,f.bOz],pipes:[h.X$],styles:[".select-substitute-permissions-label[_ngcontent-%COMP%]{font-weight:bold;font-size:16px;margin-top:3%}[_nghost-%COMP%]     .po-field-optional{color:#fff!important}.button-confirm[_ngcontent-%COMP%]{margin-top:25px}@media only screen and (max-width: 320px){[_nghost-%COMP%]     .po-button{height:60px}}@media (max-width: 961px){[_nghost-%COMP%]     .po-button{height:90px}}@media only screen and (max-width: 961px){[_nghost-%COMP%]     .po-button{position:fixed;bottom:60px}[_nghost-%COMP%]     .po-button{box-shadow:inset 0 1px #dbdedf;text-align:center;background-color:#fff;border:none;outline:none;height:60px;left:0px;width:100%;font-size:16px;color:#0c9abe;font-weight:bold}[_nghost-%COMP%]     .po-button:disabled{color:#dbdedf}.button-confirm[_ngcontent-%COMP%]{position:absolute;top:93%;left:0;margin-top:-25px;padding:0}}"]}),e})();function Bs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"app-divisions",2),o.NdJ("closeDivisionsNext",function(t){return o.CHM(e),o.oxw().divisionsNextStep(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("substituteRequest",e.substituteRequestToUpdate)}}function js(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"app-substitute",3),o.NdJ("employeeSelected",function(t){return o.CHM(e),o.oxw().employeeSelected(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("divisions",e.divisions)("substituteRequest",e.substituteRequestToUpdate)}}function $s(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"app-select-period",4),o.NdJ("periodNextStep",function(t){return o.CHM(e),o.oxw().periodNextStep(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("substituteRequest",e.substituteRequestToUpdate)}}function Ws(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span"),o.TgZ(1,"app-substitute-permissions",5),o.NdJ("closeSubstitutePermissions",function(t){return o.CHM(e),o.oxw().closeSubstitutePermissions(t)}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("substituteRequest",e.substituteRequestToUpdate)}}function Ks(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-dialog",6),o.NdJ("closeDialogEvent",function(){return o.CHM(e),o.oxw().goToSubstitutionstPage()}),o.TgZ(1,"div",7),o.TgZ(2,"div",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().goToSubstitutionstPage()}),o.TgZ(3,"div",9),o.TgZ(4,"div",9),o.TgZ(5,"div",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().goToSubstitutionstPage()}),o.qZA(),o.qZA(),o.TgZ(6,"strong"),o.TgZ(7,"h4",11),o.NdJ("click",function(){return o.CHM(e),o.oxw().goToSubstitutionstPage()}),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"po-button",12),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().goToSubstitutionstPage()}),o.ALo(11,"translate"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("isVisible",e.dialogIsVisible)("closeDialogButtonEnable",!0),o.xp6(8),o.hij(" ",o.lcZ(9,4,"m-substitute-request-success")," "),o.xp6(2),o.s9C("p-label",o.lcZ(11,6,"l-ok"))}}let Xs=(()=>{class e{constructor(e,t,i,n){this.service=e,this.fieldProperties=t,this.windowUtilService=i,this.router=n,this.doneEdit=new o.vpe}ngOnInit(){this.loadServices()}loadServices(){this.fieldProperties.getFieldProperties("substituteRequest").then(e=>{this.organizeProps(e)})}organizeProps(e){e.forEach(e=>{switch(e.field){case"divisions":this.divisionsField=e,this.divisionsIsVisible=e.visible;break;case"canViewSalary":this.viewSalaryField=e;break;case"canManageTeam":this.manageTeamField=e}}),this.divisionsIsVisible||(this.substituteIsVisible=!0)}divisionsNextStep(e){this.divisions=e,this.divisionsIsVisible=!1,this.substituteIsVisible=!0}closeSubstitutePermissions(e){this.permissions=e,this.requestSubstitute().then(()=>{this.substitutePermissionsIsVisible=!1,this.dialogIsVisible=!0})}requestSubstitute(){return(0,U.mG)(this,void 0,void 0,function*(){const e={initDate:V.Em.formatUTCDate(new Date(this.period.initDate)),endDate:V.Em.formatUTCDate(new Date(this.period.endDate)),employeeSummary:this.employee};this.divisions&&this.divisions.length&&(e.divisions=this.organizeDivisions(),e.divisionsType=this.divisions[0].type),this.permissions&&(this.permissions.canManageTeam||this.permissions.canViewSalary)&&(e.canManageTeam=this.permissions.canManageTeam,e.canViewSalary=this.permissions.canViewSalary),this.substituteRequestToUpdate?(e.id=this.substituteRequestToUpdate.id,yield this.service.updateSubstituteRequest(e),this.substituteRequestToUpdate=void 0):yield this.service.substituteRequest(e)})}periodNextStep(e){this.period=e,this.manageTeamField&&this.viewSalaryField&&(this.manageTeamField.visible||this.viewSalaryField.visible)?(this.periodIsVisible=!1,this.substitutePermissionsIsVisible=!0):this.requestSubstitute().then(()=>{this.periodIsVisible=!1,this.dialogIsVisible=!0})}organizeDivisions(){let e=[];return this.divisions.forEach(t=>{e.push(t.id)}),e}employeeSelected(e){this.employee=e,this.substituteIsVisible=!1,this.periodIsVisible=!0}back(){this.divisionsIsVisible?this.windowUtilService.back():this.substituteIsVisible?(this.substituteIsVisible=!1,this.divisionsField&&this.divisionsField.visible?this.divisionsIsVisible=!0:this.windowUtilService.back()):this.substitutePermissionsIsVisible?(this.substitutePermissionsIsVisible=!1,this.periodIsVisible=!0):this.periodIsVisible&&(this.periodIsVisible=!1,this.substituteIsVisible=!0)}goToSubstitutionstPage(){this.dialogIsVisible=!1,this.doneEdit.emit()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ns),o.Y36(G.c),o.Y36(te.g),o.Y36(A.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-substitute-request"]],inputs:{substituteRequestToUpdate:"substituteRequestToUpdate"},outputs:{doneEdit:"doneEdit"},decls:5,vars:5,consts:[[4,"ngIf"],[3,"isVisible","closeDialogButtonEnable","closeDialogEvent",4,"ngIf"],[3,"substituteRequest","closeDivisionsNext"],[3,"divisions","substituteRequest","employeeSelected"],[3,"substituteRequest","periodNextStep"],[3,"substituteRequest","closeSubstitutePermissions"],[3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content","",1,"dialog-substitute-content"],[1,"message-substitute","po-xl-12","po-lg-12","po-md-12","po-sm-12",3,"click"],[1,"text-center"],[1,"substitute-image-success","mouse-pointer",3,"click"],[1,"mouse-pointer",3,"click"],["p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","button-ok",3,"p-label","p-click"]],template:function(e,t){1&e&&(o.YNc(0,Bs,2,1,"span",0),o.YNc(1,js,2,2,"span",0),o.YNc(2,$s,2,1,"span",0),o.YNc(3,Ws,2,1,"span",0),o.YNc(4,Ks,12,8,"app-dialog",1)),2&e&&(o.Q6J("ngIf",t.divisionsIsVisible),o.xp6(1),o.Q6J("ngIf",t.substituteIsVisible),o.xp6(1),o.Q6J("ngIf",t.periodIsVisible),o.xp6(1),o.Q6J("ngIf",t.substitutePermissionsIsVisible),o.xp6(1),o.Q6J("ngIf",t.dialogIsVisible))},directives:[s.O5,Ys,Qs,Gs,Hs,ke.a,f.bOz],pipes:[h.X$],styles:[".dialog-substitute-content[_ngcontent-%COMP%]{height:350px}.message-substitute[_ngcontent-%COMP%]{position:fixed;padding:0 8%;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.substitute-image-success[_ngcontent-%COMP%]{background:url(success.8b4116fbb4d6691356b7.png) no-repeat center;width:100%;height:64px;margin-bottom:20px}.button-ok[_ngcontent-%COMP%]{position:fixed;max-width:150px;left:calc(50% - 76px);top:65%}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.substitute-image-success[_ngcontent-%COMP%]{background:url(success@2x.3ef849f18cc8db5e719a.png) no-repeat center;width:100%;height:64px;background-size:contain}}"]}),e})(),ea=(()=>{class e{constructor(e){this.genericService=e}deleteSubstituteRequest(e,t=Ze.N.loggedUser){return this.genericService.delete(`team/substitute/${t}/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ta(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",2),o.TgZ(2,"span",3),o.TgZ(3,"div",4),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",5),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",6),o.TgZ(9,"span",3),o.TgZ(10,"div",4),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.TgZ(13,"div",5),o._uU(14),o.ALo(15,"utcDate"),o.qZA(),o.qZA(),o.TgZ(16,"span",3),o.TgZ(17,"div",4),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"div",5),o._uU(21),o.ALo(22,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,6,"l-substitute")),o.xp6(3),o.Oqu(e.substituteRequest.employeeSummary.name),o.xp6(4),o.Oqu(o.lcZ(12,8,"l-start")),o.xp6(3),o.Oqu(o.xi3(15,10,e.substituteRequest.initDate,"shortDate")),o.xp6(4),o.Oqu(o.lcZ(19,13,"l-end-2")),o.xp6(3),o.Oqu(o.xi3(22,15,e.substituteRequest.endDate,"shortDate"))}}let ia=(()=>{class e{constructor(e,t){this.appTranslateService=e,this.substituteExcludeService=t,this.deleted=new o.vpe,this.isVisible=!1,this.confirmAction={label:"l-delete",action:()=>this.excludeSubstituteRequest()},this.cancelAction={label:"l-cancel",action:()=>this.excludeDialog.close()}}ngOnInit(){this.translateActionLabels()}translateActionLabels(){for(let e of[this.confirmAction,this.cancelAction])this.appTranslateService.getI18n(e.label).then(t=>{e.label=t})}openDialog(){this.excludeDialog.open()}excludeSubstituteRequest(){return(0,U.mG)(this,void 0,void 0,function*(){try{yield this.substituteExcludeService.deleteSubstituteRequest(this.substituteRequest.id),this.deleted.emit()}finally{this.excludeDialog.close()}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(ee.g),o.Y36(ea))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-substitute-exclude"]],viewQuery:function(e,t){if(1&e&&o.Gf(f.hmF,5),2&e){let e;o.iGM(e=o.CRH())&&(t.excludeDialog=e.first)}},inputs:{substituteRequest:"substituteRequest"},outputs:{deleted:"deleted"},decls:3,vars:6,consts:[["p-click-out","true","p-size","sm",3,"p-title","p-primary-action","p-secondary-action"],[4,"ngIf"],[1,"po-row","first-row"],[1,"po-sm-6","po-md-6","po-lg-6","po-xl-6","no-padding"],[1,"requested-label"],[1,"requested-value"],[1,"po-row","second-row"]],template:function(e,t){1&e&&(o.TgZ(0,"po-modal",0),o.ALo(1,"translate"),o.YNc(2,ta,23,18,"div",1),o.qZA()),2&e&&(o.s9C("p-title",o.lcZ(1,4,"l-want-delete-request")),o.Q6J("p-primary-action",t.confirmAction)("p-secondary-action",t.cancelAction),o.xp6(2),o.Q6J("ngIf",void 0!==t.substituteRequest))},directives:[f.hmF,s.O5],pipes:[h.X$,Xe.$],styles:["[_nghost-%COMP%]     .po-modal-title{font-weight:bold;white-space:normal;font-size:16px}[_nghost-%COMP%]     .po-icon-close{display:none}@media only screen and (min-width: 768px){[_nghost-%COMP%]     .po-modal-title{font-size:24px}}.first-row[_ngcontent-%COMP%]{margin-bottom:5px}.requested-value[_ngcontent-%COMP%]{font-weight:bold;margin-top:-4px}.requested-label[_ngcontent-%COMP%]{font-weight:bold;opacity:.7}"]}),e})();function na(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-card",7),o.TgZ(1,"div",8),o.TgZ(2,"h2",9),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"span",10),o._UZ(6,"span",11),o.TgZ(7,"ul",12),o._UZ(8,"div",13),o.TgZ(9,"li",14),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).goToEditRequest(t)}),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"li",14),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).openExcludeDialog(t)}),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",15),o.TgZ(16,"span",16),o.TgZ(17,"div",17),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"div",18),o._uU(21),o.qZA(),o.qZA(),o.TgZ(22,"span",16),o.TgZ(23,"div",17),o._uU(24),o.ALo(25,"translate"),o.qZA(),o.TgZ(26,"div",18),o._uU(27),o.qZA(),o.qZA(),o.TgZ(28,"span",19),o.TgZ(29,"div",17),o._uU(30),o.ALo(31,"translate"),o.qZA(),o.TgZ(32,"div",18),o._uU(33),o.ALo(34,"utcDate"),o.qZA(),o.qZA(),o.TgZ(35,"span",19),o.TgZ(36,"div",17),o._uU(37),o.ALo(38,"translate"),o.qZA(),o.TgZ(39,"div",18),o._uU(40),o.ALo(41,"utcDate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit;o.Q6J("cssClass","card-request-active po-xl-12 po-lg-12 po-md-12 po-sm-12"),o.xp6(3),o.Oqu(o.lcZ(4,12,"l-substitution-scheduled")),o.xp6(7),o.hij(" ",o.lcZ(11,14,"l-adjust")," "),o.xp6(3),o.hij(" ",o.lcZ(14,16,"l-delete")," "),o.xp6(5),o.Oqu(o.lcZ(19,18,"l-substitute")),o.xp6(3),o.Oqu(e.employeeSummary.name),o.xp6(3),o.Oqu(o.lcZ(25,20,"l-role")),o.xp6(3),o.Oqu(e.employeeSummary.roleDescription),o.xp6(3),o.Oqu(o.lcZ(31,22,"l-start")),o.xp6(3),o.Oqu(o.xi3(34,24,e.initDate,"shortDate")),o.xp6(4),o.Oqu(o.lcZ(38,27,"l-end")),o.xp6(3),o.Oqu(o.xi3(41,29,e.endDate,"shortDate"))}}function oa(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",4),o.TgZ(1,"po-button",5),o.NdJ("p-click",function(){return o.CHM(e),o.oxw().goToSubstitutionRequestPage()}),o.ALo(2,"translate"),o.qZA(),o.YNc(3,na,42,32,"app-card",6),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-request-for-one-more-period")),o.xp6(2),o.Q6J("ngForOf",e.substitutions)}}function sa(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"app-substitute-request",20),o.NdJ("doneEdit",function(){return o.CHM(e),o.oxw().onDoneEditRequest()}),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("substituteRequestToUpdate",e.selectedSubstituteRequest)}}let aa=(()=>{class e extends gt.R{constructor(e,t,i){super(),this.service=e,this.lastAccess=t,this.globals=i,this.initialized=!1,this.isVisibleSubstituteRequest=!1}ngOnInit(){super.ngOnInit(),this.getSubstituteRequests(),this.setCountLastAccess()}setCountLastAccess(){this.globals.getEmployeeSummary().then(e=>{this.lastAccess.setLastAccess(Ve.iF,e.id)})}getSubstituteRequests(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.service.getSubstituteRequests();this.substitutions=e,!e||e&&0===e.length?this.goToSubstitutionRequestPage():this.initialized=!0})}goToSubstitutionRequestPage(){this.isVisibleSubstituteRequest=!0}goToEditRequest(e){this.selectedSubstituteRequest=e,this.goToSubstitutionRequestPage()}reloadRequests(){this.selectedSubstituteRequest=void 0,this.getSubstituteRequests()}onDoneEditRequest(){this.reloadRequests(),this.isVisibleSubstituteRequest=!1}openExcludeDialog(e){this.selectedSubstituteRequest=e,this.excludeDialog.openDialog()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ns),o.Y36(Ve.Lx),o.Y36(fe.O))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-substitutes"]],viewQuery:function(e,t){if(1&e&&o.Gf(ia,5),2&e){let e;o.iGM(e=o.CRH())&&(t.excludeDialog=e.first)}},features:[o.qOj],decls:4,vars:4,consts:[["pageTitle","l-substitute-request",3,"backIsVisible"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],[3,"substituteRequestToUpdate","doneEdit",4,"ngIf"],[3,"substituteRequest","deleted"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],["p-primary","true","p-type","primary",1,"request-substitute-btn","po-sm-12","po-md-12","po-lg-12","po-xl-12","block",3,"p-label","p-click"],[3,"cssClass",4,"ngFor","ngForOf"],[3,"cssClass"],["card-header","",1,"mr-card-header"],[1,"po-sm-10","po-md-11","po-lg-11","po-xl-11","title-label"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu","no-padding"],[1,"dropdown-arrow"],[1,"dropdown-menu-itens",3,"click"],["card-body",""],[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4","panel-item-group"],[1,"requested-label"],[1,"requested-value"],[1,"po-sm-6","po-md-2","po-lg-2","po-xl-2","panel-item-group"],[3,"substituteRequestToUpdate","doneEdit"]],template:function(e,t){1&e&&(o._UZ(0,"app-page-header",0),o.YNc(1,oa,4,4,"div",1),o.YNc(2,sa,1,1,"app-substitute-request",2),o.TgZ(3,"app-substitute-exclude",3),o.NdJ("deleted",function(){return t.onDoneEditRequest()}),o.qZA()),2&e&&(o.Q6J("backIsVisible",t.viewIsMobile),o.xp6(1),o.Q6J("ngIf",t.initialized&&!t.isVisibleSubstituteRequest),o.xp6(1),o.Q6J("ngIf",t.isVisibleSubstituteRequest),o.xp6(1),o.Q6J("substituteRequest",t.selectedSubstituteRequest))},directives:[T.q,s.O5,ia,f.bOz,s.sg,_.A,Xs],pipes:[h.X$,Xe.$],styles:[".container[_ngcontent-%COMP%]{margin-top:25px;padding:0;margin-bottom:25px}.title-label[_ngcontent-%COMP%]{color:#fff;margin-top:0;padding-left:8px}.subtitle-opacity[_ngcontent-%COMP%]{opacity:.7}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-value[_ngcontent-%COMP%]{font-weight:bold}.request-substitute-btn[_ngcontent-%COMP%]{padding:0;margin-bottom:10px}[_nghost-%COMP%]     .po-button{height:42px}[_nghost-%COMP%]     .panel-item-group{padding-bottom:0}.dropdown-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:-3px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:50%;position:relative;z-index:10}.dropdown[_ngcontent-%COMP%]{float:right}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;color:#0c9abe;line-height:44px;width:100%;padding-left:16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#fff;font-size:20px}.panel-item-group[_ngcontent-%COMP%]{padding-bottom:8px}"]}),e})(),ra=(()=>{class e{constructor(e){this.serviceGeneric=e}getBalanceDetails(e=Ze.N.loggedUser,t,i,n,o,s){const a=`team/timesheet/balanceDetails/${e}`,r=s?s.initDate.toString().replace("Z",""):null,l=s?s.endDate.toString().replace("Z",""):null,c=[];return this.serviceGeneric.parseParams(c,"page",t),this.serviceGeneric.parseParams(c,"pageSize",i),this.serviceGeneric.parseParams(c,"employeeName",n),this.serviceGeneric.parseParams(c,"initDate",r),this.serviceGeneric.parseParams(c,"endDate",l),this.serviceGeneric.parseParams(c,"role",o),this.serviceGeneric.parseParams(c,"encodeEmployeeId",!0),this.serviceGeneric.search(a,c)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var la=i(74570),ca=i(46526);function pa(e,t){if(1&e&&(o.TgZ(0,"tr",21),o.TgZ(1,"td",22),o._UZ(2,"div",23),o.qZA(),o.TgZ(3,"td",24),o._uU(4),o.ALo(5,"titlecase"),o.qZA(),o.TgZ(6,"td",25),o._uU(7),o.ALo(8,"titlecase"),o.qZA(),o.TgZ(9,"td",26),o._uU(10),o.qZA(),o.TgZ(11,"td",26),o._uU(12),o.qZA(),o.TgZ(13,"td",26),o._uU(14),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(2),o.Udp("background-image",i.getImageAvatar(null==e?null:e.employeeId)),o.xp6(1),o.MGl("id","profile-",e.employeeId,""),o.xp6(1),o.hij(" ",o.lcZ(5,11,null==e?null:e.employeeName)," "),o.xp6(3),o.hij(" ",o.lcZ(8,13,null==e?null:e.employeeRole)," "),o.xp6(2),o.Q6J("ngClass",e.previousBalance>0?"balance-positive":e.previousBalance<0?"balance-negative":""),o.xp6(1),o.hij(" ",null==e?null:e.previousBalanceStr," "),o.xp6(1),o.Q6J("ngClass",e.currentBalance>0?"balance-positive":e.currentBalance<0?"balance-negative":""),o.xp6(1),o.hij(" ",null==e?null:e.currentBalanceStr," "),o.xp6(1),o.Q6J("ngClass",e.totalBalance>0?"balance-positive":e.totalBalance<0?"balance-negative":""),o.xp6(1),o.hij(" ",null==e?null:e.totalBalanceStr," ")}}function da(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",27),o.TgZ(1,"po-button",28),o.NdJ("p-click",function(){return o.CHM(e),o.oxw(2).loadMoreEvents()}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-view-more")),o.Q6J("p-disabled",!e.hasNext)}}function ga(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",9),o.TgZ(1,"table",10),o.TgZ(2,"thead",11),o.TgZ(3,"tr",12),o._UZ(4,"th",13),o.TgZ(5,"th",13),o.TgZ(6,"span",14),o._uU(7),o.ALo(8,"titlecase"),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",15),o.TgZ(11,"span",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeName","up")}),o.qZA(),o.TgZ(12,"span",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeName","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"th",13),o.TgZ(14,"span",14),o._uU(15),o.ALo(16,"titlecase"),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"div",15),o.TgZ(19,"span",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeRole","up")}),o.qZA(),o.TgZ(20,"span",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("employeeRole","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(21,"th",18),o.TgZ(22,"span",14),o._uU(23),o.ALo(24,"titlecase"),o.ALo(25,"translate"),o.qZA(),o.TgZ(26,"div",15),o.TgZ(27,"span",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("previousBalance","up")}),o.qZA(),o.TgZ(28,"span",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("previousBalance","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"th",18),o.TgZ(30,"span",14),o._uU(31),o.ALo(32,"titlecase"),o.ALo(33,"translate"),o.qZA(),o.TgZ(34,"div",15),o.TgZ(35,"span",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("currentBalance","up")}),o.qZA(),o.TgZ(36,"span",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("currentBalance","down")}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"th",13),o.TgZ(38,"span",14),o._uU(39),o.ALo(40,"titlecase"),o.ALo(41,"translate"),o.qZA(),o.TgZ(42,"div",15),o.TgZ(43,"span",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("totalBalance","up")}),o.qZA(),o.TgZ(44,"span",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().order("totalBalance","down")}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(45,"tbody"),o.YNc(46,pa,15,15,"tr",19),o.qZA(),o.qZA(),o.YNc(47,da,3,4,"div",20),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("ngClass",e.hasDisclaimers?"desktop":"desktop-no-pad"),o.xp6(7),o.Oqu(o.lcZ(8,8,o.lcZ(9,10,"l-name"))),o.xp6(8),o.Oqu(o.lcZ(16,12,o.lcZ(17,14,"l-role-function"))),o.xp6(8),o.Oqu(o.lcZ(24,16,o.lcZ(25,18,"l-previous-balance"))),o.xp6(8),o.Oqu(o.lcZ(32,20,o.lcZ(33,22,"l-current-balance"))),o.xp6(8),o.Oqu(o.lcZ(40,24,o.lcZ(41,26,"l-next-balance"))),o.xp6(7),o.Q6J("ngForOf",e.balances),o.xp6(1),o.Q6J("ngIf",e.hasNext)}}function ua(e,t){if(1&e&&(o.TgZ(0,"mat-accordion",32),o.TgZ(1,"mat-expansion-panel",33),o.TgZ(2,"mat-expansion-panel-header",34),o.TgZ(3,"div",35),o._UZ(4,"div",36),o.qZA(),o.TgZ(5,"div",37),o.TgZ(6,"div",38),o.TgZ(7,"strong"),o._uU(8),o.ALo(9,"titleCase"),o.qZA(),o.qZA(),o.TgZ(10,"div",39),o._uU(11),o.ALo(12,"titleCase"),o.qZA(),o.qZA(),o.qZA(),o._UZ(13,"hr",40),o.TgZ(14,"div",41),o.TgZ(15,"span",42),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"span",43),o._uU(19),o.qZA(),o.qZA(),o._UZ(20,"hr",40),o.TgZ(21,"div",41),o.TgZ(22,"span",42),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.TgZ(25,"span",43),o._uU(26),o.qZA(),o.qZA(),o._UZ(27,"hr",40),o.TgZ(28,"div",41),o.TgZ(29,"span",42),o._uU(30),o.ALo(31,"translate"),o.qZA(),o.TgZ(32,"span",43),o._uU(33),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(2);o.xp6(1),o.Q6J("ngClass",i.custom-i.border)("expanded",!0),o.xp6(3),o.Udp("background-image",i.getImageAvatar(e.employeeId)),o.xp6(4),o.Oqu(o.lcZ(9,15,null==e?null:e.employeeName)),o.xp6(3),o.Oqu(o.lcZ(12,17,null==e?null:e.employeeRole)),o.xp6(5),o.Oqu(o.lcZ(17,19,"l-previous-balance")),o.xp6(2),o.Q6J("ngClass",e.previousBalance>0?"balance-positive":e.previousBalance<0?"balance-negative":""),o.xp6(1),o.hij(" ",null==e?null:e.previousBalanceStr," "),o.xp6(4),o.Oqu(o.lcZ(24,21,"l-current-balance")),o.xp6(2),o.Q6J("ngClass",e.currentBalance>0?"balance-positive":e.currentBalance<0?"balance-negative":""),o.xp6(1),o.hij(" ",null==e?null:e.currentBalanceStr," "),o.xp6(4),o.Oqu(o.lcZ(31,23,"l-next-balance")),o.xp6(2),o.Q6J("ngClass",e.totalBalance>0?"balance-positive":e.totalBalance<0?"balance-negative":""),o.xp6(1),o.hij(" ",null==e?null:e.totalBalanceStr," ")}}function ha(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",44),o.TgZ(1,"po-button",45),o.NdJ("p-click",function(){return o.CHM(e),o.oxw(2).loadMoreEvents()}),o.ALo(2,"translate"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(1),o.s9C("p-label",o.lcZ(2,2,"l-load-more")),o.Q6J("p-disabled",!e.hasNext)}}function ma(e,t){if(1&e&&(o.TgZ(0,"div",29),o.YNc(1,ua,34,25,"mat-accordion",30),o.YNc(2,ha,3,4,"div",31),o.qZA()),2&e){const e=o.oxw();o.Q6J("ngClass",e.hasDisclaimers?"disclaimer-padding":""),o.xp6(1),o.Q6J("ngForOf",e.balances),o.xp6(1),o.Q6J("ngIf",e.hasNext)}}function fa(e,t){1&e&&(o.TgZ(0,"div",46),o._UZ(1,"img",47),o.TgZ(2,"div",48),o.TgZ(3,"p",49),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"l-team-balance-empty")))}let va=(()=>{class e extends gt.R{constructor(e,t,i,n,o,s,a,r,l,c,p){super(),this.appTranslateService=e,this.translateService=t,this.windowUtil=i,this.teamBalanceService=n,this.profileService=o,this.sanitization=s,this.windowUtilService=a,this.globals=r,this.teamEmployeesService=l,this.clockingService=c,this.excelService=p,this.avatarImage=[],this.isLoading=!0,this.roleSelect=new Array,this.periodList=new Array,this.periodFilterActual=new Array,this.actions=[],this.customLiterals={disclaimerGroupTitle:"",filterTitle:"",filterCancelLabel:"",filterConfirmLabel:"",quickSearchLabel:"",searchPlaceholder:""},this.paramsFilters={employeeName:null,role:null,period:null},this.filters=[],this.columns=["l-name","l-role","l-previous-balance","l-current-balance","l-next-balance"]}onResize(e){this.checkIfMobile()}ngOnInit(){super.ngOnInit(),this.initializeComponents()}initializeComponents(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.initVariables(),yield this.updateBalances(this.page,6),this.initializePoComponent(),this.initializeSearch()})}initVariables(){return(0,U.mG)(this,void 0,void 0,function*(){this.loggedUser=yield this.globals.getEmployeeSummary(),this.isMobile=this.windowUtilService.isMobileDevice(),this.page=1})}initLookup(){this.lookupColumns=[{property:"name",label:"l-name",fieldLabel:!0}],this.lookupColumns.forEach(e=>{this.translateService.getI18n(e.label).then(t=>{e.label=t})})}getBalances(e){for(var t=[],i=0;i<e.length;i++)t.push({employeeName:e[i].employeeName,employeeId:e[i].employeeId,totalBalance:e[i].totalBalance,previousBalance:e[i].previousBalance,currentBalance:e[i].currentBalance,employeeRole:e[i].employeeRole,totalBalanceStr:this.concatSymbol(e[i].totalBalance),previousBalanceStr:this.concatSymbol(e[i].previousBalance),currentBalanceStr:this.concatSymbol(e[i].currentBalance)});return t}getImageAvatar(e){return this.avatarImage[e]||(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle("url(./assets/img/empty_user.png)"),this.profileService.getImageBase64(e).then(t=>{t&&t.content&&(this.avatarImage[e]=this.sanitization.bypassSecurityTrustStyle(`url(${"data:image/"+(t.type||"png")+";base64,"+t.content})`))})),this.avatarImage[e]}back(){this.windowUtil.back()}initializePoComponent(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.teamEmployeesService.getRoles(F.N.loggedUser),t=[];e.forEach(e=>{t.push({label:e.name,value:e.name})}),this.roleSelect=t;const i=yield this.clockingService.getPeriods(F.N.loggedUser),n=[],o=[];i&&(i.items.forEach(e=>{n.push(new la.x(e)),!0===e.actualPeriod&&o.push(new la.x(e))}),this.periodFilterActual=la.x.getPeriodsForSelectList(o),this.periodList=la.x.getPeriodsForSelectList(n)),this.filters=[{property:"employeeName",label:yield this.translateLabel("l-name"),gridColumns:12},{property:"role",label:yield this.translateLabel("l-role-function"),gridColumns:12,options:this.roleSelect},{property:"period",label:yield this.translateLabel("l-period"),gridColumns:12,initValue:this.periodFilterActual[0].value,options:this.periodList}]})}initializeSearch(){return(0,U.mG)(this,void 0,void 0,function*(){this.customLiterals={disclaimerGroupTitle:yield this.translateLabel("l-disclaimer-group-title"),filterTitle:yield this.translateLabel("l-filter-title"),filterCancelLabel:yield this.translateLabel("l-cancel-title"),filterConfirmLabel:yield this.translateLabel("l-confirm"),quickSearchLabel:yield this.translateLabel("l-quick-search"),searchPlaceholder:yield this.translateLabel("l-search-placeholder")},this.quickSearchLabel=yield this.translateLabel("l-balances-search-name"),this.isMobile||(this.actions=[{action:this.exportExcel.bind(this),label:"Exportar Excel",icon:"po-icon-download"}])})}onChangeDisclaimers(e){const t={};0===e.length&&(this.hasDisclaimers=!1),e&&(e.forEach(e=>{t[e.property]=e.value}),this.page=1,this.updateBalances(1,6,t))}onQuickSearch(e){e&&(this.resetFilters(),this.paramsFilters.employeeName=e),this.hasDisclaimers=!0,this.page=1,this.updateBalances(this.page,6,this.paramsFilters)}onAdvancedSearch(e){e&&this.resetFilters(),this.page=1,this.hasDisclaimers=!0,this.updateBalances(this.page,6,e)}translateLabel(e){return this.appTranslateService.getI18n(e)}resetFilters(){this.page=1,this.hasDisclaimers=!1,this.paramsFilters={employeeName:null,period:null,role:null}}updateBalances(e,t,i=this.paramsFilters,n){return(0,U.mG)(this,void 0,void 0,function*(){this.updateParams(i),this.isLoading=!0;let o=yield this.teamBalanceService.getBalanceDetails(this.loggedUser.id,e,t,this.paramsFilters.employeeName,this.paramsFilters.role,this.paramsFilters.period);this.isLoading=!1,this.balances=this.balances&&n?this.balances.concat(this.getBalances(o.items)):this.getBalances(o.items),this.hasNext=o.hasNext})}updateParams(e){this.paramsFilters.employeeName=void 0!==e.employeeName?e.employeeName:null,this.paramsFilters.role=void 0!==e.role?e.role:null,"string"!=typeof e.period&&(e.period=JSON.stringify(e.period)),this.paramsFilters.period=null!=e.period?la.x.getPeriod(e.period):null}order(e,t){if("down"===t)switch(e){case"employeeName":this.balances.sort((e,t)=>e.employeeName<t.employeeName?-1:1);break;case"employeeRole":this.balances.sort((e,t)=>e.employeeRole<t.employeeRole?-1:1);break;case"previousBalance":this.balances.sort((e,t)=>e.previousBalance<t.previousBalance?-1:1);break;case"currentBalance":this.balances.sort((e,t)=>e.currentBalance<t.currentBalance?-1:1);break;case"totalBalance":this.balances.sort((e,t)=>e.totalBalance<t.totalBalance?-1:1)}else switch(e){case"employeeName":this.balances.sort((e,t)=>e.employeeName>t.employeeName?-1:1);break;case"employeeRole":this.balances.sort((e,t)=>e.employeeRole>t.employeeRole?-1:1);break;case"previousBalance":this.balances.sort((e,t)=>e.previousBalance>t.previousBalance?-1:1);break;case"currentBalance":this.balances.sort((e,t)=>e.currentBalance>t.currentBalance?-1:1);break;case"totalBalance":this.balances.sort((e,t)=>e.totalBalance>t.totalBalance?-1:1)}}loadMoreEvents(){this.page++,this.updateBalances(this.page,6,this.paramsFilters,!0)}concatSymbol(e){const t=V.Em.getHoursByMilliseconds(e,!1);return e>0?"+"+t:t}checkIfMobile(){this.isMobile=this.windowUtilService.isMobileDevice()}isEmpty(){return!(this.balances&&this.balances.length>0)}exportExcel(){return(0,U.mG)(this,void 0,void 0,function*(){let e=yield this.translateLabel("l-balance-sheet"),t=yield this.translateLabel("l-team-balance-title"),i=[],n=[];this.columns.forEach(e=>this.translateLabel(e).then(e=>i.push(e))),yield this.teamBalanceService.getBalanceDetails(this.loggedUser.id,null,null,this.paramsFilters.employeeName,this.paramsFilters.role,this.paramsFilters.period).then(e=>e.items.forEach(e=>n.push([e.employeeName,e.employeeRole,this.concatSymbol(e.previousBalance),this.concatSymbol(e.currentBalance),this.concatSymbol(e.totalBalance)]))),this.excelService.generateExcelBalance(e,t,i,n)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(ee.g),o.Y36(ee.g),o.Y36(te.g),o.Y36(ra),o.Y36(Q.H),o.Y36(n.H7),o.Y36(te.g),o.Y36(fe.O),o.Y36(so.s),o.Y36(nt.X),o.Y36(ca.x))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-team-balance"]],hostBindings:function(e,t){1&e&&o.NdJ("resize",function(e){return t.onResize(e)},!1,o.Jf7)},features:[o.qOj],decls:9,vars:8,consts:[["backIsVisible","viewIsMobile","pageTitle","l-team-balance-title",3,"backFunction"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","team-balance"],[3,"hideTitle"],[1,"actions-holder"],[1,"search-holder"],["p-title"," ","name","fieldName","ngDefaultControl","",3,"ngClass","p-filters","p-actions","p-literals","p-change-disclaimers","p-quick-search","p-advanced-search"],[3,"ngClass",4,"ngIf"],["class","holder mobile",3,"ngClass",4,"ngIf"],["class","empty-center",4,"ngIf"],[3,"ngClass"],[1,"history-panel","table"],[1,"column-header"],[1,"custom-tr"],[1,"employee-label-column"],[1,"table-header"],[1,"sort-icons"],[1,"sort","po-icon","po-icon-arrow-up",3,"click"],[1,"sort","po-icon","po-icon-arrow-down",3,"click"],[1,"employee-label-column","column-dates"],["class","custom-tr hover-design",4,"ngFor","ngForOf"],["class","alignCenter",4,"ngIf"],[1,"custom-tr","hover-design"],[1,"column","text-center","inline-block"],[1,"avatar-small"],[1,"column",3,"id"],[1,"column"],[1,"column","balance-value",3,"ngClass"],[1,"alignCenter"],["p-small","false","p-type","default","classq","linkViewMore next-periods",3,"p-disabled","p-label","p-click"],[1,"holder","mobile",3,"ngClass"],["class","no-padding",4,"ngFor","ngForOf"],["class","alignCenter load-container",4,"ngIf"],[1,"no-padding"],["hideToggle","false",3,"ngClass","expanded"],[1,"balance-card-header"],[1,"avatar-card","pull-left","inline"],[1,"avatar-small","avatar-align"],[1,"aboutEmployee"],[1,"name"],[1,"office"],[1,"line"],[1,"historic-content"],[1,"historic-label"],[1,"historic-value",3,"ngClass"],[1,"alignCenter","load-container"],[1,"load-more",3,"p-disabled","p-label","p-click"],[1,"empty-center"],["src","assets/img/empty-state.svg",1,"img-empty"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],["id","empty"]],template:function(e,t){1&e&&(o.TgZ(0,"app-page-header",0),o.NdJ("backFunction",function(){return t.back()}),o.qZA(),o.TgZ(1,"div",1),o._UZ(2,"app-comp-team",2),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"po-page-dynamic-search",5),o.NdJ("p-change-disclaimers",function(e){return t.onChangeDisclaimers(e)})("p-quick-search",function(e){return t.onQuickSearch(e)})("p-advanced-search",function(e){return t.onAdvancedSearch(e)}),o.qZA(),o.qZA(),o.YNc(6,ga,48,28,"div",6),o.YNc(7,ma,3,3,"div",7),o.YNc(8,fa,6,3,"div",8),o.qZA()),2&e&&(o.xp6(2),o.Q6J("hideTitle",!0),o.xp6(3),o.Q6J("ngClass",t.hasDisclaimers?"disclaimer":"")("p-filters",t.filters)("p-actions",t.actions)("p-literals",t.customLiterals),o.xp6(1),o.Q6J("ngIf",!t.isMobile&&!t.isEmpty()),o.xp6(1),o.Q6J("ngIf",t.isMobile&&!t.isEmpty()),o.xp6(1),o.Q6J("ngIf",t.isEmpty()&&!t.isLoading))},directives:[T.q,ft,ti.O6,d.Fj,s.mk,s.O5,s.sg,f.bOz,zo.pp,zo.ib,zo.yz],pipes:[s.rS,h.X$,oe.r],styles:[".thf-button[_ngcontent-%COMP%]{padding:0 30px}.historic-value[_ngcontent-%COMP%]{float:right;font-weight:bold;color:#2b3639}@media screen and (max-width: 300px){.historic-value[_ngcontent-%COMP%]{display:block;width:100%}}.historic-label[_ngcontent-%COMP%]{font-weight:bold;color:#4a5c60}@media screen and (max-width: 300px){.historic-label[_ngcontent-%COMP%]{display:block;width:100%}}[_nghost-%COMP%]     .mat-expansion-indicator:after{padding:5px;margin-top:-9px}.mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:0 2px 8px #e3e6f1!important;border-radius:6px;position:relative;background:#ffffff;display:flow-root;padding:0;margin-bottom:16px;min-height:64px}.historic-content[_ngcontent-%COMP%]{padding:0 15px}@media (max-width: 375px){.historic-content[_ngcontent-%COMP%]{min-height:48px}}@media (max-width: 480px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{display:block;width:100%}}@media (min-width: 480px) and (max-width: 1024px){.historic-content[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{margin-right:5px}}@media (max-width: 480px){[_nghost-%COMP%]     po-button .po-button{display:block;width:100%;margin-bottom:10px}}.requested-value[_ngcontent-%COMP%]{color:#fff;font-weight:bold}.requested-label[_ngcontent-%COMP%]{color:#fff;opacity:.7}.requested-title[_ngcontent-%COMP%]{display:inline-block;margin:0 0 8px;padding-left:8px;color:#fff}.dropdown[_ngcontent-%COMP%]{float:none;float:initial;text-align:center}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding:0 16px;margin-top:-4px;cursor:pointer!important;border-radius:3px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;right:5px;min-width:90px;left:auto!important}.see-more[_ngcontent-%COMP%]{color:#4a5c60;font-size:20px}[_nghost-%COMP%]     .thf-button-link{border-color:#4a5c60;color:#4a5c60}@media screen and (max-width: 425px){[_nghost-%COMP%]     .thf-button-link{width:100%}}[_nghost-%COMP%]     po-advanced-filter .po-field-title{text-transform:capitalize}.actions-holder[_ngcontent-%COMP%]   .search-holder[_ngcontent-%COMP%]{display:inline-block!important;width:100%}@media screen and (min-width: 992px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 20px}}@media (max-width: 480px){.actions-holder[_ngcontent-%COMP%]{margin:30px 0 15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]{height:44px;width:100%;margin-bottom:15px}.actions-holder[_ngcontent-%COMP%]   .po-button[_ngcontent-%COMP%]   po-button[_ngcontent-%COMP%]{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions .po-button, [_nghost-%COMP%]     .load-more .po-button{height:44px;width:100%;padding:0}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-list-actions{margin-bottom:55px}}[_nghost-%COMP%]     .general .max-width-page-title{padding-left:0}[_nghost-%COMP%]     .thf-field-container-content{padding:0}[_nghost-%COMP%]     .po-page{width:100%;margin-left:0}[_nghost-%COMP%]     .thf-button{padding:0}@media screen and (max-width: 1366px){.thf-button[_ngcontent-%COMP%]{line-height:16px;padding:7px 16px}}.displayBlock[_ngcontent-%COMP%]{width:100%;display:block}.bullet[_ngcontent-%COMP%]{display:inline-block;height:15px;width:15px;margin-right:10px;padding:8px;border-radius:20px;background:#e8850a}.flag[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;background:#e8850a;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.employee-label-column[_ngcontent-%COMP%]{font-size:12px;font-weight:bold;color:#0c9abe;border-bottom:2px solid #ceebf2!important;background-color:#fff;padding:0;margin:0}.custom-tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;line-height:1;word-wrap:break-word;overflow:auto;max-width:200px}.column-icons[_ngcontent-%COMP%]{text-align:center}.custom-tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle!important;font-size:14px;height:20px!important;white-space:nowrap;padding:10px}tr.hover-design[_ngcontent-%COMP%]:hover{background-color:#fafbfb}tr.hover-design[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ebeded}.sort-icons[_ngcontent-%COMP%]{display:inline-block}.desktop[_ngcontent-%COMP%]{margin:30px 15px;padding-bottom:100px}.desktop-no-pad[_ngcontent-%COMP%]{margin:0 15px;padding-bottom:100px}.mobile[_ngcontent-%COMP%]{padding:0 10px;overflow:auto}.text-center[_ngcontent-%COMP%]{text-align:center!important}.avatar-small[_ngcontent-%COMP%]{display:inline-block;width:42px;height:42px}.column-see[_ngcontent-%COMP%]{vertical-align:middle!important}.column-icons[_ngcontent-%COMP%]{overflow:visible!important;overflow:initial!important}.pending[_ngcontent-%COMP%]{background-color:#e8850a}.approved[_ngcontent-%COMP%], .aprovado[_ngcontent-%COMP%], .fechado[_ngcontent-%COMP%], .closed[_ngcontent-%COMP%]{background:#00b28e}.rejected[_ngcontent-%COMP%], .rejeitado[_ngcontent-%COMP%], .reprovado[_ngcontent-%COMP%], .reproved[_ngcontent-%COMP%]{background:#c64840}.empty[_ngcontent-%COMP%], .vazio[_ngcontent-%COMP%]{background:#cacaca}.approving[_ngcontent-%COMP%]{background:#e8850a}[_nghost-%COMP%]     .po-page-content{position:absolute;left:-100vw;top:-100vh}.disclaimer[_ngcontent-%COMP%]{margin-top:100px}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-page{height:80px;display:block}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-page{display:block;height:65px;padding-bottom:0}}@media screen and (min-width: 961px){[_nghost-%COMP%]     .po-modal-content{width:40%}}@media screen and (min-width: 700px) and (max-width: 960px){[_nghost-%COMP%]     .po-modal-content{width:60%}}@media screen and (max-width: 576px){[_nghost-%COMP%]     .po-modal-footer{padding:15px}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-modal-footer{margin-bottom:15px;padding:0 15px}}[_nghost-%COMP%]     .po-modal-footer .po-button{margin:0 0 5px}@media screen and (max-width: 480px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-bottom:10px}}@media screen and (min-width: 481px){[_nghost-%COMP%]     .po-modal-footer .po-button{margin-left:12px;width:25%}}@media screen and (min-width: 576px){[_nghost-%COMP%]     .po-page-header{padding-top:0}}@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-page-list-filter-wrapper{margin-top:0;float:left}}[_nghost-%COMP%]     .po-page-list-actions{float:right;width:126px}[_nghost-%COMP%]     .po-page-list-actions.po-button{padding:0 50px}@media (min-width: 1367px){[_nghost-%COMP%]     .po-page-list-actions{margin-right:38px}}@media (max-width: 480px){[_nghost-%COMP%]     .po-page-filter-content{width:calc(100% - 80px)}}@media (min-width: 768px){[_nghost-%COMP%]     .po-page-filter-content{width:300px}}[_nghost-%COMP%]     .po-table-subtitle-footer-container{display:none}.alignCenter[_ngcontent-%COMP%]{text-align:center}.mat-accordion[_ngcontent-%COMP%] > .mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]     .mat-content{align-items:center;overflow:auto}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 24px 0 20px}.sort[_ngcontent-%COMP%]{display:block;width:100%;cursor:pointer;font-size:9px;margin-left:15px}.load-container[_ngcontent-%COMP%]{margin-bottom:30px}.team-balance[_ngcontent-%COMP%]{padding-bottom:15px;padding-top:0;display:inline-block}.balance-negative[_ngcontent-%COMP%]{color:#d13f43}.balance-positive[_ngcontent-%COMP%]{color:#00b28e}.balance-value[_ngcontent-%COMP%]{font-weight:bold}#input-collaborator[_ngcontent-%COMP%]{padding-top:25px}.history-panel[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .custom-tr[_ngcontent-%COMP%]{background-color:#fff}.aboutEmployee[_ngcontent-%COMP%]{padding-left:5px}.disclaimer-padding[_ngcontent-%COMP%]{padding-top:36px}.balance-card-header[_ngcontent-%COMP%]{height:64px;padding-top:3%;padding-left:10px;padding-right:10px}@media screen and (min-width: 491px){[_nghost-%COMP%]     .po-disclaimer-group{margin-top:60px}}.name[_ngcontent-%COMP%]{max-height:25px;overflow:hidden}.img-empty[_ngcontent-%COMP%]{width:100%;max-width:220px;padding-bottom:10px}@media only screen and (min-width: 481px) and (max-width: 960px){.img-empty[_ngcontent-%COMP%]{width:100%;max-width:365px;padding-bottom:10px}}.empty-center[_ngcontent-%COMP%]{text-align:center;margin-top:30px}"]}),e})();var ba=i(11491),xa=i(81621),ya=i(48655),Za=i(18399),wa=i(38050),Ca=i(25651),Ma=i(53307),Aa=i(8296),Pa=i(83614),Oa=i(57899);const qa=[{path:"login",component:Ti},{path:"resetPassword",component:Si},{path:"changePassword",component:si},{path:"alterPassword",component:ni,canActivate:[P.P]},{path:"home",component:ei},{path:"",redirectTo:"home",pathMatch:"full"},{path:"profile",component:Di.d,data:{management:!1},canActivate:[P.P]},{path:"menu/:screen/:title",component:N},{path:"menu/:screen/:title",component:N,children:[{path:"explanatory",pathMatch:"full",component:Ii.u}]},{path:"timesheet",loadChildren:()=>i.e(856).then(i.bind(i,27856)).then(e=>e.TimesheetModule),canActivate:[P.P]},{path:"overtime",canActivate:[P.P],loadChildren:()=>Promise.all([i.e(99),i.e(177)]).then(i.bind(i,47099)).then(e=>e.OvertimeModule)},{path:"requisitions",component:vs,canActivate:[P.P]},{path:"demission",component:ls,canActivate:[P.P]},{path:"demission/request",component:Oo,canActivate:[P.P]},{path:"demission/visualize",component:Vo,canActivate:[P.P]},{path:"demission/confirm",component:oo,canActivate:[P.P]},{path:"substitution",loadChildren:()=>i.e(768).then(i.bind(i,97768)).then(e=>e.SubstitutionModule),canActivate:[P.P]},{path:"payments",loadChildren:()=>i.e(626).then(i.bind(i,69626)).then(e=>e.PaymentsModule),canActivate:[P.P]},{path:"payment",loadChildren:()=>i.e(626).then(i.bind(i,69626)).then(e=>e.PaymentsModule),canActivate:[P.P]},{path:"benefits",loadChildren:()=>i.e(169).then(i.bind(i,93169)).then(e=>e.BenefitsModule),canActivate:[P.P]},{path:"health/medicalCertificate/request",component:me,canActivate:[P.P]},{path:"health/medicalCertificate/request/:id",component:me,canActivate:[P.P]},{path:"health/medicalCertificate",component:E.O,canActivate:[P.P],data:{management:!1}},{path:"absence",loadChildren:()=>Promise.resolve().then(i.bind(i,76660)).then(e=>e.AbsenceModule),canActivate:[P.P]},{path:"substitutes",component:aa,canActivate:[P.P]},{path:"substituteRequest",component:Xs,canActivate:[P.P]},{path:"birthdates",component:ks},{path:"birthdates/details/:status",component:ks},{path:"teamManagement",loadChildren:()=>Promise.all([i.e(965),i.e(156),i.e(876)]).then(i.bind(i,6876)).then(e=>e.TeamManagementTabsModule),canActivate:[P.P]},{path:"teamBalance",component:va,canActivate:[P.P]},{path:"vacation",component:Oa.n,canActivate:[P.P],data:{management:!1},children:[{path:"request",component:Pa.w,canActivateChild:[P.P],children:[{path:"",redirectTo:"init",pathMatch:"full"},{path:"init",component:wa.j},{path:"days",component:ya.d},{path:"vacationBonus",component:Aa.G},{path:"sellDays",component:Ma.$},{path:"confirmRequest",component:xa.U},{path:"hasAdvance",component:Za.d},{path:"requestDone",component:Ca.I}]}]},{path:"vacation/receipt",component:ba.g,canActivate:[P.P]},{path:"vacation/details",loadChildren:()=>i.e(261).then(i.bind(i,40261)).then(e=>e.VacationDetailsModule),canActivate:[P.P]},{path:"request/notifications",loadChildren:()=>Promise.all([i.e(156),i.e(177),i.e(703)]).then(i.bind(i,24156)).then(e=>e.NotificationsPageModule)},{path:"request/notificationDetails",component:Xn,resolve:{notificationView:eo}},{path:"reports",component:Ji},{path:"listReports/:category/:description",component:ji},{path:"workLeave",canActivate:[P.P],loadChildren:()=>i.e(739).then(i.bind(i,57739)).then(e=>e.WorkLeaveModule)},{path:"payrollLoan",loadChildren:()=>i.e(998).then(i.bind(i,38998)).then(e=>e.PayrollLoanRoutingModule)},{path:"versions",loadChildren:()=>i.e(646).then(i.bind(i,64646)).then(e=>e.VersionsModule)},{path:"employeeDataChange",loadChildren:()=>i.e(850).then(i.bind(i,850)).then(e=>e.DataChangeModule)}];let Ta=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[A.Bz.forRoot(qa,{useHash:!0,relativeLinkResolution:"legacy"})],A.Bz]}),e})();var _a=i(91704),Sa=i(24612);let Ia=(()=>{class e{constructor(e){this.idle=e,this.timeoutServiceSource=new j.xQ,this.timeoutServiceObservable=this.timeoutServiceSource.asObservable(),F.N.logoutByTimeout&&this.startTimeout(F.N.timeout,F.N.idleTime)}startTimeout(e,t){this.idle.setIdle(t),this.idle.setTimeout(e),this.idle.setInterrupts(Sa.WO),this.idle.onTimeout.subscribe(()=>{this.timeoutServiceSource.next(!0)}),this.idle.watch()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Sa.hX))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),Da=(()=>{class e{constructor(e,t,i,n,o){this.activatedRoute=e,this.serviceGeneric=t,this.globals=i,this.windowUtilService=n,this.navigationUtilService=o}loginFluigIdentity(e){return(0,U.mG)(this,void 0,void 0,function*(){const t=yield this.loginFluigIdentitySSO(e);this.globals.isNewApiModelRM()&&this.globals.setToken(t.accessToken),this.windowUtilService.isWebView()&&(this.globals.setUser(t.loggedUser),this.globals.setIsLogged()),this.navigationUtilService.doNavigation("/home")})}getEncryptedKeyLoginFluigIdentityFromQP(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.activatedRoute.snapshot.queryParams;return(null==e?void 0:e.LoginSaml)?e.LoginSaml:null})}loginFluigIdentitySSO(e){return this.serviceGeneric.post("auth/login/fluigIdentity",{key:e})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(A.gz),o.LFG(Ae.M),o.LFG(fe.O),o.LFG(te.g),o.LFG(q._))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ka="setting";let La=(()=>{class e{constructor(e,t){this.serviceGeneric=e,this.globals=t}getContexts(){return this.serviceGeneric.get(`${ka}/contexts`)}getCurrentContext(){return this.serviceGeneric.get(`${ka}/context`).then(e=>(this.setParamKeyValueString(e),e))}updateContext(e){const t=`${ka}/context`;return e.current=!1,this.serviceGeneric.put(t,e)}setParamKeyValueString(e){this.globals.setParamKeyString("[federalCode]",e.federalCode),this.globals.setParamKeyString("[personalCode]",e.personalCode),this.globals.setParamKeyString("[employeeCode]",e.employeeCode)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M),o.LFG(fe.O))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();function Na(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Oqu(e.version)}}let Ea=(()=>{class e{constructor(){this.version=F.N.version,this.hideVersion=!0,this.clickCounts=0}click(){++this.clickCounts>=5&&(this.hideVersion=!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-version"]],decls:2,vars:1,consts:[["id","version",3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(o.TgZ(0,"p",0),o.NdJ("click",function(){return t.click()}),o.YNc(1,Na,2,1,"span",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",!t.hideVersion))},directives:[s.O5],styles:["#version[_ngcontent-%COMP%]{position:absolute;bottom:0px;left:10px;z-index:999;color:#fff;font-size:60%;width:60px;height:14px}"]}),e})(),Ua=(()=>{class e{constructor(e,t){this.spinnerElement=e,this.spinnerService=t,this.show=!1,this.element=null,this.subscription=null,this.element=e.nativeElement}ngOnInit(){this.createServiceSubscription()}createServiceSubscription(){this.subscription=this.spinnerService.spinnerObservable.subscribe(e=>{e?this.startSpinner():this.stopSpinner()})}ngOnDestroy(){this.subscription.unsubscribe()}startSpinner(){this.show=!0}stopSpinner(){this.show=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(pi.V))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-spinner"]],decls:4,vars:2,consts:[[1,"loading-screen"],["src","assets/img/loading.gif",1,"spinner-img"],[1,"text-center","text-muted"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"p",2),o._uU(3,"CARREGANDO"),o.qZA(),o.qZA()),2&e&&o.Udp("display",1==t.show?"inherit":"none")},styles:[".loading-screen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.25);z-index:100000}.spinner-img[_ngcontent-%COMP%]{width:42px;height:42px;position:absolute;top:50%;left:50%;margin-left:-21px}.loading-screen[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;margin-top:50px;width:100%}"]}),e})(),Fa=(()=>{class e{constructor(e){this.el=e,e.nativeElement.style.customProperty=!0}isBiggerThan1000(e){Number(this.dataBadge)>0&&(Number(this.dataBadge)>999?this.el.nativeElement.setAttribute("data-badge","999"):this.el.nativeElement.setAttribute("data-badge",e))}ngOnChanges(e){this.isBiggerThan1000(this.dataBadge)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq))},e.\u0275dir=o.lG2({type:e,selectors:[["","data-badge",""]],inputs:{dataBadge:["data-badge","dataBadge"]},features:[o.TTD]}),e})();function Ja(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"app-reset-password"),o.qZA())}function Va(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"app-change-pass",1),o.NdJ("exit",function(){return o.CHM(e),o.oxw().clearUserChangePass()}),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("user",e.user)}}function Ra(e,t){1&e&&(o.TgZ(0,"div"),o._UZ(1,"app-login"),o.qZA())}function Ya(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",19),o.TgZ(1,"a",20),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(5).doNavigation(t)}),o._UZ(2,"span",21),o.TgZ(3,"p",22),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(5);o.Q6J("ngClass",i.getClassesMenuMobile(e)),o.xp6(2),o.Q6J("ngClass",e.imagePath),o.xp6(2),o.Oqu(o.lcZ(5,3,e.labelKeyShort))}}function za(e,t){if(1&e&&(o.TgZ(0,"nav",17),o.YNc(1,Ya,6,5,"div",18),o.qZA()),2&e){const e=o.oxw(4);o.xp6(1),o.Q6J("ngForOf",e.applications)}}function Qa(e,t){if(1&e&&(o.TgZ(0,"span",33),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw().$implicit,t=o.oxw(5);o.xp6(1),o.hij(" ",o.lcZ(2,1,t.getStatus(e.status))," ")}}function Ga(e,t){if(1&e&&(o.TgZ(0,"span",34),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw().$implicit,t=o.oxw(5);o.xp6(1),o.hij(" ",o.lcZ(2,1,t.getStatus(e.status))," ")}}const Ha=function(e){return{"context-item-active":e}};function Ba(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",27),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(5).updateContext(t)}),o.TgZ(1,"p",28),o._uU(2),o.ALo(3,"translate"),o.YNc(4,Qa,3,3,"span",29),o.YNc(5,Ga,3,3,"span",30),o.qZA(),o.TgZ(6,"span",31),o._uU(7),o.qZA(),o._UZ(8,"br"),o.TgZ(9,"span",32),o._uU(10),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"span",31),o._uU(13),o.qZA(),o._UZ(14,"br"),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(5);o.Q6J("ngClass",o.VKq(9,Ha,i.contextIsCurrent(e))),o.xp6(2),o.hij(" ",o.lcZ(3,7,i.getEmployeeType(e.employeeType))," "),o.xp6(2),o.Q6J("ngIf",i.isContextActive(e.status)),o.xp6(1),o.Q6J("ngIf",!i.isContextActive(e.status)),o.xp6(2),o.hij(" ",e.companyName," "),o.xp6(3),o.hij(" ",e.branchName," "),o.xp6(3),o.hij(" ",e.employeeId," ")}}function ja(e,t){if(1&e&&(o.TgZ(0,"div",23),o.TgZ(1,"div",24),o.TgZ(2,"div",25),o.YNc(3,Ba,15,11,"div",26),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw(4);o.xp6(1),o.Q6J("ngClass",e.getCurrentContextBodyClass()),o.xp6(2),o.Q6J("ngForOf",e.contexts)}}function $a(e,t){1&e&&(o.TgZ(0,"span",35),o._UZ(1,"img",36),o.qZA())}function Wa(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li"),o.TgZ(1,"div",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).doNavigation("profile")}),o._UZ(2,"img",37),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(3),o.hij(" ",o.lcZ(4,1,"l-perfil")," "))}function Ka(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li"),o.TgZ(1,"div",38),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).doNavigation("alterPassword")}),o._UZ(2,"img",39),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA()}2&e&&(o.xp6(3),o.hij(" ",o.lcZ(4,1,"l-alter-password")," "))}function Xa(e,t){1&e&&o._UZ(0,"span",43)}function er(e,t){1&e&&o._UZ(0,"po-loading-icon",44)}const tr=function(e){return{notify:e}};function ir(e,t){if(1&e&&(o.TgZ(0,"nav"),o.TgZ(1,"a",40),o.YNc(2,Xa,1,0,"span",41),o.YNc(3,er,1,0,"po-loading-icon",42),o.qZA(),o.qZA()),2&e){const e=t.ngIf,i=o.oxw(5);o.xp6(1),o.Q6J("data-badge",i.notifyCount)("ngClass",o.VKq(4,tr,i.notifyCount>0)),o.xp6(1),o.Q6J("ngIf",!e.loading),o.xp6(1),o.Q6J("ngIf",e.loading)}}function nr(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,ir,4,6,"nav",0),o.ALo(2,"async"),o.qZA()),2&e){const e=o.oxw(4);o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,e.notificationsCount$))}}function or(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div"),o._UZ(1,"app-spinner"),o._UZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"po-menu",4),o.YNc(5,za,2,1,"nav",5),o.TgZ(6,"po-page-default"),o.TgZ(7,"div",6),o.YNc(8,ja,4,2,"div",7),o.TgZ(9,"div"),o.TgZ(10,"div",8),o.YNc(11,$a,2,0,"span",9),o.TgZ(12,"div",10),o._UZ(13,"div",11),o.TgZ(14,"ul",12),o.TgZ(15,"li",13),o._uU(16),o.qZA(),o.YNc(17,Wa,5,3,"li",0),o.YNc(18,Ka,5,3,"li",0),o.TgZ(19,"li"),o.TgZ(20,"div",14),o.NdJ("click",function(){return o.CHM(e),o.oxw(3).logout()}),o._UZ(21,"img",15),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(24,nr,3,3,"div",0),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"router-outlet",16),o.NdJ("activate",function(){return o.CHM(e),o.oxw(3).loadOnUrlChange()}),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(3);o.xp6(4),o.Q6J("p-menus",e.menus),o.xp6(1),o.Q6J("ngIf",e.showMenu),o.xp6(3),o.Q6J("ngIf",e.contexts&&e.contexts.length>1),o.xp6(3),o.Q6J("ngIf",e.contexts&&e.contexts.length>1),o.xp6(2),o.Udp("background-image",e.avatarImage),o.xp6(3),o.hij(" ",e.getFirstName()," "),o.xp6(1),o.Q6J("ngIf",(null==e.permissions?null:e.permissions.profile)||null==(null==e.permissions?null:e.permissions.profile)),o.xp6(1),o.Q6J("ngIf",null==e.permissions?null:e.permissions.alterPassword),o.xp6(4),o.hij(" ",o.lcZ(23,11,"l-logoff")," "),o.xp6(2),o.Q6J("ngIf",e.isCoordinator||e.isSubstitute)}}function sr(e,t){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,Ra,2,0,"div",0),o.YNc(2,or,26,13,"div",0),o.qZA()),2&e){const e=o.oxw().ngIf;o.xp6(1),o.Q6J("ngIf",!e.isLogged),o.xp6(1),o.Q6J("ngIf",e.isLogged)}}function ar(e,t){if(1&e&&(o.ynx(0),o.YNc(1,sr,3,2,"div",0),o.BQk()),2&e){const e=t.ngIf,i=o.oxw();o.xp6(1),o.Q6J("ngIf",null!=e.isLogged&&!i.showResetPasswordPage()&&void 0===i.user)}}let rr=(()=>{class e{constructor(e,t,i,n,o,s,a,r,l,c,p,d,g,u,h,m,f,v,b,x,y,Z,w,C,M,A,P,O,q,T,_,S,I){this.loggedSelectors=e,this.profileService=t,this.contextService=i,this.toastr=n,this.title=o,this.appTranslateService=s,this.authService=a,this.menuApplicationService=r,this.windowUtilService=l,this.timeoutService=c,this.changeDetectRef=p,this.globals=d,this.navigationUtilService=g,this.router=u,this.resetPassword=h,this.loginService=m,this.ionicUtilsService=f,this.el=v,this.permissionDispatchers=b,this.permissionSelectors=x,this.isCoordinatorDispatchers=y,this.isCoordinatorSelectors=Z,this.propertiesDispatchers=w,this.propertiesSelectors=C,this.imageService=M,this.companyIdDispatchers=A,this.notificationsCountDispatchers=P,this.notificationsCountSelectors=O,this.activatedRoute=q,this.mobileVersionDispatchers=T,this.fluigIdentityService=_,this.companySetttingsDispatchers=S,this.ngZone=I,this.applications=[],this.notifyCount=0,this.srcLogo="assets/img/totvs.png",this.homePage="index.html#",this.employeeSummary=void 0,this.showMenu=!0,this.menus=[],this.isSubstitute=!1,this.applicationInitialized=!1,this.notificationCountSubscription=null,this.timeoutSubscription=null,this.menuApplicationSubscription=null}ngOnInit(){this.initializeComponent()}subscribeForLangChanges(){this.onLangChange=this.appTranslateService.onLangChange.subscribe(()=>{this.updateLanguageOnDOM()})}updateLanguageOnDOM(){const e=this.appTranslateService.getCurrentLang(),t=document.createAttribute("lang");return t.value=e,this.el.nativeElement.parentElement.parentElement.attributes.setNamedItem(t),e}initApplication(){this.setNavTitleApplication(),this.buttonContext(),this.loadDefaultServices(),this.toastr.overlayContainer=this.toastContainer}ngOnDestroy(){this.notificationCountSubscription&&this.notificationCountSubscription.unsubscribe(),this.timeoutSubscription&&this.timeoutSubscription.unsubscribe(),this.menuApplicationSubscription&&this.menuApplicationSubscription.unsubscribe(),this.onLangChange&&this.onLangChange.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe(),this.loggedSubscrption&&this.loggedSubscrption.unsubscribe(),this.routeChangesSubscription&&this.routeChangesSubscription.unsubscribe(),this.propertiesSubscription&&this.propertiesSubscription.unsubscribe(),this.isCoordinatorSubscription&&this.isCoordinatorSubscription.unsubscribe()}loadDefaultServices(){return(0,U.mG)(this,void 0,void 0,function*(){if(xe.ZP.getBaseUrl(document.location.href),xe.ZP.isErpRM())try{(yield this.loadContexts())&&(this.createNotificationCountSubscription(),this.createTimeoutSubscription(),this.createMenuApplicationSubscription(),yield this.getEmployeeSummary(),this.getImageAvatar(),this.loadMenus(),this.setNotifyCount(),this.getIsCoordinator(),this.getPermissions())}catch(e){}else this.loadContexts(),this.createNotificationCountSubscription(),this.createTimeoutSubscription(),this.createMenuApplicationSubscription(),yield this.getEmployeeSummary(),this.getImageAvatar(),this.loadMenus(),this.setNotifyCount(),this.getIsCoordinator(),this.getPermissions(),this.activeKeepAlive()})}getPermissions(){return(0,U.mG)(this,void 0,void 0,function*(){this.permissionsSubscription&&this.permissionsSubscription.unsubscribe(),this.permissionDispatchers.loadPermissions(F.N.loggedUser),this.permissionsSubscription=this.permissionSelectors.permissions$.subscribe(e=>{this.permissions=e})})}getIsCoordinator(){return(0,U.mG)(this,void 0,void 0,function*(){this.isCoordinatorSubscription&&this.isCoordinatorSubscription.unsubscribe(),this.isCoordinatorDispatchers.loadIsCoordinator(F.N.loggedUser),this.isCoordinatorSubscription=this.isCoordinatorSelectors.isCoordinator$.subscribe(e=>{this.isCoordinator=e})})}loadMenus(){this.contextService.getCurrentContext().then(e=>{this.menuApplicationService.getMenus().then(e=>{this.applications=e,this.menus=this.menuAppToPoMenu(this.applications)})})}menuAppToPoMenu(e){if(e){const t=[];return e.forEach(e=>{const i="../PortalMeuRH/index.html#/",n=!e.children&&e.url.indexOf(i)<0;this.appTranslateService.getI18n(e.labelKeyLong).then(o=>{t.push({label:o,icon:"po-icon "+e.imagePath,action:n?()=>this.doNavigation(e):void 0,link:n?void 0:e.url.replace(i,""),subItems:this.menuAppToPoMenu(e.children)})})}),t}}createNotificationCountSubscription(){this.notificationsCount$=this.notificationsCountSelectors.state$,this.notificationCountSubscription=this.notificationsCount$.subscribe(e=>{this.notifyCount=0;const t=e.model;this.notifyCount=t&&void 0!==t.total?t.total:0})}createTimeoutSubscription(){this.timeoutSubscription=this.timeoutService.timeoutServiceObservable.subscribe(e=>{e&&this.logout()})}createInitializationSubscription(){this.loggedSubscrption=this.loggedSelectors.isLogged$.subscribe(e=>{!this.applicationInitialized&&e&&(this.initApplication(),this.applicationInitialized=!0),this.globals.canLoadApp=!0})}createMenuApplicationSubscription(){this.menuApplicationSubscription=this.menuApplicationService.menuApplicationServiceObservable.subscribe(e=>{this.showMenu=e,this.changeDetectRef.detectChanges()})}setNavTitleApplication(){this.appTranslateService.getI18n("l-title-nav-tab").then(e=>{this.title.setTitle(e)})}setNotifyCount(){this.notificationsCountDispatchers.getNotificationsCountRespectingMinimumTime()}getEmployeeSummary(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.profileService.getEmployeeSummary("{current}",!0);this.isSubstitute=e.isSubstitute,this.globals.setEmployeeSummary(e),this.employeeSummary=e})}getImageAvatar(){this.imageService.getImageStyle("{current}").subscribe(e=>this.avatarImage=e)}logout(){xe.ZP.isTomcatAppServer()?(this.logoutActions(),this.windowUtilService.isWebView()?this.emitLogoutEventIonic():this.windowUtilService.changeHref("/html-hcm")):this.authService.logout().then(e=>(0,U.mG)(this,void 0,void 0,function*(){yield this.logoutActions(),this.windowUtilService.isWebView()?this.emitLogoutEventIonic():this.redirectDesktop(e)})).catch(()=>{this.windowUtilService.changeHref(xe.ZP.getRootContext(location.origin)+"logout.html")})}contextIsCurrent(e){return e.current}logoutActions(){return(0,U.mG)(this,void 0,void 0,function*(){xe.ZP.isTomcatAppServer()&&(yield this.authService.logoutOnTotvsLogin()),this.globals.canLoadApp=!1,this.globals.clearLocalStorage(),this.globals.cleanEmployeeSummary(),this.setNullLocalItems(/^DASHBOARD_/)})}redirectDesktop(e){xe.ZP.isTomcatAppServer()?this.windowUtilService.locationAssign("/html-hcm/"):e&&e.redirect?this.windowUtilService.changeHref(xe.ZP.getRootContext(location.origin)+e.redirect):this.windowUtilService.goToOrigin()}setNullLocalItems(e){for(let t=0;t<=window.localStorage.length;t++)if(e.test(window.localStorage.key(t))){let e=window.localStorage.key(t);window.localStorage.setItem(e,null)}}emitLogoutEventIonic(){this.ionicUtilsService.emit({args:{event:"LogoutEvent"},type:be.g.Logout})}getFirstName(){return this.employeeSummary?this.employeeSummary.name.split(" ")[0]:""}loadContexts(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.contextService.getContexts();if(e){this.contexts=e;for(let e=0;e<this.contexts.length;e++){const t=this.contexts[e];t.current&&(this.currentContextIndex=e,xe.ZP.isErpRM()&&(this.contextService.updateContext(t),t.current=!0),xe.ZP.shouldSendCompanyId()&&this.companyIdDispatchers.setCompanyId(t.companyId))}}return e})}getCurrentContextBodyClass(){return"context-body-"+(this.currentContextIndex+1)}getCurrentContextSpanClass(){return"context-span-"+(this.currentContextIndex+1)}getEmployeeType(e){return"internal"===e.toString()?"l-internal":"l-external"}getStatus(e){return"active"===e?"l-active":"l-inactive"}isContextActive(e){return"active"===e}canLoadApp(){return this.globals.canLoadApp}buttonContext(){_a(document).off("click","#context-button"),_a(document).on("click","#context-button",function(e){const t=_a(this);t.hasClass("panel-collapsed")?(t.parents(".top-bar").find(".context-body").slideToggle("slow"),t.removeClass("panel-collapsed")):(t.parents(".top-bar").find(".context-body").slideToggle("slow"),t.addClass("panel-collapsed"))})}updateContext(e){this.navigationUtilService.doNavigation("/home"),this.contextService.updateContext(e).then(()=>(0,U.mG)(this,void 0,void 0,function*(){this.globals.clearEmployeePermission(),yield this.loadDefaultServices(),this.navigationUtilService.nextContext(),this.setNavTitleApplication(),this.toastr.overlayContainer=this.toastContainer,this.windowUtilService.isWebView()||this.windowUtilService.reloadPage()}))}loadOnUrlChange(){return(0,U.mG)(this,void 0,void 0,function*(){xe.ZP.isErpRM()&&(yield this.loadContexts()),this.setNotifyCount()})}getClassesMenuMobile(e){const t=" menu-current-item menu-active";let i="";return e.url.endsWith(this.router.url)?i+=t:e.children?e.children.forEach(n=>{(n.url.endsWith(this.router.url)||this.router.url.endsWith("detail")&&e.url.endsWith("l-payment"))&&(i+=t)}):this.router.url.endsWith("request")&&e.url.endsWith("medicalCertificate")&&(i+=t),this.applications&&this.applications.length?(i||(i+=" menu-not-current-item"),i+=` po-sm-${Math.floor(12/this.applications.length)}`,i+=5===this.applications.length?" margin-full-items-menu":" margin-items-menu"):""}changePasswordIsVisible(){this.resetPassword.observableSubChangePass.subscribe(e=>{this.user=e})}showResetPasswordPage(){return!!window.location.href.includes("resetPassword")}clearUserChangePass(){this.user=void 0}activeKeepAlive(){xe.ZP.isErpDatasul()&&xe.ZP.isTomcatAppServer()&&this.ngZone.runOutsideAngular(()=>{setInterval(()=>{this.ngZone.run(()=>{this.authService.keepAliveOnTotvsLogin()})},12e4)})}doNavigation(e){this.navigationUtilService.doNavigation(e)}contextIsActive(e){return"active"===e.status.toLocaleLowerCase()}setTokenRM(){!this.globals.isNewApiModelRM()&&(xe.ZP.getErpByUrl(document.location.href)===xe.Ld.RM||xe.ZP.getErpByUrl(document.location.href)===xe.Ld.NODE)&&(this.properties.USE_TOKEN||this.globals.existsIonic5Key())&&this.globals.enableNewApiModelRM()}subscribeToRouteChanges(){this.routeChangesSubscription=this.router.events.subscribe(e=>{e instanceof A.m2&&this.globals.urlHistory.push(e.url)})}getPropertiesJSON(){return(0,U.mG)(this,void 0,void 0,function*(){this.propertiesDispatchers.loadProperties(),this.properties=yield this.propertiesSelectors.nextPropertiesNotNull()})}initializeComponent(){return(0,U.mG)(this,void 0,void 0,function*(){yield this.getPropertiesJSON(),this.setTokenRM(),yield this.defineLoginFluigIdentity(),this.createInitializationSubscription(),yield this.storeVersionFromQp(),yield this.loginService.checkLoginStatusToActivateServices(),this.changePasswordIsVisible(),this.updateLanguageOnDOM(),this.subscribeForLangChanges(),this.subscribeToRouteChanges()})}storeVersionFromQp(){return(0,U.mG)(this,void 0,void 0,function*(){const e=yield this.activatedRoute.queryParams.pipe((0,ri.q)(1)).toPromise();yield this.mobileVersionDispatchers.setVersionIfNotDone(e.mobileVersion)})}defineLoginFluigIdentity(){return(0,U.mG)(this,void 0,void 0,function*(){if(xe.ZP.getErpByUrl(document.location.href)===xe.Ld.RM||xe.ZP.getErpByUrl(document.location.href)===xe.Ld.NODE){this.companySetttingsDispatchers.getCompanySettings();const e=yield this.fluigIdentityService.getEncryptedKeyLoginFluigIdentityFromQP();e&&(yield this.fluigIdentityService.loginFluigIdentity(e))}})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(ye.ek),o.Y36(Q.H),o.Y36(La),o.Y36(b._W),o.Y36(n.Dx),o.Y36(ee.g),o.Y36(oi),o.Y36(O.Kv),o.Y36(te.g),o.Y36(Ia),o.Y36(o.sBO),o.Y36(fe.O),o.Y36(q._),o.Y36(A.F0),o.Y36(ii),o.Y36(ui),o.Y36(be.l),o.Y36(o.SBq),o.Y36(ye.n3),o.Y36(ye.eL),o.Y36(ye.TM),o.Y36(ye.V9),o.Y36(ye.ZM),o.Y36(ye.Ub),o.Y36(Y.A),o.Y36(ye.ab),o.Y36(ye.CV),o.Y36(ye.S2),o.Y36(A.gz),o.Y36(ye.ZR),o.Y36(Da),o.Y36(ye.nF),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-root"]],viewQuery:function(e,t){if(1&e&&o.Gf(b.FM,5),2&e){let e;o.iGM(e=o.CRH())&&(t.toastContainer=e.first)}},decls:5,vars:5,consts:[[4,"ngIf"],[3,"user","exit"],["toastContainer",""],[1,"po-wrapper"],["p-filter","","p-logo","assets/img/totvs.png",1,"po-hidden-sm","po-hidden-md","po-visible-lg","po-visible-xl",3,"p-menus"],["id","nav-mobile","class","po-visible-sm po-visible-md po-hidden-lg po-hidden-xl",4,"ngIf"],[1,"top-bar","no-text-select"],["class","panel-primary",4,"ngIf"],[1,"top-bar-profile"],["id","context-button","href","","class","pull-right panel-collapsed profile-image context-button",4,"ngIf"],[1,"dropdown","pull-right",2,"overflow","inherit"],["data-toggle","dropdown",1,"dropdown-toggle","avatar-small","mouse-pointer"],[1,"dropdown-menu","dropdown-menu-position"],[1,"summary-name","user-name"],["id","logout-button",1,"mouse-pointer",3,"click"],["src","assets/img/sair.png"],[3,"activate"],["id","nav-mobile",1,"po-visible-sm","po-visible-md","po-hidden-lg","po-hidden-xl"],["name","div-menu-itens","class","waves-effect waves-base align-menu-icons",3,"ngClass",4,"ngFor","ngForOf"],["name","div-menu-itens",1,"waves-effect","waves-base","align-menu-icons",3,"ngClass"],["routerLinkActive","active",1,"mouse-pointer",3,"click"],[1,"nav-ico",3,"ngClass"],[2,"font-size","10px"],[1,"panel-primary"],[1,"context-body",3,"ngClass"],[1,"po-row"],["class","po-sm-6 po-md-6 po-lg-12 context-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"po-sm-6","po-md-6","po-lg-12","context-item",3,"ngClass","click"],[1,"context-value-title"],["class","context-value-status-active label type-hint type-hint-array",4,"ngIf"],["class","context-value-status-inactive label type-hint type-hint-array",4,"ngIf"],[1,"context-span-value","text-bold-default"],["ng-if","context.branchName",1,"context-span-value","text-bold-default"],[1,"context-value-status-active","label","type-hint","type-hint-array"],[1,"context-value-status-inactive","label","type-hint","type-hint-array"],["id","context-button","href","",1,"pull-right","panel-collapsed","profile-image","context-button"],["src","assets/img/context-button.png"],["src","assets/img/perfil.png"],[1,"mouse-pointer",3,"click"],["src","assets/img/senha.png"],["id","alert-notify-button","routerLink","./request/notifications","routerLinkActive","active",1,"pull-right",3,"data-badge","ngClass"],["class","ico-bell",4,"ngIf"],["class","loading",4,"ngIf"],[1,"ico-bell"],[1,"loading"]],template:function(e,t){1&e&&(o.YNc(0,Ja,2,0,"div",0),o.YNc(1,Va,2,1,"div",0),o.YNc(2,ar,2,1,"ng-container",0),o.ALo(3,"async"),o._UZ(4,"app-version")),2&e&&(o.Q6J("ngIf",t.showResetPasswordPage()),o.xp6(1),o.Q6J("ngIf",null!=t.user),o.xp6(1),o.Q6J("ngIf",o.lcZ(3,3,t.loggedSelectors.state$)))},directives:[s.O5,Ea,Si,si,Ti,Ua,b.FM,f.Nu_,f.MUI,A.lC,s.sg,s.mk,A.Od,A.yS,Fa,f.AR0],pipes:[s.Ov,h.X$],styles:[".onpage[_ngcontent-%COMP%]{background:#ffffff;padding:0 16px;min-height:calc(100vh - 60px);height:100%}.context-body[_ngcontent-%COMP%]{background-color:#fbfbfb;color:#4a5c60;display:none;height:164px;overflow-x:auto;overflow-y:hidden;padding:8px;white-space:nowrap;width:auto}.align-menu-icons[_ngcontent-%COMP%]{padding:0 9px}.context-body[_ngcontent-%COMP%] > div.po-row[_ngcontent-%COMP%]{display:block!important}.context-body[_ngcontent-%COMP%] > div.po-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.po-row){height:130px}[_ngcontent-%COMP%]::-webkit-scrollbar{height:0}.dropdown-menu-position[_ngcontent-%COMP%]{position:fixed!important}.dropdown-menu[_ngcontent-%COMP%]{left:auto!important;padding:5px 0 0;top:10px!important}.dropdown[_ngcontent-%COMP%]{width:auto;z-index:200}.context-span-label[_ngcontent-%COMP%]{color:#e6e6fa;font-size:12px;font-weight:700}.context-span-value[_ngcontent-%COMP%]{color:#4a5c60;font-size:12px;border-radius:3px;font-weight:bold}.context-span-value-inactive[_ngcontent-%COMP%]{font-size:12px;border-radius:3px;font-weight:bold}.context-value-status[_ngcontent-%COMP%]{font-size:10px;color:#fff;background:#00b28e;position:relative;top:-2px;padding:0 3px;border-radius:3px}.context-value-status-active[_ngcontent-%COMP%]{font-size:10px;color:#fff;background:#00b28e;position:relative;top:-2px;padding:0 3px;border-radius:3px}.context-value-status-inactive[_ngcontent-%COMP%]{font-size:10px;color:#fff;background:#e32d3c;position:relative;top:-2px;padding:0 3px;border-radius:3px}.context-value-title[_ngcontent-%COMP%]{font-size:20px;color:#4a5c60}.context-item[_ngcontent-%COMP%]{display:inline-block;float:none;width:180px;cursor:pointer;padding:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:8px;border-radius:6px}.context-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0!important}.panel-primary[_ngcontent-%COMP%]{width:auto;margin:0 -16px}.context-item[_ngcontent-%COMP%]:nth-child(1), .context-item[_ngcontent-%COMP%]:nth-child(2), .context-item[_ngcontent-%COMP%]:nth-child(3), .context-item[_ngcontent-%COMP%]:nth-child(4){background:#ffffff;border:#dddddd solid 1px}.context-body-1[_ngcontent-%COMP%], .context-body-2[_ngcontent-%COMP%], .context-body-3[_ngcontent-%COMP%], .context-body-4[_ngcontent-%COMP%]{background:#f0f0f0}.context-item[_ngcontent-%COMP%]:nth-child(1):hover, .context-item[_ngcontent-%COMP%]:nth-child(2):hover, .context-item[_ngcontent-%COMP%]:nth-child(3):hover, .context-item[_ngcontent-%COMP%]:nth-child(4):hover{background:#ceeaf2;border:rgba(12,155,191,.3) solid 1px;transition:all .5s}.context-item-active[_ngcontent-%COMP%]{background:#ceeaf2!important;border:rgba(12,155,191,.3) solid 1px!important}.context-item-inactive[_ngcontent-%COMP%]{color:#9da7a9!important;background:#eceeee!important;border:1px solid #b6bdbf!important;pointer-events:none}.context-value-title-inactive[_ngcontent-%COMP%]{font-size:20px;color:#9da7a9}.context-button[_ngcontent-%COMP%]{background-color:#fafafa;margin-left:5px;z-index:200;cursor:pointer}#alert-notify-button[_ngcontent-%COMP%]{z-index:200}.context-button[_ngcontent-%COMP%]:hover{background-color:rgba(12,154,190,.2);margin-left:5px;box-shadow:0 0 rgba(255,255,255,0);transition:all .5s ease}.context-button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:70%}.menu-current-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0c9abe!important}.menu-not-current-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bfbfbf!important}.dropdown-toggle[_ngcontent-%COMP%]:empty:after{display:none!important}.notify[_ngcontent-%COMP%]{position:relative;float:right;margin:3px}.notify[_ngcontent-%COMP%]:hover, .notify[_ngcontent-%COMP%]:focus{text-decoration:none!important}.notify[data-badge][_ngcontent-%COMP%]:after{background:#e32d3c;border-radius:8px;color:#fff;content:attr(data-badge);font-size:10px;font-weight:normal;height:16px;line-height:12px;min-width:16px;padding:2px 4px;position:absolute;right:-2px;text-align:center;top:-1px;width:auto}@media only screen and (min-width: 961px) and (max-width: 1366px){.context-body[_ngcontent-%COMP%]{padding-left:60px}}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.onpage[_ngcontent-%COMP%]{padding:0 16px;min-height:calc(100vh - 94px);height:100%}}"]}),e})(),lr=(()=>{class e{constructor(){}getLanguageI18n(e){if(e){if(0===e.indexOf("pt"))return"pt";if(0===e.indexOf("en"))return"en";if(0===e.indexOf("es"))return"es"}return"pt"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),cr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[ki.e,lr,Ia],imports:[[s.ez,Sa.$2.forRoot()]]}),e})();var pr=i(56365),dr=i(40205),gr=i(5304);let ur=(()=>{class e{intercept(e,t){return t.handle(e).pipe((0,gr.K)(e=>e instanceof a.UA&&e.error instanceof Blob&&"application/json"===e.error.type?new Promise((t,i)=>{let n=new FileReader;n.onload=t=>{try{const n=JSON.parse(t.target.result);i(new a.UA({error:n,headers:e.headers,status:e.status,statusText:e.statusText,url:e.url}))}catch(n){i(e)}},n.onerror=t=>{i(e)},n.readAsText(e.error)}):(0,dr._)(e)))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),hr=(()=>{class e{constructor(e){this.companyIdSelectors=e}intercept(e,t){return xe.ZP.shouldSendCompanyId()&&!this.reqIsToContext(e)&&this.notInBlacklist(e)?(0,$.D)(this.addCompanyId(e,t)):t.handle(e)}addCompanyId(e,t){return(0,U.mG)(this,void 0,void 0,function*(){const i=yield this.companyIdSelectors.nextIsCompanyIdDone();let n=e;return null!=i&&(n=e.clone({setHeaders:{companyId:i}})),t.handle(n).toPromise()})}reqIsToContext(e){return e.url.includes("/setting/contexts")}notInBlacklist(t){return!e.blacklist.some(e=>t.url.includes(e))}}return e.blacklist=["auth/isLogged","auth/login","properties.json","/assets/"],e.\u0275fac=function(t){return new(t||e)(o.LFG(ye.P7))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var mr=i(44677);let fr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Ta,s.ez,mr.d,h.aw,pr.q]]}),e})(),vr=(()=>{class e{constructor(){}intercept(e,t){const i=localStorage.getItem("token");return xe.ZP.getErp()===xe.Ld.RM&&i&&!e.url.includes("storage.googleapis.com")&&(e.url.includes("isLogged")||!e.url.includes("auth/"))&&(e=this.addToken(e,i)),t.handle(e)}addToken(e,t){return e.clone({setHeaders:{Authorization:"Bearer "+t}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();var br=i(69505);let xr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[B.z],imports:[[s.ez,pr.q,h.aw,f.JBz,d.u5,zo.To,A.Bz]]}),e})();var yr=i(43743);let Zr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[qe],imports:[[s.ez,pr.q,h.aw,f.JBz]]}),e})(),wr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[De],imports:[[s.ez,h.aw,f.JBz,pr.q,zo.To,yr.Y,d.u5,Zr]]}),e})(),Cr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[nt.X,we.t],imports:[[s.ez,pr.q,h.aw,A.Bz,d.u5,f.JBz,wr]]}),e})(),Mr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,h.aw,f.JBz,ti.M0,d.u5,pr.q]]}),e})(),Ar=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,h.aw,f.JBz,d.u5,pr.q]]}),e})(),Pr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,f.JBz,h.aw,d.u5,pr.q]]}),e})(),Or=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,f.JBz,h.aw,d.u5,pr.q]]}),e})(),qr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[ui],imports:[[f.JBz,h.aw,s.ez,d.u5,Or,Pr,Ar]]}),e})();var Tr=i(91061),_r=i(53569),Sr=i(98295),Ir=i(76627),Dr=i(67441),kr=i(12522),Lr=i(45438);let Nr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,pr.q,h.aw,f.JBz,d.u5,zo.To,Sr.lN,Dr.LD,Lr.Co,d.UX,d.u5,u.PW,Dr.LD,kr.g0,Sr.lN,Ir.Ps,Lr.Co]]}),e})();var Er=i(37794),Ur=i(2187),Fr=i(92060),Jr=i(69030);let Vr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[Q.H,Fr.O,Ur.p,Jr.H,Er.e],imports:[[s.ez,pr.q,h.aw,d.u5,f.JBz]]}),e})(),Rr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[Ei],imports:[[pr.q,s.ez,h.aw,d.u5,Ui.QW,f.JBz]]}),e})(),Yr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[en.T,eo],imports:[[s.ez,d.u5,f.JBz,h.aw,mr.d,pr.q,ti.Pu,yr.Y,A.Bz]]}),e})(),zr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,pr.q,h.aw,A.Bz,d.u5,zo.To,f.JBz,yr.Y,mr.d,ti.Pu]]}),e})();var Qr=i(93342);let Gr=(()=>{class e{constructor(e,t,i,n){this.genericService=e,this.ionicUtilsService=t,this.windowUtilService=i,this.globals=n}intercept(e,t){if(xe.ZP.isErpProtheus()||xe.ZP.isErpRM()||xe.ZP.isErpNode()){let i;if((!e.url.includes("auth/")||e.url.includes("isFirstLogin")||e.url.includes("ChangePassWithLastPass")||e.url.includes("isLogged"))&&!e.url.includes("storage.googleapis.com")){const t=localStorage.getItem("token");t&&(i=e.clone({setHeaders:{Authorization:`Bearer ${t}`}}))}return i||(i=e),t.handle(i).pipe((0,Qr.b)(t=>{if(t instanceof a.Zn){let i=t.headers.get("set-authorization");i&&(null===this.globals.getToken()||e.url.includes("setting/context")&&"PUT"===e.method)&&(i.includes("Bearer")&&(i=i.substr(7)),this.globals.setToken(i),this.genericService.setAuthorizationToken(),this.emitTokenChange(i))}}))}return t.handle(e)}emitTokenChange(e){this.windowUtilService.isWebView()&&this.ionicUtilsService.emit({args:{token:e},type:be.g.TokenChange})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ae.M),o.LFG(be.l),o.LFG(te.g),o.LFG(fe.O))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[Ro.$,La,G.c],imports:[[s.ez]]}),e})();var Br=i(23065),jr=i(91601),$r=i(32170);const Wr={permissions:null,loading:!1,error:!1},Kr=(0,Br.Lq)(Wr,(0,Br.on)($r.QG,e=>Object.assign(Object.assign({},Wr),{loading:!0})),(0,Br.on)($r.rB,(e,t)=>Object.assign(Object.assign({},Wr),{permissions:t.permissions})),(0,Br.on)($r.yk,e=>Object.assign(Object.assign({},Wr),{error:!0}))),Xr={isLogged:null,loading:!1},el=(0,Br.Lq)(Xr,(0,Br.on)($r.gn.checkIfIsLogged,e=>Object.assign(Object.assign({},Xr),{loading:!0})),(0,Br.on)($r.gn.checkIfIsLoggedSuccess,(e,t)=>Object.assign(Object.assign({},Xr),{isLogged:t.isLogged})),(0,Br.on)($r.gn.checkIfIsLoggedError,e=>Object.assign(Object.assign({},Xr),{isLogged:!1}))),tl={companyId:null,done:!1},il=(0,Br.Lq)(tl,(0,Br.on)($r.YB.setCompanyId,(e,t)=>Object.assign(Object.assign({},tl),{companyId:t.companyId,done:!0}))),nl={model:null,loading:!1},ol=(0,Br.Lq)(nl,(0,Br.on)($r.I3.getNotificationsCount,()=>Object.assign(Object.assign({},nl),{model:null,loading:!0})),(0,Br.on)($r.I3.getNotificationsCountSuccess,(e,t)=>Object.assign(Object.assign({},nl),{model:t.model})),(0,Br.on)($r.I3.getNotificationsCountError,()=>Object.assign({},nl))),sl={properties:null,error:!1},al=(0,Br.Lq)(sl,(0,Br.on)($r.Yg.loadProperties,e=>Object.assign({},sl)),(0,Br.on)($r.Yg.loadPropertiesSuccess,(e,t)=>Object.assign(Object.assign({},sl),{properties:t.properties})),(0,Br.on)($r.Yg.loadPropertiesError,e=>Object.assign(Object.assign({},sl),{error:!0}))),rl={isCoordinator:null,loading:!1,error:!1},ll=(0,Br.Lq)(rl,(0,Br.on)($r.Eq.loadIsCoordinator,e=>Object.assign(Object.assign({},rl),{loading:!0})),(0,Br.on)($r.Eq.loadIsCoordinatorSuccess,(e,t)=>Object.assign(Object.assign({},rl),{isCoordinator:t.isCoordinator})),(0,Br.on)($r.Eq.loadIsCoordinatorError,e=>Object.assign(Object.assign({},rl),{error:!0}))),cl={version:null,done:!1,unknow:!1},pl=(0,Br.Lq)(cl,(0,Br.on)($r.Cv.setMobileVersion,(e,t)=>Object.assign(Object.assign({},cl),{version:t.version,done:!0})),(0,Br.on)($r.Cv.setUnknowMobileVersion,()=>Object.assign(Object.assign({},cl),{unknow:!0,done:!0}))),dl={companySettings:null},gl=(0,Br.Lq)(dl,(0,Br.on)($r.kr.getCompanySettings,e=>Object.assign({},dl)),(0,Br.on)($r.kr.getCompanySettingsSuccess,(e,t)=>Object.assign(Object.assign({},dl),{companySettings:t.companySettings})),(0,Br.on)($r.kr.getCompanySettingsError,e=>Object.assign(Object.assign({},dl),{companySettings:{forgotPasswordEnabled:!0,requiredSSO:!1,samlProviders:[],providersOauth:[]}}))),ul={permissions:function(e,t){return Kr(e,t)},logged:function(e,t){return el(e,t)},companyId:function(e,t){return il(e,t)},notificationsCount:function(e,t){return ol(e,t)},properties:function(e,t){return al(e,t)},isCoordinator:function(e,t){return ll(e,t)},mobileVersion:function(e,t){return pl(e,t)},companySettings:function(e,t){return gl(e,t)}};var hl=i(25917),ml=i(43190);let fl=(()=>{class e{constructor(e,t){this.actions$=e,this.permissionService=t,this.loadPermissions$=(0,jr.GW)(()=>this.actions$.pipe((0,jr.l4)($r.QG),(0,ml.w)(e=>(0,$.D)(this.permissionService.getPermissions(e.employeeId)).pipe((0,li.U)(e=>$r.rB({permissions:e})),(0,gr.K)(e=>(0,hl.of)($r.yk({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(jr.eX),o.LFG(Ro.$))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),vl=(()=>{class e{constructor(e,t){this.actions$=e,this.authService=t,this.checkIfIsLogged$=(0,jr.GW)(()=>this.actions$.pipe((0,jr.l4)($r.gn.checkIfIsLogged),(0,ml.w)(()=>(0,$.D)(this.authService.canActivate()).pipe((0,li.U)(e=>$r.gn.checkIfIsLoggedSuccess({isLogged:e.isLogged})),(0,gr.K)(e=>(0,hl.of)($r.gn.checkIfIsLoggedError({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(jr.eX),o.LFG(oi))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),bl=(()=>{class e{constructor(e,t){this.actions$=e,this.notificationsService=t,this.getNotificationsCount$=(0,jr.GW)(()=>this.actions$.pipe((0,jr.l4)($r.I3.getNotificationsCount),(0,ml.w)(e=>(0,$.D)(this.notificationsService.getNotificationsCount(e.employeeId)).pipe((0,li.U)(e=>$r.I3.getNotificationsCountSuccess({model:e})),(0,gr.K)(()=>(0,hl.of)($r.I3.getNotificationsCountError()))))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(jr.eX),o.LFG(en.T))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),xl=(()=>{class e{constructor(e){this.http=e}getProperties(){return this.http.get("properties.json").toPromise().then(e=>e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const yl=[fl,vl,bl,(()=>{class e{constructor(e,t){this.actions$=e,this.propertiesService=t,this.loadProperties$=(0,jr.GW)(()=>this.actions$.pipe((0,jr.l4)($r.Yg.loadProperties),(0,ml.w)(()=>(0,$.D)(this.propertiesService.getProperties()).pipe((0,li.U)(e=>$r.Yg.loadPropertiesSuccess({properties:e})),(0,gr.K)(e=>(0,hl.of)($r.Yg.loadPropertiesError({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(jr.eX),o.LFG(xl))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),(()=>{class e{constructor(e,t){this.actions$=e,this.profileService=t,this.loadIsCoordinator$=(0,jr.GW)(()=>this.actions$.pipe((0,jr.l4)($r.Eq.loadIsCoordinator),(0,ml.w)(e=>(0,$.D)(this.profileService.isCoordinator(e.employeeId)).pipe((0,li.U)(e=>$r.Eq.loadIsCoordinatorSuccess(e)),(0,gr.K)(e=>(0,hl.of)($r.Eq.loadIsCoordinatorError({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(jr.eX),o.LFG(Q.H))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),(()=>{class e{constructor(e,t){this.actions$=e,this.companySettingsService=t,this.getCompanySettings$=(0,jr.GW)(()=>this.actions$.pipe((0,jr.l4)($r.kr.getCompanySettings),(0,ml.w)(()=>(0,$.D)(this.companySettingsService.getCompanySettings()).pipe((0,li.U)(e=>$r.kr.getCompanySettingsSuccess({companySettings:e})),(0,gr.K)(e=>(0,hl.of)($r.kr.getCompanySettingsError({error:e})))))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(jr.eX),o.LFG(di))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})()],Zl=[ye.n3,ye.eL,ye.pG,ye.ek,ye.P7,ye.ab,ye.S2,ye.CV,ye.ZM,ye.Ub,ye.TM,ye.V9,ye.QM,ye.ZR,ye.nF,ye.m9];let wl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[...Zl],imports:[[s.ez,Br.Aw.forRoot(ul),jr.sQ.forRoot(yl)]]}),e})(),Cl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,pr.q,h.aw,f.JBz,zo.To,yr.Y,d.u5]]}),e})(),Ml=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,d.u5,pr.q,h.aw,f.JBz]]}),e})(),Al=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.ez,d.u5,pr.q,h.aw,f.JBz,Ml]]}),e})(),Pl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[ra,ca.x],imports:[[s.ez,pr.q,h.aw,f.JBz,zo.To,yr.Y,d.u5,ti.Pu]]}),e})();var Ol=i(42779),ql=i(24999),Tl=i(62393),_l=i(71904),Sl=i(70636),Il=i(20307);let Dl=(()=>{class e{constructor(e){this.el=e,this.isCollapsed=!0,this.cssClassExpanded="read-more-expanded",this.cssClassCollapsed="read-more-collapsed"}ngAfterViewInit(){this.originalText=this.elementChange.innerHTML,this.showReadMore=this.originalText.length>this.maxLength,this.showReadMore?this.toggle():this.el.nativeElement.style="display: none"}ngOnChanges(){this.originalText&&this.updateText()}click(e){this.showReadMore&&(e.preventDefault(),this.toggle())}toggle(){this.isCollapsed=!this.isCollapsed,this.updateText(),this.isCollapsed?this.el.nativeElement.classList.add(this.cssClassExpanded):this.el.nativeElement.classList.remove(this.cssClassExpanded)}updateText(){this.isCollapsed?(this.currentText=this.originalText,this.elementChange.innerHTML=this.currentText,this.elementChange.classList.remove(this.cssClassCollapsed),this.elementChange.classList.add(this.cssClassExpanded)):(this.currentText=this.originalText.substring(0,this.maxLength),this.elementChange.innerHTML=this.currentText,this.elementChange.classList.add(this.cssClassCollapsed),this.elementChange.classList.remove(this.cssClassExpanded))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq))},e.\u0275dir=o.lG2({type:e,selectors:[["","appReadMore",""]],hostBindings:function(e,t){1&e&&o.NdJ("click",function(e){return t.click(e)})},inputs:{maxLength:["appReadMore-length","maxLength"],elementChange:["appReadMore-element","elementChange"]},features:[o.TTD]}),e})(),kl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[Ce.P,{provide:n.ok,useClass:_l.f},Tl.c],imports:[[s.ez,pr.q,h.aw,f.JBz,zo.To,A.Bz,d.u5,d.UX]]}),e})();o.B6R(Oa.n,[s.mk,T.q,s.O5,Il.x,s.sg,_.A,f.bOz,f.TD5,f.hmF,zo.pp,zo.ib,zo.yz,Dl,Pa.w,Sl.W],[h.X$,s.i8,Xe.$]),(0,s.qS)(p(),"pt"),(0,s.qS)(l(),"es");const Ll=window.location.href;function Nl(e){return new m.w(e,"./assets/i18n/",".json")}function El(e){return new ee.g(e).getCurrentLang()}function Ul(e){return e.createCompiler()}let Fl=(()=>{class e{constructor(e,t,i){this.translateService=e,this.languageService=t,this.messageReceiverService=i,this.messageReceiverService.init(),this.translateService.setDefaultLang("pt");const n=this.languageService.getLanguageI18n(this.translateService.getBrowserLang());this.setLanguage(n),this.loadProtheusConfiguration(),this.configLocalForage()}setLanguage(e){const t=this.languageService.getLanguageI18n(e);localStorage.setItem("usedLanguage",t),this.translateService.use(t)}ngOnInit(){const e=window.document.getElementsByTagName("base");e.length>0&&e[0].setAttribute("href",xe.ZP.getRootContext(Ll))}loadProtheusConfiguration(){if(window.location.href.indexOf("token=")>=0){const e=window.location.href,t=/http(s)*\:\/\/(.*):?(\d*)\/(.*)\/(.*)\?token=(.*)&restPort=(\d*)/;let i=e.replace(t,"http$1://$2:$7/rest$4");const n=i.split(":");4===n.length&&(i=`${n[0]}:${n[1]}:${n[3]}`),localStorage.setItem("baseUrl",i),localStorage.setItem("rootContext",e.replace(t,"/$4/$5")),window.location.href=`${e.replace(t,"http$1://$2/$4/$5")}#/home`}}configLocalForage(){v.config({driver:[v.INDEXEDDB,v.WEBSQL,v.LOCALSTORAGE],name:"portalmeurh",storeName:"_portalmeurhstore"})}refreshToken(e){(0,x.F)(5e3).pipe((0,y.o)(()=>!0)).subscribe(()=>{console.log("refreshToken => "+(new Date).toTimeString());let t=localStorage.getItem("token");const i=atob(t.split(".")[1]),n=localStorage.getItem("baseUrl");e.post(n+"/fwjwt/refresh_token",{refresh_token:JSON.parse(i).refresh_token},{withCredentials:!1}).toPromise().then(e=>{e.data&&(t=e.data.new_token,localStorage.setItem("token",t))}).catch(e=>{console.error("This error: "+e)})})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(h.sK),o.LFG(lr),o.LFG(Z.r))},e.\u0275mod=o.oAB({type:e,bootstrap:[rr]}),e.\u0275inj=o.cJS({providers:[{provide:o.QSY,useValue:{},multi:!0},{provide:o.Hhp,useClass:g.PV,deps:[o.QSY]},{provide:o.Sil,useFactory:Ul,deps:[o.Hhp]},{provide:a.TP,useClass:ur,multi:!0},{provide:a.TP,useClass:Gr,multi:!0},{provide:a.TP,useClass:hr,multi:!0},Ae.M,ee.g,oi,P.P,n.Dx,a.eN,O.Kv,br.$,{provide:o.soG,deps:[h.sK],useFactory:El},{provide:a.TP,useClass:vr,multi:!0},fe.O],imports:[[wl,n.t6,Cr,kl,Vr,Ol.t,Cl,n.b2,xr,d.u5,fr,u.PW,Ta,a.JF,f.JBz,Tr.G,qr,Al,Ar,Yr,Hr,pr.q,M.AbsenceModule,wr,Zr,cr,s.ez,zr,Mr,b.Rh.forRoot(),b.L4,Rr,_r.PaymentsSummaryModule,Pl,Nr,ql.$,h.aw.forRoot({loader:{provide:h.Zw,useFactory:Nl,deps:[a.eN]}}),C]]}),e})();F.N.production&&(0,o.G48)(),n.q6().bootstrapModule(Fl)},46700:function(e,t,i){var n={"./af":26431,"./af.js":26431,"./ar":81286,"./ar-dz":1616,"./ar-dz.js":1616,"./ar-kw":9759,"./ar-kw.js":9759,"./ar-ly":43160,"./ar-ly.js":43160,"./ar-ma":62551,"./ar-ma.js":62551,"./ar-sa":79989,"./ar-sa.js":79989,"./ar-tn":6962,"./ar-tn.js":6962,"./ar.js":81286,"./az":15887,"./az.js":15887,"./be":14572,"./be.js":14572,"./bg":3276,"./bg.js":3276,"./bm":93344,"./bm.js":93344,"./bn":58985,"./bn-bd":83990,"./bn-bd.js":83990,"./bn.js":58985,"./bo":94391,"./bo.js":94391,"./br":46728,"./br.js":46728,"./bs":5536,"./bs.js":5536,"./ca":41043,"./ca.js":41043,"./cs":70420,"./cs.js":70420,"./cv":33513,"./cv.js":33513,"./cy":6771,"./cy.js":6771,"./da":47978,"./da.js":47978,"./de":46061,"./de-at":25204,"./de-at.js":25204,"./de-ch":2653,"./de-ch.js":2653,"./de.js":46061,"./dv":85,"./dv.js":85,"./el":8579,"./el.js":8579,"./en-au":25724,"./en-au.js":25724,"./en-ca":10525,"./en-ca.js":10525,"./en-gb":52847,"./en-gb.js":52847,"./en-ie":67216,"./en-ie.js":67216,"./en-il":39305,"./en-il.js":39305,"./en-in":73364,"./en-in.js":73364,"./en-nz":79130,"./en-nz.js":79130,"./en-sg":11161,"./en-sg.js":11161,"./eo":50802,"./eo.js":50802,"./es":40328,"./es-do":45551,"./es-do.js":45551,"./es-mx":75615,"./es-mx.js":75615,"./es-us":64790,"./es-us.js":64790,"./es.js":40328,"./et":96389,"./et.js":96389,"./eu":52961,"./eu.js":52961,"./fa":26151,"./fa.js":26151,"./fi":7997,"./fi.js":7997,"./fil":58898,"./fil.js":58898,"./fo":37779,"./fo.js":37779,"./fr":28174,"./fr-ca":3287,"./fr-ca.js":3287,"./fr-ch":38867,"./fr-ch.js":38867,"./fr.js":28174,"./fy":50452,"./fy.js":50452,"./ga":45014,"./ga.js":45014,"./gd":74127,"./gd.js":74127,"./gl":72124,"./gl.js":72124,"./gom-deva":6444,"./gom-deva.js":6444,"./gom-latn":37953,"./gom-latn.js":37953,"./gu":76604,"./gu.js":76604,"./he":1222,"./he.js":1222,"./hi":74235,"./hi.js":74235,"./hr":622,"./hr.js":622,"./hu":37735,"./hu.js":37735,"./hy-am":90402,"./hy-am.js":90402,"./id":59187,"./id.js":59187,"./is":30536,"./is.js":30536,"./it":35007,"./it-ch":94667,"./it-ch.js":94667,"./it.js":35007,"./ja":62093,"./ja.js":62093,"./jv":80059,"./jv.js":80059,"./ka":66870,"./ka.js":66870,"./kk":80880,"./kk.js":80880,"./km":1083,"./km.js":1083,"./kn":68785,"./kn.js":68785,"./ko":21721,"./ko.js":21721,"./ku":37851,"./ku.js":37851,"./ky":1727,"./ky.js":1727,"./lb":40346,"./lb.js":40346,"./lo":93002,"./lo.js":93002,"./lt":64035,"./lt.js":64035,"./lv":56927,"./lv.js":56927,"./me":5634,"./me.js":5634,"./mi":94173,"./mi.js":94173,"./mk":86320,"./mk.js":86320,"./ml":11705,"./ml.js":11705,"./mn":31062,"./mn.js":31062,"./mr":92805,"./mr.js":92805,"./ms":11341,"./ms-my":59900,"./ms-my.js":59900,"./ms.js":11341,"./mt":37734,"./mt.js":37734,"./my":19034,"./my.js":19034,"./nb":9324,"./nb.js":9324,"./ne":46495,"./ne.js":46495,"./nl":70673,"./nl-be":76272,"./nl-be.js":76272,"./nl.js":70673,"./nn":72486,"./nn.js":72486,"./oc-lnc":46219,"./oc-lnc.js":46219,"./pa-in":2829,"./pa-in.js":2829,"./pl":78444,"./pl.js":78444,"./pt":53170,"./pt-br":66117,"./pt-br.js":66117,"./pt.js":53170,"./ro":96587,"./ro.js":96587,"./ru":39264,"./ru.js":39264,"./sd":42135,"./sd.js":42135,"./se":95366,"./se.js":95366,"./si":93379,"./si.js":93379,"./sk":46143,"./sk.js":46143,"./sl":196,"./sl.js":196,"./sq":21082,"./sq.js":21082,"./sr":91621,"./sr-cyrl":98963,"./sr-cyrl.js":98963,"./sr.js":91621,"./ss":41404,"./ss.js":41404,"./sv":55685,"./sv.js":55685,"./sw":3872,"./sw.js":3872,"./ta":54106,"./ta.js":54106,"./te":39204,"./te.js":39204,"./tet":83692,"./tet.js":83692,"./tg":86361,"./tg.js":86361,"./th":31735,"./th.js":31735,"./tk":1568,"./tk.js":1568,"./tl-ph":96129,"./tl-ph.js":96129,"./tlh":13759,"./tlh.js":13759,"./tr":81644,"./tr.js":81644,"./tzl":90875,"./tzl.js":90875,"./tzm":16878,"./tzm-latn":11041,"./tzm-latn.js":11041,"./tzm.js":16878,"./ug-cn":74357,"./ug-cn.js":74357,"./uk":74810,"./uk.js":74810,"./ur":86794,"./ur.js":86794,"./uz":28966,"./uz-latn":77959,"./uz-latn.js":77959,"./uz.js":28966,"./vi":35386,"./vi.js":35386,"./x-pseudo":23156,"./x-pseudo.js":23156,"./yo":68028,"./yo.js":68028,"./zh-cn":9330,"./zh-cn.js":9330,"./zh-hk":89380,"./zh-hk.js":89380,"./zh-mo":60874,"./zh-mo.js":60874,"./zh-tw":96508,"./zh-tw.js":96508};function o(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=46700}},function(e){e.O(0,[736],function(){return e(e.s=48079)}),e.O()}]);