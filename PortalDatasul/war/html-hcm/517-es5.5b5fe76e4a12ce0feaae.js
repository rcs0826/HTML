!function(){"use strict";function e(){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=n(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?e:i):a.value}}).apply(this,arguments)}function n(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=r(e)););return e}function t(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&i(e,n)}function i(e,n){return(i=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function o(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=r(e);if(n){var o=r(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return a(this,t)}}function a(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkportal_meu_rh=self.webpackChunkportal_meu_rh||[]).push([[517],{2517:function(n,i,a){a.r(i),a.d(i,{ClockingsModule:function(){return jn}});var s,g=a(38583),p=a(56365),u=a(90889),d=a(29790),f=a(92340),h=a(59708),m=a(37716),v=((s=function(){function e(n){c(this,e),this.serviceGeneric=n}return l(e,[{key:"getOccurrenceTotalSummaryPeriod",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,t="timesheet/occurrencesTotalSummaryPeriod/".concat(e);if(n&&n.initDate&&n.endDate){var i=[];return i.initPeriod=n.initDate,i.endPeriod=n.endDate,this.serviceGeneric.search(t,i)}return this.serviceGeneric.search(t)}}]),e}()).\u0275fac=function(e){return new(e||s)(m.LFG(h.M))},s.\u0275prov=m.Yz7({token:s,factory:s.\u0275fac}),s),k=function(){var e=l(function e(){c(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[v],imports:[[g.ez,p.q,d.aw]]}),e}(),x=a(97899),y=a(3679),b=a(44956),w="timesheet/clocking",C=function(){var e=function(){function e(n){c(this,e),this.genericService=n}return l(e,[{key:"putClockingsUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.N.loggedUser,n=arguments.length>1?arguments[1]:void 0;return this.genericService.put("".concat(w,"s/").concat(e),n,!1)}},{key:"updateClocking",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.N.loggedUser,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return this.genericService.put("".concat(w,"/").concat(e,"/").concat(n),t)}},{key:"deleteClocking",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.N.loggedUser,n=arguments.length>1?arguments[1]:void 0;return this.genericService.delete("".concat(w,"/").concat(e,"/").concat(n))}},{key:"saveClockings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.N.loggedUser,n=arguments.length>1?arguments[1]:void 0;return this.genericService.post("".concat(w,"s/").concat(e),n,!1)}}]),e}();return e.\u0275fac=function(n){return new(n||e)(m.LFG(h.M))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Z=a(90171),A=function(){var e=l(function e(){c(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[C],imports:[[g.ez,d.aw,p.q,y.u5,b.JBz,Z.To]]}),e}(),q=function(){var e=l(function e(){c(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[],imports:[[g.ez,d.aw,y.u5,p.q,b.JBz]]}),e}(),T=a(95987),D=a(51110),M=a(64762),_=a(81059),O=a(16851),P=a(11530),I=a(65241),S=a(84479),U=a(36812),E=a(32268),J=a(18648),V=["map"];function N(e,n){if(1&e&&(m.TgZ(0,"div",16),m.TgZ(1,"strong"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var t=m.oxw(2);m.xp6(2),m.Oqu(m.lcZ(3,2,"l-address")),m.xp6(3),m.Oqu(t.selectedAddress)}}function L(e,n){if(1&e&&(m.TgZ(0,"div",4),m.TgZ(1,"div",5),m.TgZ(2,"span",6),m.TgZ(3,"span",13),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m._UZ(6,"img",14),m.YNc(7,N,6,4,"div",15),m.qZA(),m.qZA()),2&e){var t=m.oxw();m.xp6(4),m.Oqu(m.lcZ(5,2,"l-location-details")),m.xp6(3),m.Q6J("ngIf",t.selectedAddress)}}function Q(e,n){if(1&e&&(m.TgZ(0,"strong",17),m._uU(1),m.ALo(2,"utcDate"),m.qZA()),2&e){var t=m.oxw();m.xp6(1),m.Oqu(m.xi3(2,1,null==t.selectedClocking?null:t.selectedClocking.referenceDate,"dd/MM/yyyy"))}}function j(e,n){if(1&e&&(m.TgZ(0,"span",18),m._uU(1),m.ALo(2,"utcDate"),m.qZA()),2&e){var t=m.oxw();m.xp6(1),m.Oqu(m.xi3(2,1,null==t.selectedClocking?null:t.selectedClocking.referenceDate,"EEEE"))}}function R(e,n){1&e&&(m.TgZ(0,"span",13),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"l-clocking-details")))}function Y(e,n){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"strong"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var t=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,2,"l-address")),m.xp6(3),m.Oqu(t.selectedAddress)}}function F(e,n){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"strong"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var t=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,2,"l-reason-for-rejection")),m.xp6(3),m.Oqu(t.selectedClocking.reasonReproved)}}function z(e,n){if(1&e&&(m.TgZ(0,"div",11),m.TgZ(1,"strong"),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.qZA(),m.qZA()),2&e){var t=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,2,"l-justify-clocking-detail")),m.xp6(3),m.Oqu(null==t.selectedClocking?null:t.selectedClocking.justify)}}var H=function(){var n=function(n){t(a,n);var i=o(a);function a(e,n,t,o){var r;return c(this,a),(r=i.call(this)).openStreetMapService=e,r.appTranslateService=n,r.changeDetectRef=t,r.windowUtilService=o,r.showMap=!1,r.selectedAddress="",r.selectedStatus="",r.selectedDirection="",r.selectedClocking={date:new Date,reason:{id:"",description:""},status:{id:"",status:"approved"},referenceDate:new Date},r.clockings=new Array,r.close=new m.vpe,r}return l(a,[{key:"ngOnInit",value:function(){e(r(a.prototype),"ngOnInit",this).call(this),this.windowUtilService.isMobileDevice()&&(this.viewIsMobile=!0)}},{key:"reloadMap",value:function(){var e=this;this.switchMap(!0);var n=this.viewIsMobile?-0:-.0025;this.selectedClocking.hasCoordinates&&this.selectedClocking.latitude&&this.selectedClocking.longitude?this.openStreetMapService.simpleReverseGeocoding(+this.selectedClocking.longitude,+this.selectedClocking.latitude).then(function(t){e.selectedAddress=t,e.map&&(e.map.resetMap(),e.map.loadMap(e.selectedClocking.latitude,e.selectedClocking.longitude,!1,n)),e.changeDetectRef.detectChanges()}).catch(function(n){console.error("[openStreetMapService]",n),e.switchMap(!1)}):(this.selectedAddress="",this.switchMap(!1))}},{key:"loadComponents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.clockings;return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.clockings=e,this.clockings&&this.clockings.length>0&&(this.selectedClocking=this.clockings[0],this.getStatusLabel(),this.getDirection(),this.reloadMap(),this.changeDetectRef.detectChanges());case 1:case"end":return n.stop()}},n,this)}))}},{key:"getStatusLabel",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.selectedClocking.status).label){e.next=5;break}e.t0=n.label,e.next=22;break;case 5:if("approved"!==n.status){e.next=11;break}return e.next=8,this.translateLabel("l-approved");case 8:e.t1=e.sent,e.next=21;break;case 11:if("approving"!==n.status){e.next=17;break}return e.next=14,this.translateLabel("l-approving");case 14:e.t2=e.sent,e.next=20;break;case 17:return e.next=19,this.translateLabel("l-reproved");case 19:e.t2=e.sent;case 20:e.t1=e.t2;case 21:e.t0=e.t1;case 22:this.selectedStatus=e.t0;case 23:case"end":return e.stop()}},e,this)}))}},{key:"getDirection",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.selectedClocking.direction,!e.t0){e.next=12;break}if("entry"!==this.selectedClocking.direction){e.next=8;break}return e.next=5,this.translateLabel("l-entry");case 5:e.t1=e.sent,e.next=11;break;case 8:return e.next=10,this.translateLabel("l-exit");case 10:e.t1=e.sent;case 11:this.selectedDirection=e.t1;case 12:case"end":return e.stop()}},e,this)}))}},{key:"translateOrigin",value:function(e){switch(e){case"clock":return"l-clockings-clock";case"manual":return"l-clockings-manual";case"automatic":return"l-clockings-automatic";case"empty":return"l-clockings-empty";case"geolocation":return"l-clockings-geolocation"}return"l-clockings-empty"}},{key:"back",value:function(){this.close.emit()}},{key:"translateLabel",value:function(e){return this.appTranslateService.getI18n(e)}},{key:"switchMap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showMap=e,this.changeDetectRef.detectChanges()}}]),a}(_.R);return n.\u0275fac=function(e){return new(e||n)(m.Y36(P.H),m.Y36(I.g),m.Y36(m.sBO),m.Y36(S.g))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-clockings-details"]],viewQuery:function(e,n){var t;(1&e&&m.Gf(V,7),2&e)&&(m.iGM(t=m.CRH())&&(n.map=t.first))},inputs:{clockings:"clockings"},outputs:{close:"close"},features:[m.qOj],decls:49,vars:40,consts:[[3,"backIsVisible","pageTitle","backFunction"],[1,"map",3,"hidden"],["map",""],["class","po-row",4,"ngIf"],[1,"po-row"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel","panel-default-box-shadow"],[1,"featured","po-sm-12","po-md-12","po-lg-12","po-xl-12","panel-item-group"],["class","day",4,"ngIf"],["class","week-day",4,"ngIf"],["class","card-title",4,"ngIf"],["class","po-sm-12 po-md-6 po-lg-4 po-xl-4 detail",4,"ngIf"],[1,"po-sm-12","po-md-6","po-lg-4","po-xl-4","detail"],[1,"badge",3,"ngClass"],[1,"card-title"],["src","./assets/img/pin-gray.svg",1,"icon-location"],["class","po-sm-10 po-md-10 po-lg-10 po-xl-10 detail",4,"ngIf"],[1,"po-sm-10","po-md-10","po-lg-10","po-xl-10","detail"],[1,"day"],[1,"week-day"]],template:function(e,n){1&e&&(m.TgZ(0,"app-page-header",0),m.NdJ("backFunction",function(){return n.back()}),m.ALo(1,"translate"),m.qZA(),m.TgZ(2,"div",1),m._UZ(3,"app-opens-street-map",null,2),m.qZA(),m.YNc(5,L,8,4,"div",3),m.TgZ(6,"div",4),m.TgZ(7,"div",5),m.TgZ(8,"span",6),m.YNc(9,Q,3,4,"strong",7),m.YNc(10,j,3,4,"span",8),m.YNc(11,R,3,3,"span",9),m.qZA(),m.YNc(12,Y,6,4,"div",10),m.TgZ(13,"div",11),m.TgZ(14,"strong"),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"span"),m._uU(18),m.ALo(19,"utcDate"),m.qZA(),m.qZA(),m.TgZ(20,"div",11),m.TgZ(21,"strong"),m._uU(22),m.ALo(23,"translate"),m.qZA(),m.TgZ(24,"span"),m._uU(25),m.ALo(26,"formatMillisecondsAsHour"),m.qZA(),m.qZA(),m.TgZ(27,"div",11),m.TgZ(28,"strong"),m._uU(29),m.ALo(30,"translate"),m.qZA(),m.TgZ(31,"span"),m._uU(32),m.qZA(),m.qZA(),m.TgZ(33,"div",11),m.TgZ(34,"strong"),m._uU(35),m.ALo(36,"translate"),m.qZA(),m.TgZ(37,"span"),m._uU(38),m.ALo(39,"translate"),m.qZA(),m.qZA(),m.YNc(40,F,6,4,"div",10),m.TgZ(41,"div",11),m.TgZ(42,"strong"),m._uU(43),m.ALo(44,"translate"),m.qZA(),m.TgZ(45,"div"),m.TgZ(46,"span",12),m._uU(47),m.qZA(),m.qZA(),m.qZA(),m.YNc(48,z,6,4,"div",10),m.qZA(),m.qZA()),2&e&&(m.s9C("pageTitle",m.lcZ(1,21,"l-clocking-details")),m.Q6J("backIsVisible",!0),m.xp6(2),m.Q6J("hidden",!n.showMap),m.xp6(3),m.Q6J("ngIf",n.viewIsMobile&&n.showMap),m.xp6(4),m.Q6J("ngIf",!n.viewIsMobile),m.xp6(1),m.Q6J("ngIf",!n.viewIsMobile),m.xp6(1),m.Q6J("ngIf",n.viewIsMobile),m.xp6(1),m.Q6J("ngIf",n.selectedAddress&&!n.viewIsMobile),m.xp6(3),m.Oqu(m.lcZ(16,23,"l-date")),m.xp6(3),m.Oqu(m.xi3(19,25,null==n.selectedClocking?null:n.selectedClocking.referenceDate,"dd/MM/yyyy")),m.xp6(4),m.Oqu(m.lcZ(23,28,"l-hour")),m.xp6(3),m.Oqu(m.lcZ(26,30,null==n.selectedClocking?null:n.selectedClocking.hour)),m.xp6(4),m.Oqu(m.lcZ(30,32,"l-direction-details")),m.xp6(3),m.Oqu(n.selectedDirection),m.xp6(3),m.Oqu(m.lcZ(36,34,"l-source")),m.xp6(3),m.Oqu(m.lcZ(39,36,n.translateOrigin(null==n.selectedClocking?null:n.selectedClocking.origin))),m.xp6(2),m.Q6J("ngIf",null==n.selectedClocking?null:n.selectedClocking.reasonReproved),m.xp6(3),m.Oqu(m.lcZ(44,38,"l-status")),m.xp6(3),m.Q6J("ngClass",null==n.selectedClocking?null:n.selectedClocking.status.status),m.xp6(1),m.Oqu(n.selectedStatus),m.xp6(1),m.Q6J("ngIf",null==n.selectedClocking?null:n.selectedClocking.justify))},directives:[U.q,O.Y,g.O5,g.mk],pipes:[d.X$,E.$,J.P],styles:[".map[_ngcontent-%COMP%]{height:200px;overflow:hidden;margin-bottom:20px;width:100%}.map[_ngcontent-%COMP%]{height:200px}.day[_ngcontent-%COMP%]{color:#28303e;float:left;margin-right:10px;font-size:20px}.week-day[_ngcontent-%COMP%]{color:#9da7a9;margin-bottom:0;margin-top:0;font-size:20px}.detail[_ngcontent-%COMP%]{display:grid;padding-bottom:20px}.featured[_ngcontent-%COMP%]{padding-top:10px}.map-content[_ngcontent-%COMP%]{height:200px;margin:0 -15px 40px}.card-title[_ngcontent-%COMP%]{font-size:25px}.icon-location[_ngcontent-%COMP%]{float:left;width:27px;padding-left:8px}.badge[_ngcontent-%COMP%]{display:inline-block;height:20px;min-width:20px;overflow-y:hidden;padding:2px 8px;border-radius:3px;color:#fff;font-size:10px;line-height:16px;text-align:left;text-transform:uppercase;vertical-align:middle}.badge.approved[_ngcontent-%COMP%]{background:#00b28e}.badge.reproved[_ngcontent-%COMP%]{background:#c64840}.badge.approving[_ngcontent-%COMP%]{background:#e8850a}"]}),n}(),B=a(9112),$=a(19155),G=((G||(G={})).StatusEnum={Approved:"approved",Approving:"approving",Reproved:"reproved"},G),W=a(81483),X=a(94405),K=a(18494),ee=a(88044),ne=a(14833),te=a(30343),ie=a(97983),oe=a(98348),ae=a(36227),re=a(68014),ce=a(9789),se=a(57706);function le(e,n){if(1&e&&(m.TgZ(0,"tr",11),m.TgZ(1,"td",12),m.TgZ(2,"span",13),m._uU(3),m.qZA(),m.qZA(),m.TgZ(4,"td",14),m.TgZ(5,"span",15),m._uU(6),m.qZA(),m.qZA(),m.qZA()),2&e){var t=n.$implicit;m.xp6(3),m.Oqu(t.description),m.xp6(3),m.Oqu(t.value)}}function ge(e,n){if(1&e&&(m.TgZ(0,"tbody"),m.YNc(1,le,7,2,"tr",10),m.qZA()),2&e){var t=m.oxw(2);m.xp6(1),m.Q6J("ngForOf",null==t.occurrencesTotalSummaryPeriod?null:t.occurrencesTotalSummaryPeriod.occurrencesTotalSummary)}}function pe(e,n){1&e&&(m.TgZ(0,"tbody"),m.TgZ(1,"tr"),m.TgZ(2,"td",16),m.TgZ(3,"strong",17),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(4),m.hij(" ",m.lcZ(5,1,"l-emptyOccurrencesTotalSummaryPeriods"),""))}function ue(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"app-dialog",1),m.NdJ("closeDialogEvent",function(){return m.CHM(t),m.oxw().closeDialog()}),m.TgZ(1,"div",2),m.TgZ(2,"app-page-header",3),m.NdJ("backFunction",function(){return m.CHM(t),m.oxw().closeDialog()}),m.TgZ(3,"span",4),m.TgZ(4,"strong"),m.TgZ(5,"span",5),m._uU(6),m.ALo(7,"utcDate"),m.qZA(),m._uU(8," - "),m.TgZ(9,"span",6),m._uU(10),m.ALo(11,"utcDate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"div",7),m.TgZ(13,"table",8),m.YNc(14,ge,2,1,"tbody",9),m.YNc(15,pe,6,3,"tbody",9),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.Q6J("isVisible",i.dialogIsVisible)("closeDialogButtonEnable",!i.viewIsMobile),m.xp6(6),m.Oqu(m.xi3(7,6,null==i.occurrencesTotalSummaryPeriod?null:i.occurrencesTotalSummaryPeriod.initPeriod,"dd/MM/yyyy")),m.xp6(4),m.Oqu(m.xi3(11,9,null==i.occurrencesTotalSummaryPeriod?null:i.occurrencesTotalSummaryPeriod.endPeriod,"dd/MM/yyyy")),m.xp6(4),m.Q6J("ngIf",i.hasOccurrencesTotalSummaryPeriods()),m.xp6(1),m.Q6J("ngIf",!i.hasOccurrencesTotalSummaryPeriods())}}var de=function(){var n=function(n){t(a,n);var i=o(a);function a(e,n){var t;return c(this,a),(t=i.call(this)).occurrenceTotalSummaryPeriodService=e,t.windowUtilService=n,t.closeDialogEvent=new m.vpe,t.initialized=!1,t.viewIsMobile=!1,t}return l(a,[{key:"ngOnInit",value:function(){e(r(a.prototype),"ngOnInit",this).call(this),this.isWebView(),this.getOccurrencesTotalSummary(this.initPeriod,this.endPeriod)}},{key:"isWebView",value:function(){this.viewIsMobile=this.windowUtilService.isWebView()}},{key:"getOccurrencesTotalSummary",value:function(e,n){var t;e&&n&&(t={initDate:new Date(e),endDate:new Date(n),actualPeriod:void 0}),this.loadOccurrencesTotalSummaryPeriod(t)}},{key:"loadOccurrencesTotalSummaryPeriod",value:function(e){var n=this;this.occurrenceTotalSummaryPeriodService.getOccurrenceTotalSummaryPeriod(this.employeeId,e).then(function(e){n.occurrencesTotalSummaryPeriod=e,n.initialized=!0})}},{key:"closeDialog",value:function(){this.closeDialogEvent.emit()}},{key:"hasOccurrencesTotalSummaryPeriods",value:function(){return this.occurrencesTotalSummaryPeriod&&this.occurrencesTotalSummaryPeriod.occurrencesTotalSummary&&this.occurrencesTotalSummaryPeriod.occurrencesTotalSummary.length>0}}]),a}(_.R);return n.\u0275fac=function(e){return new(e||n)(m.Y36(v),m.Y36(S.g))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-occurrence-total-summary-period"]],inputs:{initPeriod:"initPeriod",endPeriod:"endPeriod",employeeId:"employeeId",dialogIsVisible:"dialogIsVisible"},outputs:{closeDialogEvent:"closeDialogEvent"},features:[m.qOj],decls:1,vars:1,consts:[["id","occurrence-total-summary-dialog",3,"isVisible","closeDialogButtonEnable","closeDialogEvent",4,"ngIf"],["id","occurrence-total-summary-dialog",3,"isVisible","closeDialogButtonEnable","closeDialogEvent"],["dialog-content",""],["isDialog","true","pageTitle","im-summary-period",3,"backFunction"],["sub-title",""],["id","initPeriod"],["id","endPeriod"],[1,"summary-period-occurrences","header-divider"],["id","summary-period-occurrences-table",1,"table","striped"],[4,"ngIf"],["class","line",4,"ngFor","ngForOf"],[1,"line"],[1,"occurrences-label"],["name","occurrencesTotalSummaryDescription"],[1,"occurrencesTotalSummaryValue","text-right"],["name","occurrencesTotalSummaryValue"],["colspan","2"],["id","empty"]],template:function(e,n){1&e&&m.YNc(0,ue,16,12,"app-dialog",0),2&e&&m.Q6J("ngIf",n.initialized)},directives:[g.O5,se.a,U.q,g.sg],pipes:[E.$,d.X$],styles:['.occurrences-label[_ngcontent-%COMP%]{vertical-align:middle;padding:16px 0 16px 8px}.occurrencesTotalSummaryValue[_ngcontent-%COMP%]{vertical-align:middle;font-family:"NunitoSans-Bold"}.line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.summary-period-occurrences[_ngcontent-%COMP%]{padding:8px;overflow:auto;max-height:100%;height:calc(100% - 32px)}div[dialog-content][_ngcontent-%COMP%]{height:calc(100% - 75px)}.subtitle[_ngcontent-%COMP%]{margin-left:8px!important;padding-left:0!important}']}),n}(),fe=function(){function e(n,t){c(this,e),this.clockings=new Array,t?this.createClockingsForPeriod(n.initPeriod,n.endPeriod):this.createClockings(n,n.initPeriod,n.endPeriod),this.breaksByReferenceDate(n)}return l(e,[{key:"createClockings",value:function(e,n,t){for(var i,o=this,a=W.Em.getDateWithoutTimezone(new Date(n)),r=W.Em.getDateWithoutTimezone(new Date(t));r.getTime()>=a.getTime();)e.clockings.forEach(function(e){var n=W.Em.getDateWithoutTimezone(new Date(e.date));if(r.getTime()===n.getTime()&&e.date!==i){i=e.date;var t=new Date(r);o.clockings.push(new he(t))}}),r.setUTCDate(r.getUTCDate()-1)}},{key:"breaksByReferenceDate",value:function(e){var n=this;e.clockings.forEach(function(e){if(e.origin!==$.v.OriginEnum.Empty){var t=new Date(e.referenceDate);n.clockings.find(function(e){return W.Em.isEqual(e.date,t)}).checkClockingDirection(e)}else{var i=new Date(e.date);n.clockings.find(function(e){return W.Em.isEqual(e.date,i)}).checkClockingDirection(e)}})}},{key:"createClockingsForPeriod",value:function(e,n){for(var t=W.Em.getDateWithoutTimezone(new Date(e)),i=W.Em.getDateWithoutTimezone(new Date(n));i.getTime()>=t.getTime();){var o=new Date(i);this.clockings.push(new he(o)),i.setUTCDate(i.getUTCDate()-1)}}}]),e}(),he=function(){function e(n){c(this,e),this.date=n,this.entries=[],this.exities=[]}return l(e,[{key:"checkClockingDirection",value:function(e){e.direction===$.v.DirectionEnum.Entry?(this.setSequenceEntries(e),this.entries.push(e)):(this.setSequenceExits(e),this.exities.push(e))}},{key:"setSequenceEntries",value:function(e){e&&!e.sequence&&(e.sequence=this.entries.length+1)}},{key:"setSequenceExits",value:function(e){e&&!e.sequence&&(e.sequence=this.exities.length+1)}}]),e}(),me=a(74570),ve=a(96054),ke=a(37503),xe=a(62393),ye=a(20307),be=a(86249),we=a(74504),Ce=a(97394),Ze=function(){function e(n,t){c(this,e),this._format=!1,this._id=n.id,this._date=n.date,this._origin=n.origin,this._hour=n.hour,this._direction=n.direction,this._referenceDate=n.referenceDate,this._sequence=n.sequence,this._justify=n.justify,this._reason=n.reason,this._status=n.status,this._isEditable=n.isEditable,this._changed=!1,this._newClocking=t||!1}return l(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"isEditable",get:function(){return this._isEditable},set:function(e){this._isEditable=e}},{key:"date",get:function(){return this._date},set:function(e){this._date=e}},{key:"origin",get:function(){return this._origin},set:function(e){this._origin=e}},{key:"hour",get:function(){return this._hour},set:function(e){this.changeVerify(this._hour,e),this._hour=e}},{key:"direction",get:function(){return this._direction},set:function(e){this.changeVerify(this._direction,e),this._direction=e}},{key:"referenceDate",get:function(){return this._referenceDate},set:function(e){this._referenceDate=e}},{key:"sequence",get:function(){return this._sequence},set:function(e){this._sequence=e}},{key:"justify",get:function(){return this._justify},set:function(e){this.changeVerify(this._justify,e),this._justify=e}},{key:"reason",get:function(){return this._reason},set:function(e){this.changeVerify(this._reason,e),this._reason=e}},{key:"status",get:function(){return this._status},set:function(e){this._status=e}},{key:"hourIncomplete",get:function(){return this._hourIncomplete},set:function(e){this._hourIncomplete=e}},{key:"format",get:function(){return this._format},set:function(e){this._format=e}},{key:"newClocking",get:function(){return this._newClocking},set:function(e){this._newClocking=e}},{key:"changed",get:function(){return this._changed},set:function(e){this._changed=e}},{key:"hourAsString",get:function(){return null!=this._hour?W.Em.getHoursByMilliseconds(this._hour,!0):""},set:function(e){W.XB.test(e)&&this._format?(this.hour=W.Em.getTotalMilliseconds("".concat(e[0]).concat(e[1],":").concat(e[2]).concat(e[3])),this._format=!1):(this._hourIncomplete=e,this._hour=void 0)}},{key:"changeVerify",value:function(e,n){this._changed=e!==n}}]),e}(),Ae=["modalConfirmDelete"],qe=["modalChangeDirection"],Te=["justifyClocking"];function De(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"span",37),m.NdJ("click",function(){m.CHM(t);var e=m.oxw(2).index;return m.oxw().changeDirection(e)}),m.qZA()}if(2&e){var i=m.oxw(2).$implicit,o=m.oxw();m.Q6J("ngClass",o.getDirectionIcon(i.direction))}}function Me(e,n){1&e&&m._UZ(0,"span",38)}function _e(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",39),m.NdJ("click",function(){m.CHM(t);var e=m.oxw(2),n=e.index,i=e.$implicit;return m.oxw().openCardJustify(n,!0,i)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-justify-clocking")," "))}function Oe(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",39),m.NdJ("click",function(){m.CHM(t);var e=m.oxw(2).index;return m.oxw().changeDirection(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}if(2&e){var i=m.oxw(2).$implicit,o=m.oxw();m.xp6(1),m.hij(" ",m.lcZ(2,1,o.getLabelDirectionMenu(i.direction))," ")}}function Pe(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",39),m.NdJ("click",function(){m.CHM(t);var e=m.oxw(2).index;return m.oxw().openDeleteModal(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-delete")," "))}function Ie(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"mat-expansion-panel-header",29),m.TgZ(1,"div",30),m.TgZ(2,"span",31),m._uU(3),m.qZA(),m.YNc(4,De,1,1,"span",32),m.qZA(),m._uU(5," \u200b "),m.TgZ(6,"po-input",33),m.NdJ("p-change-model",function(){m.CHM(t);var e=m.oxw(),n=e.index,i=e.$implicit;return m.oxw().openCardJustify(n,!1,i)})("keyup",function(){return m.CHM(t),m.oxw(2).disabledSaveButton()})("p-blur",function(){m.CHM(t);var e=m.oxw().$implicit;return m.oxw().changeHour(e)})("ngModelChange",function(e){return m.CHM(t),m.oxw().$implicit.hourAsString=e}),m.qZA(),m._uU(7," \u200b "),m.YNc(8,Me,1,0,"span",34),m.TgZ(9,"ul",35),m.YNc(10,_e,3,3,"li",36),m.YNc(11,Oe,3,3,"li",36),m.YNc(12,Pe,3,3,"li",36),m.qZA(),m.qZA()}if(2&e){var i=m.oxw().$implicit,o=m.oxw();m.xp6(3),m.Oqu(o.getDirectionLabel(i,!0)),m.xp6(1),m.Q6J("ngIf",o.isVisibleChangeDirection(i)),m.xp6(2),m.Q6J("p-mask",o.mask)("ngModel",i.hourAsString)("p-pattern",o.pattern)("p-disabled",!o.isEditable(i)),m.xp6(2),m.Q6J("ngIf",o.isVisibleMenu(i)),m.xp6(2),m.Q6J("ngIf",o.isVisibleJustifyClocking(i)),m.xp6(1),m.Q6J("ngIf",o.isVisibleChangeDirection(i)),m.xp6(1),m.Q6J("ngIf",o.isEditable(i))}}function Se(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"mat-expansion-panel",23),m._uU(1," \u200b "),m.YNc(2,Ie,13,10,"mat-expansion-panel-header",24),m._uU(3," \u200b "),m._UZ(4,"div",25),m.TgZ(5,"div",26),m.TgZ(6,"span",27),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"po-input",28),m.NdJ("ngModelChange",function(e){return m.CHM(t).$implicit.justify=e})("p-blur",function(){var e=m.CHM(t).$implicit;return m.oxw().justificationChanged(e.justify)}),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=n.$implicit,o=n.index,a=m.oxw();m.Q6J("expanded",a.indexCardJustification===o)("disabled",!0)("ngClass",a.getAccordionClasses(o)),m.xp6(2),m.Q6J("ngIf",!a.registerPermission&&i.hourAsString||a.registerPermission),m.xp6(5),m.Oqu(m.lcZ(8,6,"l-justification")),m.xp6(2),m.Q6J("ngModel",i.justify)}}function Ue(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"po-button",40),m.NdJ("p-click",function(){return m.CHM(t),m.oxw().addOtherClocking()}),m.ALo(1,"translate"),m.qZA()}2&e&&m.s9C("p-label",m.lcZ(1,1,"l-add-other-clockings"))}function Ee(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"po-switch",41),m.NdJ("ngModelChange",function(e){return m.CHM(t),m.oxw().globalJustification=e})("p-change",function(){return m.CHM(t),m.oxw().clearJustificationFields()}),m.ALo(1,"translate"),m.ALo(2,"translate"),m.qZA()}if(2&e){var i=m.oxw();m.s9C("p-label-on",m.lcZ(1,4,"l-justify-all-modifications")),m.s9C("p-label-off",m.lcZ(2,6,"l-justify-all-modifications")),m.Q6J("ngModel",i.globalJustification)("p-label-position",i.labelPosition)}}function Je(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"po-select",42),m.NdJ("ngModelChange",function(e){return m.CHM(t),m.oxw().reason=e}),m.ALo(1,"translate"),m.ALo(2,"translate"),m.qZA()}if(2&e){var i=m.oxw();m.s9C("p-label",m.lcZ(1,5,"l-reason")),m.s9C("p-placeholder",m.lcZ(2,7,"l-select-reason")),m.Q6J("ngModel",i.reason)("p-required",!0)("p-options",i.reasons)}}function Ve(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",43),m.TgZ(1,"span",44),m._UZ(2,"span",45),m.TgZ(3,"div",46),m.TgZ(4,"textarea",47),m.NdJ("ngModelChange",function(e){return m.CHM(t),m.oxw().justify=e})("change",function(){return m.CHM(t),m.oxw().validateJustify()}),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(4),m.Q6J("ngModel",i.justify)}}var Ne=function(){var n=function(n){t(a,n);var i=o(a);function a(e,n,t,o,r,s,l,g){var p;return c(this,a),(p=i.call(this)).clockingUpdateService=e,p.appTranslateService=n,p.notificationService=t,p.clockingRegisterService=o,p.clockingsService=r,p.fieldPropertiesService=s,p.translateService=l,p.windowUtilService=g,p.registerPermission=!0,p.closeDialogEvent=new m.vpe,p.reloadClockings=new m.vpe,p.mask="99:99",p.pattern="^(2[0-3]|[01]*[0-9]):?([0-5][0-9])$",p.clockings=[],p.labelPosition=b.fxz.Left,p.globalJustification=!1,p.reasons=[],p.clockingUpdateView=new Ce.A,p.pageName="clockingUpdate",p.canSaveClockings=!1,p.viewIsMobile=!1,p}return l(a,[{key:"ngOnInit",value:function(){e(r(a.prototype),"ngOnInit",this).call(this),this.isWebView(),this.getFieldProps(),this.concatClockings(),this.getReasons(),this.referenceDate=this.clockingDay.date}},{key:"openDeleteModal",value:function(e){this.currentClocking=this.clockings[e],this.currentIndexClocking=e,this.initConfirmDeleteModalActions(),this.modalConfirmDelete.open()}},{key:"changeDirection",value:function(e){this.currentClocking=this.clockings[e],this.currentIndexClocking=e,this.currentClocking.newClocking?this.clockings[e].direction=this.reverseDirection(this.currentClocking.direction):this.openChangeDirectionModal(this.currentClocking)}},{key:"openChangeDirectionModal",value:function(e){this.loadLabelChangeDirection(),this.initChangeDirectionModalActions(),this.modalChangeDirection.open()}},{key:"getDirectionLabel",value:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&e.direction===$.v.DirectionEnum.Entry?this.translateService.get("l-entry").subscribe(function(e){return n=e}):e&&this.translateService.get("l-output").subscribe(function(e){return n=e}),t?"".concat(n," ").concat(e.sequence):"".concat(n)}},{key:"addOtherClocking",value:function(){var e,n;this.lastClockingValidate()&&(this.clockings&&this.clockings.length>0&&this.clockings[this.clockings.length-1].direction===$.v.DirectionEnum.Entry?(e=$.v.DirectionEnum.Exit,n=this.clockings[this.clockings.length-1].sequence):(e=$.v.DirectionEnum.Entry,n=1,this.clockings&&this.clockings.length>0&&(n=this.clockings[this.clockings.length-1].sequence+1)),this.clockings.push(new Ze({date:this.referenceDate,direction:e,origin:$.v.OriginEnum.Manual,referenceDate:this.referenceDate,sequence:n},!0)))}},{key:"disabledSaveButton",value:function(){return this.clockingUpdateView.justify.required?this.globalJustification?!this.justify&&!this.canSaveClockings||!this.validateClockings():!this.validateClockingJustify()||!this.validateClockings():this.clockingUpdateView.reason.required&&!this.reason||!this.validateClockings()}},{key:"enableSaveButton",value:function(e){this.canSaveClockings=!(!e||""===e.trim())}},{key:"validateJustify",value:function(){if(this.justify&&""===this.justify.trim())return this.justify=""}},{key:"save",value:function(){var e=[],n=[];this.clockings.forEach(function(t){t.newClocking?e.push(t):t.changed&&n.push(t)});var t=this.transformInClockings(e),i=this.transformInClockings(n);this.includeOrUpdateClockings(t,i)}},{key:"clearJustificationFields",value:function(){var e=this;this.closeCardJustify(),this.justify=void 0,this.clockings.forEach(function(n,t){void 0!==e.clockings[t].justify&&(e.clockings[t].justify=void 0)})}},{key:"isVisibleJustifyClocking",value:function(e){return e.status?this.clockingUpdateView.justify.visible&&!this.globalJustification&&"approved"!==e.status.status:this.clockingUpdateView.justify.visible&&!this.globalJustification}},{key:"getAccordionClasses",value:function(e){return 0!==e?"clockings custom-accordion":"custom-accordion"}},{key:"getDirectionIcon",value:function(e){return e===$.v.DirectionEnum.Entry?"ico-arrow-right":e===$.v.DirectionEnum.Exit?"ico-arrow-left":void 0}},{key:"getLabelDirectionMenu",value:function(e){return e===$.v.DirectionEnum.Entry?"l-flag-as-output":e===$.v.DirectionEnum.Exit?"l-flag-as-entry":void 0}},{key:"isVisibleChangeDirection",value:function(e){return!this.clockingUpdateView.hour.editable&&e.newClocking||this.clockingUpdateView.hour.editable&&(e.hourAsString.length>0||e.newClocking)&&this.clockingUpdateView.direction.visible}},{key:"openCardJustify",value:function(e,n,t){this.isVisibleJustifyClocking(t)&&(n||!n&&void 0!==this.clockings[e].hourIncomplete)&&(this.indexCardJustification=e)}},{key:"isVisibleMenu",value:function(e){return this.isVisibleJustifyClocking(e)||this.isVisibleChangeDirection(e)||this.isEditable(e)}},{key:"closeCardJustify",value:function(){this.indexCardJustification=-1}},{key:"justificationChanged",value:function(e){this.closeCardJustify(),this.enableSaveButton(e)}},{key:"changeHour",value:function(e){e&&e.hourIncomplete&&e.hourIncomplete.length?(e.format=!0,e.hourAsString=W.Em.changeHour(e.hourIncomplete)):""===(null==e?void 0:e.hourIncomplete)&&(e.format=!1,e.hourAsString=void 0)}},{key:"isEditable",value:function(e){return null==e.isEditable?!0===e.newClocking||this.clockingUpdateView.hour.editable&&(!e.status||e.status.status===G.StatusEnum.Approving):!0===e.newClocking||e.isEditable}},{key:"closeDialog",value:function(){this.closeDialogEvent.emit(),this.reloadClockings.emit(this.divergentActive)}},{key:"isManualClocking",value:function(e){return e===$.v.OriginEnum.Manual}},{key:"isWebView",value:function(){this.viewIsMobile=this.windowUtilService.isWebView()}},{key:"getFieldProps",value:function(){var e=this;this.fieldPropertiesService.getFieldProperties(this.pageName).then(function(n){n.forEach(function(n){switch(n.field){case"hour":e.clockingUpdateView.hour.editable=n.editable,e.clockingUpdateView.hour.required=n.required,e.clockingUpdateView.hour.visible=n.visible;break;case"justify":e.clockingUpdateView.justify.editable=n.editable,e.clockingUpdateView.justify.required=n.required,e.clockingUpdateView.justify.visible=n.visible;break;case"direction":e.clockingUpdateView.direction.editable=n.editable,e.clockingUpdateView.direction.required=n.required,e.clockingUpdateView.direction.visible=n.visible;break;case"reason":e.clockingUpdateView.reason.editable=n.editable,e.clockingUpdateView.reason.required=n.required,e.clockingUpdateView.reason.visible=n.visible}})})}},{key:"initConfirmDeleteModalActions",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){return n.deleteClockingAction(n.currentClocking.id)},e.next=3,this.appTranslateService.getI18n("l-delete");case 3:return e.t1=e.sent,this.confirmModalAction={action:e.t0,label:e.t1},e.t2=function(){return n.modalConfirmDelete.close()},e.next=8,this.appTranslateService.getI18n("l-cancel");case 8:e.t3=e.sent,this.cancelModalAction={action:e.t2,label:e.t3};case 10:case"end":return e.stop()}},e,this)}))}},{key:"initChangeDirectionModalActions",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){return n.changeDirectionAction()},e.next=3,this.appTranslateService.getI18n("l-confirm");case 3:return e.t1=e.sent,this.confirmModalAction={action:e.t0,label:e.t1},e.t2=function(){return n.modalChangeDirection.close()},e.next=8,this.appTranslateService.getI18n("l-cancel");case 8:e.t3=e.sent,this.cancelModalAction={action:e.t2,label:e.t3};case 10:case"end":return e.stop()}},e,this)}))}},{key:"loadLabelChangeDirection",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentClocking||this.currentClocking.direction!==$.v.DirectionEnum.Entry){e.next=9;break}return e.next=3,this.appTranslateService.getI18n("l-entry");case 3:return this.fromDirection=e.sent,e.next=6,this.appTranslateService.getI18n("l-output");case 6:this.toDirection=e.sent,e.next=17;break;case 9:if(e.t0=this.currentClocking&&this.currentClocking.direction===$.v.DirectionEnum.Exit,!e.t0){e.next=17;break}return e.next=13,this.appTranslateService.getI18n("l-output");case 13:return this.fromDirection=e.sent,e.next=16,this.appTranslateService.getI18n("l-entry");case 16:this.toDirection=e.sent;case 17:case"end":return e.stop()}},e,this)}))}},{key:"deleteClockingAction",value:function(e){var n=this;this.currentClocking&&this.currentClocking.newClocking?this.clockings=this.clockings.filter(function(e,t){return t!==n.currentIndexClocking}):this.clockingUpdateService.deleteClocking(this.employeeId,e).then(function(){n.translateService.get("l-delete-success").subscribe(function(e){n.notificationService.showNotification(e,b.ik9.Success)}),n.reloadClockingDay()}),this.modalConfirmDelete.close()}},{key:"changeDirectionAction",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentClocking.direction=this.reverseDirection(this.currentClocking.direction),e.t0=this.currentClocking.justify,e.t0){e.next=6;break}return e.next=5,this.appTranslateService.getI18n("l-default-justification-direction");case 5:this.currentClocking.justify=e.sent;case 6:n=this.parseClockingImplToClocking(this.currentClocking),this.clockingUpdateService.updateClocking(this.employeeId,n.id,n).then(function(){t.reloadClockingDay(),t.modalChangeDirection.close()}).catch(function(){t.currentClocking.direction=t.reverseDirection(t.currentClocking.direction),t.modalChangeDirection.close()});case 8:case"end":return e.stop()}},e,this)}))}},{key:"reloadClockingDay",value:function(){var e=this;this.clockingsService.getClockings(this.employeeId,this.clockingDay.date,this.clockingDay.date).then(function(n){e.clockings=[],n.clockings.forEach(function(n){e.clockings.push(new Ze(n))}),e.organizeClockings()})}},{key:"organizeClockings",value:function(){this.clockings.sort(function(e,n){return e.sequence===n.sequence?0:e.sequence>n.sequence?1:-1})}},{key:"concatClockings",value:function(){var e=this;this.clockingDay.entries.concat(this.clockingDay.exities).forEach(function(n){e.clockings.push(new Ze(n))}),this.organizeClockings()}},{key:"getReasons",value:function(){var e=this;this.clockingRegisterService.getClockingReasonTypes().then(function(n){n.length>0&&n.forEach(function(n){e.reasons.push({label:n.description,value:n.id})})})}},{key:"includeOrUpdateClockings",value:function(e,n){var t=this;n&&n.clockings.length>0&&this.clockingUpdateView.hour.editable?this.clockingUpdateService.putClockingsUpdate(this.employeeId,n).then(function(){t.translateService.get("l-msg-save-success").subscribe(function(n){e&&e.clockings.length>0?t.includeClockings(e):(t.notificationService.showNotification(n,b.ik9.Success),t.closeDialog())})}):e&&e.clockings.length>0&&this.includeClockings(e)}},{key:"includeClockings",value:function(e){var n=this;e&&e.clockings.length>0&&this.clockingUpdateService.saveClockings(this.employeeId,e).then(function(){n.translateService.get("l-add-success").subscribe(function(e){n.notificationService.showNotification(e,b.ik9.Success),n.closeDialog()})})}},{key:"transformInClockings",value:function(e){var n=null,t=[];return e&&e.length>0&&(n={date:(t=e.map(function(e){return{date:W.Em.formatUTCDate(new Date(e.date)),direction:e.direction,origin:e.origin,referenceDate:W.Em.formatUTCDate(new Date(e.date)),sequence:e.sequence,hour:e.hour,justify:e.justify,reason:e.reason,id:e.id,status:e.status}}))[0].date,justify:this.justify,reason:this.reason,clockings:t}),n}},{key:"parseClockingImplToClocking",value:function(e){return this.transformInClockings([e]).clockings[0]}},{key:"reverseDirection",value:function(e){return e===$.v.DirectionEnum.Entry?$.v.DirectionEnum.Exit:$.v.DirectionEnum.Entry}},{key:"lastClockingValidate",value:function(){return this.clockings&&(0===this.clockings.length||this.clockings[this.clockings.length-1].origin!==$.v.OriginEnum.Manual||null!=this.clockings[this.clockings.length-1].hour)}},{key:"validateClockings",value:function(){return!!(this.clockingUpdateView.hour.required&&this.clockings.length>0)&&!this.clockings.find(function(e){return""===e.hourAsString})}},{key:"validateClockingJustify",value:function(){return this.clockings.length>0&&!this.clockings.find(function(e){return""===e.justify||null==e.justify})}}]),a}(_.R);return n.\u0275fac=function(e){return new(e||n)(m.Y36(C),m.Y36(I.g),m.Y36(ve.g),m.Y36(we._),m.Y36(u.X),m.Y36(ae.c),m.Y36(d.sK),m.Y36(S.g))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-clocking-update"]],viewQuery:function(e,n){var t;(1&e&&(m.Gf(Ae,5),m.Gf(qe,5),m.Gf(Te,5,m.SBq)),2&e)&&(m.iGM(t=m.CRH())&&(n.modalConfirmDelete=t.first),m.iGM(t=m.CRH())&&(n.modalChangeDirection=t.first),m.iGM(t=m.CRH())&&(n.justifyClocking=t.first))},inputs:{clockingDay:"clockingDay",dialogIsVisible:"dialogIsVisible",employeeId:"employeeId",divergentActive:"divergentActive",registerPermission:"registerPermission"},outputs:{closeDialogEvent:"closeDialogEvent",reloadClockings:"reloadClockings"},features:[m.qOj],decls:45,vars:40,consts:[[1,"panel-body","no-padding","po-sm-12","po-md-12","po-lg-12","po-xl-12"],["id","clocking-update-dialog",3,"isVisible","closeDialogButtonEnable","menuIsVisible","closeDialogEvent"],["dialog-content",""],["pageTitle","l-edit-clocking",3,"backFunction"],["sub-title","",1,"featured","po-sm-12","po-md-12","po-lg-12","po-xl-12","panel-item-group"],[1,"day"],[1,"week-day"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["hideToggle","true",3,"expanded","disabled","ngClass",4,"ngFor","ngForOf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12 add-other-clockings no-padding","p-icon","po-icon po-icon-plus",3,"p-label","p-click",4,"ngIf"],[1,"po-row","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["name","globalJustification","class","justify-switch po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",3,"ngModel","p-label-on","p-label-off","p-label-position","ngModelChange","p-change",4,"ngIf"],["id","sel-reason","name","reason","class","po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",3,"ngModel","p-required","p-options","p-label","p-placeholder","ngModelChange",4,"ngIf"],["class","po-sm-12 text-area no-padding",4,"ngIf"],["p-primary","true","p-type","primary",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding","save-button",3,"p-disabled","p-label","p-click"],["p-size","md","t-clock-out","true","p-hide-close","true",3,"p-primary-action","p-secondary-action"],["modalChangeDirection",""],[1,"labels-direction-modal","ask-change-direction"],[1,"info-change-direction","labels-direction-modal"],[1,"ico-arrow-right","icon-arrow"],["p-size","sm","t-clock-out","true","p-hide-close","true",3,"p-primary-action","p-secondary-action"],["modalConfirmDelete",""],[1,"content-modal"],["hideToggle","true",3,"expanded","disabled","ngClass"],["class","custom-accordion",4,"ngIf"],[1,"card-arrow"],[1,"card-justify-clocking"],[1,"po-field-title","titleInput","space"],["name","justificationInput","p-required","true",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","ngModelChange","p-blur"],[1,"custom-accordion"],[1,"po-sm-8","po-md-8","po-lg-8","po-xl-8","no-padding"],[1,"po-sm-5","po-md-3","po-lg-3","po-xl-3","direction","no-padding"],["class","po-sm-3 po-md-5 po-lg-5 po-xl-6 icon-change-direction mouse-pointer no-padding",3,"ngClass","click",4,"ngIf"],["p-maxlength","5","name","hourInput","p-required","true",1,"po-sm-3","po-md-3","po-lg-3","po-xl-3","no-padding",3,"p-mask","ngModel","p-pattern","p-disabled","p-change-model","keyup","p-blur","ngModelChange"],["class","po-sm-1 po-md-1 po-lg-1 po-xl-1 column-see po-icon po-icon-more see-more mouse-pointer","data-toggle","dropdown",4,"ngIf"],["name","ul-dropdown-options",1,"dropdown-menu"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],[1,"po-sm-3","po-md-5","po-lg-5","po-xl-6","icon-change-direction","mouse-pointer","no-padding",3,"ngClass","click"],["data-toggle","dropdown",1,"po-sm-1","po-md-1","po-lg-1","po-xl-1","column-see","po-icon","po-icon-more","see-more","mouse-pointer"],[1,"dropdown-menu-itens",3,"click"],["p-icon","po-icon po-icon-plus",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","add-other-clockings","no-padding",3,"p-label","p-click"],["name","globalJustification",1,"justify-switch","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","p-label-on","p-label-off","p-label-position","ngModelChange","p-change"],["id","sel-reason","name","reason",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"ngModel","p-required","p-options","p-label","p-placeholder","ngModelChange"],[1,"po-sm-12","text-area","no-padding"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","panel-item-group","no-padding"],[1,"po-label-help"],[1,"po-field-flex-container","space"],["required","true","rows","3","id","txt-justify","name","justify",1,"form-control",3,"ngModel","ngModelChange","change"]],template:function(e,n){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"app-dialog",1),m.NdJ("closeDialogEvent",function(){return n.closeDialog()}),m.TgZ(2,"div",2),m._uU(3," \u200b "),m.TgZ(4,"app-page-header",3),m.NdJ("backFunction",function(){return n.closeDialog()}),m.TgZ(5,"span",4),m.TgZ(6,"strong",5),m._uU(7),m.ALo(8,"utcDate"),m.qZA(),m.TgZ(9,"span",6),m._uU(10),m.ALo(11,"utcDate"),m.qZA(),m.qZA(),m.qZA(),m._uU(12," \u200b "),m.TgZ(13,"mat-accordion",7),m.YNc(14,Se,10,8,"mat-expansion-panel",8),m.qZA(),m.YNc(15,Ue,2,3,"po-button",9),m.TgZ(16,"div",10),m.YNc(17,Ee,3,8,"po-switch",11),m.qZA(),m._uU(18," \u200b "),m.YNc(19,Je,3,9,"po-select",12),m.YNc(20,Ve,5,1,"div",13),m._uU(21," \u200b "),m.TgZ(22,"po-button",14),m.NdJ("p-click",function(){return n.save()}),m.ALo(23,"translate"),m.qZA(),m._uU(24," \u200b "),m.TgZ(25,"po-modal",15,16),m.TgZ(27,"p",17),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"p",18),m._uU(31),m._UZ(32,"span",19),m._uU(33),m.qZA(),m.qZA(),m._uU(34," \u200b "),m.TgZ(35,"po-modal",20,21),m.TgZ(37,"span",22),m.TgZ(38,"p"),m._uU(39),m.ALo(40,"translate"),m.qZA(),m.TgZ(41,"p"),m._uU(42),m.ALo(43,"utcDate"),m.ALo(44,"formatMillisecondsAsHour"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(1),m.Q6J("isVisible",n.dialogIsVisible)("closeDialogButtonEnable",!n.viewIsMobile)("menuIsVisible",!0),m.xp6(6),m.Oqu(m.xi3(8,23,n.referenceDate,"dd/MM/yyyy")),m.xp6(3),m.Oqu(m.xi3(11,26,n.referenceDate,"EEEE")),m.xp6(4),m.Q6J("ngForOf",n.clockings),m.xp6(1),m.Q6J("ngIf",n.registerPermission),m.xp6(2),m.Q6J("ngIf",n.clockingUpdateView&&n.clockingUpdateView.justify&&n.clockingUpdateView.justify.visible),m.xp6(2),m.Q6J("ngIf",n.clockingUpdateView&&n.clockingUpdateView.reason&&n.clockingUpdateView.reason.visible),m.xp6(1),m.Q6J("ngIf",n.globalJustification&&n.clockingUpdateView&&n.clockingUpdateView.justify&&n.clockingUpdateView.justify.visible),m.xp6(2),m.s9C("p-label",m.lcZ(23,29,"l-save")),m.Q6J("p-disabled",n.disabledSaveButton()),m.xp6(3),m.Q6J("p-primary-action",n.confirmModalAction)("p-secondary-action",n.cancelModalAction),m.xp6(3),m.Oqu(m.lcZ(29,31,"l-ask-change-direction")),m.xp6(3),m.hij(" ",n.fromDirection," "),m.xp6(2),m.hij(" ",n.toDirection," "),m.xp6(2),m.Q6J("p-primary-action",n.confirmModalAction)("p-secondary-action",n.cancelModalAction),m.xp6(4),m.Oqu(m.lcZ(40,33,"l-ask-delete-clocking")),m.xp6(3),m.lnq(" ",m.xi3(43,35,null==n.currentClocking?null:n.currentClocking.date,"dd/MM/yyyy")," ",n.getDirectionLabel(n.currentClocking)," \xe0s ",m.lcZ(44,38,null==n.currentClocking?null:n.currentClocking.hour)," "))},directives:[se.a,U.q,Z.pp,g.sg,g.O5,b.bOz,b.hmF,Z.ib,g.mk,b.xxV,y.JJ,y.On,Z.yz,b.nrg,b.C9q,y.Fj,y.Q7],pipes:[E.$,d.X$,J.P],styles:[".day[_ngcontent-%COMP%]{color:#2b3639;float:left;margin-right:10px}[_nghost-%COMP%]     .po-input:disabled{color:#1c1c1c}.week-day[_ngcontent-%COMP%]{color:#9da7a9;margin-bottom:0;margin-top:0}.featured[_ngcontent-%COMP%]{font-size:16px;padding-right:24px;margin-bottom:15px}.content-modal[_ngcontent-%COMP%]{font-weight:bold;color:#2b3639}.see-more[_ngcontent-%COMP%]{color:#0c9abe}.justify-switch[_ngcontent-%COMP%]{font-weight:bold}.clockings[_ngcontent-%COMP%]{border-top:#eceeee 2px solid}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;background-color:#fff;line-height:30px;width:100%;padding:0 16px}#sel-reason[_ngcontent-%COMP%]  ul{position:unset!important}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:80px}.labels-direction-modal[_ngcontent-%COMP%]{color:#4a5c60;font-weight:bold}.ask-change-direction[_ngcontent-%COMP%]{font-size:20px}.info-change-direction[_ngcontent-%COMP%]{padding-left:25px;font-size:16px}.icon-change-direction[_ngcontent-%COMP%]{color:#0c9abe;font-size:25px;margin-top:13px}.direction[_ngcontent-%COMP%]{color:#0c9abe;white-space:nowrap;font-size:16px;margin-top:13px;font-weight:bold;padding-right:15px}.icon-arrow[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px;vertical-align:text-bottom}.custom-accordion[_ngcontent-%COMP%]{box-shadow:none!important;padding:0!important;margin-top:0!important;overflow:unset}.card-justify-clocking[_ngcontent-%COMP%]{box-shadow:0 3px 8px 2px #e3e6f1;border-radius:6px;padding:16px 6px;position:relative;background:#ffffff;display:flow-root}.card-arrow[_ngcontent-%COMP%]{box-shadow:-1px -1px 1px rgba(0,0,0,.1);background-color:#fff;top:4px;-webkit-transform:rotate(45deg);transform:rotate(45deg);height:8px;width:8px;left:calc(50% - 4px);position:relative;z-index:10}.titleInput[_ngcontent-%COMP%]{font-weight:bold}.container-justify-button[_ngcontent-%COMP%]{margin-top:10px;position:relative;float:right}.save-button[_ngcontent-%COMP%]{margin-top:10px}.add-other-clockings[_ngcontent-%COMP%]{margin:15px 0}.icon-close-justify-card[_ngcontent-%COMP%]{color:#9da7a9}mat-expansion-panel[_ngcontent-%COMP%]{position:unset}[_nghost-%COMP%]     [dialog-content]{overflow-y:auto}[_nghost-%COMP%]     .full-screen-dialog{overflow-y:auto!important}[_nghost-%COMP%]     .full-screen-dialog::-webkit-scrollbar-thumb{background-color:#0c9abc;border-radius:10px}[_nghost-%COMP%]     .full-screen-dialog::-webkit-scrollbar{width:7px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.column-see[_ngcontent-%COMP%]{padding-top:12px!important;font-size:20px}}@media (min-width: 768px){.column-see[_ngcontent-%COMP%]{padding-top:13px!important;padding-right:20px!important;font-size:20px}}@media (min-width: 1280px){.column-see[_ngcontent-%COMP%]{padding-top:17px!important;padding-right:20px!important;font-size:20px}[_nghost-%COMP%]     .full-screen-dialog{max-height:85%}}"]}),n}(),Le=["occurrenceTotalSummaryPeriodComponent"];function Qe(e,n){if(1&e&&m._UZ(0,"app-card-employee",18),2&e){var t=m.oxw(2);m.Q6J("image",t.imageAvatar)("name",null==t.employeeData?null:t.employeeData.name)("role",null==t.employeeData?null:t.employeeData.roleDescription)("status",null==t.employeeData?null:t.employeeData.employeeStatus)}}function je(e,n){1&e&&(m.TgZ(0,"span",44),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-download")," "))}function Re(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"span",45),m.NdJ("click",function(){return m.CHM(t),m.oxw(4).shareVisibleDialog()}),m.qZA()}}function Ye(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",39),m.TgZ(1,"span",40),m.NdJ("click",function(){return m.CHM(t),m.oxw(3).downloadVisibleDialog()}),m._UZ(2,"span",41),m.YNc(3,je,3,3,"span",42),m.qZA(),m.YNc(4,Re,1,0,"span",43),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(3),m.Q6J("ngIf",!i.isWebView()),m.xp6(1),m.Q6J("ngIf",i.isWebView()&&!i.isIOS())}}function Fe(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"a",54),m.NdJ("click",function(){return m.CHM(t),m.oxw(4).openOccurrencesTotalSummaryPeriod()}),m._uU(1),m.ALo(2,"uppercase"),m.ALo(3,"translate"),m.qZA()}2&e&&(m.xp6(1),m.Oqu(m.lcZ(2,1,m.lcZ(3,3,"im-view-summary-period"))))}function ze(e,n){if(1&e&&(m.TgZ(0,"div",46),m.TgZ(1,"div",47),m.TgZ(2,"div",48),m.TgZ(3,"strong",49),m._uU(4),m.ALo(5,"uppercase"),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"strong",50),m._uU(8),m.qZA(),m.qZA(),m.TgZ(9,"div",48),m.TgZ(10,"strong",49),m._uU(11),m.ALo(12,"uppercase"),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"strong",50),m._uU(15),m.qZA(),m.qZA(),m.TgZ(16,"div",48),m.TgZ(17,"strong",49),m._uU(18),m.ALo(19,"uppercase"),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"strong",50),m._uU(22),m.qZA(),m.qZA(),m.TgZ(23,"div",51),m.TgZ(24,"div",52),m.YNc(25,Fe,4,5,"a",53),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e){var t=m.oxw(3);m.xp6(4),m.Oqu(m.lcZ(5,7,m.lcZ(6,9,"l-previous-balance"))),m.xp6(4),m.hij(" ",t.concatPositiveSymbol(null==t.balanceSummary?null:t.balanceSummary.previous),""),m.xp6(3),m.Oqu(m.lcZ(12,11,m.lcZ(13,13,"l-current-balance"))),m.xp6(4),m.hij(" ",t.concatPositiveSymbol(null==t.balanceSummary?null:t.balanceSummary.current),""),m.xp6(3),m.Oqu(m.lcZ(19,15,m.lcZ(20,17,"l-next-balance"))),m.xp6(4),m.hij(" ",t.concatPositiveSymbol(null==t.balanceSummary?null:t.balanceSummary.next),""),m.xp6(3),m.Q6J("ngIf",t.hasPeriodList())}}function He(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",55),m.TgZ(1,"div",56),m.TgZ(2,"po-button",57),m.NdJ("p-click",function(){return m.CHM(t),m.oxw(3).openOccurrencesTotalSummaryPeriod()}),m.ALo(3,"translate"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(2),m.s9C("p-label",m.lcZ(3,2,"im-view-summary-period")),m.Q6J("p-disabled",!i.hasPeriodList())}}function Be(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",58),m.TgZ(1,"po-button",59),m.NdJ("p-click",function(){return m.CHM(t),m.oxw(3).showOnlyDivergent()}),m.ALo(2,"translate"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(3);m.xp6(1),m.s9C("p-label",m.lcZ(2,2,i.divergentLabel)),m.Q6J("p-icon",i.onlyDivergent?"po-icon-eye-off":"po-icon-eye")}}function $e(e,n){1&e&&(m.TgZ(0,"th",31),m.TgZ(1,"strong"),m._uU(2),m.ALo(3,"uppercase"),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Oqu(m.lcZ(3,1,m.lcZ(4,3,"l-divergents"))))}function Ge(e,n){1&e&&m._UZ(0,"span",82)}function We(e,n){if(1&e&&m._UZ(0,"img",83),2&e){var t=m.oxw().$implicit,i=m.oxw(5);m.Q6J("src",i.getClockingIcon(t),m.LSH)}}function Xe(e,n){if(1&e&&(m.TgZ(0,"ul",84),m.TgZ(1,"li"),m._uU(2),m.qZA(),m.qZA()),2&e){var t=m.oxw().$implicit;m.xp6(2),m.hij(" ",t.status.label," ")}}function Ke(e,n){if(1&e&&(m.TgZ(0,"span",85),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var t=m.oxw().$implicit;m.xp6(1),m.AsE("",m.lcZ(2,2,"l-in-abbr"),"",t.sequence,"")}}function en(e,n){if(1&e&&(m.TgZ(0,"span",86),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var t=m.oxw().$implicit;m.xp6(1),m.AsE("",m.lcZ(2,2,"l-in-abbr"),"",t.sequence,"")}}function nn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"span"),m.TgZ(1,"div",75),m.YNc(2,Ge,1,0,"span",76),m.YNc(3,We,1,1,"img",77),m.TgZ(4,"a",78),m.NdJ("click",function(){var e=m.CHM(t).$implicit;return m.oxw(5).openDetails(e)}),m._uU(5),m.ALo(6,"formatMillisecondsAsHour"),m.qZA(),m.YNc(7,Xe,3,1,"ul",79),m.qZA(),m.YNc(8,Ke,3,4,"span",80),m.YNc(9,en,3,4,"span",81),m._UZ(10,"br"),m.qZA()}if(2&e){var i=n.$implicit,o=m.oxw(5);m.xp6(2),m.Q6J("ngIf",o.clockingOnApproval(i)),m.xp6(1),m.Q6J("ngIf",""!=o.getClockingIcon(i)),m.xp6(1),m.Q6J("ngClass",o.getColor(i)),m.xp6(1),m.hij(" ",m.lcZ(6,7,null==i?null:i.hour),""),m.xp6(2),m.Q6J("ngIf",o.clockingOnApproval(i)),m.xp6(1),m.Q6J("ngIf",i.sequence>=0&&"empty"!==i.origin),m.xp6(1),m.Q6J("ngIf",i.sequence>=0&&"empty"===i.origin&&null!=i.hour)}}function tn(e,n){1&e&&m._UZ(0,"span",82)}function on(e,n){if(1&e&&m._UZ(0,"img",83),2&e){var t=m.oxw().$implicit,i=m.oxw(5);m.Q6J("src",i.getClockingIcon(t),m.LSH)}}function an(e,n){if(1&e&&(m.TgZ(0,"ul",84),m.TgZ(1,"li"),m._uU(2),m.qZA(),m.qZA()),2&e){var t=m.oxw().$implicit;m.xp6(2),m.hij(" ",t.status.label," ")}}function rn(e,n){if(1&e&&(m.TgZ(0,"span",85),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var t=m.oxw().$implicit;m.xp6(1),m.AsE("",m.lcZ(2,2,"l-out-abbr"),"",t.sequence,"")}}function cn(e,n){if(1&e&&(m.TgZ(0,"span",88),m._uU(1),m.ALo(2,"translate"),m.qZA()),2&e){var t=m.oxw().$implicit;m.xp6(1),m.AsE("",m.lcZ(2,2,"l-out-abbr"),"",t.sequence,"")}}function sn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"span"),m.TgZ(1,"div",75),m.YNc(2,tn,1,0,"span",76),m.YNc(3,on,1,1,"img",77),m.TgZ(4,"a",78),m.NdJ("click",function(){var e=m.CHM(t).$implicit;return m.oxw(5).openDetails(e)}),m._uU(5),m.ALo(6,"formatMillisecondsAsHour"),m.qZA(),m.YNc(7,an,3,1,"ul",79),m.qZA(),m.YNc(8,rn,3,4,"span",80),m.YNc(9,cn,3,4,"span",87),m._UZ(10,"br"),m.qZA()}if(2&e){var i=n.$implicit,o=m.oxw(5);m.xp6(2),m.Q6J("ngIf",o.clockingOnApproval(i)),m.xp6(1),m.Q6J("ngIf",""!=o.getClockingIcon(i)),m.xp6(1),m.Q6J("ngClass",o.getColor(i)),m.xp6(1),m.Oqu(m.lcZ(6,7,null==i?null:i.hour)),m.xp6(2),m.Q6J("ngIf",o.clockingOnApproval(i)),m.xp6(1),m.Q6J("ngIf",i.sequence>=0&&"empty"!==i.origin),m.xp6(1),m.Q6J("ngIf",i.sequence>=0&&"empty"===i.origin)}}function ln(e,n){if(1&e&&m._UZ(0,"po-tag",91),2&e){var t=n.$implicit,i=m.oxw(6);m.Q6J("p-value",t.label)("ngClass",i.getColorTag(t.type))("p-color",i.getColorTag(t.type))}}function gn(e,n){if(1&e&&(m.TgZ(0,"td",89),m.TgZ(1,"span"),m.YNc(2,ln,1,3,"po-tag",90),m.qZA(),m.qZA()),2&e){var t=m.oxw().$implicit,i=m.oxw(4);m.xp6(2),m.Q6J("ngForOf",i.getDivergentItems(t))}}function pn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",72),m.NdJ("click",function(){m.CHM(t);var e=m.oxw().$implicit;return m.oxw(4).goToClockingRegisterWithReferenceDate(e.date)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-include-clocking")," "))}function un(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",72),m.NdJ("click",function(){m.CHM(t);var e=m.oxw().$implicit;return m.oxw(4).openClockingUpdate(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-edit-clocking")," "))}function dn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",72),m.NdJ("click",function(){m.CHM(t);var e=m.oxw().$implicit;return m.oxw(4).openRequestOvertime(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-request-overtime")," "))}function fn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",72),m.NdJ("click",function(){m.CHM(t);var e=m.oxw().$implicit;return m.oxw(4).openRequestAllowance(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"im-allowanceLong")," "))}function hn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"li",72),m.NdJ("click",function(){m.CHM(t);var e=m.oxw().$implicit;return m.oxw(4).openRequestMedicalCertificate(e)}),m._uU(1),m.ALo(2,"translate"),m.qZA()}2&e&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"l-request-medical-certificate")," "))}function mn(e,n){if(1&e&&m._UZ(0,"po-tag",91),2&e){var t=n.$implicit,i=m.oxw(7);m.Q6J("p-value",t.label)("ngClass",i.getColorTag(t.type))("p-color",i.getColorTag(t.type))}}function vn(e,n){if(1&e&&(m.TgZ(0,"span"),m.YNc(1,mn,1,3,"po-tag",90),m.qZA()),2&e){var t=m.oxw(2).$implicit;m.xp6(1),m.Q6J("ngForOf",t.entries[0].divergent)}}var kn=function(e){return{line:e}};function xn(e,n){if(1&e&&(m.TgZ(0,"tr",61),m._UZ(1,"td"),m.TgZ(2,"td",92),m.YNc(3,vn,2,1,"span",34),m.qZA(),m._UZ(4,"td"),m.qZA()),2&e){var t=m.oxw().$implicit,i=m.oxw(4);m.Q6J("ngClass",m.VKq(2,kn,i.onlyDivergent)),m.xp6(3),m.Q6J("ngIf",t.entries[0])}}var yn=function(e){return{optionsDropUp:e}};function bn(e,n){if(1&e){var t=m.EpF();m.ynx(0),m.TgZ(1,"tr",61),m.TgZ(2,"td",62),m.TgZ(3,"strong"),m.TgZ(4,"a",63),m.NdJ("click",function(){var e=m.CHM(t).$implicit;return m.oxw(4).openOccurrences(e.date)}),m._uU(5),m.ALo(6,"utcDate"),m.qZA(),m.qZA(),m._UZ(7,"br"),m.TgZ(8,"span",64),m._uU(9),m.ALo(10,"utcDate"),m.qZA(),m.TgZ(11,"span",65),m._uU(12),m.ALo(13,"utcDate"),m.qZA(),m.qZA(),m.TgZ(14,"td",66),m.YNc(15,nn,11,9,"span",60),m.qZA(),m.TgZ(16,"td",66),m.YNc(17,sn,11,9,"span",60),m.qZA(),m.YNc(18,gn,3,1,"td",67),m.TgZ(19,"td",68),m.TgZ(20,"div",69),m._UZ(21,"span",70),m.TgZ(22,"ul",71),m.TgZ(23,"li",72),m.NdJ("click",function(){var e=m.CHM(t).$implicit;return m.oxw(4).openOccurrences(e.date)}),m._uU(24),m.ALo(25,"translate"),m.qZA(),m.YNc(26,pn,3,3,"li",73),m.YNc(27,un,3,3,"li",73),m.YNc(28,dn,3,3,"li",73),m.YNc(29,fn,3,3,"li",73),m.YNc(30,hn,3,3,"li",73),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(31,xn,5,4,"tr",74),m.BQk()}if(2&e){var i=n.$implicit,o=n.last,a=m.oxw(4);m.xp6(1),m.Q6J("ngClass",m.VKq(26,kn,a.showLine())),m.xp6(4),m.Oqu(m.xi3(6,15,i.date,"dd/MM")),m.xp6(4),m.Oqu(m.xi3(10,18,i.date,"EEEE")),m.xp6(3),m.Oqu(m.xi3(13,21,i.date,"EE")),m.xp6(3),m.Q6J("ngForOf",i.entries),m.xp6(2),m.Q6J("ngForOf",i.exities),m.xp6(1),m.Q6J("ngIf",a.onlyDivergent&&!a.isMobile&&(i.entries[0]||i.exities[0])),m.xp6(4),m.Q6J("ngClass",m.VKq(28,yn,o&&a.viewIsMobile)),m.xp6(2),m.hij(" ",m.lcZ(25,24,"l-see-daily-summary")," "),m.xp6(2),m.Q6J("ngIf",a.checkPermissionClockingRegister()),m.xp6(1),m.Q6J("ngIf",a.checkPermissionClockingUpdate()),m.xp6(1),m.Q6J("ngIf",a.checkPermissionRequestOvertime()),m.xp6(1),m.Q6J("ngIf",a.checkPermissionRequestAllowance()),m.xp6(1),m.Q6J("ngIf",a.checkPermissionRequestMedicalCertificate()),m.xp6(1),m.Q6J("ngIf",a.onlyDivergent&&a.isMobile)}}function wn(e,n){if(1&e&&(m.TgZ(0,"tbody"),m.YNc(1,bn,32,30,"ng-container",60),m.qZA()),2&e){var t=m.oxw(3);m.xp6(1),m.Q6J("ngForOf",t.clockingsPeriod)}}function Cn(e,n){1&e&&(m.TgZ(0,"tbody"),m.TgZ(1,"tr"),m.TgZ(2,"td",93),m.TgZ(3,"strong",94),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(4),m.hij(" ",m.lcZ(5,1,"l-emptyPeriods"),""))}function Zn(e,n){1&e&&(m.TgZ(0,"tbody"),m.TgZ(1,"tr"),m.TgZ(2,"td",93),m.TgZ(3,"strong",94),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(4),m.hij(" ",m.lcZ(5,1,"l-empty-periods-divergent"),""))}function An(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",101),m.TgZ(1,"po-button",102),m.NdJ("p-click",function(){return m.CHM(t),m.oxw(4).openLabelDialog()}),m.ALo(2,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(1),m.s9C("p-label",m.lcZ(2,1,"l-show-label-complete")))}function qn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",103),m.TgZ(1,"span",104),m.NdJ("click",function(){return m.CHM(t),m.oxw(4).openLabelDialog()}),m._uU(2),m.ALo(3,"translate"),m.qZA(),m.qZA()}2&e&&(m.xp6(2),m.hij("",m.lcZ(3,1,"l-show-label-complete")," "))}function Tn(e,n){if(1&e&&(m.TgZ(0,"div",95),m.TgZ(1,"div",96),m._UZ(2,"img",97),m.TgZ(3,"span",98),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.TgZ(6,"div",96),m._UZ(7,"span",82),m.TgZ(8,"span",98),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.qZA(),m.YNc(11,An,3,3,"div",99),m.YNc(12,qn,4,3,"div",100),m.qZA()),2&e){var t=m.oxw(3);m.xp6(4),m.Oqu(m.lcZ(5,4,"l-clockings-approved")),m.xp6(5),m.Oqu(m.lcZ(10,6,"l-clockings-approving")),m.xp6(2),m.Q6J("ngIf",t.isMobile),m.xp6(1),m.Q6J("ngIf",!t.isMobile)}}function Dn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"app-occurrence-total-summary-period",105,106),m.NdJ("closeDialogEvent",function(e){return m.CHM(t),m.oxw(3).closeOccurencesDialog(e)}),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("initPeriod",i.initPeriod)("endPeriod",i.endPeriod)("employeeId",i.employeeId)("dialogIsVisible",i.showOccurrencesDialog)}}function Mn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"app-occurrences",107,108),m.NdJ("closeDialogEvent",function(e){return m.CHM(t),m.oxw(3).closeDailyOccurencesDialog(e)}),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("referenceDate",i.referenceDateUTC)("dialogIsVisible",i.showDailyOccurrencesDialog)("employeeId",i.employeeId)}}function _n(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"app-clocking-update",109),m.NdJ("closeDialogEvent",function(e){return m.CHM(t),m.oxw(3).closeClockingUpdateDialog(e)})("reloadClockings",function(e){return m.CHM(t),m.oxw(3).reloadClockingsUpdate(e)}),m.qZA()}if(2&e){var i=m.oxw(3);m.Q6J("clockingDay",i.selectedClockingDay)("divergentActive",i.onlyDivergent)("dialogIsVisible",i.showClockingUpdateDialog)("employeeId",i.employeeId)("registerPermission",i.permissions&&i.permissions.clockingRegister)}}var On=function(e){return{"table-card":e}};function Pn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",19),m.TgZ(1,"div",20),m.TgZ(2,"h4",21),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"po-select",22),m.NdJ("ngModelChange",function(e){return m.CHM(t),m.oxw(2).periodValue=e})("p-change",function(){return m.CHM(t),m.oxw(2).loadPeriodValues(!1)}),m.qZA(),m.YNc(6,Ye,5,2,"div",23),m.qZA(),m.YNc(7,ze,26,19,"div",24),m.YNc(8,He,4,4,"div",25),m.YNc(9,Be,3,4,"div",26),m.TgZ(10,"table",27),m.TgZ(11,"thead",28),m.TgZ(12,"tr",29),m.TgZ(13,"th",30),m.TgZ(14,"strong"),m._uU(15),m.ALo(16,"uppercase"),m.ALo(17,"translate"),m.qZA(),m.qZA(),m.TgZ(18,"th",31),m.TgZ(19,"strong"),m._uU(20),m.ALo(21,"uppercase"),m.ALo(22,"translate"),m.qZA(),m.qZA(),m.TgZ(23,"th",31),m.TgZ(24,"strong"),m._uU(25),m.ALo(26,"uppercase"),m.ALo(27,"translate"),m.qZA(),m.qZA(),m.YNc(28,$e,5,5,"th",32),m.TgZ(29,"th",33),m.TgZ(30,"strong"),m._uU(31),m.ALo(32,"uppercase"),m.ALo(33,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.YNc(34,wn,2,1,"tbody",34),m.YNc(35,Cn,6,3,"tbody",34),m.YNc(36,Zn,6,3,"tbody",34),m.qZA(),m.YNc(37,Tn,13,8,"div",35),m.YNc(38,Dn,2,4,"app-occurrence-total-summary-period",36),m.YNc(39,Mn,2,3,"app-occurrences",37),m.YNc(40,_n,1,5,"app-clocking-update",38),m.qZA()}if(2&e){var i=m.oxw(2);m.Q6J("ngClass",m.VKq(39,On,i.employeeData)),m.xp6(3),m.Oqu(m.lcZ(4,21,"l-period")),m.xp6(2),m.Q6J("p-required",!0)("ngModel",i.periodValue)("p-options",i.periodList),m.xp6(1),m.Q6J("ngIf",i.checkPermissionDownloadShare()),m.xp6(1),m.Q6J("ngIf",i.isBalanceVisible),m.xp6(1),m.Q6J("ngIf",!i.isBalanceVisible),m.xp6(1),m.Q6J("ngIf",i.divergentButtonIsVisible()),m.xp6(6),m.Oqu(m.lcZ(16,23,m.lcZ(17,25,"l-date"))),m.xp6(5),m.Oqu(m.lcZ(21,27,m.lcZ(22,29,"l-entries"))),m.xp6(5),m.Oqu(m.lcZ(26,31,m.lcZ(27,33,"l-exits"))),m.xp6(3),m.Q6J("ngIf",i.onlyDivergent&&!i.isMobile),m.xp6(3),m.Oqu(m.lcZ(32,35,m.lcZ(33,37,"l-see"))),m.xp6(3),m.Q6J("ngIf",i.hasClockings()),m.xp6(1),m.Q6J("ngIf",!i.hasClockings()&&!i.onlyDivergent),m.xp6(1),m.Q6J("ngIf",!i.hasClockings()&&i.onlyDivergent),m.xp6(1),m.Q6J("ngIf",i.hasClockings()),m.xp6(1),m.Q6J("ngIf",i.showOccurrencesDialog),m.xp6(1),m.Q6J("ngIf",i.showDailyOccurrencesDialog),m.xp6(1),m.Q6J("ngIf",i.showClockingUpdateDialog)}}function In(e,n){1&e&&(m.TgZ(0,"div",110),m._UZ(1,"img",111),m.TgZ(2,"span",98),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"l-clockings-without-geo")))}function Sn(e,n){1&e&&(m.TgZ(0,"div",110),m._UZ(1,"span",112),m.TgZ(2,"span",98),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"l-clockings-approving")))}function Un(e,n){1&e&&(m.TgZ(0,"div",110),m._UZ(1,"img",97),m.TgZ(2,"span",98),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"l-clockings-approved")))}function En(e,n){1&e&&(m.TgZ(0,"div",110),m._UZ(1,"img",113),m.TgZ(2,"span",98),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"l-clockings-out-fence")))}function Jn(e,n){1&e&&(m.TgZ(0,"div",110),m._UZ(1,"img",114),m.TgZ(2,"span",98),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA()),2&e&&(m.xp6(3),m.Oqu(m.lcZ(4,1,"l-clockings-reproved")))}function Vn(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",2),m._UZ(1,"app-page-header",3),m.ALo(2,"translate"),m.YNc(3,Qe,1,4,"app-card-employee",4),m.YNc(4,Pn,41,41,"div",5),m.TgZ(5,"app-dialog",6),m.NdJ("closeDialogEvent",function(){return m.CHM(t),m.oxw().closeWarningDialog()}),m.TgZ(6,"div",7),m.TgZ(7,"div",8),m.TgZ(8,"div",9),m.TgZ(9,"strong"),m.TgZ(10,"h4",10),m._uU(11),m.ALo(12,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(13,"div",11),m.TgZ(14,"a",12),m.NdJ("click",function(){return m.CHM(t),m.oxw().donwloadAndShareClocking()}),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"app-dialog",13),m.NdJ("closeDialogEvent",function(){return m.CHM(t),m.oxw().closeLabelDialog()}),m.TgZ(18,"div",14),m.TgZ(19,"div",15),m.TgZ(20,"h2",16),m._uU(21),m.ALo(22,"translate"),m.qZA(),m.YNc(23,In,5,3,"div",17),m.YNc(24,Sn,5,3,"div",17),m.YNc(25,Un,5,3,"div",17),m.YNc(26,En,5,3,"div",17),m.YNc(27,Jn,5,3,"div",17),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&e){var i=m.oxw();m.xp6(1),m.s9C("pageTitle",m.lcZ(2,14,"l-time-clock")),m.Q6J("backIsVisible",i.viewIsTeamManagement),m.xp6(2),m.Q6J("ngIf",i.employeeData),m.xp6(1),m.Q6J("ngIf",i.initialized),m.xp6(1),m.Q6J("isVisible",i.warningDialogIsVisible),m.xp6(6),m.Oqu(m.lcZ(12,16,"m-downloadShareClocking")),m.xp6(4),m.hij(" ",m.lcZ(16,18,"l-ok"),""),m.xp6(2),m.Q6J("isVisible",i.labelDialogIsVisible),m.xp6(4),m.Oqu(m.lcZ(22,20,"l-label-complete")),m.xp6(2),m.Q6J("ngIf",i.legend.withoutGeo),m.xp6(1),m.Q6J("ngIf",i.legend.approving),m.xp6(1),m.Q6J("ngIf",i.legend.approved),m.xp6(1),m.Q6J("ngIf",i.legend.outFence),m.xp6(1),m.Q6J("ngIf",i.legend.reproved)}}var Nn=[{path:"",component:function(){var n=function(n){t(a,n);var i=o(a);function a(e,n,t,o,r,s,l,g,p,u,d,f,h,v,k,x,y,b){var w;return c(this,a),(w=i.call(this)).clockingService=e,w.router=n,w.windowUtilService=t,w.ionicUtilService=o,w.profileService=r,w.fileManipulationService=s,w.appTranslateService=l,w.fieldsPropertiesService=g,w.lastAccess=p,w.notificationService=u,w.globals=d,w.activatedRoute=f,w.permissionSelector=h,w.spinnerService=v,w.imageService=k,w.location=x,w.teamManagementService=y,w.fileTransferService=b,w.periodsView=new Array,w.periodList=new Array,w.initialized=!1,w.showClockingUpdateDialog=!1,w.employeeName="",w.warningDialogIsVisible=!1,w.shareDialogIsVisible=!1,w.viewIsTeamManagement=!1,w.hasGeolocation=!1,w.labelDialogIsVisible=!1,w.showDetails=!1,w.divergentLabel="l-show-divergent",w.legend={approved:!1,reproved:!1,approving:!1,outFence:!1,withoutGeo:!1},w.transferFile="",w.loadPeriods=!0,w.close=new m.vpe,w.isMobile=S.g.mdDeviceOrSmaller(window.innerWidth),w.routeSubscribe=w.activatedRoute.queryParams.subscribe(function(e){w.onlyDivergent="true"===e.isDivergent}),w}return l(a,[{key:"ngOnInit",value:function(){e(r(a.prototype),"ngOnInit",this).call(this),this.getFieldsProps(),this.setCountLastAccess(),this.subscribeToRoute(),this.getPermissions()}},{key:"ngOnDestroy",value:function(){this.routeDataSubscription&&this.routeDataSubscription.unsubscribe(),this.imageSubscription&&this.imageSubscription.unsubscribe(),this.routeSubscribe&&this.routeSubscribe.unsubscribe(),this.permissionsSubscription&&this.permissionsSubscription.unsubscribe(),this.teamManagementService.cleanEmployeeCard()}},{key:"callbackIonicExternalEvent",value:function(e){(e.detail.event.type===ee.g.DownloadAndOpenFile||e.detail.event.type===ee.g.ShareFile||e.detail.event.type===ee.g.TransferFile)&&this.spinnerService.hide()}},{key:"showOnlyDivergent",value:function(){this.onlyDivergent=!this.onlyDivergent,this.onlyDivergent?this.loadPeriodValues(!0):this.loadPeriodValues();var e=this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{onlyDivergent:this.onlyDivergent}}).toString();this.location.replaceState(e)}},{key:"getPermissions",value:function(){var e=this;this.permissionsSubscription=this.permissionSelector.permissions$.subscribe(function(n){e.permissions=n})}},{key:"getColorTag",value:function(e){return"warning"===e?"color-08":"danger"===e?"color-07":"authorizedOvertime"===e?"color-01":"unauthorizedOvertime"===e?"color-02":"oddBeat"===e?"color-odd-beat":void 0}},{key:"openOccurrences",value:function(e){this.referenceDateUTC=E.$.getDateUTCFormat(e),this.referenceDateUTC&&(this.showDailyOccurrencesDialog=!0)}},{key:"goToClockingRegisterWithReferenceDate",value:function(e){var n={employeeId:void 0},t="timesheet/clockingRegister/".concat(E.$.getDateUTCFormat(e).getTime());this.viewIsTeamManagement&&(n.employeeId=this.employeeId),this.router.navigateByUrl(this.router.createUrlTree([t],{queryParams:n}))}},{key:"openClockingUpdate",value:function(e){var n=new he(e.date);e.entries.forEach(function(e){e.id&&n.entries.push(e)}),e.exities.forEach(function(e){e.id&&n.exities.push(e)}),this.selectedClockingDay=n,this.showClockingUpdateDialog=!0}},{key:"openOccurrencesTotalSummaryPeriod",value:function(){var e=me.x.getPeriod(this.periodValue);e.initDate&&e.endDate&&(this.initPeriod=E.$.getDateUTCFormat(new Date(e.initDate)).getTime(),this.endPeriod=E.$.getDateUTCFormat(new Date(e.endDate)).getTime()),this.showOccurrencesDialog=!0}},{key:"reloadClockingsUpdate",value:function(e){this.onlyDivergent=e,this.loadPeriodValues(e)}},{key:"loadPeriodValues",value:function(e){e||(this.onlyDivergent=!1);var n=me.x.getPeriod(this.periodValue);this.getBalanceSummaries(E.$.getDateUTCFormat(new Date(n.initDate)),E.$.getDateUTCFormat(new Date(n.endDate))),this.getClockings(E.$.getDateUTCFormat(new Date(n.initDate)),E.$.getDateUTCFormat(new Date(n.endDate)),e)}},{key:"closeOccurencesDialog",value:function(){this.showOccurrencesDialog=!1}},{key:"closeDailyOccurencesDialog",value:function(){this.showDailyOccurrencesDialog=!1}},{key:"closeClockingUpdateDialog",value:function(){this.showClockingUpdateDialog=!1}},{key:"getColor",value:function(e){return this.manualClockingAndApproval(e)?this.statusIsApproving(e)?a.approvingColorClassName:this.statusIsReproved(e)?a.reprovedColorClassName:a.approvedColorClassName:""}},{key:"clockingOnApproval",value:function(e){var n=!!this.manualClockingAndApproval(e)&&(this.statusIsApproving(e)||this.statusIsReproved(e));return n&&(this.legend.approving=!0),n}},{key:"getClockingIcon",value:function(e){var n="";return void 0===e.hasCoordinates&&void 0===e.isOutFence||e.origin!==$.v.OriginEnum.Geolocation||(this.hasGeolocation=!0,e.status&&e.status.status===G.StatusEnum.Reproved&&(this.legend.reproved=!0,n="./assets/img/pin-reproved.svg"),e.hasCoordinates?e.isOutFence||e.status&&e.status.status===G.StatusEnum.Reproved?e.isOutFence&&(n="./assets/img/pin-outfence.svg",this.legend.outFence=!0):(n="./assets/img/pin-approved.svg",this.legend.approved=!0):(n="./assets/img/pin-gray.svg",this.legend.withoutGeo=!0)),n}},{key:"openLabelDialog",value:function(){this.labelDialogIsVisible=!0}},{key:"closeLabelDialog",value:function(){this.labelDialogIsVisible=!1}},{key:"closeWarningDialog",value:function(){this.warningDialogIsVisible=!1}},{key:"downloadVisibleDialog",value:function(){me.x.getPeriod(this.periodValue).actualPeriod?this.warningDialogIsVisible=!0:this.downloadClocking()}},{key:"shareVisibleDialog",value:function(){me.x.getPeriod(this.periodValue).actualPeriod?(this.isShare=!0,this.warningDialogIsVisible=!0):this.shareClocking()}},{key:"donwloadAndShareClocking",value:function(){this.isShare?this.shareClocking():this.downloadClocking()}},{key:"teamManagementClockings",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.profileService.getEmployeeSummary(this.employeeId);case 2:n=e.sent,this.loadPeriods=!0,this.employeeData=n,this.imageService.getImageStyle(this.employeeId).subscribe(function(e){return t.imageAvatar=e}),this.employeeName=this.employeeData.name,this.periodsView=[],this.clockingsView=null,this.clockingsPeriod=[];case 4:case"end":return e.stop()}},e,this)}))}},{key:"back",value:function(){this.viewIsTeamManagement=!1,this.employeeData?this.close.emit():this.windowUtilService.back()}},{key:"openDetails",value:function(e){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.showDetails=!0,this.selectedClockings=new Array(e),n.next=4,this.clockingsDetails.loadComponents(this.selectedClockings);case 4:case"end":return n.stop()}},n,this)}))}},{key:"closeDetails",value:function(){this.showDetails=!1}},{key:"concatPositiveSymbol",value:function(e){var n=W.Em.getHoursByMilliseconds(e,!1);return e>0?"+".concat(n):n}},{key:"hasPeriodList",value:function(){return this.periodList&&this.periodList.length>0}},{key:"hasClockings",value:function(){return this.clockingsPeriod&&this.clockingsPeriod.length>0}},{key:"checkPermissionClockingRegister",value:function(){return this.viewIsTeamManagement&&null!=this.permissions.teamManagementClockingRegister?this.permissions&&this.permissions.teamManagementClockingRegister:this.permissions&&this.permissions.clockingRegister}},{key:"checkPermissionClockingUpdate",value:function(){return this.viewIsTeamManagement&&null!=this.permissions.teamManagementClockingUpdate?this.permissions&&this.permissions.teamManagementClockingUpdate:this.permissions&&this.permissions.clockingUpdate}},{key:"divergentButtonIsVisible",value:function(){return this.permissions&&this.employeeData?this.permissions.teamManagementDivergentClockingView:this.permissions.divergentClockingView}},{key:"checkPermissionRequestOvertime",value:function(){return this.permissions&&(this.viewIsTeamManagement&&this.permissions.teamManagementOvertimeHours&&this.permissions.requestOvertimeHours||!this.viewIsTeamManagement&&this.permissions.requestOvertimeHours)}},{key:"openRequestOvertime",value:function(e){var n={date:e.date.getTime()},t="timesheet/requestOvertimeHours";this.viewIsTeamManagement&&(t+="/".concat(this.employeeId)),this.router.navigateByUrl(this.router.createUrlTree([t],{queryParams:n}))}},{key:"checkPermissionRequestAllowance",value:function(){return this.permissions&&(this.viewIsTeamManagement&&this.permissions.teamManagementAllowance||!this.viewIsTeamManagement&&this.permissions.allowance)}},{key:"openRequestAllowance",value:function(e){var n={date:e.date.getTime()},t="timesheet/allowances/request";this.viewIsTeamManagement&&(t+="/".concat(this.employeeId)),this.router.navigateByUrl(this.router.createUrlTree([t],{queryParams:n}))}},{key:"checkPermissionRequestMedicalCertificate",value:function(){return this.permissions&&(this.viewIsTeamManagement&&this.permissions.teamManagementMedicalCertificateRequest||!this.viewIsTeamManagement&&this.permissions.medicalCertificate)}},{key:"openRequestMedicalCertificate",value:function(e){var n={date:e.date.getTime(),employeeId:void 0};this.viewIsTeamManagement&&(n.employeeId=this.employeeId),this.router.navigateByUrl(this.router.createUrlTree(["health/medicalCertificate/request"],{queryParams:n}))}},{key:"isIOS",value:function(){return this.windowUtilService.isIOS()}},{key:"showLine",value:function(){return this.isMobile&&!this.onlyDivergent||!this.isMobile}},{key:"isWebView",value:function(){return this.windowUtilService.isWebView()}},{key:"getDivergentItems",value:function(e){return e.entries.length>0?e.entries[0].divergent:e.exities[0].divergent}},{key:"checkPermissionDownloadShare",value:function(){return!this.permissions||(this.viewIsTeamManagement?this.checkPermissionsDownloadShareClockingsManager():this.checkPermissionsDownloadShareClockingsEmployee())}},{key:"manualClockingAndApproval",value:function(e){return e.origin===$.v.OriginEnum.Manual&&void 0!==e.status}},{key:"statusIsApproving",value:function(e){return e.status.status===G.StatusEnum.Approving}},{key:"statusIsReproved",value:function(e){return e.status.status===G.StatusEnum.Reproved}},{key:"getFieldsProps",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fieldsPropertiesService.getFieldProperties("clocking");case 3:e.sent.forEach(function(e){"balanceSummary"===e.field&&(n.isBalanceVisible=e.visible)}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.isBalanceVisible=void 0;case 9:case"end":return e.stop()}},e,this,[[0,6]])}))}},{key:"getPeriods",value:function(){var e=this;this.clockingService.getPeriods(this.employeeId).then(function(n){n&&(n.items.forEach(function(n){e.periodsView.push(new me.x(n))}),e.periodList=me.x.getPeriodsForSelectList(e.periodsView),e.setActualPeriod(e.periodsView))})}},{key:"setActualPeriod",value:function(e){var n=this;e&&e.forEach(function(e){e.period.actualPeriod&&(n.periodValue=e.getValue(),n.loadPeriodValues(n.onlyDivergent))})}},{key:"downloadClocking",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t,i,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=me.x.getPeriod(this.periodValue),this.warningDialogIsVisible=!1,t=this.fileManipulationService.formatFilenameReport([this.employeeName]),!this.isWebView()||oe.ZP.isTomcatAppServer()){e.next=7;break}this.spinnerService.show(),this.clockingService.getReportDownloadUrl(this.employeeId,n.initDate,n.endDate).then(function(e){a.ionicUtilService.emit({args:{openAfterDownload:!0,url:e,filename:t,fileMIMEtype:"application/pdf"},type:ee.g.DownloadAndOpenFile})}).catch(function(e){a.spinnerService.hide(),a.notifyError(e)}),e.next=28;break;case 7:if(!this.isWebView()||!oe.ZP.isTomcatAppServer()){e.next=27;break}return this.spinnerService.show(),e.next=11,this.getAndSetBase64String(this.employeeId,n.initDate,n.endDate);case 11:return e.next=13,this.fileTransferService.bufferFileonStorage(this.transferFile);case 13:return i=e.sent,e.next=16,this.fileTransferService.saveBase64onStorage(i);case 16:return e.next=18,this.fileTransferService.nameListBas64onStorage(i);case 18:e.t0=e.sent,e.t1=t,e.t2=!1,e.t3={keyStorage:e.t0,filename:e.t1,fileMIMEtype:"application/pdf",isShare:e.t2},e.t4=ee.g.TransferFile,o={args:e.t3,type:e.t4},this.ionicUtilService.emit(o),e.next=28;break;case 27:this.clockingService.openClockingReport(this.employeeId,n.initDate,n.endDate,t).catch(function(e){a.notifyError(e)});case 28:case"end":return e.stop()}},e,this)}))}},{key:"getAndSetBase64String",value:function(e,n,t){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.transferFile="",i.next=3,this.clockingService.getBlobReport(e,n,t).then(function(e){return(0,M.mG)(o,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fileManipulationService.blobToBase64(e).then(function(e){return t.transferFile=e});case 2:this.clockingService.setDefaulResponseType();case 3:case"end":return n.stop()}},n,this)}))});case 3:case"end":return i.stop()}},i,this)}))}},{key:"notifyError",value:function(e){var n=this;this.appTranslateService.getI18n("m-downloadClockingError.").then(function(t){n.notificationService.showNotification(t+e.message,b.ik9.Error)})}},{key:"shareClocking",value:function(){return(0,M.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t,i,o,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=me.x.getPeriod(this.periodValue),this.warningDialogIsVisible=!1,t=this.fileManipulationService.formatFilenameReport([this.employeeName]),!this.isWebView()||oe.ZP.isTomcatAppServer()){e.next=7;break}this.spinnerService.show(),this.clockingService.getReportDownloadUrl(this.employeeId,n.initDate,n.endDate).then(function(e){a.appTranslateService.getI18n("m-subject-clocking-receipt").then(function(n){a.ionicUtilService.emit({args:{url:e,filename:t,subject:n},type:ee.g.ShareFile})})}).catch(function(e){a.spinnerService.hide(),a.notifyError(e)}),e.next=23;break;case 7:if(!this.isWebView()||!oe.ZP.isTomcatAppServer()){e.next=22;break}return this.spinnerService.show(),e.next=11,this.getAndSetBase64String(this.employeeId,n.initDate,n.endDate);case 11:return e.next=13,this.fileTransferService.bufferFileonStorage(this.transferFile);case 13:return i=e.sent,e.next=16,this.fileTransferService.saveBase64onStorage(i);case 16:return e.next=18,this.fileTransferService.nameListBas64onStorage(i);case 18:o=e.sent,this.appTranslateService.getI18n("m-subject-clocking-receipt").then(function(e){a.ionicUtilService.emit({args:{keyStorage:o,filename:t,fileMIMEtype:"application/pdf",isShare:!0,subject:e},type:ee.g.TransferFile})}),e.next=23;break;case 22:this.appTranslateService.getI18n("m-not-web-view-device").then(function(e){a.notificationService.showNotification(e,b.ik9.Information)});case 23:case"end":return e.stop()}},e,this)}))}},{key:"setCountLastAccess",value:function(){var e=this;this.globals.getEmployeeSummary().then(function(n){e.lastAccess.setLastAccess(ne.SP,n.id)})}},{key:"getBalanceSummaries",value:function(e,n){var t=this;this.clockingService.getBalanceSummaries(this.employeeId,e,n).then(function(e){e&&(t.balanceSummary=e)})}},{key:"subscribeToRoute",value:function(){var e=this;this.routeDataSubscription=(0,B.aj)([this.activatedRoute.data,this.activatedRoute.params]).subscribe(function(n){e.employeeId=n[1].employeeId,e.viewIsTeamManagement=n[0].management,e.viewIsTeamManagement?e.teamManagementClockings():(e.employeeId=f.N.loggedUser,e.profileService.getEmployeeSummary(f.N.loggedUser).then(function(n){e.employeeName=n.name})),e.loadPeriods&&e.getPeriods()})}},{key:"getClockings",value:function(e,n,t){var i=this;this.clockingService.getClockings(this.employeeId,e,n,t).then(function(e){e&&(i.clockingsView=new fe(e,!t),i.clockingsPeriod=i.clockingsView.clockings),i.initialized=!0})}},{key:"checkPermissionsDownloadShareClockingsManager",value:function(){return null==this.permissions.teamManagementDownloadShareClocking||this.permissions.teamManagementDownloadShareClocking}},{key:"checkPermissionsDownloadShareClockingsEmployee",value:function(){return null==this.permissions.downloadShareClocking||this.permissions.downloadShareClocking}}]),a}(_.R);return n.approvingColorClassName="approvingColor",n.approvedColorClassName="approvedColor",n.reprovedColorClassName="reprovedColor",n.\u0275fac=function(e){return new(e||n)(m.Y36(u.X),m.Y36(T.F0),m.Y36(S.g),m.Y36(ee.l),m.Y36(ie.H),m.Y36(X.e),m.Y36(I.g),m.Y36(ae.c),m.Y36(ne.Lx),m.Y36(ve.g),m.Y36(ke.O),m.Y36(T.gz),m.Y36(re.eL),m.Y36(te.V),m.Y36(K.A),m.Y36(g.Ye),m.Y36(ce.C),m.Y36(xe.c))},n.\u0275cmp=m.Xpm({type:n,selectors:[["app-clockings"]],viewQuery:function(e,n){var t;(1&e&&(m.Gf(H,7),m.Gf(Le,5)),2&e)&&(m.iGM(t=m.CRH())&&(n.clockingsDetails=t.first),m.iGM(t=m.CRH())&&(n.occurrenceTotalSummaryPeriodComponent=t.first))},hostBindings:function(e,n){1&e&&m.NdJ("callbackIonicExternalEvent",function(e){return n.callbackIonicExternalEvent(e)},!1,m.evT)},inputs:{loadPeriods:"loadPeriods"},outputs:{close:"close"},features:[m.qOj],decls:2,vars:3,consts:[["class","general-div",4,"ngIf"],[3,"clockings","hidden","close"],[1,"general-div"],[3,"backIsVisible","pageTitle"],[3,"image","name","role","status",4,"ngIf"],["class","header-divider panel-body po-sm-12 po-md-12 po-lg-12 po-xl-12",3,"ngClass",4,"ngIf"],["id","clocking-confirm","closeDialogButtonEnable","false","menuIsVisible","true",3,"isVisible","closeDialogEvent"],["dialog-content","",1,"download-clocking-content"],[1,"message-download-clocking","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"text-center"],[1,"mouse-pointer"],[1,"new-download-container","text-center","po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"a-accept-clocking-download","mouse-pointer","no-padding",3,"click"],["id","labelDialog","closeDialogButtonEnable","true","menuIsVisible","true",3,"isVisible","closeDialogEvent"],["dialog-content","",1,"labelDialogContent"],[1,"po-xl-12","po-lg-12","po-md-12","po-sm-12"],[1,"header-content","po-font-title"],["class","legenda-line",4,"ngIf"],[3,"image","name","role","status"],[1,"header-divider","panel-body","po-sm-12","po-md-12","po-lg-12","po-xl-12",3,"ngClass"],[1,"period","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","textPeriod"],["id","po-select-clockings","ngDefaultControl","",1,"valuePeriod","po-sm-12","po-md-5","po-lg-3","po-xl-3",3,"p-required","ngModel","p-options","ngModelChange","p-change"],["class","buttons-download-share",4,"ngIf"],["class","container-card-balance po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],["class","btn-period po-sm-12 po-md-5 po-lg-4 po-xl-4 text-right no-padding",4,"ngIf"],["class","po-row",4,"ngIf"],["id","table-timesheet",1,"table","table-timesheet","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"column-header"],[1,"no-padding"],[1,"clocking-label-column","text-left","color-labels-base"],[1,"clocking-label-column","clocking-header-column","text-center","color-labels-base"],["class","clocking-label-column clocking-header-column text-center color-labels-base",4,"ngIf"],[1,"lbl-see-more","clocking-label-column","clocking-header-column","text-right","color-labels-base"],[4,"ngIf"],["class","po-sm-12 po-md-12 po-lg-12 po-xl-12",4,"ngIf"],[3,"initPeriod","endPeriod","employeeId","dialogIsVisible","closeDialogEvent",4,"ngIf"],[3,"referenceDate","dialogIsVisible","employeeId","closeDialogEvent",4,"ngIf"],[3,"clockingDay","divergentActive","dialogIsVisible","employeeId","registerPermission","closeDialogEvent","reloadClockings",4,"ngIf"],[1,"buttons-download-share"],[1,"download-container",3,"click"],[1,"pull-right","ico-download","icon-color-totvs","mouse-pointer","download-icon","waves-effect","waves-base","icon-size"],["class","button-download",4,"ngIf"],["class","pull-right ico-share-2 icon-color-totvs mouse-pointer share-icon waves-effect waves-base download-container icon-size",3,"click",4,"ngIf"],[1,"button-download"],[1,"pull-right","ico-share-2","icon-color-totvs","mouse-pointer","share-icon","waves-effect","waves-base","download-container","icon-size",3,"click"],[1,"container-card-balance","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"card-balance-summary","po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"text-center","po-sm-4","po-md-4","po-lg-4","po-xl-4"],[1,"text-balance-summary"],[1,"hour-balance"],[1,"period-action","po-sm-12","po-md-12","po-lg-12","po-xl-12","text-center","no-padding"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding"],["class","a-view-summary-period mouse-pointer po-sm-12 po-md-12 po-lg-12 po-xl-12 no-padding",3,"click",4,"ngIf"],[1,"a-view-summary-period","mouse-pointer","po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"click"],[1,"btn-period","po-sm-12","po-md-5","po-lg-4","po-xl-4","text-right","no-padding"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding","see-period-button"],["id","btn-occurrences-total-summary-period",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"p-disabled","p-label","p-click"],[1,"po-row"],[1,"po-sm-12","po-md-5","po-offset-md-7","po-lg-3","po-offset-lg-9","po-xl-3","po-offset-xl-9","button-divergent",3,"p-icon","p-label","p-click"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"column-day"],["id","lbl-reference-date",1,"mouse-pointer",3,"click"],[1,"week-day","po-hidden-sm"],[1,"week-day","po-hidden-md","po-hidden-lg","po-hidden-xl"],[1,"column-timesheet","text-center"],["class","column-timesheet text-center divergent-align",4,"ngIf"],[1,"column-timesheet","text-right","column-see"],[1,"dropdown","mouse-pointer"],["data-toggle","dropdown",1,"po-icon","po-icon-more","see-more"],["name","ul-dropdown-options",1,"dropdown-menu",3,"ngClass"],[1,"dropdown-menu-itens",3,"click"],["class","dropdown-menu-itens",3,"click",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"dropdown","tooltipRH","div-tooltip"],["class","clock ico-clocking-register",4,"ngIf"],["class","icon-back",3,"src",4,"ngIf"],[1,"clocking","mouse-pointer",3,"ngClass","click"],["class","dropdown-content tooltiptextRH",4,"ngIf"],["class","direction",4,"ngIf"],["class","direction-for-empty-clock-in",4,"ngIf"],[1,"clock","ico-clocking-register"],[1,"icon-back",3,"src"],[1,"dropdown-content","tooltiptextRH"],[1,"direction"],[1,"direction-for-empty-clock-in"],["class","direction-for-empty-clock-out",4,"ngIf"],[1,"direction-for-empty-clock-out"],[1,"column-timesheet","text-center","divergent-align"],["class","tag-divergent",3,"p-value","ngClass","p-color",4,"ngFor","ngForOf"],[1,"tag-divergent",3,"p-value","ngClass","p-color"],["colspan","2",1,"divergent-td"],["colspan","4"],["id","empty"],[1,"po-sm-12","po-md-12","po-lg-12","po-xl-12"],[1,"po-hidden-sm","po-md-4","po-lg-4","po-xl-4"],["src","./assets/img/pin-approved.svg",1,"legenda","icon-back"],[1,"legenda"],["class","po-sm-12 po-md-4 po-lg-4 po-xl-4",4,"ngIf"],["class","po-sm-12 po-md-2 po-offset-md-9 po-lg-2 po-offset-lg-8 po-xl-2 po-offset-xl-9 button-label-complete",4,"ngIf"],[1,"po-sm-12","po-md-4","po-lg-4","po-xl-4"],["id","btn-occurrences-total-summary-period",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"p-label","p-click"],[1,"po-sm-12","po-md-2","po-offset-md-9","po-lg-2","po-offset-lg-8","po-xl-2","po-offset-xl-9","button-label-complete"],["id","btn-occurrences-total-summary-period",1,"po-sm-12","po-md-12","po-lg-12","po-xl-12","no-padding",3,"click"],[3,"initPeriod","endPeriod","employeeId","dialogIsVisible","closeDialogEvent"],["occurrenceTotalSummaryPeriodComponent",""],[3,"referenceDate","dialogIsVisible","employeeId","closeDialogEvent"],["occurrencesComponent",""],[3,"clockingDay","divergentActive","dialogIsVisible","employeeId","registerPermission","closeDialogEvent","reloadClockings"],[1,"legenda-line"],["src","./assets/img/pin-gray.svg",1,"legenda","icon-back"],[1,"legenda","clock","ico-clocking-register"],["src","./assets/img/pin-outfence.svg",1,"legenda","icon-back"],["src","./assets/img/pin-reproved.svg",1,"legenda","icon-back"]],template:function(e,n){1&e&&(m.YNc(0,Vn,28,22,"div",0),m.TgZ(1,"app-clockings-details",1),m.NdJ("close",function(){return n.closeDetails()}),m.qZA()),2&e&&(m.Q6J("ngIf",!n.showDetails),m.xp6(1),m.Q6J("clockings",n.selectedClockings)("hidden",!n.showDetails))},directives:[g.O5,H,U.q,se.a,ye.x,g.mk,b.C9q,y.Fj,y.JJ,y.On,b.bOz,g.sg,b.lzV,de,be.w,Ne],pipes:[d.X$,g.gd,E.$,J.P],styles:[".period[_ngcontent-%COMP%]{padding:0;margin-bottom:0!important;margin-top:10px;position:relative}.textPeriod[_ngcontent-%COMP%]{margin-bottom:0;padding:25px 0 0 8px!important;font-size:16px;font-weight:bold;max-width:80px}.valuePeriod[_ngcontent-%COMP%]{padding:0;text-align:left;display:inline-block;max-width:244px;margin-top:10px}.hour-balance[_ngcontent-%COMP%]{font-size:18px}.card-balance-summary[_ngcontent-%COMP%]{padding:16px 6px;position:relative;background:#ffffff}.general-div[_ngcontent-%COMP%]{padding:0 45px}.color-labels-base[_ngcontent-%COMP%]{color:#0c9abe}.tag-divergent[_ngcontent-%COMP%]{padding:3px}.span-divergent[_ngcontent-%COMP%]{padding:6px;border-radius:5px;color:#fff;background-color:red;font-size:13px}.button-divergent[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.divergent-align[_ngcontent-%COMP%]{vertical-align:middle}.span-divergent-mobile[_ngcontent-%COMP%]{padding:6px;border-radius:5px;font-size:12px;background-color:red;color:#fff}.container-card-balance[_ngcontent-%COMP%]{padding-left:9px;padding-right:9px;padding-top:5px}.clocking-label-column[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;border-bottom:2px solid rgba(12,154,190,.4)!important;border:none}.divergent-button[_ngcontent-%COMP%]{margin-left:calc(100% - 18%)}.po-field-error[_ngcontent-%COMP%]{height:0px}.day-agrupator[_ngcontent-%COMP%]{font-size:20px!important;line-height:2.4;text-align:left;color:#000;background-color:#fff}table.table-timesheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}.buttonPeriod[_ngcontent-%COMP%]{margin-left:25%}table.table-timesheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:16px;line-height:1}.column-timesheet[_ngcontent-%COMP%]{font-size:14px;color:#28303e}.column-day[_ngcontent-%COMP%]{font-size:14px;color:#28303e;vertical-align:middle!important}.direction[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-left:2px}.direction-for-empty-clock-out[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-left:42px}.direction-for-empty-clock-in[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9;margin-left:39px}.week-day[_ngcontent-%COMP%]{font-size:12px;color:#9da7a9}.line[_ngcontent-%COMP%]{border-bottom:1px solid #eceeee}.clocking[_ngcontent-%COMP%]{line-height:35px;font-weight:bolder;color:#0c9abe}.div-tooltip[_ngcontent-%COMP%]{display:inline}.clock[_ngcontent-%COMP%]{font-size:16px!important;color:#d9d9d9;margin-left:-24px;position:relative;top:1px}.column-see[_ngcontent-%COMP%]{vertical-align:middle!important}.clocking-header-column[_ngcontent-%COMP%]{padding-right:32px}.lbl-see-more[_ngcontent-%COMP%]{padding-right:8px}.a-view-summary-period[_ngcontent-%COMP%]{margin-top:10px;font-size:10px;font-weight:700;font-weight:bold;color:#0c9abe}.see-more[_ngcontent-%COMP%]{padding-right:8px;color:#0c9abe}.dropdown-menu-itens[_ngcontent-%COMP%]{cursor:default;text-align:left;font-weight:400;background-color:#fff;line-height:44px;width:100%;padding-left:16px;margin-top:-4px}.dropdown-menu-itens[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.dropdown-menu[_ngcontent-%COMP%]{top:100%;min-width:200px;left:auto!important}.optionsDropUp[_ngcontent-%COMP%]{top:-550%!important}.approvedColor[_ngcontent-%COMP%]{color:#0c9abe}.reprovedColor[_ngcontent-%COMP%]{color:#c64840}.approvingColor[_ngcontent-%COMP%]{color:#f2994a}.dropdown-menu[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 0 10px}.period[_ngcontent-%COMP%]{padding:0;margin-bottom:0!important;margin-top:0}.period-action[_ngcontent-%COMP%]{margin-top:0}.valuePeriod[_ngcontent-%COMP%]{padding:0;text-align:left;display:inline-block;max-width:calc(100% - 16px);margin:0 8px}.textPeriod[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;padding:16px 0 0 8px!important;font-size:16px;font-weight:bold;max-width:80px}.see-period-button[_ngcontent-%COMP%]{margin:0 8px!important;width:calc(100% - 16px)!important}#btn-occurrences-total-summary-period[_ngcontent-%COMP%]{display:inline-block}div.po-select-container[_ngcontent-%COMP%]{background-color:#fff!important;display:inline-block;position:relative;width:100%;padding:0 8px!important}.po-select-icon[_ngcontent-%COMP%]{right:8px}[_nghost-%COMP%]     .avatar-small{height:42px;width:42px}[_nghost-%COMP%]     .po-tag-value{padding:0 8px}po-tag[_ngcontent-%COMP%]     .po-tag{margin-top:8px}.divergent-td[_ngcontent-%COMP%]{padding-top:calc(.75rem - 8px)}.card-employee[_ngcontent-%COMP%]{padding:0;margin-top:10px}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1){.column-timesheet[_ngcontent-%COMP%]{font-size:14px;color:#28303e;padding:0}.text-balance-summary[_ngcontent-%COMP%]{font-size:10px;padding-left:18%;padding-right:18%;color:#9da7a9;display:block}.general-div[_ngcontent-%COMP%]{padding:0}}@media only screen and (-webkit-min-device-pixel-ratio: 3),only screen and (min--moz-device-pixel-ratio: 3),only screen and (-o-min-device-pixel-ratio: 3/1){.general-div[_ngcontent-%COMP%]{padding:0}}@media (min-width: 480px){.btn-period[_ngcontent-%COMP%]{margin-top:39px}}@media (min-width: 768px){.text-balance-summary[_ngcontent-%COMP%]{font-size:10px;color:#9da7a9;display:block}.btn-period[_ngcontent-%COMP%]{margin-top:39px}}@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.panel-body[_ngcontent-%COMP%]{margin-bottom:41px!important}}.panel-body[_ngcontent-%COMP%]{float:left!important}.new-download-container[_ngcontent-%COMP%]{box-shadow:inset 0 2px #dbdedf;position:fixed;padding:6%;bottom:0px;left:0px;width:100%}.message-download-clocking[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:10%;padding-right:10%}.a-accept-clocking-download[_ngcontent-%COMP%]{font-size:18px;color:#0c9abe;font-weight:bold}.a-accept-clocking-share[_ngcontent-%COMP%]{font-size:18px;color:#0c9abe;font-weight:bold}.download-clocking-content[_ngcontent-%COMP%]{height:350px}@media (min-width: 961px){.message-download-clocking[_ngcontent-%COMP%]{position:fixed;left:50%;top:40%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.new-download-container[_ngcontent-%COMP%]{bottom:0%}}@media (max-width: 960px){.new-download-container[_ngcontent-%COMP%]{bottom:10%}}.buttons-download-share[_ngcontent-%COMP%]{position:absolute;padding:10px 10px 0 0;right:0px;top:0px}.share-icon[_ngcontent-%COMP%]{right:15px}.icon-back[_ngcontent-%COMP%]{max-width:16px;min-width:16px;margin-left:-24px;margin-top:-5px}.legenda[_ngcontent-%COMP%]{margin-left:5px}.label[_ngcontent-%COMP%]{margin-top:10px}.labelDialogContent[_ngcontent-%COMP%]{margin-top:25px}.legenda-line[_ngcontent-%COMP%]{padding-top:15px}.button-label-complete[_ngcontent-%COMP%]{color:#0c9abe;position:absolute;cursor:pointer}.button-download[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 780px){.button-download[_ngcontent-%COMP%]{cursor:pointer;font-size:16px;display:inline-block;padding-left:8px!important;float:right;margin-top:-4px}}.icon-size[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;float:left!important}.download-container[_ngcontent-%COMP%]{color:#0c9abe;font-family:NunitoSans-Bold;float:right;cursor:pointer;padding-bottom:10px;display:flex!important;margin-top:7px;margin-right:10px}po-tag.color-odd-beat[_ngcontent-%COMP%]     .po-tag-info{background-color:#9e3933}"]}),n}(),children:[{path:"details",component:H}],canActivate:[D.P]}],Ln=function(){var e=l(function e(){c(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[T.Bz.forChild(Nn)],T.Bz]}),e}(),Qn=a(18443),jn=function(){var e=l(function e(){c(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[u.X,xe.c],imports:[[g.ez,Ln,p.q,k,x.OccurrencesModule,Qn.ClockingRegisterModule,A,q]]}),e}()}}])}();