/*Calendário Dinâmico - função:calendar( ""); - Objeto HTML:<dir id= "calendario"></dir>*/
function botaoProximo(data){ var dat = data.split("/"); var mes = (parseInt(dat[1]) + 1) > 13?1:(parseInt(dat[1]) + 1); var ano = (parseInt(dat[1]) + 1) > 13?(parseInt(dat[2]) + 1):dat[2]; var novaData = "1/"+mes+"/"+ano; return "<input type='button' id='btpxcalendatio' value='Proximo⏵' onclick='Javascript:calendar(\""+novaData+"\");'>"; }; function botaoAnterior(data){ var dat = data.split("/"); var mes = (parseInt(dat[1]) - 1) < 1?12:(parseInt(dat[1]) - 1); var ano = (parseInt(dat[1]) - 1) < 1?(parseInt(dat[2]) - 1):dat[2]; var novaData = "1/"+mes+"/"+ano; return "<input type='button' id='btancalendatio' value='⏴Anterior' onclick='Javascript:calendar(\""+novaData+"\");'>"; }; function diaDaSemanaExtenso(dia){ var semana = new Array("Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"); return semana[dia]; }; function mesExtenso(mes){ var meses = new Array("Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro");
return meses[mes]; }; function ultimo_dia(mes, ano) { if (mes == 1 || mes == 3 || mes == 5 || mes == 7 || mes == 8 || mes == 10 || mes == 12) { return 31; } if (mes == 4 || mes == 6 || mes == 9 || mes == 11) { return 30; } if (mes == 2) if (ano % 400 == 0) { return 29; } if (mes == 2) if (ano % 100 == 0) { return 28; } if (mes == 2) if (ano % 4 == 0) { return 29; } else { return 28; } }; function calendar(dat){ var data, estrutura,id; try{ if(dat == ""){ data = new Date(); } else{ dat = dat.split("/"); data = new Date(dat[2],dat[1],dat[0]); } var mes = data.getMonth(); var ano = data.getFullYear(); var ultimoDiaMes = ultimo_dia((mes+1), ano); var novaData = new Date(ano, mes, 1); var diasCont = 1; var verificarPrimeiroDia = true; var dtButton  = "1/"+mes+"/"+ano; //alert(ultimoDiaMes); estrutura = "<dir id='objcalendario'><h2>"+mesExtenso(mes)+" - "+ano+"</h2><hr>"; estrutura += "<table border='0' id='tbcalendario'>"; estrutura += "<tr>"; for(var x = 0 ; x < 7 ; x++){
estrutura += "<th>"+diaDaSemanaExtenso(x)+"</th>"; } estrutura += "</tr>"; for(var i = 0 ; i < 6 ; i++){ estrutura += "<tr>"; for(var j = 0 ; j < 7 ; j++){ if(novaData.getDay() == j && verificarPrimeiroDia){ id = ano+"_"+mes+"_"+diasCont; estrutura += "<td id='"+id+"'>"+diasCont+"</td>"; verificarPrimeiroDia = false; diasCont++; } else if(!verificarPrimeiroDia && diasCont <= ultimoDiaMes){ id = ano+"_"+mes+"_"+diasCont; estrutura += "<td id='"+id+"'>"+diasCont+"</td>"; diasCont ++; } else{ estrutura += "<td class='dtnull'></td>"; } } estrutura += "</tr>"; } estrutura += "</table><hr>"; estrutura += botaoAnterior(dtButton); estrutura += botaoProximo(dtButton); estrutura += "</dir>"; } catch(e){ estrutura = "Erro na formatação da data: " + e.message } document.getElementById("calendario").innerHTML =  estrutura; var dthj = new Date(); id = dthj.getFullYear() +"_"+ dthj.getMonth() +"_"+ dthj.getDate(); document.getElementById(id).innerHTML = "<b>" + dthj.getDate() +"</b>"; };